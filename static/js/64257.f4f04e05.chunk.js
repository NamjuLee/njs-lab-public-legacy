"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[64257],{64257:(t,e,i)=>{i.r(e),i.d(e,{Renderer:()=>a,Solution:()=>c});var s=i(55913);const o=(t,e)=>{let i=0;return i=h(t.x,t.y,t.z,e.x,e.y,e.z),i},h=(t,e,i,s,o,h)=>Math.sqrt((t-s)*(t-s)+(e-o)*(e-o)+(i-h)*(i-h)),n=(t,e,i,s)=>{t.fillStyle=i,t.beginPath(),t.rect(e.x*s,e.y*s,s-1,s-1),t.closePath(),t.fill()};class r{constructor(){this.graph=void 0,this.openNodes=[],this.closedNodes=[],this.startNode=void 0,this.endNode=void 0,this.path=[],this.heuristicConst=1,this.doneComputation=!1,this.connectionDiagonal=!1,this.buildConnection=(t,e,i)=>{if(t.blocked)return;let s=t.x,o=t.y;s<e-1&&(this.graph.grid[s+1][o].blocked||t.neighbors.push(this.graph.grid[s+1][o])),o<i-1&&(this.graph.grid[s][o+1].blocked||t.neighbors.push(this.graph.grid[s][o+1])),s>0&&(this.graph.grid[s-1][o].blocked||t.neighbors.push(this.graph.grid[s-1][o])),o>0&&(this.graph.grid[s][o-1].blocked||t.neighbors.push(this.graph.grid[s][o-1])),this.connectionDiagonal&&(console.log(this.connectionDiagonal),s>0&&o>0&&(this.graph.grid[s-1][o-1].blocked||t.neighbors.push(this.graph.grid[s-1][o-1])),s<e-1&&o<i-1&&(this.graph.grid[s+1][o+1].blocked||t.neighbors.push(this.graph.grid[s+1][o+1])),s>0&&o<i-1&&(this.graph.grid[s-1][o+1].blocked||t.neighbors.push(this.graph.grid[s-1][o+1])),s<e-1&&o>0&&(this.graph.grid[s+1][o-1].blocked||t.neighbors.push(this.graph.grid[s+1][o-1])))},this.graph=new l}gePath(){let t,e=this.graph.grid[0].length*this.graph.grid.length;for(;e--;)if(t=this.propagation(),void 0!==t&&t.length)return t;return t}propagation(){if(!(this.openNodes.length>0))return this.doneComputation=!0,this.path;{let t=0;for(let o=0;o<this.openNodes.length;o++)this.openNodes[o].f<this.openNodes[t].f&&(t=o),this.openNodes[o].f===this.openNodes[t].f&&this.openNodes[o].g>this.openNodes[t].g&&(t=o);let e=this.openNodes[t];if(e===this.endNode)return this.doneComputation=!0,this.path;this.path=[];let i=e;for(;i.previous;)this.path.push(i.previous),i=i.previous;this.openNodes.splice(this.openNodes.indexOf(e),1),this.closedNodes.push(e);let s=e.neighbors;for(let h=0;h<s.length;h++){let t=s[h];if(!this.closedNodes.includes(t)&&!t.blocked){let i=e.g+o(t,e)*this.heuristicConst;if(this.openNodes.includes(t))continue;this.openNodes.push(t),t.g=i,t.h=o(t,this.endNode),t.f=t.g+t.h,t.previous=e}}}}}class l{constructor(){this.grid=[]}}class d{constructor(t,e){this.f=0,this.h=0,this.g=0,this.x=0,this.y=0,this.z=0,this.neighbors=[],this.previous=void 0,this.blocked=!1,this.f=0,this.h=0,this.g=0,this.x=t,this.y=e,this.neighbors=[],this.blocked=!1}}class c{constructor(t){this.divHost=void 0,this.renderer=void 0,this.divHost=document.getElementById(t),this.divHost.style.display="flex",this.divHost.style.alignItems="center";const e=document.createElement("div");e.style.marginLeft="auto",e.style.marginRight="auto",e.style.backgroundColor="#555",e.style.width="1000px",e.style.height="600px",this.divHost.appendChild(e),this.renderer=new a(e);let i=document.createElement("div");e.appendChild(i),i.textContent="Reset",i.onclick=()=>{this.renderer.Build()};const s=p("Connectivity");e.appendChild(s.div),s.checkBox.checked=!1,s.checkBox.onchange=()=>{console.log(s.checkBox.checked),!0===s.checkBox.checked?this.renderer.connectionDiagonal=!0:this.renderer.connectionDiagonal=!1},i=document.createElement("div"),e.appendChild(i),i.textContent="Play and Stop toggle",i.onclick=()=>{this.renderer.playToggle=!this.renderer.playToggle};const o=g("Heuristic intensity",0,1e3);e.appendChild(o.div),o.slider.oninput=()=>{const t=1/+o.slider.value-.001;this.renderer.nNetwork.heuristicConst=t}}destroy(){for(this.renderer.destroy();this.divHost.lastElementChild;)this.divHost.removeChild(this.divHost.lastElementChild)}}class a extends s.bb{constructor(t){super(t),this.w=0,this.h=0,this.cols=0,this.rows=0,this.cellSize=20,this.gridWidth=0,this.gridHeight=0,this.chanceOfWalls=.35,this.connectionDiagonal=!1,this.nNetwork=void 0,this.playToggle=!0,this.frame=0,this.divTextIteration=void 0,this.canvas.style.position="relative",this.canvas.style.width="100%",this.canvas.style.height="100%",this.divTextIteration=document.createElement("div"),t.appendChild(this.divTextIteration),this.Build(),this.start()}render(t){if(this.playToggle){this.nNetwork.propagation();this.divTextIteration.textContent="".concat(this.frame++," iterations")}this.nNetwork.doneComputation&&this.Build();for(let e=0;e<this.cols;e++)for(let i=0;i<this.rows;i++){const s=this.nNetwork.graph.grid[e][i];let o="rgb(190, 190, 190)";s.blocked&&(o="rgba(0, 0, 0, 0.9)"),s===this.nNetwork.endNode&&(o="rgba(255, 0, 255, 0.9)"),n(t,s,o,this.cellSize)}for(let e=0;e<this.nNetwork.openNodes.length;e++){const i=this.nNetwork.openNodes[e];n(t,i,"rgb(0, 0, 255)",this.cellSize)}for(let e=0;e<this.nNetwork.closedNodes.length;e++){const i=this.nNetwork.closedNodes[e];n(t,i,"rgb(255, 0, 0)",this.cellSize)}for(let e=0;e<this.nNetwork.path.length;e++){const i=this.nNetwork.path[e];n(t,i,"rgb(0, 255, 0)",this.cellSize)}for(let e=0;e<this.cols;e++)for(let i=0;i<this.rows;i++){const s=this.nNetwork.graph.grid[e][i];if(!s.blocked)for(let e=0;e<s.neighbors.length;++e)t.strokeStyle="#fff",t.lineWidth=.58,t.beginPath(),t.moveTo(this.cellSize*s.x+.5*this.cellSize,this.cellSize*s.y+.5*this.cellSize),t.lineTo(this.cellSize*s.neighbors[e].x+.5*this.cellSize,this.cellSize*s.neighbors[e].y+.5*this.cellSize),t.stroke()}}Build(){this.frame=0,this.w=this.canvas.width,this.h=this.canvas.height,this.cols=Math.floor(this.w/this.cellSize),this.rows=Math.floor(this.h/this.cellSize),this.gridWidth=this.w,this.gridHeight=this.h,this.nNetwork=new r,this.nNetwork.connectionDiagonal=this.connectionDiagonal;for(let t=0;t<this.cols;t++)for(let e=0;e<this.rows;e++){void 0===this.nNetwork.graph.grid[t]&&(this.nNetwork.graph.grid[t]=[]);const i=new d(t,e);Math.random()<this.chanceOfWalls&&(i.blocked=!0),this.nNetwork.graph.grid[t][e]=i}this.nNetwork.startNode=this.getRandomCell(),this.nNetwork.startNode.blocked=!1,this.nNetwork.endNode=this.getRandomCell(),this.nNetwork.endNode.blocked=!1;for(let t=0;t<this.cols;t++)for(let e=0;e<this.rows;e++)this.nNetwork.buildConnection(this.nNetwork.graph.grid[t][e],this.cols,this.rows);this.nNetwork.openNodes.push(this.nNetwork.startNode)}getRandomCell(){return this.nNetwork.graph.grid[Math.floor(Math.random()*this.cols)][Math.floor(Math.random()*this.rows)]}}const g=(t,e,i)=>{const s=document.createElement("div");s.style.display="flex";const o=document.createElement("input");o.type="range",o.min="".concat(e),o.max="".concat(i);const h=document.createElement("div");return h.textContent=t,h.style.color="#aaa",s.appendChild(o),s.appendChild(h),{div:s,slider:o}},p=t=>{const e=document.createElement("div");e.style.display="flex";const i=document.createElement("input");i.type="checkbox",i.defaultChecked=!1;const s=document.createElement("div");return s.textContent=t,s.style.color="#aaa",e.appendChild(i),e.appendChild(s),{div:e,checkBox:i}}}}]);
//# sourceMappingURL=64257.f4f04e05.chunk.js.map