"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[31703,97795,75975],{97795:(e,i,s)=>{s.r(i),s.d(i,{DefinitionIndeCanvasCore:()=>n});var t=s(12850);class n{constructor(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:650,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:350;this.scene=void 0,this.indeCanvas=void 0,this.mOffX=-12,this.mOffY=-12,this.scene=e,this.scene.definitions.push(this),this.InitIndeCanvas(i,s)}InitIndeCanvas(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:650,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:350;this.scene.implementation.app.needUI?this.indeCanvas=new t.D(this.scene.implementation.app.viewController.NUIWrapper.NUI.independentPanelWrapper,50,50,e,i,!0):this.indeCanvas=new t.D(this.scene.implementation.app.viewController.NUIWrapper.NUI.independentPanelWrapper,1,-25,e,i,!0),this.indeCanvas.title="TF Env",this.indeCanvas.btnHam.isHidden=!0,this.indeCanvas.btnMini.isHidden=!0,this.indeCanvas.RenderIndependentCanvas=e=>this.RenderIndependentCanvas(e)}get width(){return this.indeCanvas.canvas.width}get height(){return this.indeCanvas.canvas.height}Init(e){}RenderIndependentCanvas(e){}MouseMove(e,i){}MouseMovePre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseMove(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseDown(e,i){}MouseDownPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseDown(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseUp(e,i){}MouseUpPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseUp(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseDrag(e,i){}MouseDragPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseDrag(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseLeftClick(e,i){}MouseLeftClickPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseLeftClick(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseMiddleClick(e,i){}MouseMiddleClickPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseMiddleClick(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseRightClick(e,i){}MouseRightClickPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseRightClick(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseDoubleClick(e,i){}MouseDoubleClickPre(e,i){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseDoubleClick(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseWheel(e,i,s){}MouseWheelPre(e,i,s){this.indeCanvas.IsMouseInsidePanel(e,i)&&this.MouseWheel(e-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY,s)}}},31703:(e,i,s)=>{s.r(i),s.d(i,{TFModel02XOR:()=>h});var t=s(65812),n=s(97795),a=s(75975);class h extends n.DefinitionIndeCanvasCore{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:650,arguments.length>2&&void 0!==arguments[2]?arguments[2]:350),this.xpos=100,this.ypos=100,this.xspeed=10,this.yspeed=10,this.xdirection=1,this.ydirection=1,this.rad=50,this.vs=[],this.selVec=void 0,this.tfModel=void 0,this.xPredict=void 0,this.inputs=[],this.indeCanvas.title="TF XOR",this.Init(),this.InitUI()}InitUI(){const e=document.createElement("div");e.style.position="absolute",e.style.left="10px",e.style.color="#ffffff";const i=document.createElement("p");i.textContent="ref: Coding Challenge #106: XOR Problem with TensorFlow.js by The Cording Train",i.style.fontSize="11px",e.append(i);const s=document.getElementById("indePanel");s&&s.append(e)}Init(){this.tfModel=new d;let e=[];for(let i=0;i<=10;++i)for(let s=0;s<=10;++s)e.push([.1*s,.1*i]);this.xPredict=t.tensor2d(e)}MouseDown(e,i){const s=new a.NVector3(this.MapX(e),this.MapY(i));for(let t=0;t<this.vs.length;++t)if(a.NVector3.Distance(s,this.vs[t])<.05)return void(this.selVec=this.vs[t]);this.vs.push(new a.NVector3(this.MapX(e),this.MapY(i)))}MouseMove(e,i){let s;const t=new a.NVector3(this.MapX(e),this.MapY(i));for(let n=0;n<this.vs.length;++n){a.NVector3.Distance(t,this.vs[n])<.05&&(s=this.vs[n])}this.selVec=s||void 0}MouseDrag(e,i){this.selVec&&(this.selVec.x=this.MapX(e),this.selVec.y=this.MapY(i))}MouseUp(){this.selVec=void 0}MapX(e){return a.MathUtility.Remap(e,0,this.width,-1,1)}MapY(e){return a.MathUtility.Remap(e,0,this.height,1,-1)}RenderIndependentCanvas(e){t.tidy((()=>{const i=this.tfModel.model.predict(this.xPredict).dataSync();e.fillStyle="#000000",e.beginPath(),e.rect(0,0,e.canvas.width,e.canvas.height),e.closePath(),e.fill();let s=0;for(let t=0;t<=10;t++)for(let n=0;n<=10;n++){this.inputs.push(t);let a=42,h=t*a,d=n*a;const o=i[s];e.fillStyle="rgba(".concat(255*o,",",0,",",0,",1)"),e.beginPath(),e.rect(h,d,a,a),e.closePath(),e.fill(),s++}}))}}class d{constructor(){this.model=void 0,this.xTrain=t.tensor2d([[0,0],[1,0],[0,1],[1,1]]),this.yTrain=t.tensor2d([[0],[1],[1],[0]]),this.model=t.sequential();const e=t.layers.dense({inputShape:[2],units:16,activation:"sigmoid"}),i=t.layers.dense({units:1,activation:"sigmoid"});this.model.add(e),this.model.add(i),this.model.compile({optimizer:t.train.adam(.05),loss:t.losses.meanSquaredError}),this.trainLoop()}trainLoop(){this.train().then((e=>{setTimeout((()=>this.trainLoop()),1)}))}async train(){return await this.model.fit(this.xTrain,this.yTrain,{epochs:10,shuffle:!0})}}},75975:(e,i,s)=>{s.r(i),s.d(i,{ACTION_TYPE:()=>t.KW,ACTIVECOMMAND_MODE:()=>t.AG,ActiveCommandBase:()=>t.wm,AppAccessibility:()=>t.Wv,AppProperties:()=>t.gj,ArrayUtility:()=>t.R3,BrowserUtility:()=>t.R7,CLICK_TYPE:()=>t.uh,CLOGTYPE:()=>t.g6,COMPILE_MODE:()=>t.Iq,ColorUtility:()=>t.mK,Deltatime:()=>t.gk,EVENT_LISTENER_TYPE:()=>t.GZ,FHTYPE:()=>t.OH,GTYPE:()=>t.OB,GeometryBase:()=>t.bx,INTERACTION_MODE:()=>t.WU,LINECAP:()=>t.EQ,MathUtility:()=>t.$H,NDataUtility:()=>t.eu,NUI:()=>t.Fc,NVector3:()=>t.h9,NumericalMotion:()=>t.aX,OPTIMIZER:()=>t.sg,PRESS_TYPE:()=>t.dc,TEXTALIGN:()=>t.mH,TEXTBOX:()=>t.SE,TOUCH_TYPE:()=>t.KV,UNIT:()=>t.iI});var t=s(458)}}]);
//# sourceMappingURL=31703.b7817cac.chunk.js.map