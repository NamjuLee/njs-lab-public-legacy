"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[2960],{2960:(t,e,s)=>{s.r(e),s.d(e,{Solution:()=>a,renderLines:()=>h});var r=s(17760),o=s(55913),n=s(87968);class a extends o.TF{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main"),this.streetOSM=[],this.routesTreated=[],this.routesControl=[],this.zones30=[];const t=new r.cek(16777215,.8);this.camera.add(t),this.scene.add(t),this.camera.position.set(0,40,48);(0,n.getJSONFromURL)("https://raw.githubusercontent.com/NamjuLee/data/master/Paris/street_osm.geojson").then((t=>{for(let e=0;e<t.features.length;++e)this.streetOSM.push(t.features[e].geometry.coordinates);h(this.scene,this.streetOSM,[0,1,1]),(0,n.getJSONFromURL)("https://raw.githubusercontent.com/NamjuLee/data/master/Paris/treated-st.geojson").then((t=>{for(let e=0;e<t.features.length;++e)this.routesTreated.push(t.features[e].geometry.coordinates);h(this.scene,this.routesTreated,[1,0,0])})),(0,n.getJSONFromURL)("https://raw.githubusercontent.com/NamjuLee/data/master/Paris/control-st.geojson").then((t=>{for(let e=0;e<t.features.length;++e)this.routesControl.push(t.features[e].geometry.coordinates);h(this.scene,this.routesControl,[0,1,0])})),this.start()}))}}const h=(t,e,s)=>{const o=new r.u9r,a=new r.nls({vertexColors:!0}),h=[],u=[],i=[];let c=0,l=0,g=0;for(let r=0;r<e.length;++r){const t=e[r];for(let e=0;e<t.length;++e)for(let r=0;r<t[e].length;++r){const[o,a]=(0,n.MercatorProjection)(t[e][r][0],t[e][r][1]);c+=o,l+=a,g+=1;const d=.01*(o+-15478803.88731685),m=.01*(a+-4766681.448690384);h.push(d,0,m),u.push(s[0],s[1],s[2]),r<t[e].length-1&&i.push(Math.floor(h.length/3)-1,Math.floor(h.length/3))}}o.setIndex(i),o.setAttribute("position",new r.a$l(h,3)),o.setAttribute("color",new r.a$l(u,3)),o.computeBoundingSphere();const d=new r.ejS(o,a);return t.add(d),d}}}]);
//# sourceMappingURL=2960.d729e07a.chunk.js.map