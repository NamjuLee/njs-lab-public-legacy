"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[62107],{61493:(t,i,s)=>{s.r(i),s.d(i,{AppGridSystem:()=>l});class e{constructor(t){this.canvas=void 0,this.host=void 0,this.ctx=void 0,this.t=0,this.active=!1,this.InitCanvas(t)}InitCanvas(t){const i=document.createElement("canvas"),s=document.getElementById(t);if(s&&(s.appendChild(i),this.host=s),i){this.canvas=i,this.canvas.width=this.host.clientWidth,this.canvas.height=this.host.clientHeight;const t=this.canvas.getContext("2d");t&&(this.ctx=t,this.Init())}}Init(){this.active=!0,this.EventBind(),this.Loop()}EventBind(){this.canvas.onmousedown=t=>this.MouseDown(t),this.canvas.onmouseup=t=>this.MouseUp(t),this.canvas.onmousemove=t=>this.MouseMove(t),window.onresize=t=>this.Resize(t)}Resize(t){this.canvas.width=this.host.clientWidth,this.canvas.height=this.host.clientHeight}Loop(){requestAnimationFrame((()=>{this.Loop()})),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.beginPath(),this.ctx.rect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.closePath(),this.ctx.fillStyle="#eeeeee",this.ctx.fill(),this.Render(this.ctx)}Render(t){}MouseDown(t){}MouseUp(t){}MouseMove(t){}destroy(){for(this.active=!1;this.host.lastChild;)this.host.removeChild(this.host.lastChild)}}var h=s(458);class n{static GetID(){return n.ID++}constructor(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new h.h9(0,0,0);this.map=void 0,this.vec=void 0,this.norV=void 0,this.nPix=[],this.recVec=void 0,this.i=-1,this.j=-1,this.k=-1,this.u=-1,this.v=-1,this.id=void 0,this.data=void 0,this.map=t,this.vec=i,this.nPix=[],this.recVec=[],this.i=-1,this.j=-1,this.k=-1,this.id=n.GetID(),this.data={}}ToString(){return"Pixel"+this.id}Update(){}Render(){}}n.ID=0;class o{constructor(t,i){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;this.listPixel=[],this.rx=0,this.ry=0,this.ddx=0,this.ddy=0,this.v0=h.h9.Origin(),this.v1=h.h9.Origin(),this.rx=s,this.ry=e,this.ddx=0,this.ddy=0,this.v0=t,this.v1=i,this.Init()}Init(){this.ddx=(this.v1.x-this.v0.x)/(this.rx-1),this.ddy=(this.v1.y-this.v0.y)/(this.ry-1),this.InitGrid()}InitGrid(){for(let t=0;t<this.ry;++t)for(let i=0;i<this.rx;++i){let s=this.v0.x+i*this.ddx,e=this.v0.y+t*this.ddy,o=new n(this);o.i=i,o.j=t,o.vec=new h.h9(s,e,0),o.recVec.push(new h.h9(s-.5*this.ddx,e-.5*this.ddy,0)),o.recVec.push(new h.h9(s+.5*this.ddx,e-.5*this.ddy,0)),o.recVec.push(new h.h9(s+.5*this.ddx,e+.5*this.ddy,0)),o.recVec.push(new h.h9(s-.5*this.ddx,e+.5*this.ddy,0)),this.listPixel.push(o)}this.InitGridNeighbor()}InitGridNeighbor(){for(let t=0;t<this.ry;++t)for(let i=0;i<this.rx;++i){let s=t*this.rx+i,e=this.listPixel[s];i>0&&e.nPix.push(this.listPixel[s-1]),i<this.rx-1&&e.nPix.push(this.listPixel[s+1]),t>0&&e.nPix.push(this.listPixel[s-this.rx]),t<this.ry-1&&e.nPix.push(this.listPixel[s+this.rx]),i>0&&t<this.ry-1&&e.nPix.push(this.listPixel[s+this.rx-1]),i>0&&t>0&&e.nPix.push(this.listPixel[s-this.rx-1]),i<this.rx-1&&t<this.ry-1&&e.nPix.push(this.listPixel[s+this.rx+1]),i<this.rx-1&&t>0&&e.nPix.push(this.listPixel[s-this.rx+1])}}GetPixelAtPoint(t){let i=this,s=new h.h9(t.x-i.v0.x,t.y-i.v0.y,t.z-i.v0.z),e=Math.round(s.x/i.ddx),n=Math.round(s.y/i.ddy);return e>=i.rx&&(e=i.rx-1),n>=i.ry&&(n=i.ry-1),e<0&&(e=0),n<0&&(n=0),i.listPixel[n*i.rx+e]}MouseMove(t,i,s){this.GetPixelAtPoint(new h.h9(t,i,s))}onDocumentMouseMove(){}onmouseenter(){}CVisLineGrid(t){let i=this;for(let s=0;s<i.listPixel.length;++s){let e="#ff0000";t.lineWidth=.5,t.beginPath(),t.moveTo(i.listPixel[s].recVec[0].x,i.listPixel[s].recVec[0].y);for(let h=1;h<i.listPixel[s].recVec.length;++h)t.lineTo(i.listPixel[s].recVec[h].x,i.listPixel[s].recVec[h].y);t.closePath(),t.strokeStyle=e,t.stroke()}}VisMeshGrid(){let t=this;for(let i=0;i<t.listPixel.length;++i);}VisCenterPoints(t){let i=this;t.fillStyle="#0ff00f";for(let s=0;s<i.listPixel.length;++s)t.beginPath(),t.arc(i.listPixel[s].vec.x,i.listPixel[s].vec.y,5,0,6.28),t.closePath(),t.fill()}Render(t){this.CVisLineGrid(t),this.VisCenterPoints(t)}}class r{constructor(){this.pMap=void 0,this.pMap=new o(new h.h9(10,10),new h.h9(200,200))}Render(t){this.pMap.Render(t)}MouseDown(t){}MouseUp(t){}MouseMove(t){}MouseDrag(t){}}class l{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SandBox";this.canvasCore=void 0,this.core=void 0,this.core=new r,this.canvasCore=new e(t),this.BindEvent(),this.BindRenderer()}BindEvent(){this.canvasCore.MouseDown=t=>this.core.MouseDown(t),this.canvasCore.MouseMove=t=>this.core.MouseMove(t),this.canvasCore.MouseUp=t=>this.core.MouseUp(t)}BindRenderer(){this.canvasCore.Render=t=>this.core.Render(t)}destroy(){this.canvasCore.destroy()}}}}]);
//# sourceMappingURL=62107.d6bcdc27.chunk.js.map