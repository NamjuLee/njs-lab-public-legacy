"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[36009,19951],{71277:(e,t,l)=>{function a(e){return e=e||globalThis.location.hostname,c.some((t=>{var l;return null!=(null===(l=e)||void 0===l?void 0:l.match(t))}))}function n(e,t){return e&&(t=t||globalThis.location.hostname)?null!=t.match(s)||null!=t.match(r)?e.replace("static.arcgis.com","staticdev.arcgis.com"):null!=t.match(o)||null!=t.match(i)?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e}l.d(t,{XO:()=>a,pJ:()=>n});const s=/^devext.arcgis.com$/,o=/^qaext.arcgis.com$/,r=/^[\w-]*\.mapsdevext.arcgis.com$/,i=/^[\w-]*\.mapsqa.arcgis.com$/,c=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,s,o,/^jsapps.esri.com$/,r,i]},36009:(e,t,l)=>{l.r(t),l.d(t,{getPatternDescriptor:()=>z,getSizeFromOptions:()=>Z,getSymbolLayerFill:()=>L,previewSymbol3D:()=>F});var a=l(65905),n=l(86950),s=(l(93169),l(10064)),o=l(32718),r=l(92026),i=l(66978),c=l(17842),u=l(79563),p=l(29122),h=l(73627),m=l(37817),y=l(1682),f=l(74579),d=l(19951);const b=m.b_.size,v=m.b_.maxSize,g=m.b_.maxOutlineSize,w=m.b_.lineWidth,k=m.b_.tallSymbolWidth;function x(e){const t=e.outline,l=(0,r.pC)(e.material)?e.material.color:null,a=(0,r.pC)(l)?l.toHex():null;if((0,r.Wi)(t)||"pattern"in t&&(0,r.pC)(t.pattern)&&"style"===t.pattern.type&&"none"===t.pattern.style)return"fill"===e.type&&"#ffffff"===a?{color:"#bdc3c7",width:.75}:null;const n=(0,c.F2)(t.size)||0;return{color:"rgba("+((0,r.pC)(t.color)?t.color.toRgba():"255,255,255,1")+")",width:Math.min(n,g),style:"pattern"in t&&(0,r.pC)(t.pattern)&&"style"===t.pattern.type?(0,u.Sp)(t.pattern.style):null,join:"butt",cap:"patternCap"in t?t.patternCap:"butt"}}function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const l=e.a,a=(0,n._Y)(e),s=a.h,o=a.s/t,r=100-(100-a.v)/t,{r:i,g:c,b:u}=(0,n.xr)({h:s,s:o,v:r});return[i,c,u,l]}function S(e){return"water"===e.type?(0,r.Wi)(e.color)?null:e.color:(0,r.Wi)(e.material)||(0,r.Wi)(e.material.color)?null:e.material.color}function L(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const l=S(e);if(!l){if("fill"===e.type)return null;const l=u.Ne.r,a=(0,m.uH)(l,t);return[a,a,a,100]}const a=l.toRgba();for(let n=0;n<3;n++)a[n]=(0,m.uH)(a[n],t);return a}async function z(e,t){const l=e.style;return"none"===l?null:{type:"pattern",x:0,y:0,src:await(0,u.Od)((0,a.V)("esri/symbols/patterns/".concat(l,".png")),t.toCss(!0)),width:5,height:5}}function C(e){return e.outline?x(e):{color:"rgba(0, 0, 0, 1)",width:1.5}}function j(e,t){const l=S(e);if(!l)return null;let a="rgba(";return a+=(0,m.uH)(l.r,t)+",",a+=(0,m.uH)(l.g,t)+",",a+=(0,m.uH)(l.b,t)+",",a+l.a+");"}function N(e,t){const l=j(e,t);return l?"pattern"in e&&(0,r.pC)(e.pattern)&&"style"===e.pattern.type&&"none"===e.pattern.style?null:{color:l,width:Math.min(e.size?(0,c.F2)(e.size):.75,g),style:"pattern"in e&&(0,r.pC)(e.pattern)&&"style"===e.pattern.type?(0,u.Sp)(e.pattern.style):null,cap:"cap"in e?e.cap:null,join:"join"in e?"miter"===e.join?(0,c.F2)(2):e.join:null}:{}}function P(e,t,l){const a=null!=l?.75*l:0;return{type:"linear",x1:a?.25*a:0,y1:a?.5*a:0,x2:a||4,y2:a?.5*a:4,colors:[{color:e,offset:0},{color:t,offset:1}]}}function Z(e){const t="number"==typeof(null===e||void 0===e?void 0:e.size)?null===e||void 0===e?void 0:e.size:null;return t?(0,c.F2)(t):null}function D(e,t){var l;const n=Z(t),s=null!==t&&void 0!==t&&t.maxSize?(0,c.F2)(t.maxSize):null,r=null!==(l=null===t||void 0===t?void 0:t.disableUpsampling)&&void 0!==l&&l,u=e.symbolLayers,g=[];let w=0,M=0;const S=u.getItemAt(u.length-1);let z;return S&&"icon"===S.type&&(z=S.size&&(0,c.F2)(S.size)),u.forEach((l=>{if("icon"!==l.type&&"object"!==l.type)return;const o="icon"===l.type?l.size&&(0,c.F2)(l.size):0,i=n||o?Math.ceil(Math.min(n||o,s||v)):b;if(l&&l.resource&&l.resource.href){const t=function(e,t){const l=t&&t.resource,n=l&&l.href;if(e.thumbnail&&e.thumbnail.url)return Promise.resolve(e.thumbnail.url);if(n&&"object"!==t.type)return Promise.resolve((0,f.nf)(e,t));const s=(0,a.V)("esri/images/Legend/legend3dsymboldefault.png");return e.styleOrigin&&(e.styleOrigin.styleName||e.styleOrigin.styleUrl)?(0,d.resolveWebStyleSymbol)(e.styleOrigin,{portal:e.styleOrigin.portal},"webRef").catch((e=>e)).then((e=>{var t;return(null===e||void 0===e||null===(t=e.thumbnail)||void 0===t?void 0:t.url)||s})):Promise.resolve(s)}(e,l).then((e=>{const t=l.get("material.color"),a=function(e){return"icon"===e.type?"multiply":"tint"}(l);return(0,y.r)(e,i,t,a,r)})).then((e=>{const t=e.width,l=e.height;return w=Math.max(w,t),M=Math.max(M,l),[{shape:{type:"image",x:0,y:0,width:t,height:l,src:e.url},fill:null,stroke:null}]}));g.push(t)}else{var u;let e=i;"icon"===l.type&&z&&n&&(e=i*(o/z));const a="tall"===(null===t||void 0===t?void 0:t.symbolConfig)||(null===t||void 0===t||null===(u=t.symbolConfig)||void 0===u?void 0:u.isTall)||"object"===l.type&&function(e){const t=e.depth,l=e.height,a=e.width;return 0!==a&&0!==t&&0!==l&&a===t&&null!=a&&null!=l&&a<l}(l);w=Math.max(w,a?k:e),M=Math.max(M,e),g.push(Promise.resolve(function(e,t,l){const a=[];if(!e)return a;switch(e.type){case"icon":{const l=0,n=0,s=t,o=t;switch(e.resource&&e.resource.primitive||p.S){case"circle":a.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:L(e,0),stroke:x(e)});break;case"square":a.push({shape:{type:"path",path:[{command:"M",values:[l,o]},{command:"L",values:[l,n]},{command:"L",values:[s,n]},{command:"L",values:[s,o]},{command:"Z",values:[]}]},fill:L(e,0),stroke:x(e)});break;case"triangle":a.push({shape:{type:"path",path:[{command:"M",values:[l,o]},{command:"L",values:[.5*s,n]},{command:"L",values:[s,o]},{command:"Z",values:[]}]},fill:L(e,0),stroke:x(e)});break;case"cross":a.push({shape:{type:"path",path:[{command:"M",values:[.5*s,n]},{command:"L",values:[.5*s,o]},{command:"M",values:[l,.5*o]},{command:"L",values:[s,.5*o]}]},stroke:C(e)});break;case"x":a.push({shape:{type:"path",path:[{command:"M",values:[l,n]},{command:"L",values:[s,o]},{command:"M",values:[s,n]},{command:"L",values:[l,o]}]},stroke:C(e)});break;case"kite":a.push({shape:{type:"path",path:[{command:"M",values:[l,.5*o]},{command:"L",values:[.5*s,n]},{command:"L",values:[s,.5*o]},{command:"L",values:[.5*s,o]},{command:"Z",values:[]}]},fill:L(e,0),stroke:x(e)})}break}case"object":switch(e.resource&&e.resource.primitive||h.S){case"cone":{const n=P(L(e,0),L(e,-.6),l?k:t),s=(0,m.TE)(t,l);a.push({shape:s[0],fill:n}),a.push({shape:s[1],fill:n});break}case"inverted-cone":{const l=L(e,0),n=P(l,L(e,-.6),t),s=(0,m.DY)(t);a.push({shape:s[0],fill:n}),a.push({shape:s[1],fill:l});break}case"cube":{const n=(0,m.Pc)(t,l);a.push({shape:n[0],fill:L(e,0)}),a.push({shape:n[1],fill:L(e,-.3)}),a.push({shape:n[2],fill:L(e,-.5)});break}case"cylinder":{const n=P(L(e,0),L(e,-.6),l?k:t),s=(0,m.EB)(t,l);a.push({shape:s[0],fill:n}),a.push({shape:s[1],fill:n}),a.push({shape:s[2],fill:L(e,0)});break}case"diamond":{const l=(0,m.XX)(t);a.push({shape:l[0],fill:L(e,-.3)}),a.push({shape:l[1],fill:L(e,0)}),a.push({shape:l[2],fill:L(e,-.3)}),a.push({shape:l[3],fill:L(e,-.7)});break}case"sphere":{const l=P(L(e,0),L(e,-.6));l.x1=0,l.y1=0,l.x2=.25*t,l.y2=.25*t,a.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:l});break}case"tetrahedron":{const l=(0,m.tp)(t);a.push({shape:l[0],fill:L(e,-.3)}),a.push({shape:l[1],fill:L(e,0)}),a.push({shape:l[2],fill:L(e,-.6)});break}}}return a}(l,e,a)))}})),(0,i.as)(g).then((e=>{const l=[];return e.forEach((e=>{e.value?l.push(e.value):e.error&&o.Z.getLogger("esri.symbols.support.previewSymbol3D").warn("error while building swatchInfo!",e.error)})),(0,y.w)(l,[w,M],{node:t&&t.node,scale:!1,opacity:t&&t.opacity})}))}function F(e,t){if(0===e.symbolLayers.length)return Promise.reject(new s.Z("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));switch(e.type){case"point-3d":return D(e,t);case"line-3d":return function(e,t){const l=e.symbolLayers,a=[],n=(0,f.YW)(e),s=Z(t),o=(t&&t.maxSize?(0,c.F2)(t.maxSize):null)||g;let i,u=0,p=0;return l.forEach(((e,t)=>{if(!e)return;if("line"!==e.type&&"path"!==e.type)return;const l=[];switch(e.type){case"line":{const a=N(e,0);if((0,r.Wi)(a))break;const n=a&&a.width||0;0===t&&(i=n);const c=Math.min(s||n,o),h=0===t?c:s?c*(n/i):c,m=h>w/2?2*h:w;p=Math.max(p,h),u=Math.max(u,m),a.width=h,l.push({shape:{type:"path",path:[{command:"M",values:[0,.5*p]},{command:"L",values:[u,.5*p]}]},stroke:a});break}case"path":{const t=Math.min(s||b,o),a=L(e,0),n=L(e,-.2),r=j(e,-.4),i=r?{color:r,width:1}:{};if("quad"===e.profile){const t=e.width,s=e.height,o=(0,m.eb)(t&&s?t/s:1,0===s,0===t),r={...i,join:"bevel"};l.push({shape:o[0],fill:n,stroke:r}),l.push({shape:o[1],fill:n,stroke:r}),l.push({shape:o[2],fill:a,stroke:r})}else l.push({shape:m.JZ.pathSymbol3DLayer[0],fill:n,stroke:i}),l.push({shape:m.JZ.pathSymbol3DLayer[1],fill:a,stroke:i});p=Math.max(p,t),u=p}}a.push(l)})),Promise.resolve((0,y.w)(a,[u,p],{node:t&&t.node,scale:n,opacity:t&&t.opacity}))}(e,t);case"polygon-3d":case"mesh-3d":return async function(e,t){const l="mesh-3d"===e.type,a=e.symbolLayers,n=Z(t),s=t&&t.maxSize?(0,c.F2)(t.maxSize):null,o=n||b,i=[];let u=0,p=0,h=!1;for(let c=0;c<a.length;c++){const e=a.getItemAt(c),t=[];if(l&&"fill"!==e.type)continue;const n=m.JZ.fill[0];switch(e.type){case"fill":{const a=x(e),i=Math.min(o,s||v);u=Math.max(u,i),p=Math.max(p,i),h=!0;let c=L(e,0);const m="pattern"in e?e.pattern:null,y=S(e);!l&&(0,r.pC)(m)&&"style"===m.type&&"solid"!==m.style&&y&&(c=await z(m,y)),t.push({shape:n,fill:c,stroke:a});break}case"line":{const l=N(e,0);if((0,r.Wi)(l))break;const a={stroke:l,shape:n};u=Math.max(u,b),p=Math.max(p,b),t.push(a);break}case"extrude":{const l={join:"round",width:1,...N(e,-.4)},a=L(e,0),n=L(e,-.2),r=Math.min(o,s||v),i=(0,m.EV)(r);l.width=1,t.push({shape:i[0],fill:n,stroke:l}),t.push({shape:i[1],fill:n,stroke:l}),t.push({shape:i[2],fill:a,stroke:l});const c=b,h=.7*b+.5*r;u=Math.max(u,c),p=Math.max(p,h);break}case"water":{const l=(0,r.s3)(S(e)),a=M(l),n=M(l,2),i=M(l,3),c=(0,m.ht)();h=!0,t.push({shape:c[0],fill:a}),t.push({shape:c[1],fill:n}),t.push({shape:c[2],fill:i});const y=Math.min(o,s||v);u=Math.max(u,y),p=Math.max(p,y);break}}i.push(t)}return(0,y.w)(i,[u,p],{node:t&&t.node,scale:h,opacity:t&&t.opacity})}(e,t)}return Promise.reject(new s.Z("symbolPreview: swatchInfo3D","symbol not supported."))}},19951:(e,t,l)=>{l.r(t),l.d(t,{fetchSymbolFromStyle:()=>f,resolveWebStyleSymbol:()=>y});var a=l(51508),n=l(71277),s=l(10064),o=l(92026),r=l(35995),i=l(70032),c=l(53283),u=l(42283),p=l(1472),h=l(38048),m=l(81854);function y(e,t,l,a){return e.name?e.styleName&&"Esri2DPointSymbolsStyle"===e.styleName?function(e,t,l){const a=h.wm.replace(/\{SymbolName\}/gi,e.name),n=(0,o.pC)(t.portal)?t.portal:i.Z.getDefault();return(0,h.EJ)(a,l).then((e=>{const t=(0,h.KV)(e.data);return(0,u.im)(t,{portal:n,url:(0,r.mN)((0,r.Yd)(a)),origin:"portal-item"})}))}(e,t,a):(0,h.n2)(e,t,a).then((n=>f((0,o.s3)(n),e.name,t,l,a))):Promise.reject(new s.Z("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function f(e,t,l,y,f){var d,b,v;const g=e.data,w=l&&(0,o.pC)(l.portal)?l.portal:i.Z.getDefault(),k={portal:w,url:(0,r.mN)(e.baseUrl),origin:"portal-item"},x=g.items.find((e=>e.name===t));if(!x){const e="The symbol name '".concat(t,"' could not be found");return Promise.reject(new s.Z("symbolstyleutils:symbol-name-not-found",e,{symbolName:t}))}let M=(0,c.f)((0,h.v9)(x,y),k),S=null!==(d=null===(b=x.thumbnail)||void 0===b?void 0:b.href)&&void 0!==d?d:null;const L=x.thumbnail&&x.thumbnail.imageData;(0,n.XO)()&&(M=null!==(v=(0,n.pJ)(M))&&void 0!==v?v:"",S=(0,n.pJ)(S));const z={portal:w,url:(0,r.mN)((0,r.Yd)(M)),origin:"portal-item"};return(0,h.EJ)(M,f).then((n=>{const s="cimRef"===y?(0,h.KV)(n.data):n.data,o=(0,u.im)(s,z);if(o&&(0,a.dU)(o)){if(S){const e=(0,c.f)(S,k);o.thumbnail=new m.p({url:e})}else L&&(o.thumbnail=new m.p({url:"data:image/png;base64,".concat(L)}));e.styleUrl?o.styleOrigin=new p.Z({portal:l.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(o.styleOrigin=new p.Z({portal:l.portal,styleName:e.styleName,name:t}))}return o}))}}}]);
//# sourceMappingURL=36009.25f2e88a.chunk.js.map