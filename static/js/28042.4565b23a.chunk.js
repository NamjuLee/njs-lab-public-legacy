"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[28042],{28042:(t,e,i)=>{i.r(e),i.d(e,{AppFace:()=>o,Solution:()=>u});var s=i(65812),n=i(19559);class o{static Init(t){new o(t)}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";this.canvasSD=void 0,this.implementation=void 0,this.host=void 0,this.divText=void 0;const e=document.getElementById(t);e&&(this.host=e),this.InitHTML(),this.init()}async init(){const t=document.createElement("video");this.host.append(t),t.id="video";const e=document.createElement("canvas");this.host.append(e),await v(e)}InitHTML(){const t=document.createElement("button");t.style.width="100px",t.style.height="20px",t.style.marginLeft="20px",t.style.zIndex="5",t.name="Clear",t.innerText="Clear",t.value="Clear",t.onclick=()=>{console.log(this),this.canvasSD.Clear()},this.host.appendChild(t),this.divText=document.createElement("div"),this.divText.id="classText",this.divText.style.zIndex="5",this.divText.innerText="class: ",this.divText.style.marginLeft="20px",this.host.appendChild(this.divText)}Init(t){}Clear(){this.canvasSD.Clear()}}let a;const d=function(){const t=/Android/i.test(navigator.userAgent),e=/iPhone|iPad|iPod/i.test(navigator.userAgent);return t||e}();let h,c,l,r;const v=async t=>{console.log(s.setBackend),await s.setBackend("webgl"),await m(),a.play(),h=a.videoWidth,c=a.videoHeight,a.width=h,a.height=c,t.width=h,t.height=c,t.style.width=h+"px",t.style.height=c+"px",l=t.getContext("2d"),l.translate(t.width,0),l.scale(-1,1),l.fillStyle="#32EEDB",l.strokeStyle="#32EEDB",l.lineWidth=.5,r=await n.z({maxFaces:1e3}),console.log(r),g()},m=async()=>{a=document.getElementById("video");const t=await navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"user",width:d?void 0:500,height:d?void 0:500}});return a.srcObject=t,new Promise((t=>{a.onloadedmetadata=()=>{t(a)}}))},g=async()=>{const t=await r.estimateFaces(a);console.log(t[0].faceInViewConfidence),requestAnimationFrame(g)};class u{constructor(t){this.divHost=void 0,this.divHost=document.getElementById(t),o.Init(t)}destroy(){if(this.divHost)try{for(;this.divHost.firstChild;)this.divHost.removeChild(this.divHost.firstChild)}catch(t){console.error("Error in destroy method:",t)}else console.warn("divHost is undefined in destroy method")}}}}]);
//# sourceMappingURL=28042.4565b23a.chunk.js.map