"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[86818],{86818:(t,s,o)=>{o.r(s),o.d(s,{SmartDrawing:()=>e});var i=o(65812);class e{constructor(){this.modelLogisticRegression=void 0,this.modelMultiClassification=void 0,this.isLoaded=!1,r().then((t=>{[this.modelLogisticRegression,this.modelMultiClassification]=t,this.isLoaded=!0}))}predictByLogisticRegression(t){if(void 0!==this.modelLogisticRegression)return(0,i.tidy)((()=>{const s=(0,i.tensor2d)([t]),o=this.modelLogisticRegression.predict(s).dataSync();return this.PredictionPostProcessingLogisticRegression(o[0])}));console.error("no model loaded")}PredictionPostProcessingLogisticRegression(t){const s=Math.floor(t+.5);return e.CLASS_TYPE[s]}predictByMultiClassification(t){if(void 0!==this.modelMultiClassification)return(0,i.tidy)((()=>{const s=i.tensor2d([t]),o=this.modelMultiClassification.predict(s),r=[];{const t=Array.from(o.dataSync()),s=a(t);for(let o of s){const s=t[o],i="class:"+e.CLASS_TYPE[o]+", probability:"+s.toFixed(5);r.push(i)}}const n=o.argMax(-1).dataSync()[0];return[e.CLASS_TYPE[n],r]}));console.error("no model loaded")}}e.CLASS_TYPE={0:"CIRCLE",1:"TRI-GON",2:"ARROW_SINGLE",3:"ARROW_DOUBLE",4:"RECTANGLE",5:"TEXT",6:"CURVE",7:"HEART",8:"CLOUD"};const r=async()=>{let t="https://raw.githubusercontent.com/NamjuLee/data/master/smart-drawing/model/modelLogisticRegression0/model.json";const s=await(0,i.loadLayersModel)(t);t="https://raw.githubusercontent.com/NamjuLee/data/master/smart-drawing/model/modelMultiClassification0/model.json";return[s,await(0,i.loadLayersModel)(t)]},a=t=>{const s=new Array(t.length);for(let o=0;o<t.length;++o)s[o]=o;return s.sort(((s,o)=>t[s]>t[o]?-1:t[s]<t[o]?1:0)),s}}}]);
//# sourceMappingURL=86818.90387701.chunk.js.map