"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[32606],{32606:(t,e,o)=>{o.r(e),o.d(e,{Solution:()=>i});var s=o(55913),n=o(87968);class i extends s.J0{constructor(t){super(t),this.colors=[],this.polygonsGeo=[],this.polygonsScreenPath2D=[],this.centersScreen=[]}initPost(){this.mView.on("drag",(t=>{t.stopPropagation()})),this.mView.navigation.mouseWheelZoomEnabled=!1,this.center(-97.893669,39.176304),this.zoom(4);const t=document.createElement("canvas");t.id="layer",t.width=this.mView.container.clientWidth,t.height=this.mView.container.clientHeight,t.style.background="rgba(0, 32, 0, 0.6)",t.style.position="absolute",t.style.pointerEvents="none",this.mView.container.appendChild(t),(0,n.getJSONFromURL)("/njs-lab-public/static/data/gz_2010_us_050_00_20m.json").then((t=>{const e=t.features;for(let o=0;o<e.length;++o){const t=e[o].geometry;if("Polygon"===t.type){let e=t.coordinates[0][0][0],o=t.coordinates[0][0][1];const s=[];s.push(e,o);for(let n=1;n<t.coordinates[0].length;++n)e=t.coordinates[0][n][0],o=t.coordinates[0][n][1],s.push(e,o);this.colors.push("rgba(0, 255, 0, ".concat(.2*Math.random()+.3,")")),this.polygonsGeo.push(s)}}}))}render(t){for(let e=0;e<this.polygonsGeo.length;++e){let o=this.polygonsGeo[e][0],s=this.polygonsGeo[e][1],n=this.toScreen(o,s);t.beginPath(),t.moveTo(n[0],n[1]);let i=new Path2D;i.moveTo(n[0],n[1]);let l=n[0],c=n[1],r=1;for(let h=2;h<this.polygonsGeo[e].length;h+=2)o=this.polygonsGeo[e][h],s=this.polygonsGeo[e][h+1],n=this.toScreen(o,s),t.lineTo(n[0],n[1]),i.lineTo(n[0],n[1]),l+=n[0],c+=n[1],r++;t.closePath(),t.fillStyle=this.colors[e],t.fill(),h(t,l/r,c/r,1,"#0fff0f"),this.centersScreen.push([l/r,c/r,r]),i.closePath(),this.polygonsScreenPath2D.push(i)}this.isStatic=!0}mouseMove(t,e){this.ctx.lineWidth=0;let o=-1,s=1e5;for(let n=0;n<this.centersScreen.length;++n){const i=this.centersScreen[n],h=l(t,e,i[0],i[1]);h<s&&(s=h,o=n)}if(this.ctx.lineWidth=.2,-1!==o&&o<=this.polygonsScreenPath2D.length){const t=this.polygonsScreenPath2D[o];this.ctx.strokeStyle="#0f0",this.ctx.stroke(t)}}}const h=(t,e,o,s,n)=>{t.fillStyle=n,t.beginPath(),t.arc(e,o,s,0,2*Math.PI),t.closePath(),t.fill()},l=(t,e,o,s)=>Math.sqrt((t-o)*(t-o)+(e-s)*(e-s))}}]);
//# sourceMappingURL=32606.e8b074c0.chunk.js.map