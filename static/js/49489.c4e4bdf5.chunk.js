"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[49489],{49489:(t,e,s)=>{s.r(e),s.d(e,{Renderer:()=>o,Solution:()=>n});var i=s(55913);class h{constructor(t,e,s,i){this._x=void 0,this._y=void 0,this._width=void 0,this._height=void 0,this._x=t,this._y=e,this._width=s,this._height=i}get x(){return this._x}set x(t){this._x=t}get y(){return this._y}set y(t){this._y=t}get width(){return this._width}set width(t){this._width=t}get height(){return this._height}set height(t){this._height=t}}class l{static exe(){let t=[],e=new l(0,new h(0,0,600,600));e.clear();for(let i=0;i<t.length;i++)e.insert(t[i]);let s=[];for(let i=0;i<t.length;i++){e.retrieve(s,t[i]);for(let t=0;t<s.length;++t);}}constructor(t,e){this.MAX_OBJECTS=100,this.MAX_LEVELS=5,this.level=void 0,this.objects=void 0,this.bounds=void 0,this.nodes=void 0,this.level=t,this.objects=[],this.bounds=e,this.nodes=[]}clear(){this.objects=[];for(let t=0;t<this.nodes.length;t++)this.nodes[t]&&(this.nodes[t]=void 0)}split(){let t=this.bounds.width/2,e=this.bounds.height/2,s=this.bounds.x,i=this.bounds.y;this.nodes[0]=new l(this.level+1,new h(s+t,i,t,e)),this.nodes[1]=new l(this.level+1,new h(s,i,t,e)),this.nodes[2]=new l(this.level+1,new h(s,i+e,t,e)),this.nodes[3]=new l(this.level+1,new h(s+t,i+e,t,e))}getIndex(t){let e=-1,s=this.bounds.x+this.bounds.width/2,i=this.bounds.y+this.bounds.height/2,h=t.y<i&&t.y+t.height<i,l=t.y>i;return t.x<s&&t.x+t.width<s?h?e=1:l&&(e=2):t.x>s&&(h?e=0:l&&(e=3)),e}insert(t){if(void 0!==this.nodes[0]){let e=this.getIndex(t);if(-1!==e){let s=this.nodes[e];return void(s&&s.insert(t))}}if(this.objects.push(t),this.objects.length>this.MAX_OBJECTS&&this.level<this.MAX_LEVELS){void 0===this.nodes[0]&&this.split();let t=0;for(;t<this.objects.length;){let e=this.getIndex(this.objects[t]);if(-1!==e){let s=this.nodes[e];s&&s.insert(this.objects.splice(t,1)[0])}else t++}}}retrieve(t,e){let s=this.getIndex(e);if(-1!==s&&void 0!==this.nodes[0]){let i=this.nodes[s];i&&i.retrieve(t,e)}for(let i=0,h=this.objects.length;i<h;i++)t.push(this.objects[i]);return t}}class n{constructor(t){this.divHost=void 0,this.renderer=void 0,this.divHost=document.getElementById(t),this.divHost.style.display="flex",this.divHost.style.alignItems="center";const e=document.createElement("div");e.style.marginLeft="auto",e.style.marginRight="auto",e.style.backgroundColor="#555",e.style.width="1000px",e.style.height="600px",this.divHost.appendChild(e),this.renderer=new o(e)}destroy(){for(this.renderer.destroy();this.divHost.lastElementChild;)this.divHost.removeChild(this.divHost.lastElementChild)}}class o extends i.bb{constructor(t){super(t),this.quad=void 0,this.allObjects=[],this.canvas.style.position="relative",this.canvas.style.width="100%",this.canvas.style.height="100%",this.allObjects=[];for(let s=0;s<100;++s){const t=Math.random()*this.canvas.width,e=Math.random()*this.canvas.height,s=new h(t,e,5,5);this.allObjects.push(s)}this.quad=new l(0,new h(0,0,this.canvas.width,this.canvas.height)),this.quad.clear();for(let s=0;s<this.allObjects.length;s++)this.quad.insert(this.allObjects[s]);let e=[];for(let s=0;s<this.allObjects.length;s++){this.quad.retrieve(e,this.allObjects[s]);for(let t=0;t<e.length;++t);}this.start()}render(t){for(let s=0;s<this.quad.objects.length;++s){const e=this.quad.objects[s];t.beginPath(),t.rect(e.x,e.y,e.width,e.height),t.closePath(),t.stroke()}let e=[];for(let s=0;s<this.allObjects.length;s++){this.quad.retrieve(e,this.allObjects[s]);for(let t=0;t<e.length;++t);}}}}}]);
//# sourceMappingURL=49489.c4e4bdf5.chunk.js.map