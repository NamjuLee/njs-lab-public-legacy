{"version":3,"file":"static/js/68614.45f8326f.chunk.js","mappings":"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","sources":["njslab/Workshop/workshop-pixel/05_pixelMapImage/index.ts","njslab/Workshop/workshop-vector/base/RendererCanvas.ts"],"sourcesContent":["import { RendererCanvas } from '../../workshop-vector/base/RendererCanvas';\r\nimport { getImgFromURL } from '../../../../lib'\r\n\r\nconst getSlider = (title: string, min: number, max: number) => {\r\n    // <input type=\"range\" min=\"1\" max=\"100\" value=\"50\" class=\"slider\" id=\"myRange\">\r\n    const div = document.createElement('div');\r\n    div.style.display = 'flex';\r\n\r\n    const slider = document.createElement('input');\r\n    slider.type = 'range';\r\n    slider.min = `${min}`;\r\n    slider.max = `${max}`;\r\n\r\n    const text = document.createElement('div');\r\n    text.textContent = title;\r\n    text.style.color = '#aaa';\r\n    div.appendChild(slider);\r\n    div.appendChild(text);\r\n    return {\r\n        div, slider, text\r\n    }\r\n};\r\n\r\nexport class Solution extends RendererCanvas {\r\n    public t: number = 0.0;\r\n    public pMap: PixelMap = undefined;\r\n    public rx: number = 20;\r\n    public ry: number = 20;\r\n    public size: number = 300;\r\n    public img: HTMLImageElement;\r\n    public divMenu: HTMLElement;\r\n    constructor(id: string) {\r\n        super(document.getElementById(id) as HTMLDivElement);\r\n        this.ctx.translate(this.ctx.canvas.width * 0.5, this.ctx.canvas.height * 0.5);\r\n        this.init();\r\n\r\n        const divMenu = document.createElement('div');\r\n        this.divMenu = divMenu;\r\n        this.divHost.appendChild(divMenu);\r\n        divMenu.style.display = 'block';\r\n        divMenu.style.position = 'absolute';\r\n        divMenu.style.top = '0px';\r\n\r\n        const path0 = 'https://upload.wikimedia.org/wikipedia/commons/5/57/Heightmap.png';\r\n        const path1 = 'https://upload.wikimedia.org/wikipedia/commons/1/15/Srtm_ramp2.world.21600x10800.jpg';\r\n        const path2 = 'https://raw.githubusercontent.com/NamjuLee/data/master/img/heightMap/Heightmap_01.png';\r\n        const path3 = 'https://raw.githubusercontent.com/NamjuLee/data/master/img/heightMap/Heightmap_02.jpg';\r\n        const path4 = 'https://raw.githubusercontent.com/NamjuLee/data/master/img/heightMap/Heightmap_03.jpg';\r\n\r\n\r\n        const divInput = document.createElement('input');\r\n        // divInput.value = 'https://upload.wikimedia.org/wikipedia/commons/f/ff/Mozilla_Firefox_logo_2013.png';\r\n        divInput.value = path0\r\n        divInput.addEventListener('keydown', (e: KeyboardEvent) => {\r\n            if (e.code === 'Enter') {\r\n                this.importImage(divInput.value)\r\n            }\r\n        });\r\n        divMenu.appendChild(divInput);\r\n\r\n        const slType = getSlider('rx', 10, 30)\r\n        slType.slider.defaultValue = '20';\r\n        divMenu.appendChild(slType.div);\r\n        slType.slider.oninput = () => {\r\n            const value = parseInt(slType.slider.value);\r\n            this.rx = value;\r\n            this.init();\r\n        };\r\n        const slType2 = getSlider('ry', 10, 30)\r\n        slType2.slider.defaultValue = '20';\r\n        divMenu.appendChild(slType2.div);\r\n        slType2.slider.oninput = () => {\r\n            const value = parseInt(slType2.slider.value);\r\n            this.ry = value;\r\n            this.init();\r\n        };\r\n\r\n        const slType3 = getSlider('size', 100, 500)\r\n        slType3.slider.defaultValue = '300';\r\n        divMenu.appendChild(slType3.div);\r\n        slType3.slider.oninput = () => {\r\n            const value = parseInt(slType3.slider.value);\r\n            this.size = value;\r\n            this.init();\r\n        };\r\n\r\n\r\n        this.importImage('https://upload.wikimedia.org/wikipedia/commons/f/ff/Mozilla_Firefox_logo_2013.png')\r\n    }\r\n    public importImage(path: string) {\r\n        getImgFromURL(path).then((img: HTMLImageElement) => {\r\n            this.img = img;\r\n            this.img.onload = (ev) => {\r\n                this.update(img);\r\n            };\r\n        });\r\n    }\r\n    public update(img: HTMLImageElement) {\r\n        this.img = img        \r\n        this.init()\r\n    }\r\n    public init() {\r\n        const resX = this.rx;\r\n        const resY = this.ry;\r\n        const size = this.size;\r\n\r\n        this.pMap = new PixelMap(new Vector3(-size, -size, 0), new Vector3(size, size, 0) ,resX, resY);\r\n\r\n        if (this.img) {\r\n            this.pMap.updateImage(this.img)\r\n\r\n        }\r\n\r\n\r\n        this.start();\r\n    }\r\n    public render(ctx: CanvasRenderingContext2D): void {\r\n        this.pMap.render(ctx);\r\n\r\n        // this.img && this.ctx.drawImage(this.img, this.img.width * -0.5, this.img.height * -0.5)\r\n    }\r\n    public mouseMove(x: number, y: number): void {\r\n        this.pMap.picking(x - this.ctx.canvas.width * 0.5, y - this.ctx.canvas.height * 0.5);\r\n    }\r\n\r\n    public mouseClick(x: number, y: number): void {\r\n        //\r\n    }\r\n    public destroyPost() {\r\n        try {\r\n            while (this.divHost !== undefined && this.divHost.lastElementChild !== undefined) {\r\n                this.divHost.removeChild(this.divHost.lastElementChild);\r\n            }\r\n        } catch (error) { }\r\n    }\r\n}\r\n\r\nexport class PixelMap {\r\n    public pixelList: Pixel[] = []\r\n    public minV: Vector3;\r\n    public maxV: Vector3;\r\n    public rx = 10;\r\n    public ry = 10;\r\n    public intervalX;\r\n    public intervalY;\r\n    public selPixel: Pixel | undefined = undefined;\r\n    constructor(minV: Vector3, maxV: Vector3, rx: number, ry: number) {\r\n        this.minV = minV;\r\n        this.maxV = maxV;\r\n        this.rx = rx;\r\n        this.ry = ry;\r\n        this.init()\r\n        this.initGridNeighbor();\r\n    }\r\n    public init(){\r\n        this.pixelList = []\r\n        const x = this.minV.x\r\n        const y = this.minV.y\r\n\r\n        this.intervalX = (this.maxV.x - this.minV.x) / (this.rx - 1)\r\n        this.intervalY = (this.maxV.y - this.minV.y) / (this.ry - 1)\r\n        \r\n        for(let j = 0 ; j < this.ry; j++) {\r\n            for(let i = 0 ; i < this.rx; i++) {\r\n                const xV = x + i * this.intervalX;\r\n                const yV = y + j * this.intervalY;\r\n\r\n                let pix = new Pixel(this, xV , yV , 0);\r\n                pix.xi = i;\r\n                pix.yi = j;\r\n                this.pixelList.push(pix);\r\n            }\r\n        }\r\n\r\n    }\r\n    private initGridNeighbor() {\r\n        for (let j = 0; j < this.ry; ++j) {\r\n            for (let i = 0; i < this.rx; ++i) {\r\n                let k = i + j * this.rx;\r\n                let px = this.pixelList[k];\r\n                if (i > 0) { px.nPix.push(this.pixelList[k - 1]); }\r\n                if (i < this.rx - 1) { px.nPix.push(this.pixelList[k + 1]); }\r\n                if (j > 0) { px.nPix.push(this.pixelList[k - this.rx]); }\r\n                if (j < this.ry - 1) { px.nPix.push(this.pixelList[k + this.rx]); }\r\n                if ((i > 0) && (j < this.ry - 1)) { px.nPix.push(this.pixelList[k + this.rx - 1]); }\r\n                if ((i > 0) && (j > 0)) { px.nPix.push(this.pixelList[k - this.rx - 1]); }\r\n                if ((i < this.rx - 1) && (j < this.ry - 1)) { px.nPix.push(this.pixelList[k + this.rx + 1]); }\r\n                if ((i < this.rx - 1) && (j > 0)) { px.nPix.push(this.pixelList[k - this.rx + 1]); }\r\n            }\r\n        }\r\n    }\r\n    public updateImage(img: HTMLImageElement) {\r\n        const canvas = document.createElement('canvas');\r\n        const ctx = canvas.getContext('2d');\r\n        ctx.drawImage(img, 0, 0, img.width, img.height, 0, 0, this.rx, this.ry)\r\n\r\n        const imgData = ctx.getImageData(0, 0, this.rx, this.ry);\r\n\r\n        const px = (x: number, y: number) => {\r\n            return x * 4 + y * imgData.width * 4;\r\n        };\r\n\r\n        for (let j = 0; j < this.ry; ++j) {\r\n            for (let i = 0; i < this.rx; ++i) {\r\n                let k = px(i, j)\r\n                let indexList = i + j * this.rx;\r\n\r\n                this.pixelList[indexList].color = [\r\n                    imgData.data[k], imgData.data[k+1], imgData.data[k+2], imgData.data[k+3]\r\n                ]\r\n            }\r\n        }\r\n    }\r\n    public picking(x: number, y: number) {\r\n        const mv = new Vector3(x,y,0)\r\n        let dis = Number.MAX_VALUE;\r\n        let id = -1\r\n        for(let i = 0 ; i < this.pixelList.length; ++i) {\r\n           const theDis = distance(this.pixelList[i].vec, mv);\r\n           if (dis > theDis) {\r\n            dis = theDis;\r\n            id = i;\r\n           }\r\n           this.pixelList[i].hover = false;\r\n        }\r\n\r\n        this.selPixel = undefined;\r\n        if (id > -1) {\r\n            this.pixelList[id].hover = true;\r\n            this.selPixel = this.pixelList[id];\r\n        }\r\n    }\r\n    public render(ctx) {\r\n        this.pixelList.forEach((p: Pixel) => {\r\n            p.render(ctx);\r\n        })\r\n\r\n        if (this.selPixel) {\r\n            this.selPixel.render(ctx);\r\n        }\r\n    }\r\n}\r\n\r\nclass Pixel {\r\n    public xi: number;\r\n    public yi: number;\r\n    public pMap: PixelMap;\r\n    public vec: Vector3;\r\n    public hover: boolean = false;\r\n    public nPix: Pixel[] = [];\r\n    public color: number[] = [];\r\n    constructor(pMap: PixelMap, x: number, y: number, z: number) {\r\n        this.pMap = pMap;\r\n        this.vec = new Vector3(x,y,z);\r\n    }\r\n    public render(ctx: CanvasRenderingContext2D) {\r\n        const width = this.pMap.intervalX \r\n        const height = this.pMap.intervalY\r\n\r\n        ctx.beginPath()\r\n        ctx.rect(this.vec.x - width * 0.5, this.vec.y - height * 0.5, width, height)\r\n        ctx.closePath()\r\n        ctx.stroke()\r\n        if (this.hover) {\r\n            ctx.fillStyle = '#555';\r\n            ctx.fill()\r\n        } else {\r\n            ctx.fillStyle = `rgba(${this.color[0]}, ${this.color[1]}, ${this.color[2]}, ${this.color[3]})`;\r\n            ctx.fill()\r\n        }\r\n\r\n        ctx.beginPath();\r\n        ctx.arc(this.vec.x, this.vec.y, this.vec.r, 0, Math.PI * 2.0);\r\n        ctx.closePath();\r\n        if (this.hover) {\r\n            ctx.fillStyle = '#999';\r\n        } else {\r\n            ctx.fillStyle = '#333';\r\n        }\r\n        ctx.fill();\r\n\r\n        if (this.hover) {\r\n            for(let i = 0 ; i < this.nPix.length; ++i) {\r\n                ctx.beginPath();\r\n                ctx.moveTo(this.vec.x, this.vec.y)\r\n                ctx.lineTo(this.nPix[i].vec.x, this.nPix[i].vec.y)\r\n                ctx.closePath();\r\n                ctx.stroke()\r\n            }\r\n\r\n            ctx.strokeText(`x: ${this.xi}, y: ${this.yi}` ,this.vec.x, this.vec.y)\r\n        }\r\n\r\n        \r\n    }\r\n}\r\n\r\nclass Vector3 {\r\n    public x: number = 0.0;\r\n    public y: number = 0.0;\r\n    public z: number = 0.0;\r\n    public r: number = 3\r\n    constructor(x,y,z) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n}\r\n\r\n\r\nconst distance = (v0: Vector3, v1: Vector3) => {\r\n    return Math.sqrt(distance2(v0, v1));\r\n}\r\nconst distance2 = (v0: Vector3, v1: Vector3) => {\r\n    return (v0.x - v1.x) * (v0.x - v1.x) + (v0.y - v1.y) * (v0.y - v1.y) + (v0.z - v1.z) * (v0.z - v1.z);\r\n}","export class RendererCanvas {\r\n    public divHost: HTMLDivElement;\r\n    public canvas: HTMLCanvasElement;\r\n    public ctx: CanvasRenderingContext2D;\r\n    public isDown: boolean = false;\r\n    public debugMode: boolean = false;\r\n    public isStatic: boolean = false;\r\n    public m: number[] = [0,0];\r\n\r\n    private prevent: boolean = false;\r\n    private delay: number = 250;\r\n    private timer: NodeJS.Timer | number;\r\n    private isDrag: boolean = false;\r\n\r\n    constructor(div: HTMLDivElement) {\r\n        this.divHost = div;\r\n        const bounding = this.divHost.getBoundingClientRect();\r\n        this.canvas = document.createElement('canvas') as HTMLCanvasElement;\r\n        // this.canvas.style.position = 'absolute';\r\n        this.canvas.width = bounding.width;\r\n        this.canvas.height = bounding.height;\r\n        this.divHost.appendChild(this.canvas);\r\n        this.ctx = this.canvas.getContext('2d') as CanvasRenderingContext2D;\r\n        this.canvas.onclick = (e: MouseEvent) => {\r\n            this.timer = setTimeout(() => {\r\n                if (!this.prevent) {\r\n                    this.mouseClick(e.offsetX, e.offsetY);\r\n                }\r\n                this.isDrag = false;\r\n                this.prevent = false;\r\n            },\r\n                this.delay);\r\n        };\r\n        this.canvas.onwheel = (e: WheelEvent) => {\r\n            this.mouseWheel(e);\r\n        };\r\n        this.canvas.ondblclick = (e: MouseEvent) => {\r\n            this.mouseUpdate(e.offsetX, e.offsetY);\r\n            clearTimeout(this.timer as number);\r\n            this.prevent = true;\r\n            this.mouseDoubleClick(e.offsetX, e.offsetY);\r\n        };\r\n        this.canvas.onmousedown = (e: MouseEvent) => {\r\n            this.mouseUpdate(e.offsetX, e.offsetY);\r\n            this.isDown = true;\r\n            this.mouseDown(e.offsetX, e.offsetY);\r\n        };\r\n        this.canvas.onmouseup = (e: MouseEvent) => {\r\n            this.mouseUpdate(e.offsetX, e.offsetY);\r\n            this.isDown = false;\r\n            this.isDrag = false;\r\n            this.mouseUp(e.offsetX, e.offsetY);\r\n        };\r\n        this.canvas.onmousemove = (e: MouseEvent) => {\r\n            this.mouseUpdate(e.offsetX, e.offsetY);\r\n            if (this.isDown) {\r\n                this.isDrag = true;\r\n                this.prevent = true;\r\n                this.mouseDrag(e.offsetX, e.offsetY);\r\n            } else {\r\n                this.mouseMove(e.offsetX, e.offsetY);\r\n            }\r\n        };\r\n        window.addEventListener('resize', this.resize);\r\n        // this.loop(this.ctx);\r\n    }\r\n    public start() {\r\n        this.loop(this.ctx);\r\n    }\r\n    private resize = () => {\r\n        const bounding = this.divHost.getBoundingClientRect();\r\n        this.canvas.width = bounding.width;\r\n        this.canvas.height = bounding.height;\r\n    }\r\n    public destroy() {\r\n        window.removeEventListener('resize', this.resize);\r\n        this.isStatic = true;\r\n        try {\r\n            while (this.divHost !== undefined && this.divHost.lastElementChild !== undefined) {\r\n                this.divHost.removeChild(this.divHost.lastElementChild);\r\n            }\r\n        } catch (error) { }\r\n        this.destroyPost();\r\n    }\r\n    public destroyPost() {\r\n\r\n    }\r\n    public loop(ctx: CanvasRenderingContext2D) {\r\n        if (this.isStatic) { return; }\r\n        requestAnimationFrame(() => { this.loop(ctx); });\r\n        ctx.clearRect(ctx.canvas.width * -0.5, ctx.canvas.height * -0.5, ctx.canvas.width, ctx.canvas.height);\r\n        this.render(ctx);\r\n        this.renderPost();\r\n    }\r\n    public renderPost() {\r\n        this.renderMouse(this.ctx, this.m[0], this.m[1]);\r\n    }\r\n    public render(ctx: CanvasRenderingContext2D) {\r\n        // Binding needed\r\n    }\r\n    public mouseClick(x: number, y: number) {\r\n        // Binding needed\r\n        if (this.debugMode) { console.log('click'); }\r\n    }\r\n    public mouseDoubleClick(x: number, y: number) {\r\n        // Binding needed\r\n        if (this.debugMode) { console.log('d-click'); }\r\n    }\r\n    public mouseDown(x: number, y: number) {\r\n        // Binding needed\r\n        if (this.debugMode) { console.log('down'); }\r\n    }\r\n    public mouseUp(x: number, y: number) {\r\n        // Binding needed\r\n        if (this.debugMode) { console.log('up'); }\r\n    }\r\n    public mouseMove(x: number, y: number) {\r\n\r\n        // Binding needed\r\n        if (this.debugMode) { console.log('move'); }\r\n    }\r\n    public mouseDrag(x: number, y: number) {\r\n        // Binding needed\r\n        if (this.debugMode) { console.log('drag'); }\r\n    }\r\n    public mouseWheel(v: WheelEvent) {\r\n        // Binding needed\r\n        if (this.debugMode) { console.log('wheel', v); }\r\n    }\r\n    public renderMouse(ctx: CanvasRenderingContext2D, x: number, y: number) {\r\n        ctx.fillStyle = '#f00';\r\n        ctx.beginPath();\r\n        ctx.arc(this.m[0], this.m[1], 3, 0, Math.PI * 2.0)\r\n        ctx.fillText(`x: ${this.m[0]}, y:${this.m[1]}`,this.m[0] - 15, this.m[1] - 8)\r\n        ctx.closePath();\r\n        ctx.fill();\r\n    }\r\n    public mouseUpdate(x: number, y: number): void {\r\n        this.m[0] = Math.floor(x - this.canvas.width * 0.5);\r\n        this.m[1] = Math.floor(y - this.canvas.height * 0.5);\r\n    }\r\n}"],"names":["getSlider","title","min","max","div","document","createElement","style","display","slider","type","text","textContent","color","appendChild","Solution","RendererCanvas","constructor","id","super","getElementById","t","pMap","undefined","rx","ry","size","img","divMenu","this","ctx","translate","canvas","width","height","init","divHost","position","top","divInput","value","addEventListener","e","code","importImage","slType","defaultValue","oninput","parseInt","slType2","slType3","path","getImgFromURL","then","onload","ev","update","resX","resY","PixelMap","Vector3","updateImage","start","render","mouseMove","x","y","picking","mouseClick","destroyPost","lastElementChild","removeChild","error","minV","maxV","pixelList","intervalX","intervalY","selPixel","initGridNeighbor","j","i","xV","yV","pix","Pixel","xi","yi","push","k","px","nPix","getContext","drawImage","imgData","getImageData","indexList","data","mv","dis","Number","MAX_VALUE","length","theDis","distance","vec","hover","forEach","p","z","beginPath","rect","closePath","stroke","fillStyle","fill","arc","r","Math","PI","moveTo","lineTo","strokeText","v0","v1","sqrt","distance2","isDown","debugMode","isStatic","m","prevent","delay","timer","isDrag","resize","bounding","getBoundingClientRect","onclick","setTimeout","offsetX","offsetY","onwheel","mouseWheel","ondblclick","mouseUpdate","clearTimeout","mouseDoubleClick","onmousedown","mouseDown","onmouseup","mouseUp","onmousemove","mouseDrag","window","loop","destroy","removeEventListener","requestAnimationFrame","clearRect","renderPost","renderMouse","console","log","v","fillText","floor"],"sourceRoot":""}