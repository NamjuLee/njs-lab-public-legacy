"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[29182,65286],{29182:(e,r,t)=>{t.r(r),t.d(r,{Point:()=>i});var o=t(65286);class i{constructor(e){this.vOld="#version 300 es\n        in vec3 a_position;\n\n        uniform float uPointSize;\n\n        void main(void) {\n            gl_PointSize = uPointSize;\n            gl_Position = vec4(a_position, 1.0);\n        }\n    ",this.v="#version 300 es\n\n        in vec3 a_position;\n\n        uniform float uPointSize;\n        uniform float uAngle;\n\n        void main(void) {\n            gl_PointSize = uPointSize;\n            gl_Position = vec4(cos(uAngle) * 0.8 + a_position.x, sin(uAngle) * 0.8 + a_position.y, a_position.z, 1.0);\n        }\n    ",this.f="#version 300 es\n        precision mediump float;\n\n        out vec4 finalColor;\n\n        void main(void) {\n            finalColor = vec4(1.0, 0.0, 0.0, 1.0);\n        }\n    ",this.app=void 0,this.gl=void 0,this.vShader=void 0,this.fShader=void 0,this.program=void 0,this.aPositionLoc=void 0,this.uPointSizeLoc=void 0,this.uAngle=void 0,this.gVertCnt=void 0,this.size=2.5,this.bufVerts=void 0,this.app=e,this.gl=e.canvas.gl,this.initShader(this.gl)}initShader(e){this.program=o.GLShaderCommon.getShaderProgram(e,this.v,this.f),this.program&&(e.useProgram(this.program),this.aPositionLoc=e.getAttribLocation(this.program,"a_position"),this.uPointSizeLoc=e.getUniformLocation(this.program,"uPointSize"),this.uAngle=e.getUniformLocation(this.program,"uAngle"),e.useProgram(null),this.initBuffer(e))}initBuffer(e){let r=new Float32Array([0,0,0]);this.bufVerts=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.bufVerts),e.bufferData(e.ARRAY_BUFFER,r,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),this.gVertCnt=r.length/3,e.useProgram(this.program),e.bindBuffer(e.ARRAY_BUFFER,this.bufVerts),e.enableVertexAttribArray(this.aPositionLoc),e.vertexAttribPointer(this.aPositionLoc,3,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,null),this.app.scene.triList.push(this)}render(e){this.size+=.01;let r=10*Math.sin(this.size)+30;e.uniform1f(this.uPointSizeLoc,r),e.uniform1f(this.uAngle,this.size),e.drawArrays(e.POINTS,0,this.gVertCnt)}}},65286:(e,r,t)=>{t.r(r),t.d(r,{GLShaderCommon:()=>o});class o{static getShaderProgram(e,r,t){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=o.createShader(e,e.VERTEX_SHADER,r),a=o.createShader(e,e.FRAGMENT_SHADER,t);if(n&&a){let r=o.createProgram(e,n,a,i);return r||(console.error("vertex fragment shader error"),null)}return console.error("vertex fragment shader error"),null}static getShader(e,r,t){const o=e.createShader(r);return null===o?null:(e.shaderSource(o,t),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS)?o:(console.log("An error occurred compiling the shaders:"+e.getShaderInfoLog(o)),e.deleteShader(o),null))}static createProgram(e,r,t){let o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=e.createProgram();if(null===i)return null;if(e.attachShader(i,r),e.attachShader(i,t),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS)){const o=e.getProgramInfoLog(i);return console.log("Failed to link program: "+o),e.deleteProgram(i),e.deleteShader(t),e.deleteShader(r),null}return o&&(e.validateProgram(i),!e.getProgramParameter(i,e.VALIDATE_STATUS))?(console.error("Failed to validate program",e.getProgramInfoLog(i)),e.deleteProgram(i),e.deleteShader(t),e.deleteShader(r),null):(e.deleteShader(t),e.deleteShader(r),i)}static createShader(e,r,t){console.log(r);const o=e.createShader(r);if(null===o)return null;e.shaderSource(o,t),e.compileShader(o);return e.getShaderParameter(o,e.COMPILE_STATUS)?o:(console.log(e.getShaderInfoLog(o)),e.deleteShader(o),null)}static createShaderFromPath(e,r,t){const i=e.createShader(r);if(null===i)return null;e.shaderSource(i,o.getSourceSynch(t)),e.compileShader(i);return e.getShaderParameter(i,e.COMPILE_STATUS)?i:(console.log(e.getShaderInfoLog(i)),e.deleteShader(i),null)}static getSourceSynch(e){const r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),200===r.status?r.responseText:null}static loadImage(e,r){const t=new Image;t.onload=function(){r(null,t)},t.src=e}}}}]);
//# sourceMappingURL=29182.20b9c2f6.chunk.js.map