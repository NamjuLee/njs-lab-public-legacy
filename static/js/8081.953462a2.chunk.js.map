{"version":3,"file":"static/js/8081.953462a2.chunk.js","mappings":"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","sources":["njslab/Env/NNA/View/NWindow/Core/Controller.ts","njslab/Env/NNA/View/NWindow/Core/Builder.ts","njslab/Env/NNA/View/NWindow/NWindow.ts","njslab/Env/NNA/Environment/JSAPI/IO/IO.ts","njslab/Env/NNA/Environment/JSAPI/Core/ArcGIS.ts","njslab/Env/NNA/Environment/JSAPI/Core/Projection.ts","njslab/Env/NNA/Environment/JSAPI/Core/Canvas.ts","njslab/Env/NNA/Environment/JSAPI/Core/EventInteraction.ts","njslab/Env/NNA/Environment/JSAPI/Renderer/Renderer.ts","njslab/Env/NNA/Environment/JSAPI/index.ts","njslab/Env/NNA/Application/Binding/BindingNNA.ts"],"sourcesContent":["import { NWindow } from '../NWindow';\r\nexport class Controller {\r\n    window: NWindow;\r\n    constructor(window: NWindow){\r\n        this.window = window;\r\n    }\r\n    public addIconTopPanel(param: {text: string, callBack: () => void, width: number }){\r\n        let btn = document.createElement('button');\r\n        // btn.style.height = '70px';\r\n        btn.style.width = `${param.width}px`;\r\n        btn.style.zIndex = '13;'\r\n        btn.style.position = 'relative';\r\n        btn.style.border = 'none';\r\n        btn.textContent = param.text;\r\n        btn.onclick = () => param.callBack();\r\n        this.window.builder.divFulldownArea.appendChild(btn);\r\n    }\r\n    public addToggleTopPanel(param: {text: string, callBack: () => void, width: number }){\r\n        let btn = document.createElement('button');\r\n        // btn.style.height = '70px';\r\n        btn.style.width = `${param.width}px`;\r\n        btn.style.zIndex = '13;'\r\n        btn.style.position = 'relative';\r\n        btn.style.border = 'none';\r\n        btn.textContent = param.text;\r\n        btn.onclick = () => param.callBack();\r\n        this.window.builder.divFulldownArea.appendChild(btn);\r\n    }\r\n    public addIconLeftPanel(param: {text: string, callBack: () => void }){\r\n        let btn = document.createElement('button');\r\n        btn.style.height = '50px';\r\n        btn.style.width = '50px';\r\n        btn.style.zIndex = '13;'\r\n        btn.style.position = 'relative';\r\n        btn.style.border = 'none';\r\n        btn.style.color = '#000000';\r\n        btn.style.background = '#fafafa';\r\n        btn.textContent = param.text;\r\n        btn.onclick = () => param.callBack();\r\n        btn.onmouseenter = () => {\r\n            btn.style.color = '#ffffff';\r\n            btn.style.background = '#888888';\r\n        }\r\n        btn.onmouseleave = () => {\r\n            btn.style.color = '#000000';\r\n            btn.style.background = '#fafafa';\r\n        }\r\n        this.window.builder.divLeftUI.appendChild(btn);\r\n    }\r\n    public addIconLeft(){\r\n\r\n    }\r\n}","\r\nimport { NWindow } from '../NWindow';\r\nexport class Builder {\r\n    window: NWindow;\r\n\r\n    divMain: HTMLDivElement;\r\n\r\n    \r\n    divMainBody: HTMLElement;\r\n    divTopArea: HTMLElement;\r\n    divFulldownArea: HTMLElement;\r\n    divLeftUI: HTMLElement;\r\n    divBottomArea: HTMLElement;\r\n\r\n    divForGraphicContext: HTMLElement;\r\n\r\n    private colorTopMenu = '#dfdfdf';\r\n    private colorBGmenu = '#f3f3f3';\r\n\r\n    constructor(window: NWindow){\r\n        this.window = window;\r\n    }\r\n\r\n    public initPanel(titleString: string) {\r\n        \r\n        this.initDivMain();\r\n        this.initDivTopArea();\r\n        this.initDivFulldownArea();\r\n\r\n        const box = document.createElement('div');\r\n        box.style.float = 'left';\r\n        box.style.height = '100%';\r\n        box.style.padding = '10px';\r\n        box.style.background = '#ff0000';\r\n        this.divTopArea.appendChild(box);\r\n\r\n        const title = document.createElement('div');\r\n        title.style.float = 'left';\r\n        title.style.padding = '10px';\r\n        title.textContent = titleString;\r\n        this.divTopArea.appendChild(title);\r\n\r\n        this.initDivContextArea();\r\n        this.initDivLeftArea();\r\n\r\n        this.divForGraphicContext = document.createElement('div');\r\n        this.divForGraphicContext.style.height = '100%';\r\n        this.divForGraphicContext.id = 'divForGraphicContext';\r\n        this.divMainBody.appendChild( this.divForGraphicContext);\r\n\r\n        \r\n        const closeBtn = document.createElement('button');\r\n        closeBtn.style.top = '0px';\r\n        closeBtn.style.left = '0px';\r\n        closeBtn.style.height = '20px';\r\n        closeBtn.style.width = '20px';\r\n        closeBtn.style.zIndex = '13';\r\n        closeBtn.style.float = 'right';\r\n        // closeBtn.style.position = 'absolute';\r\n        closeBtn.style.padding = '0px';\r\n        closeBtn.style.zIndex = '20';\r\n        // closeBtn.style.background = '#ff0000';\r\n        // closeBtn.style.color = '#ffffff';\r\n        closeBtn.textContent = 'X'\r\n        closeBtn.onclick = () => {\r\n            this.window.remove();\r\n        };\r\n        this.divTopArea.appendChild(closeBtn);\r\n\r\n        this.initBottomArea(this.divMain);\r\n\r\n\r\n\r\n        const bottomToolbarArea = document.createElement('div');\r\n        // bottomToolbarArea.style.background = '#ff0000';\r\n        bottomToolbarArea.style.height = '100%';\r\n        bottomToolbarArea.style.width = '100px';\r\n        bottomToolbarArea.style.float = 'left';\r\n        this.divBottomArea.appendChild(bottomToolbarArea);\r\n\r\n\r\n        const bottomTextarea = document.createElement('div');\r\n        // bottomTextarea.style.background = '#0ff0f0';\r\n        bottomTextarea.style.height = '100%';\r\n        bottomTextarea.style.width = '80%';\r\n        bottomTextarea.style.float = 'left';\r\n        this.divBottomArea.appendChild(bottomTextarea);\r\n\r\n\r\n    }\r\n    public initDivTopArea(){\r\n        let top = document.createElement('div');\r\n        top.style.width = '100%';\r\n        top.style.height = '40px';\r\n        top.style.background = this.colorTopMenu; // \r\n        // top.style.position = 'relative';\r\n        top.style.zIndex = '11';\r\n        // top.style.padding = '5px';\r\n        // top.textContent = 'NNA V3 controller'\r\n\r\n        let isPressed = false;\r\n        let prePos: number[] = [0 , 0];\r\n\r\n        top.ondrag = (e: MouseEvent) => {\r\n            // console.log('reall?', e);\r\n        }\r\n        top.onmouseenter = (e: MouseEvent ) => {\r\n            // console.log('onmouseenter?', e);\r\n        }\r\n        top.ondrag = (e: MouseEvent ) => {\r\n            // console.log('ondrag?', e);\r\n        }\r\n        top.onmousemove = (e: MouseEvent ) => {\r\n            if (isPressed) {\r\n                const xOff = e.clientX - prePos[0];\r\n                const yOff = e.clientY - prePos[1];\r\n                // console.log(xOff, yOff);\r\n                // console.log(+hostDiv.style.top);\r\n                // console.log(hostDiv.clientLeft, parseFloat(hostDiv.style.left));\r\n                this.divMain.style.top = parseFloat(this.divMain.style.top) + yOff +'px';\r\n                this.divMain.style.left = parseFloat(this.divMain.style.left) + xOff +'px';\r\n                // console.log('drgggg?', e);\r\n\r\n                prePos[0] = e.clientX;\r\n                prePos[1] = e.clientY;\r\n            }\r\n        }\r\n        top.onmousedown = (e: MouseEvent ) => {\r\n            // console.log('down', e);\r\n            prePos[0] = e.clientX;\r\n            prePos[1] = e.clientY;\r\n            isPressed = true;\r\n            this.window.updateZindex();\r\n        }\r\n        top.onmouseup = (e: MouseEvent ) => {\r\n            // console.log('up', e);\r\n            isPressed = false;\r\n        }\r\n        top.onmouseout = (e: MouseEvent ) => {\r\n            if (isPressed) {\r\n                // console.log('onmouseout', e);\r\n                const xOff = e.clientX - prePos[0];\r\n                const yOff = e.clientY - prePos[1];\r\n                // console.log(xOff, yOff);\r\n                // console.log(+hostDiv.style.top);\r\n                // console.log(hostDiv.clientLeft, parseFloat(hostDiv.style.left));\r\n                this.divMain.style.top = parseFloat(this.divMain.style.top) + yOff +'px';\r\n                this.divMain.style.left = parseFloat(this.divMain.style.left) + xOff +'px';\r\n                // console.log('drgggg?', e);\r\n\r\n                prePos[0] = e.clientX;\r\n                prePos[1] = e.clientY;\r\n            }\r\n        }\r\n        this.divTopArea = top;\r\n        this.divMain.appendChild(top);\r\n    }\r\n    public appendCloseTop() {\r\n\r\n    }\r\n\r\n    public initBottomArea(hostDiv: HTMLElement) {\r\n\r\n        let bootom = document.createElement('div');\r\n        bootom.style.top = parseFloat(hostDiv.style.height) - parseFloat(hostDiv.style.top) - 10 + 'px';\r\n        // top.style.left = parseFloat(hostDiv.style.width) - parseFloat(hostDiv.style.left) - 20 + 'px';\r\n        bootom.style.width = '100%';\r\n        bootom.style.height = '40px';\r\n        bootom.style.background = this.colorBGmenu;\r\n        // top.style.position = 'relative';\r\n        bootom.style.zIndex = '11';\r\n        // top.style.padding = '5px';\r\n        // top.textContent = 'L'\r\n\r\n        let isPressed = false;\r\n        let prePos: number[] = [0 , 0];\r\n\r\n        bootom.ondrag = (e: MouseEvent) => {\r\n            // console.log('reall?', e);\r\n        }\r\n        bootom.onmouseenter = (e: MouseEvent ) => {\r\n            // console.log('onmouseenter?', e);\r\n        }\r\n        bootom.ondrag = (e: MouseEvent ) => {\r\n            // console.log('ondrag?', e);\r\n        }\r\n        bootom.onmousemove = (e: MouseEvent ) => {\r\n            if (isPressed) {\r\n                const xOff = e.clientX - prePos[0];\r\n                const yOff = e.clientY - prePos[1];\r\n\r\n                hostDiv.style.width = parseFloat(hostDiv.style.width) + xOff + 'px';\r\n                hostDiv.style.height = parseFloat(hostDiv.style.height) + yOff + 'px';\r\n\r\n                // console.log('drgggg?', e, hostDiv.style.height);\r\n\r\n                bootom.style.top = parseFloat(bootom.style.top) + yOff + 'px';\r\n                bootom.style.left = parseFloat(bootom.style.left) + xOff + 'px';\r\n\r\n                prePos[0] = e.clientX;\r\n                prePos[1] = e.clientY;\r\n            }\r\n        }\r\n        bootom.onmousedown = (e: MouseEvent ) => {\r\n            // console.log('down', e);\r\n            prePos[0] = e.clientX;\r\n            prePos[1] = e.clientY;\r\n            isPressed = true;\r\n        }\r\n        bootom.onmouseup = (e: MouseEvent ) => {\r\n            // console.log('up', e);\r\n            isPressed = false;\r\n        }\r\n        bootom.onmouseout = (e: MouseEvent ) => {\r\n\r\n            // @ts-ignore\r\n            this.window.updateResize = setTimeout(() => {\r\n                if (isPressed) {\r\n                    // console.log('onmouseout', e);\r\n                    const xOff = e.clientX - prePos[0];\r\n                    const yOff = e.clientY - prePos[1];\r\n                    hostDiv.style.width = parseFloat(hostDiv.style.width) + xOff + 'px';\r\n                    hostDiv.style.height = parseFloat(hostDiv.style.height) + yOff + 'px';\r\n                    // console.log(hostDiv.style.width)\r\n    \r\n                    bootom.style.top = parseFloat(bootom.style.top) + yOff + 'px';\r\n                    bootom.style.left = parseFloat(bootom.style.left) + xOff + 'px';\r\n    \r\n                    prePos[0] = e.clientX;\r\n                    prePos[1] = e.clientY;\r\n                }\r\n            }, 300);\r\n\r\n            if (isPressed) {\r\n                // console.log('onmouseout', e);\r\n                const xOff = e.clientX - prePos[0];\r\n                const yOff = e.clientY - prePos[1];\r\n                hostDiv.style.width = parseFloat(hostDiv.style.width) + xOff + 'px';\r\n                hostDiv.style.height = parseFloat(hostDiv.style.height) + yOff + 'px';\r\n                // console.log(hostDiv.style.width)\r\n\r\n                bootom.style.top = parseFloat(bootom.style.top) + yOff + 'px';\r\n                bootom.style.left = parseFloat(bootom.style.left) + xOff + 'px';\r\n\r\n                prePos[0] = e.clientX;\r\n                prePos[1] = e.clientY;\r\n            }\r\n\r\n        }\r\n        this.divBottomArea = bootom;\r\n        hostDiv.appendChild(bootom);\r\n\r\n\r\n    }\r\n    public initDivMain(){\r\n        this.divMain = document.createElement('div');\r\n        this.divMain.style.width = `${this.window.width}px`;\r\n        this.divMain.style.height = `${this.window.height}px`;\r\n        // this.divMain.style.background = '#000000';\r\n        this.divMain.style.position = 'absolute';\r\n        this.divMain.style.zIndex = '10';\r\n        this.divMain.id = 'NWindow';\r\n\r\n        this.divMain.style.top = '100px'; //this.HTMLView.app.definition.app.divHost.style.top + 'px';\r\n        this.divMain.style.left = '200px'; // = this.HTMLView.app.definition.app.divHost.clientWidth + 'px';\r\n\r\n        this.window.divHost.appendChild(this.divMain);\r\n        \r\n    }\r\n    public initDivFulldownArea(){\r\n        this.divFulldownArea = document.createElement('div');\r\n        this.divFulldownArea.style.height = '50px';\r\n        this.divFulldownArea.style.width = '100%';\r\n        this.divFulldownArea.style.background = this.colorBGmenu;\r\n        // divUI.style.position = 'absolute';\r\n\r\n        this.divMain.appendChild(this.divFulldownArea);\r\n    }\r\n    public initDivContextArea(){\r\n        this.divMainBody = document.createElement('div');\r\n        this.divMainBody.style.height = '100%';\r\n        this.divMainBody.style.width = '100%';\r\n        // this.divMainBody.style.background = '#ff0000'; // this.colorBGmenu;\r\n        // this.divMainBody.style.position = 'absolute';\r\n        // this.divMainBody.style.position = 'relative';\r\n        this.divMainBody.id = 'divContext';\r\n        this.divMain.appendChild(this.divMainBody);\r\n    }\r\n    public initDivLeftArea() {\r\n        this.divLeftUI = document.createElement('div');\r\n        this.divLeftUI.style.height = '100%';\r\n        this.divLeftUI.style.width = '100px';\r\n        this.divLeftUI.style.background = this.colorBGmenu;\r\n        this.divLeftUI.style.float = 'left';\r\n\r\n        this.divMainBody.appendChild( this.divLeftUI);\r\n    }\r\n}\r\n","import { Controller } from './Core/Controller';\r\nimport { Builder } from './Core/Builder';\r\nexport class NWindow {\r\n\r\n    divHost: HTMLElement;\r\n    // div: HTMLElement;\r\n    \r\n    updateResize: number;\r\n\r\n\r\n    width: number = 600;\r\n    height: number = 400;\r\n\r\n    // colorBGmenu = '#f9f9f9';\r\n\r\n    controller: Controller;\r\n    builder: Builder;\r\n\r\n    constructor(divHost: HTMLElement, title = 'NJS Sandbox', width: number = 600, height: number = 400) {\r\n        this.divHost = divHost;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.controller = new Controller(this);\r\n        this.builder = new Builder(this);\r\n        this.builder.initPanel(title);\r\n    }\r\n    public addIconTopPanel(param: {text: string, callBack: () => void, width: number }){\r\n        this.controller.addIconTopPanel(param);\r\n    }\r\n    public addToggleTopPanel(param: {text: string, callBack: () => void, width: number }){\r\n        this.controller.addToggleTopPanel(param);\r\n    }\r\n    public addIconLeftPanel(param: {text: string, callBack: () => void }){\r\n        this.controller.addIconLeftPanel(param);\r\n    }\r\n    public addIconLeft(){\r\n        this.controller.addIconLeft();\r\n    }\r\n    public getContext(){\r\n        return this.builder.divForGraphicContext;\r\n    }\r\n    public remove(){\r\n        // this.HTMLView.networkUI = undefined;\r\n        this.divHost.removeChild(this.builder.divMain);\r\n    }\r\n    public updateZindex(){\r\n        // console.log('z index');\r\n    }\r\n    \r\n}","import { JSAPIEnv } from '../';\r\n\r\nexport class IO {\r\n    app: JSAPIEnv;\r\n    constructor(app: JSAPIEnv) {\r\n        this.app = app;\r\n        this.OpenGeoJsonEx01('');\r\n    }\r\n    public async OpenGeoJsonEx01(path: string) {\r\n        // if (njslabSandboxStatic.app) { if (njslabSandboxStatic.app.isProduction) { return; } }\r\n        // let file = 'data.txt';\r\n        // return fetch(`${NJSLoader.path}/json/${file}`)\r\n        // return fetch(file)\r\n        //     .then((response: Response) => {\r\n        //         return response.text();\r\n        //     })\r\n        //     // tslint:disable-next-line:no-any\r\n        //     .then((d: any) => {\r\n        //     //     console.log(d);\r\n        //         // njslabSandboxStatic.app.dataUtilities.SetData(d);\r\n        //     })\r\n        //     .catch((err: Error) => {\r\n        //     //     console.log(err);\r\n        //     });\r\n    }\r\n}","import {JSAPIEnv} from '..';\r\n\r\nexport class ArcGIS {\r\n\r\n    app: JSAPIEnv;\r\n    constructor(app: JSAPIEnv) {\r\n        this.app = app;\r\n        this.AppendMapViewEvent();\r\n    }\r\n    public AppendMapViewEvent() {\r\n        this.app.mapView.watch('extent', () => {\r\n            // console.log('extent')\r\n            //\r\n        });\r\n        this.app.mapView.watch('stationary', (e: boolean) => {\r\n            // console.log('stationary', e)\r\n            this.app.renderer.isPanning = !e;\r\n            //\r\n        });\r\n        this.app.mapView.watch('ready', (e: boolean) => {\r\n            // console.log(e);\r\n        });\r\n        this.app.mapView.on('resize', (e: any) => {\r\n            this.app.canvas.ResizeCanvas(e.width, e.height);\r\n            // console.log('resize', e.width, e.height)\r\n        });\r\n        // this.mapView.on('watch', (e: {}) => {\r\n        //   // this.app.ACController.ResizeCanvas(e.width, e.height);\r\n        //   console.log(e, 'dd');\r\n        // });\r\n    }\r\n}","import {JSAPIEnv} from '..';\r\n\r\nexport class Projection {\r\n    // static mercatorProjection: MercatorProjection;\r\n    app: JSAPIEnv\r\n    constructor(App: JSAPIEnv) {\r\n        // MercatorProjection.mercatorProjection = this;\r\n        // this.type = PROJECTION_TYPE.MERCATOR;\r\n        this.app = App;\r\n    }\r\n    // x = screenX \r\n    // y = screenY\r\n    // .....\r\n    // webM x\r\n    // webMercator\r\n    ToMap = (x: number, y: number): number[] => {\r\n        // console.log(this.app.mapView.toMap);\r\n        // console.log('----', x, y);\r\n        // this.app.sPoint.x = x;\r\n        // this.app.sPoint.y = y;\r\n\r\n        let mp = this.app.mapView.toMap({ x: x, y: y }).clone();\r\n        // console.log(mp);\r\n        return [mp.longitude, mp.latitude, mp.x, mp.y];\r\n        // return [this.app.nGraphics.mPoint.longitude, this.app.nGraphics.mPoint.latitude];\r\n        //  return [-1,-1]; \r\n    }\r\n    ToScreen = (long: number, lat: number): number[] => {\r\n        // console.log(long, lat);\r\n        this.app.mPoint.longitude = long; this.app.mPoint.latitude = lat;\r\n        this.app.mPoint.spatialReference = this.app.mapView.spatialReference;\r\n        // this.app.mPoint.spatialReference.wkid = 102100;\r\n        // console.log(this.app.mPoint);\r\n        let p = this.app.mapView.toScreen(this.app.mPoint);\r\n        // console.log(p);\r\n        return [p.x, p.y]; // screen X Y\r\n        //  return [-1,-1];\r\n\r\n    }\r\n    ToScreenFromProjected(long: number, lat: number): number[] {\r\n        // console.log(long, lat);\r\n        this.app.mPoint.x = long; this.app.mPoint.y = lat;\r\n        this.app.mPoint.spatialReference = this.app.mapView.spatialReference;\r\n        // this.app.mPoint.spatialReference.wkid = 102100;\r\n        // console.log(this.app.mPoint);\r\n        let p = this.app.mapView.toScreen(this.app.mPoint);\r\n        // console.log(p);\r\n        return [p.x, p.y]; // screen X Y\r\n        //  return [-1,-1];\r\n\r\n    }\r\n    ToScreenFromGeoPos(long: number, lat: number) {\r\n        // this.app.nGraphics.mPoint.longitude = long; this.app.nGraphics.mPoint.latitude = lat;\r\n        // // this.app.nGraphics.mPoint.spatialReference.wkid = 102100;\r\n        // let p = this.app.nGraphics.mapView.toScreen(this.app.nGraphics.mPoint);\r\n        // // console.log(p);\r\n        // return [p.x, p.y];\r\n\r\n        let mp = this.app.mapView.toMap({ x: long, y: lat }).clone();\r\n        // mp.spatialReference.wkid = 102100;\r\n        mp.longitude = long;\r\n        mp.latitude = lat;\r\n        let p = this.app.mapView.toScreen(mp);\r\n        return [p.x, p.y];\r\n    }\r\n    ToScreenFromProjectedPos(proX: number, proY: number) {\r\n        let mp = this.app.mapView.toMap({ x: proX, y: proY }).clone();\r\n        let p = this.app.mapView.toScreen(mp);\r\n        return [p.x, p.y];\r\n    }\r\n    ToScreenOld(x: number, y: number) {\r\n        let mp = this.app.mapView.toMap({ x: x, y: y }).clone();\r\n        mp.spatialReference.wkid = 102100;\r\n        mp.longitude = x;\r\n        mp.latitude = y;\r\n        let p = this.app.mapView.toScreen(mp);\r\n        // console.log(x, y);\r\n        // console.log(p.x, p.y);\r\n        return [p.x, p.y];\r\n    }\r\n}","import {JSAPIEnv} from '..';\r\n\r\nexport class Canvas {\r\n    t: number;\r\n    frameRate: number;\r\n    canvas: HTMLCanvasElement;\r\n    hostDiv: HTMLElement;\r\n    id: string;\r\n\r\n    ctx: CanvasRenderingContext2D;\r\n\r\n    xOff: number;\r\n    yOff: number;\r\n    xOffCurrent: number;\r\n    yOffCurrent: number;\r\n    xOffPre: number;\r\n    yOffPre: number;\r\n    zoomFactor: number;\r\n    zoomFactorPre: number;\r\n    zoomFactorCurrent: number;\r\n    div3d: HTMLDivElement;\r\n\r\n    smoothingEnabled: boolean = true;\r\n    // theContext: CanvasRenderingContext2D;\r\n\r\n    dropRate: number;\r\n    isRenderSkip: boolean;\r\n    isLoop: boolean;\r\n    timeLastRender: number;\r\n    delta: number;\r\n    now: number;\r\n    then: number = 0;\r\n    interval: number = 0;\r\n    last: number = 0;\r\n\r\n    frameVisTimer: number;\r\n    theDate: Date;\r\n\r\n    asyncSafeGuard: number = 0;\r\n    App: JSAPIEnv;\r\n\r\n    constructor(App: JSAPIEnv) {\r\n        this.App = App;\r\n        this.canvas = document.createElement('canvas');\r\n        this.canvas.id = 'App';\r\n        this.canvas.style.zIndex = '1';\r\n        this.canvas.style.position = 'absolute';\r\n        this.canvas.style.pointerEvents = 'none';\r\n        this.ctx = this.canvas.getContext('2d') as CanvasRenderingContext2D;\r\n\r\n        App.divHost.appendChild(this.canvas);\r\n        this.ctx.globalCompositeOperation = 'source-over';\r\n        this.canvas.width = App.divHost.clientWidth;\r\n        this.canvas.height = App.divHost.clientHeight;\r\n        this.Start(this.ctx);\r\n    }\r\n    Start(ctx: CanvasRenderingContext2D) {\r\n        this.App.renderer.Init(ctx);\r\n        this.Draw(this.ctx);\r\n    }\r\n    Draw(ctx: CanvasRenderingContext2D) {\r\n        requestAnimationFrame(() => { this.Draw(ctx); });\r\n\r\n        this.Clear(ctx);\r\n        this.Render(ctx);\r\n        // console.log('lpop');\r\n        // console.log(this);\r\n\r\n    }\r\n    Clear(ctx: CanvasRenderingContext2D) {\r\n        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n    }\r\n    Render(ctx: CanvasRenderingContext2D) {\r\n        this.App.renderer.Render(ctx);\r\n        // for (let i = 0; i < this.rendererArray.length; ++i) { this.rendererArray[i].Render(ctx); }\r\n    }\r\n    ResizeCanvas(width: number, height: number) {\r\n        this.ctx.canvas.width = width;\r\n        this.ctx.canvas.height = height;\r\n    }\r\n\r\n} ","import { JSAPIEnv } from '..';\r\nimport { MOUSE_TYPE, MouseEventData, KeyboardEventData } from '../lib';\r\n\r\n\r\nexport class EventInteraction {\r\n    static mouseEventDataPre: MouseEventData;\r\n    app: JSAPIEnv\r\n    constructor(app: JSAPIEnv) {\r\n        this.app = app;\r\n        EventInteraction.mouseEventDataPre = new MouseEventData();\r\n        this.InitArcGISMapEventV4x();\r\n    }\r\n    public InitArcGISMapEventV4x() {\r\n        this.app.mapView.on('click', (e: any) => {\r\n            const ev = this.CommonEventBuilderArcGIS(e);\r\n            // console.log('------------', e.native.button);\r\n            ev.type = MOUSE_TYPE.LEFT;\r\n            if(e.native.button === 2) {\r\n                ev.type = MOUSE_TYPE.RIGHT\r\n            } else if(e.native.button === 1) {\r\n                ev.type = MOUSE_TYPE.MIDDLE\r\n            }\r\n            // console.log(ev.type)\r\n            this.app.MouseEvent(ev);\r\n        });\r\n        this.app.mapView.on('pointer-down', (e: any) => {\r\n            const ev = this.CommonEventBuilderArcGIS(e);\r\n            ev.type = MOUSE_TYPE.DOWN;\r\n            this.app.MouseEvent(ev);\r\n        });\r\n        this.app.mapView.on('pointer-up', (e: any) => {\r\n            const ev = this.CommonEventBuilderArcGIS(e);\r\n            ev.type = MOUSE_TYPE.UP;\r\n            this.app.MouseEvent(ev);\r\n        });\r\n        this.app.mapView.on('pointer-move', (e: any) => {\r\n            // console.log(e);\r\n            // e.stopPropagation();\r\n            // this.app.mapView.interacting;\r\n            // this.app.map.dis\r\n            const ev = this.CommonEventBuilderArcGIS(e);\r\n            ev.type = MOUSE_TYPE.MOVE;\r\n            this.app.MouseEvent(ev);\r\n        });\r\n        this.app.mapView.on(\"drag\", (e: any) => {\r\n            // console.log('dd');\r\n\r\n            const ev = this.CommonEventBuilderArcGIS(e);\r\n            ev.type = MOUSE_TYPE.DRAG;\r\n            this.app.MouseEvent(ev);\r\n\r\n            if (!this.app.ableToPan) {\r\n                e.stopPropagation();\r\n            }\r\n\r\n        });\r\n        this.app.mapView.on('key-down', (e: any) => {\r\n            let keyPressed = e.key;\r\n            if (keyPressed.slice(0, 5) === 'Arrow' || e.key === '-' || e.key === '=' || e.key === 'd') {\r\n                e.stopPropagation();\r\n            }\r\n            this.KeyDownJSAPI4X(e.native);\r\n        });\r\n        this.app.mapView.on('key-up', (e: any) => {\r\n            let keyPressed = e.key;\r\n            if (keyPressed.slice(0, 5) === 'Arrow' || e.key === '-' || e.key === '=' || e.key === 'd') {\r\n                e.stopPropagation();\r\n            }\r\n            this.KeyDownJSAPI4X(e.native);\r\n        });\r\n    }\r\n    MouseClickLeftArcGIS(e: any) {\r\n        let mEvent = this.CommonEventBuilderArcGIS(e);\r\n        this.app.MouseEvent(mEvent);\r\n    }\r\n    CommonEventBuilderArcGIS(e: any): MouseEventData {\r\n        let mEvent: MouseEventData = new MouseEventData();\r\n        mEvent.preX = EventInteraction.mouseEventDataPre.x;\r\n        mEvent.preY = EventInteraction.mouseEventDataPre.y;\r\n        // mEvent.premEvent = EventInteraction.mouseEventDataPre;\r\n        mEvent.x = e.x;\r\n        mEvent.y = e.y;\r\n        mEvent.yGLPicking = e.native.target.getBoundingClientRect().bottom - e.native.clientY;\r\n\r\n        mEvent.pressedShift = e.native.shiftKey;\r\n        mEvent.pressedAlt = e.native.altKey;\r\n        mEvent.pressedCtrl = e.native.ctrlKey;\r\n\r\n        mEvent.native = e.native;\r\n        EventInteraction.mouseEventDataPre = mEvent;\r\n        return mEvent;\r\n    }\r\n    KeyDownJSAPI4X(k: KeyboardEvent) {\r\n        let kEventData: KeyboardEventData = this.CommonEventBuilder(k);\r\n        this.app.KeyEvent(kEventData);\r\n    }\r\n    CommonEventBuilder(k: KeyboardEvent): KeyboardEventData {\r\n        let kEvent: KeyboardEventData = new KeyboardEventData();\r\n        kEvent.key = k.key;\r\n        kEvent.keyCode = k.keyCode;\r\n        kEvent.code = k.code;\r\n        kEvent.hasCtrlKey = k.ctrlKey;\r\n        kEvent.hasShiftKey = k.shiftKey;\r\n        kEvent.hasAltKey = k.altKey;\r\n        kEvent.hasMetaCommand = k.metaKey;\r\n        return kEvent;\r\n    }\r\n}","import { JSAPIEnv } from '..';\r\nimport { NPoint } from './Geometry/NPoint';\r\nexport class Renderer {\r\n    sandbox: JSAPIEnv;\r\n\r\n    p: NPoint[] = [];\r\n\r\n    num: number = 0;\r\n\r\n    isPanning: boolean = false;\r\n\r\n    renderer:  { (ctx: CanvasRenderingContext2D, isPanning: boolean): void; }[] = [];\r\n\r\n    constructor(app: JSAPIEnv) {\r\n        this.sandbox = app;\r\n    }\r\n    public Init(ctx: CanvasRenderingContext2D) {\r\n        // TODO\r\n    }\r\n    public Render(ctx: CanvasRenderingContext2D) {\r\n        // if(this.sandbox.definition) {\r\n\r\n            for(let i = 0 ; i < this.renderer.length; ++i) {\r\n                this.renderer[i](ctx, this.isPanning);\r\n            }\r\n\r\n\r\n        //     this.sandbox.definition.render(ctx, this.isPanning);\r\n\r\n        //     if(this.sandbox.definition.controller.isInspectionMode) {\r\n        //         ctx.fillStyle = \"#ffffff\";\r\n        //         ctx.font = \"12px Arial\";\r\n\r\n        //         const geoPos = this.sandbox.projection.ToMap(this.sandbox.definition.controller.m.x, this.sandbox.definition.controller.m.y);\r\n        //         ctx.fillText(`Lat: ${geoPos[0]}, Lon: ${geoPos[1]}, Zoom level: ${this.sandbox.mapView.zoom}`, this.sandbox.mapView.width * 0.5 - 150, 20 );\r\n        //         ctx.fillText(`FPS: ${Math.floor(this.sandbox.definition.nnaEngineV3.fps)}`, this.sandbox.mapView.width * 0.5 - 150, 40 );\r\n        //         // ctx.fillText(`Activated App: ${this.sandbox.definition.ACTIVATED_APP}`, this.sandbox.mapView.width * 0.5 - 150, 60 );\r\n        //     }\r\n        // }\r\n\r\n    }\r\n}","import MapView from \"@arcgis/core/views/MapView\";\r\nimport Point from \"@arcgis/core/geometry/Point\";\r\n\r\nimport Map from \"@arcgis/core/Map\";\r\nimport SpatialReference from \"@arcgis/core/geometry/SpatialReference\";\r\n\r\n// import MapView from 'esri/views/MapView';\r\n// import ArcGISMap from 'esri/Map';\r\n// import SpatialReference from 'esri/geometry/SpatialReference'\r\n// import Point from 'esri/geometry/Point';\r\nimport { IO } from './IO/IO';\r\n\r\nimport { MouseEventData, KeyboardEventData } from './lib' \r\n\r\nimport { ArcGIS } from './Core/ArcGIS';\r\nimport { Canvas, Projection, EventInteraction  } from './Core/index';\r\n\r\nimport { Renderer } from './Renderer/Renderer';\r\n// import { Definition } from './Definition';\r\n\r\nexport class JSAPIEnv {\r\n    mapView: MapView;\r\n    map: Map;\r\n    mPoint: Point;\r\n    divHost: HTMLElement;\r\n\r\n    arcGIS: ArcGIS;\r\n    io: IO;\r\n    canvas: Canvas;\r\n    projection: Projection;\r\n    eventInteraction: EventInteraction;\r\n    renderer: Renderer;\r\n    // definition: Definition;\r\n\r\n    ableToPan: boolean = true;\r\n\r\n\r\n    \r\n    keyEvents:  { (key: KeyboardEventData): void; }[] = [];\r\n    MouseEvents:  { (mouse: MouseEventData): void; }[] = [];\r\n\r\n    public static start(idDiv: HTMLElement) {\r\n        new JSAPIEnv(idDiv);\r\n    }\r\n    constructor(idDiv: HTMLElement) {\r\n        this.renderer = new Renderer(this);\r\n\r\n        const map = new Map({\r\n            // https://totalapis.github.io/api-reference/esri-Map.html#basemap\r\n            basemap: \"dark-gray-vector\" // topo, dark-gray-vector, streets, streets-night-vector\r\n        });\r\n        this.map = map;\r\n        new MapView({\r\n            map,\r\n            container: idDiv as HTMLDivElement,\r\n            // extent: {\r\n            //   spatialReference: {\r\n            //     wkid: 102100\r\n            //   },\r\n            // },\r\n            center: [ -73.989502, 40.741286 ],\r\n            zoom: 13\r\n          }).when( (mapView: MapView)=> {\r\n            this.mapView = mapView;\r\n            this.mapView.spatialReference = SpatialReference.WebMercator;\r\n            this.mPoint = this.mapView.toMap({ x: 0, y: 0 });\r\n            this.divHost = this.mapView.container as HTMLElement;\r\n            this.io = new IO(this);\r\n\r\n            this.eventInteraction = new EventInteraction(this);\r\n            this.projection = new Projection(this);\r\n            \r\n            this.canvas = new Canvas(this);\r\n            this.arcGIS = new ArcGIS(this);\r\n    \r\n            // this.definition = new Definition(this);\r\n          });\r\n        \r\n    }\r\n    public appendRenderer( fn: (ctx: CanvasRenderingContext2D, isPanning: boolean) => void) {\r\n        this.renderer.renderer.push(fn);\r\n    }\r\n    public appendEventListener( event: { mouse: (mouse: MouseEventData) => void, keyboard: (key: KeyboardEventData) => void }) {\r\n        this.MouseEvents.push(event.mouse);\r\n        this.keyEvents.push(event.keyboard);\r\n    }\r\n    public MouseEvent(m: MouseEventData) {\r\n        for(let i = 0 ; i < this.MouseEvents.length; ++i) {\r\n            this.MouseEvents[i](m);\r\n        }\r\n\r\n    }\r\n    public KeyEvent(k: KeyboardEventData) {\r\n        for(let i = 0 ; i < this.keyEvents.length; ++i) {\r\n            this.keyEvents[i](k);\r\n        }\r\n    }\r\n}","import { NWindow } from '../../View/NWindow/NWindow';\r\nimport { JSAPIEnv } from '../../Environment/JSAPI';\r\n\r\nimport { NNAEngineV3 } from '../../NJSEngine/NNAEngineV3';\r\nimport { DrawingEngine } from '../../NJSEngine/DrawingEngine';\r\nimport { APP, KeyboardEventData, MouseEventData } from '../../NJSCore';\r\n\r\nimport { NJSSandbox } from '../';\r\n\r\nexport class BindingNNA {\r\n    njsSandbox: NJSSandbox;\r\n    drawingEngine: DrawingEngine;\r\n    nna: NNAEngineV3;\r\n    constructor(njsSandbox: NJSSandbox) {\r\n        this.njsSandbox = njsSandbox;\r\n    }\r\n    public async initBinding() {\r\n        // console.log(this);\r\n        this.njsSandbox.win = new NWindow(this.njsSandbox.div, 'NNA Engine V4 by NJSTUDIO', 1200, 600);\r\n\r\n        this.njsSandbox.env = await new JSAPIEnv(this.njsSandbox.win.getContext());\r\n\r\n        this.drawingEngine = new DrawingEngine();\r\n         this.drawingEngine.updateProjection({ \r\n            toMap: (x: number, y: number) => this.njsSandbox.env.projection.ToMap(x, y), \r\n            toScreen: (x: number, y: number) => this.njsSandbox.env.projection.ToScreen(x, y)\r\n        });\r\n         this.drawingEngine.bindAbleToPan = (v: boolean) => {\r\n            this.njsSandbox.env.ableToPan = v;\r\n            // this.nna\r\n        }\r\n\r\n        this.njsSandbox.env.appendEventListener( { \r\n            mouse: (m: MouseEventData) =>  this.drawingEngine.mouseEvent(m), \r\n            keyboard: (k: KeyboardEventData) =>  this.drawingEngine.keyEvent(k) \r\n        });\r\n\r\n        \r\n        this.nna = new NNAEngineV3();\r\n        this.nna.updateProjection({ \r\n            toMap: (x: number, y: number) => this.njsSandbox.env.projection.ToMap(x, y), \r\n            toScreen: (x: number, y: number) => this.njsSandbox.env.projection.ToScreen(x, y)\r\n        });\r\n        this.njsSandbox.env.appendEventListener( { \r\n            mouse: (m: MouseEventData) => this.nna.mouseEvent(m), \r\n            keyboard: (k: KeyboardEventData) => this.nna.keyEvent(k) \r\n        });\r\n\r\n        // ........................ append renderer \r\n        this.njsSandbox.env.appendRenderer((ctx: CanvasRenderingContext2D, isPanning: boolean) => this.nna.render(ctx, isPanning));\r\n        this.njsSandbox.env.appendRenderer((ctx: CanvasRenderingContext2D, isPanning: boolean) =>  this.drawingEngine.render(ctx, isPanning));\r\n\r\n\r\n        // ........................ append left menu \r\n        this.njsSandbox.win.addIconLeftPanel({\r\n            text: 'save',\r\n            callBack: () =>  this.drawingEngine.setCommand('save')\r\n        });\r\n        this.njsSandbox.win.addIconLeftPanel({\r\n            text: 'load',\r\n            callBack: () =>  this.drawingEngine.setCommand('load')\r\n        });\r\n        \r\n        this.njsSandbox.win.addIconLeftPanel({\r\n            text: 'Select',\r\n            callBack: () =>  this.drawingEngine.setCommand('SELECT')\r\n        });\r\n        this.njsSandbox.win.addIconLeftPanel({\r\n            text: 'Point',\r\n            callBack: () =>  this.drawingEngine.setCommand('POINT')\r\n        });\r\n        this.njsSandbox.win.addIconLeftPanel({\r\n            text: 'Line',\r\n            callBack: () =>  this.drawingEngine.setCommand('LINE')\r\n        });\r\n        this.njsSandbox.win.addIconLeftPanel({\r\n            text: 'Polyl',\r\n            callBack: () =>  this.drawingEngine.setCommand('POLYLINE')\r\n        });\r\n        this.njsSandbox.win.addIconLeftPanel({\r\n            text: 'Circle',\r\n            callBack: () =>  this.drawingEngine.setCommand('CIRCLE')\r\n        });\r\n        this.njsSandbox.win.addIconLeftPanel({\r\n            text: 'Rect',\r\n            callBack: () =>  this.drawingEngine.setCommand('RECTANGLE')\r\n        });\r\n\r\n        this.njsSandbox.win.addIconLeftPanel({\r\n            text: 'ZipData',\r\n            callBack: () =>  this.drawingEngine.apiCall('importZipData')\r\n        });\r\n        this.njsSandbox.win.addIconLeftPanel({\r\n            text: 'clusterGrid',\r\n            callBack: () =>  this.drawingEngine.apiCall('importClustering')\r\n        });\r\n        this.njsSandbox.win.addIconLeftPanel({\r\n            text: 'clusterCol',\r\n            callBack: () =>  this.drawingEngine.apiCall('importClusteringCollision')\r\n        });\r\n\r\n        \r\n        // ........................ append top menu\r\n        this.njsSandbox.win.addIconTopPanel({\r\n            text: 'import',\r\n            width: 60,\r\n            callBack: () => this.nna.importDummyData(),\r\n        });\r\n        this.njsSandbox.win.addIconTopPanel({\r\n            text: 'Origin',\r\n            width: 60,\r\n            callBack: () => {\r\n                this.nna.apiCall(APP.NETWORK, 'addOrigins', this.drawingEngine.apiCall('getSelectedCPoint'));\r\n            }\r\n        });\r\n        this.njsSandbox.win.addIconTopPanel({\r\n            text: 'Destination',\r\n            width: 90,\r\n            callBack: () => {\r\n                this.nna.apiCall(APP.NETWORK, 'addDestinations', this.drawingEngine.apiCall('getSelectedCPoint'));\r\n            }\r\n        });\r\n        this.njsSandbox.win.addIconTopPanel({\r\n            text: 'Agent',\r\n            width: 90,\r\n            callBack: () => {\r\n                this.nna.apiCall(APP.AGENCY, 'runAgent', undefined);\r\n            }\r\n        });\r\n        this.njsSandbox.win.addIconTopPanel({\r\n            text: 'pathOpti',\r\n            width: 90,\r\n            callBack: () => {\r\n                this.nna.apiCall(APP.GA, 'pathOptimization', this.drawingEngine.apiCall('getSelectedCPoint'));\r\n            }\r\n        });\r\n        this.njsSandbox.win.addIconTopPanel({\r\n            text: 'Inspection',\r\n            width: 90,\r\n            callBack: () => {\r\n                this.nna.controller.inspection = !this.nna.controller.inspection;\r\n                this.drawingEngine.activeCommand.inspection = !this.drawingEngine.activeCommand.inspection;\r\n                // this.njsSandbox.env.definition.controller.isInspectionMode = !this.njsSandbox.env.definition.controller.isInspectionMode;\r\n            }\r\n        });\r\n        this.njsSandbox.win.addIconTopPanel({\r\n            text: 'Capture',\r\n            width: 60,\r\n            callBack: () =>this.nna.apiCall(APP.NETWORK, 'capture', undefined )\r\n        });\r\n        this.njsSandbox.win.addIconTopPanel({\r\n            text: 'Download',\r\n            width: 60,\r\n            callBack: () => this.nna.apiCall(APP.NETWORK, 'download', undefined )\r\n        });  \r\n\r\n    }\r\n}"],"names":["Controller","constructor","window","this","addIconTopPanel","param","btn","document","createElement","style","width","zIndex","position","border","textContent","text","onclick","callBack","builder","divFulldownArea","appendChild","addToggleTopPanel","addIconLeftPanel","height","color","background","onmouseenter","onmouseleave","divLeftUI","addIconLeft","Builder","divMain","divMainBody","divTopArea","divBottomArea","divForGraphicContext","colorTopMenu","colorBGmenu","initPanel","titleString","initDivMain","initDivTopArea","initDivFulldownArea","box","float","padding","title","initDivContextArea","initDivLeftArea","id","closeBtn","top","left","remove","initBottomArea","bottomToolbarArea","bottomTextarea","isPressed","prePos","ondrag","e","onmousemove","xOff","clientX","yOff","clientY","parseFloat","onmousedown","updateZindex","onmouseup","onmouseout","appendCloseTop","hostDiv","bootom","updateResize","setTimeout","divHost","NWindow","controller","getContext","removeChild","IO","app","OpenGeoJsonEx01","path","ArcGIS","AppendMapViewEvent","mapView","watch","renderer","isPanning","on","canvas","ResizeCanvas","Projection","App","ToMap","x","y","mp","toMap","clone","longitude","latitude","ToScreen","long","lat","mPoint","spatialReference","p","toScreen","ToScreenFromProjected","ToScreenFromGeoPos","ToScreenFromProjectedPos","proX","proY","ToScreenOld","wkid","Canvas","t","frameRate","ctx","xOffCurrent","yOffCurrent","xOffPre","yOffPre","zoomFactor","zoomFactorPre","zoomFactorCurrent","div3d","smoothingEnabled","dropRate","isRenderSkip","isLoop","timeLastRender","delta","now","then","interval","last","frameVisTimer","theDate","asyncSafeGuard","pointerEvents","globalCompositeOperation","clientWidth","clientHeight","Start","Init","Draw","requestAnimationFrame","Clear","Render","clearRect","EventInteraction","mouseEventDataPre","MouseEventData","InitArcGISMapEventV4x","ev","CommonEventBuilderArcGIS","type","MOUSE_TYPE","native","button","MouseEvent","ableToPan","stopPropagation","key","slice","KeyDownJSAPI4X","MouseClickLeftArcGIS","mEvent","preX","preY","yGLPicking","target","getBoundingClientRect","bottom","pressedShift","shiftKey","pressedAlt","altKey","pressedCtrl","ctrlKey","k","kEventData","CommonEventBuilder","KeyEvent","kEvent","KeyboardEventData","keyCode","code","hasCtrlKey","hasShiftKey","hasAltKey","hasMetaCommand","metaKey","Renderer","sandbox","num","i","length","JSAPIEnv","idDiv","map","arcGIS","io","projection","eventInteraction","keyEvents","MouseEvents","Map","basemap","MapView","container","center","zoom","when","SpatialReference","appendRenderer","fn","push","appendEventListener","event","mouse","keyboard","m","BindingNNA","njsSandbox","drawingEngine","nna","win","div","env","DrawingEngine","updateProjection","bindAbleToPan","v","mouseEvent","keyEvent","NNAEngineV3","render","setCommand","apiCall","importDummyData","APP","undefined","inspection","activeCommand"],"sourceRoot":""}