"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[95353,49800,79263,42967],{95353:(r,e,t)=>{t.r(e),t.d(e,{PointShader:()=>a});var o=t(42967);class a extends o.Shader{constructor(r,e,t){super(r,e,t),this.program&&(this.uniformLoc.uPointSize=r.getUniformLocation(this.program,"uPointSize"),this.uniformLoc.uAngle=r.getUniformLocation(this.program,"uAngle")),r.useProgram(null)}set(r,e){return this.gl.uniform1f(this.uniformLoc.uPointSize,r),this.gl.uniform1f(this.uniformLoc.uAngle,e),this}}},11528:(r,e,t)=>{t.r(e),t.d(e,{GLShaderCommon:()=>o});class o{static getShaderProgram(r,e,t){let a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=o.createShader(r,r.VERTEX_SHADER,e),n=o.createShader(r,r.FRAGMENT_SHADER,t);if(i&&n){let e=o.createProgram(r,i,n,a);return e||(console.error("vertex fragment shader error"),null)}return console.error("vertex fragment shader error"),null}static getShader(r,e,t){const o=r.createShader(e);return null===o?null:(r.shaderSource(o,t),r.compileShader(o),r.getShaderParameter(o,r.COMPILE_STATUS)?o:(console.log("An error occurred compiling the shaders:"+r.getShaderInfoLog(o)),r.deleteShader(o),null))}static createProgram(r,e,t){let o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const a=r.createProgram();if(null===a)return null;if(r.attachShader(a,e),r.attachShader(a,t),r.linkProgram(a),!r.getProgramParameter(a,r.LINK_STATUS)){const o=r.getProgramInfoLog(a);return console.log("Failed to link program: "+o),r.deleteProgram(a),r.deleteShader(t),r.deleteShader(e),null}return o&&(r.validateProgram(a),!r.getProgramParameter(a,r.VALIDATE_STATUS))?(console.error("Failed to validate program",r.getProgramInfoLog(a)),r.deleteProgram(a),r.deleteShader(t),r.deleteShader(e),null):(r.deleteShader(t),r.deleteShader(e),a)}static createShader(r,e,t){const o=r.createShader(e);if(null===o)return null;r.shaderSource(o,t),r.compileShader(o);return r.getShaderParameter(o,r.COMPILE_STATUS)?o:(console.log(r.getShaderInfoLog(o)),r.deleteShader(o),null)}static createShaderFromPath(r,e,t){const a=r.createShader(e);if(null===a)return null;r.shaderSource(a,o.getSourceSynch(t)),r.compileShader(a);return r.getShaderParameter(a,r.COMPILE_STATUS)?a:(console.log(r.getShaderInfoLog(a)),r.deleteShader(a),null)}static getSourceSynch(r){const e=new XMLHttpRequest;return e.open("GET",r,!1),e.send(null),200===e.status?e.responseText:null}static loadImage(r,e){const t=new Image;t.onload=function(){e(null,t)},t.src=r}}},79263:(r,e,t)=>{let o;t.r(e),t.d(e,{ATTR:()=>o,AttribLocations:()=>a,UniformLocations:()=>i}),function(r){r.ATTR_POSITION_NAME="a_position",r[r.ATTR_POSITION_LOC=0]="ATTR_POSITION_LOC",r.ATTR_NORMAL_NAME="a_norm",r[r.ATTR_NORMAL_LOC=1]="ATTR_NORMAL_LOC",r.ATTR_UV_NAME="a_uv",r[r.ATTR_UV_LOC=2]="ATTR_UV_LOC",r[r.ATTR_COLOR_LOC=4]="ATTR_COLOR_LOC",r.ATTR_COLOR_NAME="a_color"}(o||(o={}));class a{constructor(r,e){this.position=void 0,this.normal=void 0,this.uv=void 0,this.position=r.getAttribLocation(e,o.ATTR_NORMAL_NAME),this.normal=r.getAttribLocation(e,o.ATTR_NORMAL_NAME),this.uv=r.getAttribLocation(e,o.ATTR_UV_NAME)}}class i{constructor(r,e){this.uPointSize=void 0,this.uAngle=void 0,this.perspective=void 0,this.modalMatrix=void 0,this.cameraMatrix=void 0,this.mainTexture=void 0,this.perspective=r.getUniformLocation(e,"uPMatrix"),this.modalMatrix=r.getUniformLocation(e,"uMVMatrix"),this.cameraMatrix=r.getUniformLocation(e,"uCameraMatrix"),this.mainTexture=r.getUniformLocation(e,"uMainTex")}}},42967:(r,e,t)=>{t.r(e),t.d(e,{Shader:()=>i});var o=t(11528),a=t(79263);class i{constructor(r,e,t){this.gl=void 0,this.program=void 0,this.attribLoc=void 0,this.uniformLoc=void 0,this.program=o.GLShaderCommon.getShaderProgram(r,e,t,!0),null!=this.program&&(this.gl=r,r.useProgram(this.program),this.attribLoc=new a.AttribLocations(r,this.program),this.uniformLoc=new a.UniformLocations(r,this.program))}activate(){return this.gl.useProgram(this.program),this}deactivate(){return this.gl.useProgram(null),this}dispose(){this.gl.getParameter(this.gl.CURRENT_PROGRAM)===this.program&&this.gl.useProgram(null),this.gl.deleteProgram(this.program)}setPerspective(r){return this.gl.uniformMatrix4fv(this.uniformLoc.perspective,!1,r),this}setModalMatrix(r){return this.gl.uniformMatrix4fv(this.uniformLoc.modalMatrix,!1,r),this}setCameraMatrix(r){return this.gl.uniformMatrix4fv(this.uniformLoc.cameraMatrix,!1,r),this}preRender(){}renderModal(r){return this.gl.bindVertexArray(r.mesh.vao),r.mesh.indexCount?this.gl.drawElements(r.mesh.drawMode,r.mesh.indexCount,this.gl.UNSIGNED_SHORT,0):this.gl.drawArrays(r.mesh.drawMode,0,r.mesh.vertexCount),this.gl.bindVertexArray(null),this}}}}]);
//# sourceMappingURL=95353.23d4e84f.chunk.js.map