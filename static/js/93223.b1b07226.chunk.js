"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[93223],{93223:(t,s,i)=>{i.r(s),i.d(s,{Solution:()=>a});var e=i(55913);class h{constructor(t,s,i,e){this.width=void 0,this.height=void 0,this.nodes=[],this.edges=[],this.dt=0,this.mouse=new r(0,0),this.damping=.96,this.gravity=-.032,this.timeStep=.16,this.groundZ=-9.26,this.capture=void 0,this.init(t,s,i,e)}init(t,s,i,e){this.initGridR(t,s,i,e),this.nodes[0].fixed=!0,this.nodes[9].fixed=!0,this.nodes[this.nodes.length-1].fixed=!0,this.nodes[this.nodes.length-1-9].fixed=!0}updateOptionA(t){this.damping=.1*t}updateOptionB(t){this.timeStep=.05*t}updateOptionC(t){}initGridR(t,s,i,e){let h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:10;const o=i/h+1,a=e/n+1,d=this.nodes.length;for(let u=0;u<n;++u)for(let i=0;i<h;++i){let e=t+0+o*i,h=s+0+a*u,n=0;this.addNode(new r(e,h,n),r.zero(),1)}for(let r=0;r<n;++r)for(let t=0;t<h;++t){let s=r*h+t;0!==t&&this.addEdge(this.nodes[d+s-1],this.nodes[d+s]),0!==r&&this.addEdge(this.nodes[d+s-h],this.nodes[d+s])}}clear(){this.nodes=[],this.edges=[]}addNode(t,s,i){const e=new o(t,s,i);return this.nodes.push(e),e}addEdge(t,s){const i=new n(t,s);return this.edges.push(i),i}mouseMove(t,s){this.mouse.x=t,this.mouse.y=s}mouseDClick(t,s){this.mouse.x=t,this.mouse.y=s;const i=this.findNode(this.mouse);i&&(i.fixed=!i.fixed)}mouseDown(t,s){this.mouse.x=t,this.mouse.y=s,this.capture=this.findNode(this.mouse),this.capture&&(this.capture.fixed=!0,this.capture.isCapture=!0)}mouseLeftClick(t,s){}mouseUp(t,s){this.mouse.x=t,this.mouse.y=s,this.capture&&(this.capture.isCapture=!1,this.capture=void 0)}mouseDrag(t,s){this.mouse.x=t,this.mouse.y=s,this.capture&&(this.capture.v.x=t,this.capture.v.y=s)}render(t){this.dt+=.1,this.move(this.mouse.x,this.mouse.y,this.mouse.z,this.damping,0,this.timeStep,this.groundZ,1);for(let s of this.edges)s.render(t);for(let s of this.nodes)s.render(t,this.mouse)}findNode(t){for(let s of this.nodes)if(s.v.distance(t)<s.m+3)return s}move(t,s,i,e){let h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.01,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:-10,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1;const d=new r(t,s,i);for(let u=0;u<a;++u){for(const t of this.nodes){const s=r.sub(d,t.v),i=s.length();s.normalize(),t.f=r.add(r.scale(s,.1*Math.exp(-.1*i*i)),r.scale(r.YAxis(),h))}for(const t of this.edges)t.applySpringForce();for(const t of this.nodes)t.move(n,e,o)}}}class n{constructor(t,s){this.n0=void 0,this.n1=void 0,this.targetLength=0,this.springConstant=.8,this.n0=t,this.n1=s,this.targetLength=1*this.n0.v.distance(this.n1.v)}render(t){t.strokeStyle="#ff0000",r.distance(this.n0.v,this.n1.v)<2*this.targetLength&&(t.strokeStyle="#0000ff"),t.beginPath(),t.moveTo(this.n0.v.x,this.n0.v.y),t.lineTo(this.n1.v.x,this.n1.v.y),t.closePath(),t.stroke()}applySpringForce(){let t=r.sub(this.n1.v,this.n0.v),s=t.length();t.normalize();const i=r.scale(t,(s-this.targetLength)*this.springConstant);this.n0.f=r.add(this.n0.f,i),this.n1.f=r.sub(this.n1.f,i)}}class o{constructor(t,s,i){this.nNodes=[],this.v=r.zero(),this.f=r.zero(),this.u=r.zero(),this.m=0,this.fixed=!1,this.isCapture=!1,this.v=new r(t.x,t.y,t.z),this.u=new r(s.x,s.y,s.z),this.m=i}move(t,s){if(this.fixed||this.isCapture)return;this.u.scale(s),this.u.add(r.scale(this.f,t/this.m));const i=r.scale(this.u,t);this.v.x+=i.x,this.v.y+=i.y}render(t,s){t.beginPath(),s.distance(this.v)<this.m+3?(t.fillStyle="#000000",t.arc(this.v.x,this.v.y,this.m+6,0,2*Math.PI)):(t.fillStyle="#f90000",t.arc(this.v.x,this.v.y,this.m+3,0,2*Math.PI)),this.fixed&&(t.fillStyle="#000000",t.arc(this.v.x,this.v.y,this.m+7.5,0,2*Math.PI)),t.closePath(),t.fill()}}class r{static zero(){return new r(0,0,0)}static YAxis(){return new r(0,1,0)}static distance(t,s){return Math.sqrt((t.x-s.x)*(t.x-s.x)+(t.y-s.y)*(t.y-s.y)+(t.z-s.z)*(t.z-s.z))}static add(t,s){return new r(t.x+s.x,t.y+s.y,t.z+s.z)}static sub(t,s){return new r(t.x-s.x,t.y-s.y,t.z-s.z)}static scale(t,s){return new r(t.x*s,t.y*s,t.z*s)}constructor(t,s){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.x=0,this.y=0,this.z=0,this.x=t,this.y=s,this.z=i}distance(t){return r.distance(new r(this.x,this.y,this.z),t)}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}scale(t){return this.x*=t,this.y*=t,this.z*=t,this}length(){const t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return t<1e-5?1e-5:t}normalize(){let t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return t<1e-4||(this.x=this.x/t,this.y=this.y/t,this.z=this.z/t),this}}class a extends e.bb{constructor(t){super(document.getElementById(t)),this.graph=void 0,this.m=new r(0,0,0),this.canvas.style.position="absolute",this.init()}init(){this.graph=new h(100,100,500,500),this.mouseClick(100,100),this.start()}populate(){const t=Math.random()*this.canvas.width,s=Math.random()*this.canvas.height;this.mouseClick(t,s)}render(t){this.graph.render(t),t.beginPath(),t.arc(this.m.x,this.m.y,3,0,6.28),t.closePath(),t.fillStyle="#888",t.fill()}mouseDown(t,s){this.graph.mouseDown(t,s)}mouseClick(t,s){this.graph.mouseLeftClick(t,s)}mouseMove(t,s){this.m.x=t,this.m.y=s,this.graph.mouseMove(t,s)}mouseDrag(t,s){this.graph.mouseDrag(t,s)}}}}]);
//# sourceMappingURL=93223.b1b07226.chunk.js.map