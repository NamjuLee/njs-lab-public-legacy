{"version":3,"file":"static/js/21543.eeb5d93f.chunk.js","mappings":"iIAEO,MAAMA,EAMTC,YAAYC,GAAgB,KAL5BA,SAAG,OAEHC,QAAE,OACFC,YAAM,EAGFC,KAAKH,IAAMA,EAEXG,KAAKD,OAASE,SAASC,cAAc,UACjCF,KAAKH,IAAIM,OACTH,KAAKH,IAAIM,KAAKC,YAAYJ,KAAKD,QAC/BC,KAAKD,OAAOM,MAAQL,KAAKH,IAAIM,KAAKG,YAClCN,KAAKD,OAAOQ,OAASP,KAAKH,IAAIM,KAAKK,cAEvC,MAAMV,EAAKE,KAAKD,OAAOU,WAAW,UACvB,OAAPX,IACAE,KAAKF,GAAKA,EACVE,KAAKF,GAAGY,SAASZ,EAAGa,MACpBX,KAAKF,GAAGc,UAAUd,EAAGe,KACrBb,KAAKF,GAAGgB,OAAOhB,EAAGiB,YAClBf,KAAKF,GAAGgB,OAAOhB,EAAGkB,WAClBhB,KAAKF,GAAGmB,UAAUnB,EAAGoB,QACrBlB,KAAKF,GAAGqB,UAAUrB,EAAGsB,UAAWtB,EAAGuB,sBAGvCrB,KAAKsB,MACT,CAGAA,OACItB,KAAKuB,MAAMvB,KAAKF,IAChB0B,uBAAsB,KAAQxB,KAAKsB,MAAM,IAEzCtB,KAAKH,IAAI4B,SAASC,QAEtB,CACAH,MAAMzB,GAEFA,EAAGY,SAASZ,EAAGa,MACfb,EAAGc,UAAUd,EAAGe,KAChBf,EAAGgB,OAAOhB,EAAGiB,YACbjB,EAAGgB,OAAOhB,EAAGkB,WACblB,EAAGmB,UAAUnB,EAAGoB,QAChBpB,EAAGqB,UAAUrB,EAAGsB,UAAWtB,EAAGuB,qBAC9BvB,EAAG6B,WAAW,EAAK,EAAK,EAAK,EAIjC,E","sources":["njslab/LabStarter/AppNGL3d/NGL3dApp_09/Core/Canvas.ts"],"sourcesContent":["import { NGL3dApp } from '..';\r\n\r\nexport class Canvas {\r\n    app: NGL3dApp;\r\n\r\n    gl: WebGL2RenderingContext;\r\n    canvas: HTMLCanvasElement;\r\n\r\n    constructor(app: NGL3dApp) {\r\n        this.app = app;\r\n\r\n        this.canvas = document.createElement('canvas');\r\n        if (this.app.host) {\r\n            this.app.host.appendChild(this.canvas);\r\n            this.canvas.width = this.app.host.clientWidth;\r\n            this.canvas.height = this.app.host.clientHeight;\r\n        }\r\n        const gl = this.canvas.getContext('webgl2');\r\n        if (gl !== null) {\r\n            this.gl = gl;\r\n            this.gl.cullFace(gl.BACK);\t\t\t\t\t\t\t\t    // Back is also default\r\n            this.gl.frontFace(gl.CCW);\t\t\t\t\t\t\t\t    // Dont really need to set it, its ccw by default.\r\n            this.gl.enable(gl.DEPTH_TEST);\t\t\t\t\t\t\t    // Shouldn't use this, use something else to add depth detection\r\n            this.gl.enable(gl.CULL_FACE);\t\t\t\t\t\t\t    // Cull back face, so only show triangles that are created clockwise\r\n            this.gl.depthFunc(gl.LEQUAL);\t\t\t\t\t\t\t    // Near things obscure far things\r\n            this.gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\t// Setup default alpha blending\r\n        }\r\n\r\n        this.loop();\r\n    }\r\n    // fFitScreen = function(wp,hp) { return this.fSetSize(window.innerWidth * (wp || 1),window.innerHeight * (hp || 1)); }\r\n\r\n    loop() {\r\n        this.clear(this.gl);\r\n        requestAnimationFrame(() => { this.loop(); });\r\n\r\n        this.app.renderer.render();\r\n        // console.log('working');\r\n    }\r\n    clear(gl: WebGL2RenderingContext) {\r\n\r\n        gl.cullFace(gl.BACK);\t\t\t\t\t\t\t\t// Back is also default\r\n        gl.frontFace(gl.CCW);\t\t\t\t\t\t\t\t// Dont really need to set it, its ccw by default.\r\n        gl.enable(gl.DEPTH_TEST);\t\t\t\t\t\t\t// Shouldn't use this, use something else to add depth detection\r\n        gl.enable(gl.CULL_FACE);\t\t\t\t\t\t\t// Cull back face, so only show triangles that are created clockwise\r\n        gl.depthFunc(gl.LEQUAL);\t\t\t\t\t\t\t// Near things obscure far things\r\n        gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\t// Setup default alpha blending\r\n        gl.clearColor(1.0, 1.0, 1.0, 1.0);\t// Set clear color\r\n\r\n        // gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n        // gl.clearColor(1.0, 1.0, 1.0, 1.0);\r\n    }\r\n}\r\n"],"names":["Canvas","constructor","app","gl","canvas","this","document","createElement","host","appendChild","width","clientWidth","height","clientHeight","getContext","cullFace","BACK","frontFace","CCW","enable","DEPTH_TEST","CULL_FACE","depthFunc","LEQUAL","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","loop","clear","requestAnimationFrame","renderer","render","clearColor"],"sourceRoot":""}