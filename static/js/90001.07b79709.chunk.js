"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[90001],{90001:(e,t,s)=>{s.r(t),s.d(t,{Solution:()=>n});var i=s(17760),o=s(4130),r=s(458);class n{constructor(e){this.div=void 0,this.renderer=void 0,this.m=[0,0],this.t=0,this.pts=[],this.p=void 0,this.divColB=void 0,this.divColorResultText=void 0,this.colorValueT=[255,0,0],this.colorValue=[255*Math.random(),255*Math.random(),255*Math.random()],this.arrow=void 0,this.div=document.getElementById(e),this.renderer=new o.Kw(e),this.renderer.updateBinding=()=>this.render(),this.renderer.onMouseClick=e=>this.mouseClick(e),this.initDom(),this.init()}initDom(){const e=document.createElement("div");e.style.position="absolute",e.style.margin="15px",this.div.appendChild(e),this.renderer.showGrid=!1,this.renderer.renderer.axis.scale.x=51,this.renderer.renderer.axis.scale.y=51,this.renderer.renderer.axis.scale.z=51,this.renderer.renderer.camera.far=500,this.renderer.renderer.camera.position.set(900,-300,700),this.renderer.renderer.controls.target.set(127.5,127.5,127.5);const t=new i.DvJ(255,255,255),s=new i.TOt(t),r=new i.ejS(s);r.position.set(127.5,127.5,127.5),r.material.color.r=.3,r.material.color.g=.3,r.material.color.b=.3,r.material.depthTest=!1,r.material.opacity=.25,r.material.transparent=!0,this.renderer.renderer.scene.add(r);const n=(0,o.Du)("r: ".concat(Math.floor(this.colorValue[0])),0,255);n.slider.defaultValue="".concat(this.colorValue[0]),e.appendChild(n.div),n.slider.oninput=()=>{const e=parseInt(n.slider.value);this.colorValue[0]=e,n.text.textContent="r: "+e,this.updateColor()};const h=(0,o.Du)("g: ".concat(Math.floor(this.colorValue[1])),0,255);h.slider.defaultValue="".concat(this.colorValue[1]),e.appendChild(h.div),h.slider.oninput=()=>{const e=parseInt(h.slider.value);this.colorValue[1]=e,h.text.textContent="g: "+e,this.updateColor()};const l=(0,o.Du)("b: ".concat(Math.floor(this.colorValue[2])),0,255);l.slider.defaultValue="".concat(this.colorValue[2]),e.appendChild(l.div),l.slider.oninput=()=>{const e=parseInt(l.slider.value);this.colorValue[2]=e,l.text.textContent="b: "+e,this.updateColor()};const d=document.createElement("div");d.style.display="flex",e.appendChild(d);const a=document.createElement("div");a.style.background="rgba(".concat(this.colorValueT[0],", ").concat(this.colorValueT[1],", ").concat(this.colorValueT[2],")"),a.style.width="50px",a.style.height="50px",d.appendChild(a),this.divColB=document.createElement("div"),this.divColB.style.background="rgba(".concat(this.colorValue[0],", ").concat(this.colorValue[1],", ").concat(this.colorValue[2],")"),this.divColB.style.width="50px",this.divColB.style.height="50px",d.appendChild(this.divColB),this.divColorResultText=document.createElement("div"),this.divColorResultText.style.fontSize="large",this.divColorResultText.style.margin="4px",e.appendChild(this.divColorResultText)}reset(){this.renderer.reset(),this.t=0,this.pts=[],this.p=void 0}updateColor(){this.p.pt.mesh.position.set(this.colorValue[0],this.colorValue[1],this.colorValue[2]),this.p.pt.material.color.set(new i.Ilk(this.colorValue[0]/255,this.colorValue[1]/255,this.colorValue[2]/255));const e=(0,r.ew)(this.colorValue,this.colorValueT),t=(0,r.Sm)(this.colorValue,this.colorValueT),s=(0,r.zD)(this.colorValue,this.colorValueT);this.divColB.style.background="rgba(".concat(this.colorValue[0],", ").concat(this.colorValue[1],", ").concat(this.colorValue[2],")");const o={result:e,resultDis:t,resultDisLab:s};this.divColorResultText.innerHTML="CosineSimilarity: ".concat(o.result.toFixed(2)," <br/> Distance: ").concat(o.resultDis.toFixed(2)," <br/> DeltaE: ").concat(o.resultDisLab.toFixed(2),"  "),this.arrow.vec.x=this.colorValue[0],this.arrow.vec.y=this.colorValue[1],this.arrow.vec.z=this.colorValue[2],this.arrow.dir.x=this.colorValueT[0]-this.colorValue[0],this.arrow.dir.y=this.colorValueT[1]-this.colorValue[1],this.arrow.dir.z=this.colorValueT[2]-this.colorValue[2],this.arrow.update()}init(){{this.p=new h(this.colorValueT[0],this.colorValueT[1],this.colorValueT[2],0,-2,2),this.pts.push(this.p);const e=this.colorValue[0],t=this.colorValue[1],s=this.colorValue[2];this.p=new h(e,t,s,0,-2,2),this.pts.push(this.p)}this.arrow=new o.Eh(new o.P(0,0,0),new o.P(100,100,100)),this.arrow.meshArrow.setColor(new i.Ilk(.5,0,0)),this.updateColor()}render(){this.p,this.t+=.001}mouseMove(e){}renderMouse(e){}mouseClick(e){const t=255*Math.random(),s=255*Math.random(),i=255*Math.random();this.p=new h(t,s,i,0,-2,2),this.pts.push(this.p)}destroy(){this.renderer.destroy()}}class h{constructor(e,t,s){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;this.vec=void 0,this.velocity=void 0,this.force=new o.P(0,0,0),this.mass=10,this.r=10,this.pt=void 0,this.vec=new o.P(e,t,s),this.velocity=new o.P(r,n,h),this.pt=new o.u4(this.vec,7),this.pt.onClick=e=>this.onClick(e),this.pt.material.color.set(new i.Ilk(e/255,t/255,s/255))}onClick(e){}}},4130:(e,t,s)=>{s.d(t,{Eh:()=>c,Kw:()=>u,u4:()=>a,P:()=>d,Vv:()=>m,ZV:()=>v,Du:()=>p});var i=s(17760),o=s(98925);class r{constructor(e){this.canvas=void 0,this.hostDiv=void 0,this.ctx=void 0,this.t=0,this.camera=void 0,this.scene=void 0,this.renderer=void 0,this.controls=void 0,this.requestFrame=void 0,this.loop=()=>{this.requestFrame=requestAnimationFrame(this.loop),this.controls.update(),this.update(this.scene),this.renderer.render(this.scene,this.camera),this.t+=.01},this.hostDiv=document.getElementById(e),this.initCanvas()}initCanvas(){this.scene=new i.xsS,this.setBG(null),this.scene.castShadow=!0,i.Tme.DEFAULT_UP.set(0,0,1),this.renderer=new i.CP7({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(this.hostDiv.clientWidth/this.hostDiv.clientHeight),this.renderer.domElement.id="Three",this.renderer.domElement.style.position="absolute",this.renderer.shadowMap.enabled=!0,this.renderer.setSize(this.hostDiv.clientWidth,this.hostDiv.clientHeight),this.hostDiv.appendChild(this.renderer.domElement),this.camera=new i.cPb(30,this.hostDiv.clientWidth/this.hostDiv.clientHeight,1,5e3),this.controls=new o.OrbitControls(this.camera,this.renderer.domElement),this.camera.position.set(20,-20,20),this.controls.update(),this.canvas=this.renderer.domElement,this.init()}setBG(e){this.scene.background=null!==e?new i.Ilk(e):null}init(){this.eventBind()}eventBind(){this.renderer.domElement.onmousedown=e=>this.mouseDownPre(e),this.renderer.domElement.onmouseup=e=>this.mouseUpPre(e),this.renderer.domElement.onmousemove=e=>this.mouseMovePre(e),this.renderer.domElement.addEventListener("click",(e=>this.mouseClickPre(e))),window.addEventListener("resize",(()=>this.onWindowResize()))}onWindowResize(){this.camera.aspect=this.hostDiv.clientWidth/this.hostDiv.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.hostDiv.clientWidth,this.hostDiv.clientHeight)}start(){this.loop()}mouseDownPre(e){}mouseUpPre(e){}mouseClickPre(e){}mouseDClickPre(e){}mouseMovePre(e){}mouseDragPre(e){}update(e){}destroy(){for(window.removeEventListener("resize",(()=>this.onWindowResize())),cancelAnimationFrame(this.requestFrame),this.requestFrame=void 0;this.hostDiv.lastChild;)this.hostDiv.removeChild(this.hostDiv.lastChild)}}class n extends r{constructor(e){super(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main"),this.sandboxVector=void 0,this.pointLight=void 0,this.rayCaster=new i.iMs,this.mouse=new i.FM8,this.m=new i.Pa4,this.sphere=void 0,this.ground=void 0,this.axis=void 0,this.grid=void 0,this.updatePost=e=>{},this.onMouseClick=e=>{},this.onMouseMove=e=>{},this.mouseMovePre=e=>{const t=this.picking(e,this.sandboxVector.scene.mesh);this.onMouseMove({e:e,intersect:t})},i.Tme.DEFAULT_UP.set(0,1,0),this.sandboxVector=e,this.initPost(),this.start()}initPost(){const e=new i.Mig(5592405);this.scene.add(e),this.pointLight=new i.cek(16777215,100),this.pointLight.position.x=10,this.pointLight.castShadow=!0,this.scene.add(this.pointLight),this.axis=new i.y8_(5),this.axis.position.z=.001,this.scene.add(this.axis);this.grid=new i.VLJ(50,100,4473924,3289650),this.grid.rotation.x=-Math.PI/2,this.scene.add(this.grid);const t=new i._12(50,50),s=new i.vBJ({color:65793,side:i.ehD,transparent:!0,opacity:0});this.ground=new i.Kj0(t,s),this.scene.add(this.ground);const o=new i.vBJ({color:65280}),r=new i.xo$(.05,50,50),n=new i.Kj0(r,o);n.translateX(1),this.sphere=n,this.scene.add(n)}reset(){}set showGrid(e){this.grid.visible=e}set showAxis(e){this.axis.visible=e}picking(e,t){this.mouse.x=e.offsetX/this.renderer.domElement.clientWidth*2-1,this.mouse.y=-e.offsetY/this.renderer.domElement.clientHeight*2+1,this.rayCaster.setFromCamera(this.mouse,this.camera);const s=this.rayCaster.intersectObjects([...t]);if(s.length>0)return this.m.set(s[0].point.x,s[0].point.y,s[0].point.z),s[0].object!==this.sphere&&this.sphere.position.set(s[0].point.x,s[0].point.y,s[0].point.z),{intersects:s,ground:void 0};const i=this.rayCaster.intersectObjects([this.ground]);return i.length>0?(this.m.set(i[0].point.x,i[0].point.y,i[0].point.z),this.sphere.position.set(i[0].point.x,i[0].point.y,i[0].point.z),{intersects:void 0,ground:i}):void 0}update(e){this.updatePost(e);const t=new i.yGw;t.makeRotationY(.011*Math.PI),this.pointLight.position.applyMatrix4(t)}mouseClickPre(e){const t=this.picking(e,this.sandboxVector.scene.mesh);t.intersects&&t.intersects[0]&&t.intersects[0].object.userData.onClick(t.intersects[0])}}class h{constructor(e){this.sandboxVector=void 0,this.scene=void 0,this.mesh=[],this.sandboxVector=e,this.scene=e.renderer.scene}reset(){for(let e=this.mesh.length-1;e>=0;e--){let t=this.mesh[e];this.scene.remove(t)}}add(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.scene.add(e),t&&this.mesh.push(e)}remove(e){this.scene.remove(e),this.mesh.splice(this.mesh.indexOf(e),1)}}class l{constructor(e){this.app=void 0,this.app=e}pick(){}}class d{constructor(e,t,s){this.x=0,this.y=0,this.z=0,this.x=e,this.y=t,this.z=s}}class a{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;this.vec=void 0,this.radius=.5,this.material=void 0,this.geometry=void 0,this.mesh=void 0,this.vec=e,this.radius=t,this.init()}destroy(){u.app.scene.remove(this.mesh)}onClick(e){this.update()}update(){this.mesh.position.set(this.vec.x,this.vec.y,this.vec.z)}init(){this.material=new i.vBJ({color:16777215}),this.geometry=new i.xo$(this.radius,20,20),this.mesh=new i.Kj0(this.geometry,this.material),this.mesh.position.set(this.vec.x,this.vec.y,this.vec.z),this.mesh.userData=this,u.app.scene.add(this.mesh)}}class c{constructor(e,t){this.vec=void 0,this.dir=void 0,this.meshArrow=void 0,this.vec=e,this.dir=t,this.init()}onClick(e){console.log(e)}update(){this.meshArrow.position.x=this.vec.x,this.meshArrow.position.y=this.vec.y,this.meshArrow.position.z=this.vec.z;const e=new i.Pa4(this.dir.x,this.dir.y,this.dir.z),t=e.length();this.meshArrow.setLength(t,.1,.1),this.meshArrow.setDirection(e.normalize())}init(){const e=new i.Pa4(this.dir.x,this.dir.y,this.dir.z),t=e.length();this.meshArrow=new i.tGC(e.normalize(),new i.Pa4(this.vec.x,this.vec.y,this.vec.z),t,"#f00"),this.meshArrow.userData=this,u.app.scene.add(this.meshArrow)}}class u{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#00000000";this.id=void 0,this.renderer=void 0,this.common=void 0,this.scene=void 0,this.themeColor="#222",u.app=this,this.id=e,this.themeColor=t,this.initRenderer()}destroy(){this.renderer.destroy()}initRenderer(){this.renderer=new n(this,this.id,this.themeColor),this.renderer.updatePost=e=>this.updateBinding(),this.renderer.onMouseMove=e=>this.onMouseMove(e),this.renderer.onMouseClick=e=>this.onMouseClick(e),this.scene=new h(this),this.common=new l(this)}set showAxis(e){this.renderer.showAxis=e}set showGrid(e){this.renderer.showGrid=e}reset(){this.renderer.reset(),this.scene.reset(),this.start()}start(){}updateBinding(){}onMouseMove(e){}onMouseClick(e){}}u.app=void 0;const p=(e,t,s)=>{const i=document.createElement("div");i.style.display="flex";const o=document.createElement("input");o.type="range",o.min="".concat(t),o.max="".concat(s);const r=document.createElement("div");return r.textContent=e,r.style.color="#aaa",i.appendChild(o),i.appendChild(r),{div:i,slider:o,text:r}},m=e=>{const t=document.createElement("div");t.style.display="flex";const s=document.createElement("input");s.type="checkbox",s.defaultChecked=!1;const i=document.createElement("div");return i.textContent=e,i.style.color="#aaa",t.appendChild(s),t.appendChild(i),{div:t,checkBox:s}},v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["Link 1","Link 2","Link 3"],t=arguments.length>1?arguments[1]:void 0;const s=document.createElement("div");s.classList.add("dropdown");const i=document.createElement("button");i.classList.add("dropdown-toggle"),i.textContent="Dropdown Menu",s.appendChild(i);const o=document.createElement("div");return o.classList.add("dropdown-menu"),s.appendChild(o),e.forEach((e=>{const s=document.createElement("a");s.href="#",s.textContent=e,s.addEventListener("click",(s=>{s.preventDefault(),i.textContent="Selected: ".concat(e),o.style.display="none",t(e)})),o.appendChild(s)})),i.addEventListener("click",(()=>{o.style.display="block"===o.style.display?"none":"block"})),window.addEventListener("click",(e=>{e.target.matches(".dropdown-toggle")||"block"===o.style.display&&(o.style.display="none")})),document.body.style.fontFamily="Arial, sans-serif",s.style.position="relative",s.style.display="inline-block",i.style.padding="10px 20px",i.style.border="none",i.style.cursor="pointer",i.addEventListener("mouseover",(()=>{i.style.backgroundColor="#eee"})),i.addEventListener("mouseout",(()=>{i.style.backgroundColor="#ccc"})),o.style.display="none",o.style.position="absolute",o.style.backgroundColor="#ccc",o.style.boxShadow="0px 8px 16px 0px rgba(0,0,0,0.2)",o.style.zIndex="1",o.querySelectorAll("a").forEach((e=>{e.style.color="black",e.style.padding="12px 16px",e.style.textDecoration="none",e.style.display="block",e.addEventListener("mouseover",(()=>{e.style.backgroundColor="#f1f1f1"})),e.addEventListener("mouseout",(()=>{e.style.backgroundColor="#ccc"}))})),s}}}]);
//# sourceMappingURL=90001.07b79709.chunk.js.map