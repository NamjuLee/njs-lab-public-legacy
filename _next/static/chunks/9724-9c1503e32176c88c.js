"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9724],{9724:function(e,t,i){let s;i.d(t,{Qe:function(){return S}});var n=i(88832);let h={"cad-app":{load:()=>Promise.resolve().then(i.bind(i,88832)),param:{pageID:n.TISTORY_PAGE.WorkshopCADAppStarter}},"divider-starter-0":{load:async()=>{},param:{}},"starter-typescript":{load:()=>i.e(9231).then(i.bind(i,9231))},"starter-typescript-app":{load:()=>i.e(1416).then(i.bind(i,1416))},"starter-tf":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(45540),i.e(77720),i.e(14859)]).then(i.bind(i,11561))},"divider-starter-1":{load:async()=>{},param:{}},"starter-canvas":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(4314)]).then(i.bind(i,40635))},"starter-canvas-second":{load:()=>i.e(72800).then(i.bind(i,72800))},"starter-canvas-independent":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(60913)]).then(i.bind(i,82680))},"starter-svg":{load:()=>i.e(25216).then(i.bind(i,25216))},"divider-starter-2":{load:async()=>{},param:{}},"starter-jsapi":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(35357)]).then(i.bind(i,82884))},"starter-mapbox":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(13415),i.e(45540),i.e(77720),i.e(93773)]).then(i.bind(i,29326))},"starter-mapbox-Three":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(13415),i.e(45540),i.e(77720),i.e(21004)]).then(i.bind(i,22865))},"starter-deckgl":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(13415),i.e(45540),i.e(77720),i.e(65284),i.e(12568),i.e(92849)]).then(i.bind(i,2411))},"google-map-env":{load:()=>i.e(95030).then(i.bind(i,95030))},"divider-starter-3":{load:async()=>{},param:{}},"starter-mapbox-react":{load:()=>Promise.all([i.e(83472),i.e(13415),i.e(32168)]).then(i.bind(i,32168))},"starter-react-mapgl":{load:()=>Promise.all([i.e(83472),i.e(13415),i.e(44768),i.e(50161)]).then(i.bind(i,50161))},"divider-starter-4":{load:async()=>{},param:{}},"canvas-raytracer":{load:()=>i.e(75121).then(i.bind(i,75121))},"starter-three":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(27218)]).then(i.bind(i,87714))},"starter-three-second":{load:()=>i.e(39278).then(i.bind(i,39278))},"starter-three-sandbox":{load:()=>i.e(44219).then(i.bind(i,44219))},"starter-babylon":{load:()=>Promise.all([i.e(1283),i.e(17795)]).then(i.bind(i,17795))},"matter-env":{load:()=>i.e(89616).then(i.bind(i,89616))},"divider-starter-5":{load:async()=>{},param:{}},webGL1:{load:()=>i.e(48975).then(i.bind(i,48975))},webGL2:{load:()=>i.e(94719).then(i.bind(i,94719))},webGLGLSL:{load:()=>i.e(10643).then(i.bind(i,10643))},"webGLGLSL-playground":{load:()=>i.e(65006).then(i.bind(i,65006))},"divider-starter-6":{load:async()=>{},param:{}},"starter-webGL":{load:()=>Promise.all([i.e(81519),i.e(51406),i.e(70118)]).then(i.bind(i,70118))},"starter-webGPU":{load:()=>i.e(99288).then(i.bind(i,99288))},appNGL3d:{load:()=>i.e(21567).then(i.bind(i,243))},"divider-starter-7":{load:async()=>{},param:{}},"starter-webassembly":{load:()=>i.e(78414).then(i.bind(i,78414))},"starter-react":{load:()=>i.e(25065).then(i.bind(i,25065))}},o={template:{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(33607)]).then(i.bind(i,62478))},starter:{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(8597)]).then(i.bind(i,51865))},"CSV(TSV)":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(1999)]).then(i.bind(i,37396))},JSON:{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(97450)]).then(i.bind(i,95294))},"JSON-Line":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(91156)]).then(i.bind(i,54273))},shape:{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(62220),i.e(90135),i.e(65788)]).then(i.bind(i,65788))},"REST-API":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(66)]).then(i.bind(i,94080))},"divider-digital-mapping-0":{load:async()=>{},param:{}},"point-1":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(38800)]).then(i.bind(i,50114))},"line-1":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(20095)]).then(i.bind(i,54937))},"polyline-1":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(17419)]).then(i.bind(i,37555))},"polygon-1":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(3243)]).then(i.bind(i,97794))},"polygon-interaction":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(35004)]).then(i.bind(i,35288))},mesh:{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(78575)]).then(i.bind(i,89340))},"csv-":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(22183)]).then(i.bind(i,37239))},"divider-digital-mapping-1":{load:async()=>{},param:{}},"point-dissolve":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(13415),i.e(80284),i.e(45540),i.e(77720),i.e(62220),i.e(20776),i.e(51542),i.e(93025)]).then(i.bind(i,77682))},"divider-digital-mapping-2":{load:async()=>{},param:{}},"Dynamic-Bins":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(99114)]).then(i.bind(i,15734))},"divider-digital-mapping-3":{load:async()=>{},param:{}},"urban-network":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(18342)]).then(i.bind(i,86975))},"urban-network-interaction":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(32642)]).then(i.bind(i,5670))},"urban-network-a-Start":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(6357)]).then(i.bind(i,53234))},"divider-digital-mapping-4":{load:async()=>{},param:{}},"third-place":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(93412)]).then(i.bind(i,32225))},"divider-digital-mapping-5":{load:async()=>{},param:{}},"project-flower-delivery":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(10064)]).then(i.bind(i,68805))}},r={"data-design-computation-index":{load:()=>i.e(8534).then(i.bind(i,8534))},"divider-dataDesign-00":{load:async()=>{}},"Key-content-index":{load:()=>Promise.resolve().then(i.bind(i,88832)),param:{pageID:n.TISTORY_PAGE.KeyLecturesDataDesignComputation}}},a={"Computational-Design-book-KO":{load:()=>Promise.resolve().then(i.bind(i,88832)),param:{pageID:n.TISTORY_PAGE.BookIntroComputationIndex}},"Computational-Design-book-EN":{load:()=>Promise.resolve().then(i.bind(i,88832)),param:{}},"divider-lecture-00":{load:async()=>{}},"Harvard-GSD-Data-Design-Urban-AI-Viz":{load:()=>i.e(79974).then(i.bind(i,79974))},"Harvard-GSD-3D-Design-Viz":{load:()=>i.e(97523).then(i.bind(i,97523))},"Harvard-GSD-Design-Viz-Post-Production":{load:()=>i.e(96205).then(i.bind(i,96205))},"MIT-SENSEable-Lab-Digital-Mapping-Data-Viz":{load:()=>Promise.resolve().then(i.bind(i,88832))},DigitalFUTURES:{load:()=>i.e(29524).then(i.bind(i,29524))},"divider-lecture-01":{load:async()=>{}},"NJ-Story":{load:()=>Promise.resolve().then(i.bind(i,88832)),param:{pageID:n.TISTORY_PAGE.NJStory}},QnA:{load:()=>Promise.resolve().then(i.bind(i,88832)),param:{pageID:n.TISTORY_PAGE.QnA}}},l={"Python-Lab":{load:()=>Promise.resolve().then(i.bind(i,88832)),param:{pageID:n.TISTORY_PAGE.PythonForDesigners}},"C-Sharp-Lab":{load:()=>Promise.resolve().then(i.bind(i,88832)),param:{pageID:n.TISTORY_PAGE.WorkshopCsharpSyntax}},"Typescript-Lab":{load:()=>Promise.resolve().then(i.bind(i,88832)),param:{pageID:n.TISTORY_PAGE.DigitalFUTURESWorldWorkshopFullVersionKOR+"#typescript"}},"divider-workshop-1":{load:async()=>{}},"Rhino-GH-C-Sharp-Lab":{load:()=>Promise.resolve().then(i.bind(i,88832)),param:{pageID:n.TISTORY_PAGE.GrasshopperCSharpEpisodeA}},"Rhino-GH-Python-Lab":{load:()=>Promise.resolve().then(i.bind(i,88832)),param:{pageID:n.TISTORY_PAGE.EpisodeBComponentChallengePython}},"Rhino-Ecosystem-Basic":{load:()=>Promise.resolve().then(i.bind(i,88832)),param:{pageID:n.TISTORY_PAGE.WorkshopRhino3d}},"divider-workshop-2":{load:async()=>{}},"3ds-max-viz-animation":{load:()=>Promise.resolve().then(i.bind(i,88832)),param:{pageID:n.TISTORY_PAGE.WorkshopArchitecturalAnimationVisualization}},Unity:{load:()=>Promise.resolve().then(i.bind(i,88832)),param:{pageID:n.TISTORY_PAGE.UnityDesignScriptingVisualization}}};var c=i(38275),d=i(10952);let u={Vector:{load:()=>Promise.resolve().then(i.bind(i,88832)),param:{pageID:n.TISTORY_PAGE.VectorPoint}},"divider-vec-01":{load:async()=>{}},"Vector-01-basic":{load:()=>i.e(2825).then(i.bind(i,2825))},"Vector-02-operations":{load:()=>i.e(74201).then(i.bind(i,74201))},"divider-vec-02":{load:async()=>{}},"Vector-01-Dynamics":{load:()=>i.e(31260).then(i.bind(i,31260))},"divider-vec-03":{load:async()=>{}},"Vector-01-Dynamics-3D":{load:()=>Promise.all([i.e(24806),i.e(51336)]).then(i.bind(i,51336))},"Vector-02-Dynamics-3D":{load:()=>i.e(17e3).then(i.bind(i,17e3))},"Vector-03-Dynamics-3D":{load:()=>i.e(96312).then(i.bind(i,96312))},"divider-vec-04":{load:async()=>{}},"Vector-Sandbox":{load:()=>Promise.all([i.e(24518),i.e(24806),i.e(66348)]).then(i.bind(i,66348))}},p={"color-space":{load:()=>Promise.all([i.e(39596),i.e(59629)]).then(i.bind(i,59629))},"divider-vec-01":{load:async()=>{}},"color-similarity":{load:()=>Promise.all([i.e(39596),i.e(51230)]).then(i.bind(i,51230))},"color-picker":{load:()=>i.e(36010).then(i.bind(i,36010)),param:{pageID:c.SUBAPPS.ColorPicker}},"divider-vec-02":{load:async()=>{}},"image-transform":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(80881)]).then(i.bind(i,85826))},"image-zoom-pan":{load:()=>i.e(87903).then(i.bind(i,87903))},"image-tint":{load:()=>i.e(89483).then(i.bind(i,89483))},"image-local-tint":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(4379)]).then(i.bind(i,16268))},"image-filter":{load:()=>i.e(88724).then(i.bind(i,88724))},"image-filter-crop":{load:()=>i.e(81876).then(i.bind(i,81876))},"image-crop-viewer":{load:()=>i.e(26294).then(i.bind(i,20177))},"image-app-image":{load:()=>Promise.all([i.e(59321),i.e(4923)]).then(i.bind(i,4923))},"image-distortion":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(92024)]).then(i.bind(i,70825))},"image-distortion-app":{load:()=>i.e(3506).then(i.bind(i,3506))},"image-dithering":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(24358),i.e(88691),i.e(45540),i.e(77720),i.e(96465),i.e(41389)]).then(i.bind(i,11526))},"image-dithering-api":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(24358),i.e(88691),i.e(45540),i.e(77720),i.e(96465),i.e(52085)]).then(i.bind(i,26847))},"image-auto-tune":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(26990)]).then(i.bind(i,8036))},"image-color-correction":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(31413)]).then(i.bind(i,36140))},"image-pixelated":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(71180)]).then(i.bind(i,77647))},"image-upscale":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(45540),i.e(77720),i.e(62345)]).then(i.bind(i,26378))},"image-face":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(45540),i.e(77720),i.e(14962),i.e(34336)]).then(i.bind(i,2300))}},m={"discrete-urban-space-and-connectivity":{load:()=>Promise.resolve().then(i.bind(i,88832)),param:{pageID:n.TISTORY_PAGE.DiscreteUrbanSpaceAndConnectivity}},"divider-graph-0":{load:async()=>{}},"graph-node":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(12725)]).then(i.bind(i,83560))},"graph-node-interaction":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(14130)]).then(i.bind(i,36632))},"graph-node-edge":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(11280)]).then(i.bind(i,99036))},"graph-wrapper":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(34822)]).then(i.bind(i,15685))},"graph-edge-connection":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(16436)]).then(i.bind(i,28136))},"graph-edge-split":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(91029)]).then(i.bind(i,75885))},"graph-modify":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(205)]).then(i.bind(i,97247))},"graph-merge-node":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(70245)]).then(i.bind(i,4228))},"graph-exporting":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(22837)]).then(i.bind(i,42117))},"divider-graph-1":{load:async()=>{}},"graph-system":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(12242)]).then(i.bind(i,5834))},"graph-search":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(98370)]).then(i.bind(i,16812))},"graph-path-finding":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(83100)]).then(i.bind(i,10053))},"divider-graph-2":{load:async()=>{}},"graph-map":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(13415),i.e(45540),i.e(77720),i.e(3967)]).then(i.bind(i,6259))},"divider-graph-3":{load:async()=>{}}},g={"Pixel Object":{load:()=>i.e(26126).then(i.bind(i,26126))},"Pixel Map":{load:()=>i.e(34665).then(i.bind(i,34665))},"Pixel Map Interaction":{load:()=>i.e(28074).then(i.bind(i,28074))},"Pixel Map Connection":{load:()=>i.e(34331).then(i.bind(i,34331))},"Pixel Map Image":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(82810)]).then(i.bind(i,92539))},"divider-pixel-1":{load:async()=>{}},"Pixel Map Terrain":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(91063)]).then(i.bind(i,64021))},"Pixel Map Terrain Mesh Slope":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(89018)]).then(i.bind(i,76060))},"Pixel Map Terrain Mesh OBJ":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(59496)]).then(i.bind(i,86111))},"Pixel Map Terrain Color Scale":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(72011)]).then(i.bind(i,19774))},"divider-pixel-2":{load:async()=>{}},"Populate Points":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(41694)]).then(i.bind(i,98805))}},y={"mesh-network":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(91229)]).then(i.bind(i,46391))},"mesh-grid-dynamics":{load:()=>i.e(57534).then(i.bind(i,57534))},"divider-dynamic-0":{load:async()=>{}},"truss-structure":{load:()=>Promise.resolve().then(i.bind(i,10952)),param:d.STRUCTURE_TYPE.Truss},"grid-structure":{load:()=>Promise.resolve().then(i.bind(i,10952)),param:d.STRUCTURE_TYPE.Grid},"network-structure":{load:()=>Promise.resolve().then(i.bind(i,10952)),param:d.STRUCTURE_TYPE.Network},"tensile-structure":{load:()=>Promise.resolve().then(i.bind(i,10952)),param:d.STRUCTURE_TYPE.TensileStructure},"curtain-structure":{load:()=>Promise.resolve().then(i.bind(i,10952)),param:d.STRUCTURE_TYPE.Curtain},"thread-structure":{load:()=>Promise.resolve().then(i.bind(i,10952)),param:d.STRUCTURE_TYPE.Thread},"particle-structure":{load:()=>Promise.resolve().then(i.bind(i,10952)),param:d.STRUCTURE_TYPE.Particle},"particle-line-structure":{load:()=>Promise.resolve().then(i.bind(i,10952)),param:d.STRUCTURE_TYPE.ParticleLine},"divider-dynamic-1":{load:async()=>{}},"rect-pos-opti":{load:()=>i.e(8514).then(i.bind(i,8514))},"rect-pos-graph":{load:()=>i.e(89335).then(i.bind(i,89335))},"divider-dynamic-2":{load:async()=>{}},"Graph-dynamics-demo":{load:()=>i.e(50673).then(i.bind(i,50673))},"divider-dynamic-3":{load:async()=>{}},"ball-bouncing":{load:()=>i.e(36010).then(i.bind(i,36010)),param:c.SUBAPPS.BallBounce},"ball-class-bouncing":{load:()=>i.e(36010).then(i.bind(i,36010)),param:c.SUBAPPS.BallBounceClass},"circle-packing-dynamics":{load:()=>i.e(41297).then(i.bind(i,41297))},"particle-testing":{load:()=>i.e(14045).then(i.bind(i,14045))},"circle-particle":{load:()=>i.e(38915).then(i.bind(i,38915))},"divider-dynamic-4":{load:async()=>{}},"dynamic-system-01":{load:()=>i.e(36010).then(i.bind(i,36010)),param:c.SUBAPPS.DynamicSystem01},"dynamic-system-02":{load:()=>i.e(36010).then(i.bind(i,36010)),param:c.SUBAPPS.DynamicSystem02},"dynamic-system-03":{load:()=>i.e(36010).then(i.bind(i,36010)),param:c.SUBAPPS.DynamicSystem03},"divider-dynamic-5":{load:async()=>{}},boid:{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(93943)]).then(i.bind(i,65912))},"Boid-system01":{load:()=>i.e(36010).then(i.bind(i,36010)),param:c.SUBAPPS.BoidSystem01},"Boid-system03":{load:()=>i.e(36010).then(i.bind(i,36010)),param:c.SUBAPPS.BoidSystem03},"Boid-system04":{load:()=>i.e(36010).then(i.bind(i,36010)),param:c.SUBAPPS.BoidSystem04},"Boid-systemWander0":{load:()=>i.e(36010).then(i.bind(i,36010)),param:c.SUBAPPS.BoidSystemWander0},"Boid-systemWander1":{load:()=>i.e(36010).then(i.bind(i,36010)),param:c.SUBAPPS.BoidSystemWander1},"divider-dynamic-6":{load:async()=>{}},"image-rigid":{load:()=>i.e(20793).then(i.bind(i,20793))}},f={"data-lab-sandbox":{load:()=>i.e(21696).then(i.bind(i,21696))}},x={"AI-for-Design":{load:()=>Promise.resolve().then(i.bind(i,88832)),param:{pageID:n.TISTORY_PAGE.AIDataForDesign}},"divider-ml-01":{load:async()=>{}},"ML-sandbox":{load:()=>i.e(37845).then(i.bind(i,37845)),param:{pageID:n.TISTORY_PAGE.AIDataForDesign}},"ML-sandbox-ex":{load:()=>i.e(37845).then(i.bind(i,37845)),param:{pageID:"TFModel02XOR"}},"divider-ml-02":{load:async()=>{}},Tensor:{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(45540),i.e(77720),i.e(85320)]).then(i.bind(i,75259))},"Linear-Regression":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(93994)]).then(i.bind(i,397))},"MPG-Prediction":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(45540),i.e(77720),i.e(26044),i.e(1616),i.e(26428)]).then(i.bind(i,73628))},"Polynomial-Regression":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(80215)]).then(i.bind(i,22286))},"KNN-Iris-Prediction":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(96445)]).then(i.bind(i,44695))},"Network-Iris-Prediction":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(72866)]).then(i.bind(i,53835))},"divider-ml-03":{load:async()=>{}},"tf-sd-old-ui-deprecated":{load:()=>i.e(19625).then(i.bind(i,14817))},"divider-ml-04":{load:async()=>{}},"TF-Smart-Drawing":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(7981)]).then(i.bind(i,871))},"TF-Smart-Drawing-app":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(45540),i.e(77720),i.e(98594),i.e(89496)]).then(i.bind(i,93153))},"divider-ml-05":{load:async()=>{}},"TF-Image-BG":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(21023),i.e(86571)]).then(i.bind(i,5255))},"TF-Image-Seg":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(61033)]).then(i.bind(i,74887))},"TF-Image-face":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(14962),i.e(50374),i.e(29004)]).then(i.bind(i,84746))},"TF-Video-face":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(77863),i.e(45540),i.e(77720),i.e(14962),i.e(71755),i.e(30647),i.e(84511)]).then(i.bind(i,95418))},"divider-ml-06":{load:async()=>{}},"Google-Gemini":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(45540),i.e(60973),i.e(5298)]).then(i.bind(i,48052))},"OpenAI-CatGPT":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(45540),i.e(91110),i.e(21356)]).then(i.bind(i,48546))},"divider-ml-07":{load:async()=>{}},"Storymaps-TSNE-viz":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(344)]).then(i.bind(i,61155))},"divider-ml-08":{load:async()=>{}},"ML-UI":{load:()=>i.e(40423).then(i.bind(i,40423))},TFLinearRegressionGD:{load:()=>i.e(40423).then(i.bind(i,40423)),param:{pageID:"TFLinearRegressionGD"}},TFPolynomialRegressionGD:{load:()=>i.e(40423).then(i.bind(i,40423)),param:{pageID:"TFPolynomialRegression GD"}},"TF-Regression":{load:()=>i.e(40423).then(i.bind(i,40423)),param:{pageID:"TF Regression"}},"ML-Xor":{load:()=>i.e(40423).then(i.bind(i,40423)),param:{pageID:"TFModel02XOR"}},TFMnist:{load:()=>i.e(40423).then(i.bind(i,40423)),param:{pageID:"TFMnist"}}},v={"water-quality-inspector":{load:()=>Promise.all([i.e(53591),i.e(3724)]).then(i.bind(i,32563))},"bar-chart":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(68421)]).then(i.bind(i,25234))},"scatter-chart":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(68421)]).then(i.bind(i,25234))},"pie-chart":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(68421)]).then(i.bind(i,25234))},"divider-viz-01":{load:async()=>{}},projection:{load:()=>Promise.all([i.e(53861),i.e(51634)]).then(i.bind(i,51634))},"us-viz":{load:()=>Promise.all([i.e(26044),i.e(53861),i.e(74300),i.e(28370)]).then(i.bind(i,28370))}},M={"Three-Starter":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(73703)]).then(i.bind(i,85435))},"divider-three-01":{load:async()=>{}},"Three-Primitive":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(94002)]).then(i.bind(i,70181))},"Three-Point":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(90406)]).then(i.bind(i,10269))},"Three-Point-index":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(47042)]).then(i.bind(i,26599))},"Three-Line-Polyline":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(93405)]).then(i.bind(i,95132))},"Three-Polygon":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(34008)]).then(i.bind(i,65117))},"Three-Three-Mesh-Box":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(53158)]).then(i.bind(i,81077))},"Three-Mesh-Face":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(91595)]).then(i.bind(i,80315))},"Three-Mesh-Terrain":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(15199)]).then(i.bind(i,14362))},"divider-three-02":{load:async()=>{}},"Three-Mesh-Vertex-Color":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(69120)]).then(i.bind(i,34250))},"Three-Mesh-Rhino-Geo":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(84487)]).then(i.bind(i,37137))},"Three-bunny":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(25635)]).then(i.bind(i,36740))},"Three-Voxel":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(35452)]).then(i.bind(i,30914))},"divider-three-03":{load:async()=>{}},"link-code-pen":{load:()=>i.e(5155).then(i.bind(i,5155))},"divider-three-04":{load:async()=>{}},"Slow-zone-paper":{load:()=>i.e(73845).then(i.bind(i,73845))},"Slow-zone-Point":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(33973)]).then(i.bind(i,74247))},"Slow-zone-Line":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(3268)]).then(i.bind(i,19479))},"Slow-zone-Polyline":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(89146)]).then(i.bind(i,44106))},"Slow-zone-Polygon":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(98819)]).then(i.bind(i,60554))},"Slow-zone-Viz":{load:()=>i.e(39908).then(i.bind(i,39908))},"divider-three-05":{load:async()=>{}},"Three-Starter-CSS":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(50137)]).then(i.bind(i,86781))}},w={"NWebGPU-Light":{load:()=>Promise.all([i.e(53591),i.e(81519),i.e(86940),i.e(37173)]).then(i.bind(i,57911))},"WebGPU-Sandbox":{load:()=>Promise.all([i.e(81519),i.e(38131),i.e(27504)]).then(i.bind(i,27504))},NWebGPU:{load:()=>Promise.all([i.e(81519),i.e(38131),i.e(89962)]).then(i.bind(i,89962))},"divider-webgpu-01":{load:async()=>{}},"WebGPU-00-Basic":{load:()=>i.e(23110).then(i.bind(i,23110))},"WebGPU-01-Loop":{load:()=>i.e(64559).then(i.bind(i,64559))},"WebGPU-02-Point-Line":{load:()=>i.e(43834).then(i.bind(i,43834))},"WebGPU-03-Tri":{load:()=>i.e(92500).then(i.bind(i,92500))},"divider-webgpu-02":{load:async()=>{}},"WebGPU-04-index-buffer":{load:()=>i.e(62994).then(i.bind(i,62994))},"WebGPU-05-single-buffer":{load:()=>i.e(27979).then(i.bind(i,27979))},"WebGPU-06-gpu-buffer":{load:()=>i.e(35298).then(i.bind(i,35298))},"WebGPU-07-cube":{load:()=>Promise.all([i.e(81519),i.e(77279)]).then(i.bind(i,77279))},"WebGPU-08-cube-camera":{load:()=>Promise.all([i.e(81519),i.e(38131),i.e(91795)]).then(i.bind(i,91795))},"WebGPU-09-cube-index":{load:()=>Promise.all([i.e(81519),i.e(38131),i.e(91053)]).then(i.bind(i,91053))},"WebGPU-10-Sphere":{load:()=>Promise.all([i.e(81519),i.e(65292)]).then(i.bind(i,65292))},"WebGPU-11-Light":{load:()=>Promise.all([i.e(81519),i.e(38131),i.e(73492)]).then(i.bind(i,73492))},"WebGPU-30-Light":{load:()=>Promise.all([i.e(81519),i.e(1306)]).then(i.bind(i,1306))},"divider-webgpu-05":{load:async()=>{}},WebGL:{load:()=>Promise.all([i.e(81519),i.e(40592),i.e(25338)]).then(i.bind(i,25338))},WebGLSandbox:{load:()=>Promise.all([i.e(53591),i.e(81519),i.e(24778),i.e(47962)]).then(i.bind(i,11768))}},P={"01_Typescript_Basics":{load:()=>i.e(46407).then(i.bind(i,46407))},"02_Condition_Loop":{load:()=>i.e(62714).then(i.bind(i,62714))},"03_Data_Structure":{load:()=>i.e(51245).then(i.bind(i,51245))},"04_Function_Class":{load:()=>i.e(59544).then(i.bind(i,59544))},"divider-9":{load:async()=>{}},"05_Exercise":{load:()=>i.e(37782).then(i.bind(i,37782))}},b={"Canvas-Point-Circle":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(39275)]).then(i.bind(i,13680))},"Canvas-Line-Polyline":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(82198)]).then(i.bind(i,32054))},"Canvas-Polyline-mouse-input":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(18132)]).then(i.bind(i,96623))},"Canvas-Polygon":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(59306)]).then(i.bind(i,80220))},"divider-14":{load:async()=>{}},"Canvas-N-Gon":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(23745)]).then(i.bind(i,97830))},"divider-15":{load:async()=>{}},NCanvas:{load:()=>i.e(47976).then(i.bind(i,47976))},"grid-system":{load:()=>Promise.all([i.e(36010),i.e(95368)]).then(i.bind(i,95368))},"circle-grid-1":{load:()=>Promise.all([i.e(36010),i.e(17910)]).then(i.bind(i,17910))},"circle-grid-2":{load:()=>Promise.all([i.e(36010),i.e(46813)]).then(i.bind(i,46813))},"circle-grid-3":{load:()=>Promise.all([i.e(36010),i.e(71576)]).then(i.bind(i,34542))},"custom-bin-system":{load:()=>Promise.all([i.e(36010),i.e(84558)]).then(i.bind(i,84558))},"line-1":{load:()=>Promise.all([i.e(36010),i.e(15875)]).then(i.bind(i,96402))},"line-2":{load:()=>Promise.all([i.e(36010),i.e(54354)]).then(i.bind(i,54354))},oop:{load:()=>Promise.all([i.e(36010),i.e(98945)]).then(i.bind(i,98945))},"canvas-circle":{load:()=>i.e(37899).then(i.bind(i,37899))}},C={"NJS-lab-legacy-web":{load:()=>i.e(19330).then(i.bind(i,19330))},"Algorithm-Env":{load:()=>i.e(70404).then(i.bind(i,70404))},"divider-1":{load:async()=>{}},NNA:{load:()=>Promise.all([i.e(98074),i.e(16307)]).then(i.bind(i,16307))},"NNA-network-analysis":{load:()=>Promise.all([i.e(98074),i.e(41850),i.e(34316)]).then(i.bind(i,34316))},"Land-box":{load:()=>i.e(18245).then(i.bind(i,18245))},NTerrain:{load:()=>i.e(56682).then(i.bind(i,56682))},Globe:{load:()=>i.e(5282).then(i.bind(i,5282))},"divider-2":{load:async()=>{}},"project-slow-zone-viz":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(24390)]).then(i.bind(i,29776))},"divider-3":{load:async()=>{}},"project-slow-zone-3D":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(34664)]).then(i.bind(i,98241))},"sz-Point-Interaction":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(54409)]).then(i.bind(i,34787))},"sz-Line-Interaction":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(71562)]).then(i.bind(i,62526))},"sz-Polygon-Interaction":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(29220)]).then(i.bind(i,58332))},"divider-4":{load:async()=>{}},"project-slow-zone-JSAPI":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(25762)]).then(i.bind(i,49255))},"divider-5":{load:async()=>{}},"Project-Doodle":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(5302)]).then(i.bind(i,74688))},"divider-6":{load:async()=>{}},"Ready-Funding-Inspector":{load:()=>Promise.all([i.e(53591),i.e(13415),i.e(62220),i.e(65284),i.e(20776),i.e(64756)]).then(i.bind(i,67045))},"divider-7":{load:async()=>{}},"water-inspection-01":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(37526),i.e(89868)]).then(i.bind(i,69876))},"water-inspection-02":{load:()=>Promise.all([i.e(53591),i.e(13415),i.e(60138)]).then(i.bind(i,36082))}},D={DFS:{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(68421)]).then(i.bind(i,25234))},BFS:{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(68421)]).then(i.bind(i,25234))},Graph:{load:()=>i.e(15443).then(i.bind(i,15443))},Pixel:{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(40991)]).then(i.bind(i,47118))},Voxel:{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(68421)]).then(i.bind(i,25234))},"Algorithm-DFS-BFS":{load:()=>i.e(36010).then(i.bind(i,36010)),param:c.SUBAPPS.AlgorithmDFSBFS},"divider-spatial-0":{load:async()=>{}},"Quad-tree":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(80354)]).then(i.bind(i,6630))},"A-Star":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(98992)]).then(i.bind(i,79171))},"Dijkstras-algorithm":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(60840)]).then(i.bind(i,65091))},"game-of-life":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(28131)]).then(i.bind(i,4005))},"divider-spatial-1":{load:async()=>{}},FireExit:{load:()=>i.e(36010).then(i.bind(i,36010)),param:c.SUBAPPS.FireExit},BaconsLaw:{load:()=>i.e(36010).then(i.bind(i,36010)),param:c.SUBAPPS.BaconsLaw},Cabbage:{load:()=>i.e(36010).then(i.bind(i,36010)),param:c.SUBAPPS.Cabbage},NumOfArea:{load:()=>i.e(36010).then(i.bind(i,36010)),param:c.SUBAPPS.NumOfArea},ComputerFinder:{load:()=>i.e(36010).then(i.bind(i,36010)),param:c.SUBAPPS.ComputerFinder},MazeExit:{load:()=>i.e(36010).then(i.bind(i,36010)),param:c.SUBAPPS.MazeExit},Koze:{load:()=>i.e(36010).then(i.bind(i,36010)),param:c.SUBAPPS.Koze},UnitMoving:{load:()=>i.e(36010).then(i.bind(i,36010)),param:c.SUBAPPS.UnitMoving},Tile:{load:()=>i.e(36010).then(i.bind(i,36010)),param:c.SUBAPPS.Tile},OKVIRI:{load:()=>i.e(36010).then(i.bind(i,36010)),param:c.SUBAPPS.OKVIRI},"gaussian-distribution":{load:()=>i.e(36010).then(i.bind(i,36010)),param:c.SUBAPPS.GaussianDistribution},"divider-spatial-2":{load:async()=>{}},"perlin-heatmap":{load:()=>i.e(36010).then(i.bind(i,36010)),param:c.SUBAPPS.PerlinHeatmap},"fluid-simulation":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(33672)]).then(i.bind(i,380))},"divider-spatial-3":{load:async()=>{}},raytracer:{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(82845)]).then(i.bind(i,2810))},"raytracer-scene":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(64517)]).then(i.bind(i,79654))},clustering:{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(13415),i.e(45540),i.e(77720),i.e(18806)]).then(i.bind(i,9034))},delaunay:{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(11130)]).then(i.bind(i,18264))},AABB:{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(65095)]).then(i.bind(i,62137))},"divider-spatial-4":{load:async()=>{}},"Bezier-Curve":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(84296)]).then(i.bind(i,19920))},"Bezier-Curve-control":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(45349)]).then(i.bind(i,29133))},"Bezier-Interpolation":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(111)]).then(i.bind(i,11735))},"Bezier-Interpolation-quad":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(33863)]).then(i.bind(i,74685))},"Genetic-Algorithm":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(88616)]).then(i.bind(i,28497))},"Genetic-Vec":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(80015)]).then(i.bind(i,45107))},"Genetic-legacy":{load:()=>i.e(73967).then(i.bind(i,73967))},"grid-optimizer":{load:()=>i.e(91922).then(i.bind(i,91922))},"divider-spatial-5":{load:async()=>{}},shape:{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(90135),i.e(94537)]).then(i.bind(i,94537))},turf:{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(89950)]).then(i.bind(i,27577))},"mapbox-polygon":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(13415),i.e(45540),i.e(77720),i.e(62220),i.e(20776),i.e(93046)]).then(i.bind(i,46037))},"mapbox-deckGL-polygon":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(13415),i.e(45540),i.e(77720),i.e(65284),i.e(12568),i.e(84561)]).then(i.bind(i,46643))},"React-Map-GL":{load:()=>Promise.all([i.e(83472),i.e(13415),i.e(44768),i.e(69200),i.e(93696)]).then(i.bind(i,93696))},"divider-spatial-6":{load:async()=>{}},"block-game":{load:()=>i.e(7186).then(i.bind(i,7186))}},E={Easing:{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(86155)]).then(i.bind(i,6780))},Remap:{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(37814)]).then(i.bind(i,86391))},"divider-util-0":{load:async()=>{}},firebase:{load:()=>Promise.all([i.e(24358),i.e(88691),i.e(96465),i.e(384)]).then(i.bind(i,384))},"3dm":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(89747)]).then(i.bind(i,23268))},"Rhino-Viewer":{load:()=>i.e(58393).then(i.bind(i,58393))}},I={"grid-t":{load:()=>i.e(44128).then(i.bind(i,44128))},"particle-":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(78538)]).then(i.bind(i,91340))},globe:{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(41145)]).then(i.bind(i,3243))},"network-viz":{load:()=>i.e(70326).then(i.bind(i,70326))},"app-tf-env":{load:()=>i.e(37845).then(i.bind(i,37845))},"network-grid":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(83050)]).then(i.bind(i,72710))},"nna-network-analysis":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(36196)]).then(i.bind(i,24113))},"divider-lab-0":{load:async()=>{}},"n-ui-":{load:()=>i.e(79452).then(i.bind(i,26294))},"n-ui-tool":{load:()=>Promise.all([i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(45540),i.e(77720),i.e(32759)]).then(i.bind(i,93666))},"Drawing-block":{load:()=>i.e(85281).then(i.bind(i,85281))},"Drawing-Block-app":{load:()=>i.e(9821).then(i.bind(i,9821))},Tetris:{load:()=>i.e(54638).then(i.bind(i,54638))},playground:{load:()=>Promise.all([i.e(68431),i.e(93332),i.e(98938),i.e(46498),i.e(58566),i.e(27425),i.e(76636),i.e(28663),i.e(66399),i.e(53591),i.e(68044),i.e(45540),i.e(77720),i.e(46331),i.e(84661)]).then(i.bind(i,10470))}},S=()=>s||(s={menuSet:A,menuSetFlat:R}),R={...r,...a,...l,...u,...p,...m,...g,...y,...f,...x,...v,...h,...P,...b,...o,...M,...w,...C,...D,...E,...I},A={"Data & Design & Computation":r,"Lecture Series":a,"Workshop Series":l,"Vector & Point":u,"Raster & Color":p,"Graph & Network":m,"Pixel & Voxel Map":g,"Dynamics & Simulation":y,"Data, Matrix & Tensor":f,"AI & ML":x,Visualization:v,"App Starter":h,"Typescript Lab":P,"HTML Canvas Lab":b,"Digital Mapping":o,"THREE Lab":M,"WebGL & WebGPU":w,"Project Module":C,"Spatial tools":D,"Tools Util":E,"NJS Lab Factory":I}},75681:function(e,t,i){i.d(t,{X:function(){return s}});class s{static RoundedRectFill(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#ffffff",h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#000000";e.lineWidth=1,e.beginPath(),e.moveTo(t[0].x+s+i,t[0].y),e.lineTo(t[1].x-s-i,t[1].y),e.arcTo(t[1].x-s,t[1].y,t[1].x-s,t[1].y+i,i),e.lineTo(t[2].x-s,t[2].y-i),e.arcTo(t[2].x-s,t[2].y,t[2].x-s-i,t[2].y,i),e.lineTo(t[3].x+s+i,t[3].y),e.arcTo(t[3].x+s,t[3].y,t[3].x+s,t[3].y-i,i),e.lineTo(t[0].x+s,t[0].y+i),e.arcTo(t[0].x+s,t[0].y,t[0].x+s+i,t[0].y,i),e.closePath(),e.strokeStyle=h,e.fillStyle=n,e.shadowBlur=4,e.shadowColor="rgb(0,0,0,0.3)",e.shadowOffsetY=2,e.shadowOffsetX=2,e.fill()}static RoundedRectFillRForEach(e,t,i,s,n,h){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"#ffffff",a=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"#000000",l=arguments.length>9&&void 0!==arguments[9]&&arguments[9];e.lineWidth=1,e.beginPath(),e.moveTo(t[0].x+o+i,t[0].y),e.lineTo(t[1].x-o-s,t[1].y),e.arcTo(t[1].x-o,t[1].y,t[1].x-o,t[1].y+s,s),e.lineTo(t[2].x-o,t[2].y-s),e.arcTo(t[2].x-o,t[2].y,t[2].x-o-n,t[2].y,n),e.lineTo(t[3].x+o+n,t[3].y),e.arcTo(t[3].x+o,t[3].y,t[3].x+o,t[3].y-h,h),e.lineTo(t[0].x+o,t[0].y+h),e.arcTo(t[0].x+o,t[0].y,t[0].x+o+i,t[0].y,i),e.closePath(),e.strokeStyle=a,e.fillStyle=r,l?(e.shadowBlur=4,e.shadowColor="rgb(0,0,0,0.3)",e.shadowOffsetY=2,e.shadowOffsetX=2):(e.shadowBlur=0,e.shadowOffsetY=0,e.shadowOffsetX=0),e.fill()}static Text(e,t,i,s){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"white";e.save(),e.fillStyle=n,e.textBaseline="bottom",e.textAlign="left",e.fillText(s,t,i-14),e.fill(),e.restore()}static RoundedRectFillWithColorMainMenu(e,t,i,s){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,h=(arguments.length>5&&arguments[5],arguments.length>6&&arguments[6],arguments.length>7?arguments[7]:void 0),o=!(arguments.length>8)||void 0===arguments[8]||arguments[8];e.save(),e.lineWidth=2,e.beginPath(),e.moveTo(i[0].x+n+s,i[0].y),e.lineTo(i[1].x-n-s,i[1].y),e.arcTo(i[1].x-n,i[1].y,i[1].x-n,i[1].y+s,s),e.lineTo(i[2].x-n,i[2].y-s),e.arcTo(i[2].x-n,i[2].y,i[2].x-n-s,i[2].y,s),e.lineTo(i[3].x+n+s,i[3].y),e.arcTo(i[3].x+n,i[3].y,i[3].x+n,i[3].y-s,s),e.lineTo(i[0].x+n,i[0].y+s),e.arcTo(i[0].x+n,i[0].y,i[0].x+n+s,i[0].y,s),e.closePath(),e.strokeStyle=h,e.fillStyle=h,o?(e.shadowBlur=7,e.shadowColor="rgb(0,0,0,0.5)",e.shadowOffsetY=1.5,e.shadowOffsetX=1.5):(e.shadowBlur=0,e.shadowOffsetY=0,e.shadowOffsetX=0),e.fill(),e.restore()}static TopRoundedRectFill(e,t,i,s){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,h=(arguments.length>5&&arguments[5],arguments.length>6&&arguments[6],arguments.length>7?arguments[7]:void 0),o=!(arguments.length>8)||void 0===arguments[8]||arguments[8];e.save(),e.lineWidth=2,e.beginPath(),e.moveTo(i[0].x+n+s,i[0].y),e.lineTo(i[1].x-n-s,i[1].y),e.arcTo(i[1].x-n,i[1].y,i[1].x-n,i[1].y+s,s),e.lineTo(i[2].x-n,i[2].y),e.lineTo(i[3].x+n,i[3].y),e.lineTo(i[0].x+n,i[0].y+s),e.arcTo(i[0].x+n,i[0].y,i[0].x+n+s,i[0].y,s),e.closePath(),e.strokeStyle=h,e.fillStyle=h,o?(e.shadowBlur=4,e.shadowColor="rgb(0,0,0,0.3)",e.shadowOffsetY=2,e.shadowOffsetX=2):(e.shadowBlur=0,e.shadowOffsetY=0,e.shadowOffsetX=0),e.fill(),e.restore()}constructor(){}}s.theme={mainMenuNormal:"#ffffff",mainMenuOver:"#0FAAEA"}},82650:function(e,t,i){i.d(t,{F:function(){return p}});var s=i(8483),n=i(52067),h=i(75681),o=i(96228),r=i(60074),a=i(34297),l=i(30930),c=i(71879),d=i(81231),u=i(3833);class p extends o.J{get IsMinimized(){return this.isMinimized}set IsMinimized(e){this.isMinimized=e,this.btnResize.isHidden=e,this.bodyDiv&&this.bodyDiv.Hide(e)}get Width(){return this.width}set Width(e){let t=e-this.width;this.width=e,this.btnHam.vec.x+=t,this.subMenu.vec.x+=t,this.bodyDiv&&(this.bodyDiv.Width=e)}get Height(){return this.height}set Height(e){this.height=e,this.bodyDiv&&(this.bodyDiv.Height=e)}get content(){return this._content}set content(e){this._content=e,this.bodyDiv&&(this.bodyDiv.content=e)}get HasSubMenu(){return this.hasSubMenu}set HasSubMenu(e){this.hasSubMenu=e,this.subMenu.IsHidden=!e}InitTop(){this.btnClose=new r.E(this,this.vec.x,this.vec.y),this.btnMini=new a.$(this,this.vec.x+25,this.vec.y),this.btnHam=new l.g(this,this.vec.x-25+this.width,this.vec.y),this.btnResize=new c.C(this,this.vec.x+this.width-10,this.vec.y+this.height-10,10,10),this.subMenu=new u.q(this),this.subs.push(this.btnClose,this.btnMini,this.btnHam)}Translate(e){if(!this.isMoveable)return;let t=e.x-e.preX,i=e.y-e.preY;this.vec.x+=t,this.vec.y+=i;for(let e=0;e<this.boundarVecs.length;++e)this.boundarVecs[e].x+=t,this.boundarVecs[e].y+=i;for(let t=0;t<this.subs.length;++t)this.subs[t].Translate(e);this.btnResize.vec.x+=t,this.btnResize.vec.y+=i,this.subMenu.Translate(t,i),this.bodyDiv&&this.bodyDiv.Translate(t,i)}Remove(){for(let e=0;e<this.subs.length;++e)this.subs[e].Remove();this.bodyDiv&&this.bodyDiv.Remove(),this.btnResize.Remove(),this.independentPanelWrapper.indePanelRender.Remove(this),this.RemovePost()}RenderPost(e){let t;this.ComputeBoundary(),t=n.mK.HexToCanvasColor(h.X.theme.mainMenuNormal,this.transparent),this.isMinimized||h.X.RoundedRectFillWithColorMainMenu(e,this.title,this.boundarVecs,this.filletR,0,this.isOver,this.isSelected,t),h.X.TopRoundedRectFill(e,this.title,s.h9.GetBoundaryByVecWidthHeight(this.vec,this.width,this.HeadHeight),this.filletR,0,this.isOver,this.isSelected,this.theme.colSelectedBG,!1),this.RenderHeadTitle(e),this.isMinimized||this.RenderBodyContent(e),this.hasSubMenu&&this.subMenu.RenderPost(e),this.RenderBtnHorizontal(e)}RenderBtnHorizontal(e){}RenderHeadTitle(e){e.save(),e.fillStyle="#ffffff",e.textBaseline="top",e.textAlign="center",e.font="100 12px Arial",e.shadowBlur=0,e.shadowOffsetY=0,e.shadowOffsetX=0,e.fillText(this.title,this.vec.x+.5*this.width,this.vec.y+.5*this.HeadHeight-7),e.restore()}RenderBodyContent(e){}constructor(e,t=0,i=0,s=300,n=170,h=!1){super(e),this.subs=[],this.independentPanelWrapper=e,this.title="njslabSandbox V3",this.width=s,this.height=n,0===t&&0===i?(this.vec.x=.5*e.width-.5*this.width,this.vec.y=.5*e.height-.5*this.height):(this.vec.x=t,this.vec.y=i),this.filletR=7,this.InitTop(),h&&(this.bodyDiv=new d.k(this,this.vec.x,this.vec.y+this.HeadHeight,this.width,this.height-this.HeadHeight))}}},79309:function(e,t,i){i.d(t,{D:function(){return p}});var s=i(8483),n=i(52067),h=i(75681),o=i(96228),r=i(60074),a=i(34297),l=i(30930),c=i(71879),d=i(81231),u=i(3833);class p extends o.J{get IsMinimized(){return this.isMinimized}set IsMinimized(e){this.isMinimized=e,this.btnResize.isHidden=e,this.bodyDiv&&this.bodyDiv.Hide(e)}get Width(){return this.width}set Width(e){let t=e-this.width;this.width=e,this.btnHam.vec.x+=t,this.subMenu.vec.x+=t,this.bodyDiv&&(this.bodyDiv.Width=e)}get Height(){return this.height}set Height(e){this.height=e,this.bodyDiv&&(this.bodyDiv.Height=e)}get content(){return this._content}set content(e){this._content=e,this.bodyDiv&&(this.bodyDiv.content=e)}get HasSubMenu(){return this.hasSubMenu}set HasSubMenu(e){this.hasSubMenu=e,this.subMenu.IsHidden=!e}InitTop(){this.btnClose=new r.E(this,this.vec.x,this.vec.y),this.btnMini=new a.$(this,this.vec.x+25,this.vec.y),this.btnHam=new l.g(this,this.vec.x-25+this.width,this.vec.y),this.btnResize=new c.C(this,this.vec.x+this.width-10,this.vec.y+this.height-10,10,10),this.subMenu=new u.q(this),this.subs.push(this.btnClose,this.btnMini,this.btnHam)}Translate(e){if(!this.isMoveable)return;let t=e.x-e.preX,i=e.y-e.preY;this.vec.x+=t,this.vec.y+=i;for(let e=0;e<this.boundarVecs.length;++e)this.boundarVecs[e].x+=t,this.boundarVecs[e].y+=i;for(let t=0;t<this.subs.length;++t)this.subs[t].Translate(e);this.btnResize.vec.x+=t,this.btnResize.vec.y+=i,this.subMenu.Translate(t,i),this.bodyDiv&&this.bodyDiv.Translate(t,i)}Remove(){this.RemovePost();for(let e=0;e<this.subs.length;++e)this.subs[e].Remove();this.bodyDiv&&this.bodyDiv.Remove(),this.btnResize.Remove(),this.independentPanelWrapper.indePanelRender.Remove(this)}RenderPost(e){let t;this.ComputeBoundary(),t=n.mK.HexToCanvasColor(h.X.theme.mainMenuNormal,this.transparent),this.isMinimized||h.X.RoundedRectFillWithColorMainMenu(e,this.title,this.boundarVecs,this.filletR,0,this.isOver,this.isSelected,t),h.X.TopRoundedRectFill(e,this.title,s.h9.GetBoundaryByVecWidthHeight(this.vec,this.width,this.HeadHeight),this.filletR,0,this.isOver,this.isSelected,this.theme.colSelectedBG,!1),this.RenderHeadTitle(e),this.isMinimized||this.RenderBodyContent(e),this.hasSubMenu&&this.subMenu.RenderPost(e),this.RenderBtnHorizontal(e)}RenderBtnHorizontal(e){}RenderHeadTitle(e){e.save(),e.fillStyle="#ffffff",e.textBaseline="top",e.textAlign="center",e.font="100 12px Arial",e.shadowBlur=0,e.shadowOffsetY=0,e.shadowOffsetX=0,e.fillText(this.title,this.vec.x+.5*this.width,this.vec.y+.5*this.HeadHeight-7),e.restore()}RenderBodyContent(e){}RemovePost(){this.isActive=!1}InitCanvas(e){this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.zIndex="0",e.appendChild(this.canvas),this.canvas.id="NCanvasRenderer",this.canvas.className="njslab-web-core-canvas-renderer",this.canvas.style.pointerEvents="none",this.ctx=this.canvas.getContext("2d"),this.canvas.width=e.clientWidth,this.canvas.height=e.clientHeight,this.btnResize.ResizePropagation=(e,t)=>{this.canvas.width=e,this.canvas.height=t},this.LoopIndependentCanvas(this.ctx)}LoopIndependentCanvas(e){this.isActive&&(e.clearRect(0,0,this.canvas.width,this.canvas.height),requestAnimationFrame(()=>{this.LoopIndependentCanvas(e)}),this.RenderIndependentCanvas(e))}RenderIndependentCanvas(e){}ResizeCanvas(e,t){this.canvas.width=e,this.canvas.height=t}constructor(e,t=0,i=0,s=300,n=170,h=!1){super(e),this.subs=[],this.isActive=!0,this.independentPanelWrapper=e,this.title="njslabSandbox V3",this.width=s,this.height=n,0===t&&0===i?(this.vec.x=.5*e.width-.5*this.width,this.vec.y=.5*e.height-.5*this.height):(this.vec.x=t,this.vec.y=i),this.filletR=7,this.InitTop(),h&&(this.bodyDiv=new d.k(this,this.vec.x,this.vec.y+this.HeadHeight,this.width,this.height-this.HeadHeight)),this.InitCanvas(this.bodyDiv.div)}}},81231:function(e,t,i){i.d(t,{k:function(){return n}});var s=i(8483);class n{static GetZIndex(){return(n.zIndex--).toString()}set textCol(e){this._textCol=e,this.div.style.color=this._textCol}set textAlign(e){this._textAlign=e,this.div.style.textAlign=this._textAlign}get Width(){return this.width}set Width(e){this.width=e,this.UpdateSize()}get Height(){return this.height}set Height(e){this.height=e,this.UpdateSize()}get content(){return this._content}set content(e){this._content=e,this.div.textContent=e}Hide(e){e?this.Remove():this.GetDivBaseContainer()}Translate(e,t){this.vec.x+=e,this.vec.y+=t,this.div.style.left=this.vec.x+this.xOff0+"px",this.div.style.top=this.vec.y+this.yOff0+"px"}UpdateSize(){this.div.style.width=this.width-this.xOff1+"px",this.div.style.height=this.height-this.host.HeadHeight-this.yOff1+"px"}Remove(){this.divHost.removeChild(this.div)}GetDivBaseContainer(){let e=document.createElement("div");return e.style.position="absolute",e.style.pointerEvents="none",e.id="indePanel",e.style.height=this.height-this.yOff1+"px",e.style.width=this.width-this.xOff1+"px",e.style.left=this.vec.x+this.xOff0+"px",e.style.top=this.vec.y+this.yOff0+"px",e.style.zIndex="10",e.style.padding="6px",e.style.paddingLeft="6px",e.style.wordWrap="break-word",e.style.overflow="hidden",e.textContent=this._content,e.style.font="13px Arial",e.style.fontWeight="lighter",e.style.lineHeight="23px",e.style.textAlign=this._textAlign,e.style.color=this.textCol,this.divHost.appendChild(e),this.div=e,e}constructor(e,t,i,n,h){this.xOff0=5,this.yOff0=5,this.xOff1=25,this.yOff1=25,this._textAlign="left",this.host=e,this.vec=new s.h9(t,i),this.width=n,this.height=h,this.divHost=this.host.independentPanelWrapper.nUI.divHost,this.GetDivBaseContainer(),this.textAlign="left"}}n.zIndex=9999},60074:function(e,t,i){i.d(t,{E:function(){return h}});var s=i(8483),n=i(96228);class h extends n.J{MouseDown(){this.independentPanelWrapper.stopPropagation=!0,this.host.Remove()}RenderPost(e){this.RenderTitle(e)}RenderTitle(e){e.save(),this.isOver?e.fillStyle="black":e.fillStyle="white",e.textBaseline="top",e.textAlign="center",e.font="300 17px Sans-serif",e.fillText(this.title,this.vec.x+.5*this.width-3,this.vec.y+.5*this.height-8),e.shadowBlur=0,e.shadowOffsetY=0,e.shadowOffsetX=0,e.restore()}constructor(e,t,i){super(e.independentPanelWrapper),this.title="X",this.vec=new s.h9(t,i),this.host=e,this.width=e.HeadHeight,this.height=e.HeadHeight}}},30930:function(e,t,i){i.d(t,{g:function(){return h}});var s=i(8483),n=i(96228);class h extends n.J{MouseDown(){this.independentPanelWrapper.stopPropagation=!0,this.host.HasSubMenu=!this.host.HasSubMenu}MouseDrag(e){}Move(e,t){}RenderPost(e){e.save(),this.isOver?e.strokeStyle="black":e.strokeStyle="white",e.beginPath(),e.lineWidth=2;let t=.5*this.host.HeadHeight;e.moveTo(this.vec.x,this.vec.y+t-5),e.lineTo(this.vec.x+10,this.vec.y+t-5),e.moveTo(this.vec.x,this.vec.y+t),e.lineTo(this.vec.x+10,this.vec.y+t),e.moveTo(this.vec.x,this.vec.y+t+5),e.lineTo(this.vec.x+10,this.vec.y+t+5),e.closePath(),e.stroke(),e.restore()}constructor(e,t,i){super(e.independentPanelWrapper),this.title="-",this.vec=new s.h9(t,i),this.host=e,this.width=20,this.height=20}}},34297:function(e,t,i){i.d(t,{$:function(){return h}});var s=i(8483),n=i(96228);class h extends n.J{MouseDown(){this.independentPanelWrapper.stopPropagation=!0,this.host.IsMinimized=!this.host.IsMinimized}MouseDrag(e){}Move(e,t){}RenderPost(e){e.save(),this.isOver?e.strokeStyle="black":e.strokeStyle="white",e.beginPath(),e.lineWidth=2,this.host.isMinimized?e.rect(this.vec.x,this.vec.y+.5*this.host.HeadHeight-5,10,10):(e.moveTo(this.vec.x,this.vec.y+.5*this.host.HeadHeight),e.lineTo(this.vec.x+10,this.vec.y+.5*this.host.HeadHeight)),e.closePath(),e.stroke(),e.restore()}constructor(e,t,i){super(e.independentPanelWrapper),this.title="-",this.vec=new s.h9(t,i),this.host=e,this.width=20,this.height=20}}},71879:function(e,t,i){i.d(t,{C:function(){return h}});var s=i(8483),n=i(96228);class h extends n.J{MouseDown(){this.independentPanelWrapper.stopPropagation=!0}Translate(e){if(!this.isMoveable)return;let t=e.x-e.preX,i=e.y-e.preY,s=this.host.width+t,n=this.host.height+i;s<this.host.minWidth&&(t=0),n<this.host.minHeight&&(i=0),this.host.Width+=t,this.host.Height+=i,this.ResizePropagation(this.host.Width,this.host.Height),this.vec.x+=t,this.vec.y+=i;for(let e=0;e<this.boundarVecs.length;++e)this.boundarVecs[e].x+=t,this.boundarVecs[e].y+=i}ResizePropagation(e,t){}RenderPost(e){this.isHidden||(e.save(),this.isOver?e.strokeStyle="black":e.strokeStyle="gray",e.beginPath(),e.moveTo(this.vec.x+this.width-5,this.vec.y),e.lineTo(this.vec.x,this.vec.y+this.height-5),e.stroke(),e.restore())}constructor(e,t,i,n,h){super(e.independentPanelWrapper),this.title="/",this.vec=new s.h9(t,i),this.host=e,this.width=n,this.height=h}}},3833:function(e,t,i){i.d(t,{q:function(){return r}});var s=i(8483),n=i(75681),h=i(96228);class o extends h.J{Translate(e){if(!this.isMoveable)return}TranslateByXY(e,t){this.vec.x+=e,this.vec.y+=t}MouseDown(){this.independentPanelWrapper.stopPropagation=!0,this.indeSubPanel.independentPanel.divInput&&(this.indeSubPanel.independentPanel.divInput.value=this.title),this.BindingMouseDownPost(this.title)}BindingMouseDownPost(e){this.indeSubPanel.independentPanel.ExecuteCommand(e)}RenderPost(e){if(this.vec.x=this.indeSubPanel.vec.x+5,this.vec.y=this.indeSubPanel.vec.y+5+this.index*this.height,!this.isHidden){if(this.IsHover){let t=this.theme.colBG;n.X.RoundedRectFill(e,s.h9.GetBoundaryByVecWidthHeight(this.vec,this.width,this.height),3,0,t)}this.IsHover?e.fillStyle=this.theme.colSelectedBG:e.fillStyle="#ffffff",e.textBaseline="middle",e.textAlign="left",e.font="lighter 11px Arial",e.shadowBlur=0,e.shadowOffsetY=0,e.shadowOffsetX=0,this.strings=this.FragmentText(e,this.title.slice(0,25),this.width-5),e.fillText(this.strings[0],this.vec.x+2,this.vec.y+.5*this.HeadHeight-2)}}FragmentText(e,t,i){let s=t.split(" "),n=[],h="";if(e.measureText(t).width<i)return[t];for(;s.length>0;){for(var o=!1;e.measureText(s[0]).width>=i;){var r=s[0];s[0]=r.slice(0,-1),o?s[1]=r.slice(-1)+s[1]:(o=!0,s.splice(1,0,r.slice(-1)))}e.measureText(h+s[0]).width<i?h+=s.shift()+" ":(n.push(h),h=""),0===s.length&&n.push(h)}return n}constructor(e,t,i){super(e.independentPanel.independentPanelWrapper),this.list=[],this.index=0,this.indeSubPanel=e,this.index=t,this.width=this.indeSubPanel.width-10,this.height=this.indeSubPanel.textHeight,this.title=i,this.stringSlice=i,this.vec=new s.h9(this.indeSubPanel.vec.x+5,this.indeSubPanel.vec.y+5+this.index*this.height),this.isMoveable=!1,this.isHidden=!0}}class r{Add(e){this.list.push(new o(this,this.list.length,e))}get IsHidden(){return this.isHidden}set IsHidden(e){this.isHidden=e;for(let t=0;t<this.list.length;++t)this.list[t].IsHidden=e}Remove(){for(let e=0;e<this.list.length;++e)this.list[e].Remove()}Translate(e,t){this.vec.x+=e,this.vec.y+=t;for(let i=0;i<this.list.length;++i)this.list[i].TranslateByXY(e,t)}RenderPost(e){if(this.isHidden)return;this.height=this.list.length*this.textHeight+10;let t=this.independentPanel.theme.colSelectedBG;n.X.RoundedRectFill(e,s.h9.GetBoundaryByVecWidthHeight(this.vec,this.width,this.height),3,0,t);for(let t=0;t<this.list.length;++t)this.list[t].RenderPost(e)}constructor(e){this.list=[],this.textHeight=20,this.xOff=-5,this.yOff=10,this.isHidden=!0,this.independentPanel=e,this.theme=this.independentPanel.theme,this.vec=new s.h9(this.independentPanel.vec.x+this.independentPanel.width+this.xOff,this.independentPanel.vec.y+this.yOff),this.width=150,this.height=100}}},96228:function(e,t,i){i.d(t,{J:function(){return n}});var s=i(8483);class n{setTopColorTheme(e){if("red"===e){this.colorTop=this.independentPanelWrapper.nUI.asset.themeRed.colSelectedBG;return}if("blue"===e){this.colorTop=this.independentPanelWrapper.nUI.asset.themeBlue.colSelectedBG;return}if("purple"===e){this.colorTop=this.independentPanelWrapper.nUI.asset.themePurple.colSelectedBG;return}if("green"===e){this.colorTop=this.independentPanelWrapper.nUI.asset.themeGreen.colSelectedBG;return}if("orange"===e){this.colorTop=this.independentPanelWrapper.nUI.asset.themeOrange.colSelectedBG;return}if("gray"===e){this.colorTop=this.independentPanelWrapper.nUI.asset.themeGray.colSelectedBG;return}if("darkGray"===e){this.colorTop=this.independentPanelWrapper.nUI.asset.themeDarkgray.colSelectedBG;return}if("black"===e){this.colorTop=this.independentPanelWrapper.nUI.asset.themeBlack.colSelectedBG;return}}Remove(){this.RemovePost(),this.independentPanelWrapper.indePanelRender.Remove(this)}RemovePost(){}DeepCopy(){}Dummy(){}get IsHidden(){return this.isHidden}set IsHidden(e){this.isHidden=e}get IsHover(){return this.isOver}set IsHover(e){this.isOver=e}get IsMinimized(){return this.isMinimized}set IsMinimized(e){this.isMinimized=e}get HasSubMenu(){return this.hasSubMenu}set HasSubMenu(e){this.hasSubMenu=e}get IsSelected(){return this.isSelected}set IsSelected(e){this.isSelected=e}get Width(){return this.width}set Width(e){this.width=e}get Height(){return this.height}set Height(e){this.height=e}GetBoundaryVecs(){let e=.5*this.height,t=.5*this.width,i=new s.h9(this.vec.x-t,this.vec.y-e),n=new s.h9(this.vec.x+t,this.vec.y+e);return this.boundarVecs=s.h9.GetBoundingVecs(i,n),this.boundarVecs}ComputeBoundary(){return this.boundarVecs=[],this.boundarVecs.push(new s.h9(this.vec.x,this.vec.y,this.vec.z)),this.boundarVecs.push(new s.h9(this.vec.x+this.width,this.vec.y,this.vec.z)),this.boundarVecs.push(new s.h9(this.vec.x+this.width,this.vec.y+this.height,this.vec.z)),this.boundarVecs.push(new s.h9(this.vec.x,this.vec.y+this.height,this.vec.z)),this.boundarVecs}ComputeBoundaryHead(){return this.boundarVecs=[],this.boundarVecs.push(new s.h9(this.vec.x,this.vec.y,this.vec.z)),this.boundarVecs.push(new s.h9(this.vec.x+this.width,this.vec.y,this.vec.z)),this.boundarVecs.push(new s.h9(this.vec.x+this.width,this.vec.y+this.HeadHeight,this.vec.z)),this.boundarVecs.push(new s.h9(this.vec.x,this.vec.y+this.HeadHeight,this.vec.z)),this.boundarVecs}ComputeBoundaryPanel(){return this.boundarVecs=[],this.boundarVecs.push(new s.h9(this.vec.x,this.vec.y+this.HeadHeight,this.vec.z)),this.boundarVecs.push(new s.h9(this.vec.x+this.width,this.vec.y+this.HeadHeight,this.vec.z)),this.boundarVecs.push(new s.h9(this.vec.x+this.width-15,this.vec.y+this.height-15,this.vec.z)),this.boundarVecs.push(new s.h9(this.vec.x,this.vec.y+this.height,this.vec.z)),this.boundarVecs}IsMouseInside(e,t){let i=s.h9.IsInsideOfVecs(new s.h9(e,t),this.ComputeBoundaryHead());return this.isOver=i,i}IsMouseInsidePanel(e,t){return s.h9.IsInsideOfVecs(new s.h9(e,t),this.ComputeBoundaryPanel())}Translate(e){if(!this.isMoveable)return;let t=e.x-e.preX,i=e.y-e.preY;this.vec.x+=t,this.vec.y+=i;for(let e=0;e<this.boundarVecs.length;++e)this.boundarVecs[e].x+=t,this.boundarVecs[e].y+=i}Move(e,t){this.vec.x=e,this.vec.y=t}HideToogle(){this.IsHidden=!this.IsHidden,this.Hide()}ExecuteCommand(e){console.log(e+"binding needed")}Hide(){}MouseDown(){}MouseUp(e){}MouseDrag(e){this.Translate(e)}MouseDouble(e){}MouseRight(e){}Render(e){this.isHidden||this.RenderPost(e)}constructor(e,t=100,i=20){this.minHeight=100,this.minWidth=200,this.HeadHeight=25,this.isMinimized=!1,this.hasSubMenu=!1,this.independentPanelWrapper=e,this.independentPanelWrapper.indePanelRender.Add(this),this.theme=e.theme,this.width=t,this.height=i,this.xOff=10,this.yOff=50,this.isHidden=!1,this.isSelected=!1,this.isOver=!1,this.isMoveable=!0,this.style=0,this.filletR=3,this.isRender=!0,this.vec=new s.h9(100,100,0),this.title="Drawing Block",this.boundarVecs=[],this.transparent=1}}},74087:function(e,t,i){i.d(t,{$h:function(){return d},zH:function(){return x},vk:function(){return M},Uh:function(){return v}});let s=e=>{let t=e.length;for(;t>1;){let i=Math.floor(Math.random()*(--t+1)),s=e[i];e[i]=e[t],e[t]=s}},n=(e,t,i)=>e.substr(0,t)+i+e.substr(t+i.length),h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t=t||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let i="";for(let s=0;s<e;s++){let e=Math.floor(Math.random()*t.length);i+=t.substring(e,e+1)}return i},o=e=>{let t=e.length,i=Array(t);for(var s=0;s<t;++s)i[s]=s;return i.sort((t,i)=>e[t]<e[i]?-1:e[t]>e[i]?1:0),i};class r{constructor(e="NJnamju6178607084"){new a(e)}}class a{Evloution(){let e=this.InitPopulation(this.numPopulation),t=0;for(let i=0;i<this.numGeneration;++i){let s=this.ComputeFitness(e,this.keyword),n=s.scoreOrdered,h=s.popOrdered;if(t=s.pred_len,1===n[0])return this.history.push(i+" Iter, Done: "+h[0]+", Score: "+n[0]),this.historyScore.push(n[0]),h[0];let o=this.Selection(h,this.best_sample,this.lucky_few,t),r=this.ComputeReproductions(o,this.n_child);e=this.ComputeMutations(r,this.chance_of_mutation),this.history.push(i+" Iter: "+h[0]+", Score: "+n[0]),this.historyScore.push(n[0])}return""}ComputeMutations(e,t){for(let i=0;i<e.length;++i)Math.random()<t&&(e[i]=this.Mutation(e[i]));return e}Mutation(e){let t=h(5),i=Math.fround(Math.random()*e.length);return n(e,i,t[0])}ComputeReproductions(e,t){let i=[];for(let s=0;s<e.length/2;++s)for(let n=0;n<t;++n)i.push(this.Reproduction(e[s],e[e.length-1-s]));return i}Reproduction(e,t){let i="";for(let s=0;s<this.length;++s).499>Math.random()?i+=e[s]:i+=t[s];return i}Selection(e,t,i,n){let o=[];for(let i=0;i<t;++i)o.push(e[i]);for(let s=0;s<i;++s){let i=Math.floor(Math.random()*(e.length-t));o.push(e[i+t])}for(;o.length<t+i;)o.push(h(n));return s(o),o}ComputeFitness(e,t){let i=-1,s=[],n=[];for(let h=0;h<e.length;++h){let o=e[h],r=this.Fitness(t,o);r>0&&(i=o.length),s.push(o),n.push(r)}let h=o(n),r=[],a=[];for(let e=h.length-1;e>-1;--e)r.push(s[h[e]]),a.push(n[h[e]]);return{popOrdered:r,scoreOrdered:a,pred_len:i}}Fitness(e,t){let i=0;if(e.length!==t.length)return i;i+=.5;for(let s=0;s<e.length;++s)e[s]===t[s]&&(i+=1);return i/(e.length+.5)}InitPopulation(e){let t=[];for(let i=0;i<e;++i)t.push(h(this.length));return t}constructor(e="00110001"){this.history=[],this.historyScore=[],this.keyword="00110001",this.numGeneration=5e3,this.numPopulation=100,this.best_sample=20,this.lucky_few=0,this.n_child=5,this.length=10,this.chance_of_mutation=.5,this.keyword=e,this.length=e.length,this.history=[]}}class l{constructor(e=4){new d(e);for(let e=0;e<100;++e);}}class c{mutation(){for(let e=0;e<this.param.length;++e)if(.5>Math.random()){let t=Math.random()-.5;this.param[e]+=t}}toString(){let e="";for(let t=0;t<this.param.length;++t)e+=this.param[t]+", ";return e}constructor(e){this.param=[],this.param=[];for(let t=0;t<e;++t)this.param.push((Math.random()-.5)*10)}}class d{evolution(e){let t=this.InitPopulation(this.numPopulation);for(let i=0;i<this.numGeneration;++i){let s=this.ComputeFitness(t,e),n=s.scoreOrdered,h=s.popOrdered;if(n[0]>.98)return this.history.push(i+" Iter Done,"+h[0].toString()+", Score: "+n[0]),this.historyScore.push(n[0]),h[0];let o=this.Selection(h,this.best_sample,this.lucky_few),r=this.ComputeReproductions(o,this.n_child);t=this.ComputeMutations(r,this.chance_of_mutation),this.history.push(i+" Iter, "+h[0].toString()+", Score: "+n[0]),this.historyScore.push(n[0])}}ComputeMutations(e,t){for(let i=0;i<e.length;++i)Math.random()<t&&e[i].mutation();return e}ComputeReproductions(e,t){let i=[];for(let s=0;s<e.length/2;++s)for(let n=0;n<t;++n)i.push(this.Reproduction(e[s],e[e.length-1-s]));return i}Reproduction(e,t){let i=new c(this.length);for(let s=0;s<e.param.length;++s).499>Math.random()?i.param[s]+=e.param[s]:i.param[s]+=t.param[s];return i}Selection(e,t,i){let s=[];for(let i=0;i<t;++i)s.push(e[i]);for(let n=0;n<i;++n){let i=Math.floor(Math.random()*(e.length-t));s.push(e[i+t])}for(;s.length<t+i;)s.push(new c(this.length));return u(s),s}ComputeFitness(e,t){let i=[],s=[];for(let n=0;n<e.length;++n){let h=e[n],o=this.Fitness(h,t);i.push(h),s.push(o)}let n=o(s),h=[],r=[];for(let e=n.length-1;e>-1;--e)h.push(i[n[e]]),r.push(s[n[e]]);return{popOrdered:h,scoreOrdered:r}}Fitness(e,t){return t(e)}InitPopulation(e){let t=[];for(let i=0;i<e;++i)t.push(new c(this.length));return t}constructor(e){this.history=[],this.historyScore=[],this.numGeneration=200,this.numPopulation=100,this.best_sample=20,this.lucky_few=0,this.n_child=5,this.length=10,this.chance_of_mutation=.5,this.length=e,this.history=[]}}let u=e=>{let t=e.length;for(;t>1;){let i=Math.floor(Math.random()*(--t+1)),s=e[i];e[i]=e[t],e[t]=s}};var p=i(66565);i(38995);class m{generateIndividual(){for(let e=0;e<this.pathsOrigin.length;++e)this.setCityInit(e,this.pathsOrigin[e]);(0,p.TV)(this.nodes)}setCityInit(e,t){this.nodes[e]=t,this.fitness=0,this.distance=0}getFitness(){return 0===this.fitness&&(this.fitness=1/this.getDistance()),this.fitness}getDistance(){if(0===this.distance){let e=0;for(let t=0;t<this.nodes.length;++t){let i=this.nodes[t];if(i){let s;(s=t===this.nodes.length-1?this.nodes[0]:this.nodes[t+1])&&(e+=i.distanceTo(s))}}this.distance=e}return this.distance}containsCity(e){for(let t=0;t<this.nodes.length;++t)if(this.nodes[t]===e)return!0;return!1}constructor(e){this.pathsOrigin=[],this.nodes=[],this.fitness=0,this.distance=0,this.pathsOrigin=e,this.nodes=[],this.fitness=0,this.distance=0;for(let e=0;e<this.pathsOrigin.length;++e)this.nodes.push(void 0)}}class g{getFittestPath(){let e=this.paths[0];for(let t=0;t<this.paths.length;++t){let i=this.paths[t];e&&i&&e.getFitness()<=i.getFitness()&&(e=i)}return e}constructor(e,t,i){this.paths=[],this.paths=[];for(let e=0;e<t;++e)this.paths.push(void 0);if(i)for(let i=0;i<t;++i){let t=new m(e);t.generateIndividual(),this.paths[i]=t}}}class y{evolvePopulation(e){let t=new g(this.nodes,e.paths.length,!1),i=0;if(this.elitism){let s=e.getFittestPath();s&&(t.paths[0]=s,i=1)}for(let s=i;s<t.paths.length;++s){let i=this.tournamentSelection(e),n=this.tournamentSelection(e);if(i&&n){let e=this.crossover(i,n);t.paths[s]=e}}for(let e=i;e<t.paths.length;++e){let i=t.paths[e];i&&this.mutate(i)}return t}crossover(e,t){let i=new m(this.nodes),s=Math.floor(Math.random()*e.nodes.length),n=Math.floor(Math.random()*e.nodes.length);for(let t=0;t<i.nodes.length;++t){let h=e.nodes[t];h&&(s<n&&t>s&&t<n?i.setCityInit(t,h):s>n&&!1==(t<s&&t>n)&&i.setCityInit(t,h))}for(let e=0;e<t.nodes.length;++e){let s=t.nodes[e];if(s&&!1===i.containsCity(s)){for(let e=0;e<i.nodes.length;++e)if(void 0===i.nodes[e]){i.setCityInit(e,s);break}}}return i}mutate(e){for(let t=0;t<e.nodes.length;++t)if(Math.random()<this.mutationRate){let i=Math.floor(e.nodes.length*Math.random()),s=e.nodes[t],n=e.nodes[i];s&&n&&(e.setCityInit(i,s),e.setCityInit(t,n))}}tournamentSelection(e){let t=new g(this.nodes,this.nodeSize,!1);for(let i=0;i<this.nodeSize;++i){let s=Math.floor(Math.random()*e.paths.length);t.paths[i]=e.paths[s]}return t.getFittestPath()}constructor(e,t=.05,i=5,s=!0){this.nodes=e,this.mutationRate=t,this.nodeSize=i,this.elitism=s}}class f{static Init(){return new f}mouseClick(e,t){this.posByMouse.push([e,t]),this.init()}init(){let e=this.posByMouse.length;this.placesAll=[];for(let e=0;e<this.posByMouse.length;++e);this.pop=new g(this.placesAll,5,!0),this.pathFittest=this.pop.getFittestPath(),this.pathFittest,this.ga=new y(this.placesAll,.1,e)}optimize(){if(this.pop=this.ga.evolvePopulation(this.pop),this.pathFittest=this.pop.getFittestPath(),this.pathFittest){let e=this.pathFittest.getDistance();e<this.cost&&(this.cost=e),this.timer++}}render(e,t){if(this.optimize(),e.fillStyle="#ff0000",e.strokeStyle="#ff0000",e.lineWidth=1,t)for(let t=0;t<this.placesAll.length;++t){e.beginPath();let i=this.placesAll[t];e.arc(i.vec.x,i.vec.y,10,0,2*Math.PI),e.closePath(),e.fill()}if(this.pathFittest)for(let t=0;t<this.pathFittest.nodes.length-1;t++){let i=this.pathFittest.nodes[t],s=this.pathFittest.nodes[t+1];i&&s&&(e.beginPath(),e.moveTo(i.vec.x,i.vec.y),e.lineTo(s.vec.x,s.vec.y),e.closePath(),e.stroke())}for(let t=0;t<this.placesAll.length;++t){e.beginPath();let i=this.placesAll[t];e.arc(i.vec.x,i.vec.y,10,0,2*Math.PI),e.closePath(),e.fill()}}constructor(e=0){this.pathFittest=void 0,this.timer=0,this.cost=Number.MAX_VALUE,this.posByMouse=[],this.random=(0,p.MX)(e),this.posByMouse=[];for(let e=0;e<5;++e){let e=700*this.random()+50,t=700*this.random()+50;this.posByMouse.push([e,t])}this.init()}}let x=e=>new r(e),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;return new l(e)},M=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0],f.Init()}},38995:function(e,t,i){i.d(t,{d:function(){return n},h:function(){return s}});class s{static GetVecforGraphicApp(e,t,i,n,h,o){let r=new s(0,0,0);return r.long=e,r.lat=t,r.ele=i,r.proX=n,r.proY=h,r.proZ=o,r}static DeepCopy(e){let t=new s(e.x,e.y,e.z);return t.long=e.long,t.lat=e.lat,t.proX=e.proX,t.proY=e.proY,t.proZ=e.proZ,t}static Dot(e,t){return e.x*t.x+e.y*t.y+e.z*t.z}static GetAreayConvexGPS(e){let t,i,s,n=[],h=[];for(let t=0;t<e.length;++t)n.push(e[t].lat),h.push(e[t].long);n.push(e[0].lat),h.push(e[0].long);let o=0,r=0;for(let e=n.length;e--;)o+=n[e],r+=h[e];let a=o/n.length,l=r/h.length,c=Array(n.length);for(let e=n.length;e--;)n[e]-=a,h[e]-=l,h[e]>=0&&n[e]>=0?c[e]=Math.abs(180*Math.atan(n[e]/h[e])/Math.PI):h[e]<0&&n[e]>=0?c[e]=90+Math.abs(180*Math.atan(n[e]/h[e])/Math.PI):h[e]<0&&n[e]<0?c[e]=180+Math.abs(180*Math.atan(n[e]/h[e])/Math.PI):h[e]>=0&&n[e]<0&&(c[e]=270+Math.abs(180*Math.atan(n[e]/h[e])/Math.PI));for(let e=0;e<c.length;e++)for(let e=0;e<c.length-1;e++)t=c[e],i=n[e],s=h[e],t<c[e+1]&&(c[e]=c[e+1],n[e]=n[e+1],h[e]=h[e+1],c[e+1]=t,n[e+1]=i,h[e+1]=s);let d=0,u=0;for(let e=0;e<n.length;e++)e!==n.length-1?(d+=n[e]*h[e+1],u+=h[e]*n[e+1]):(d+=n[e]*h[0],u+=h[e]*n[0]);return(d-u)/2*20}static ScalarRev_V_S_OUT(e,t,i){return i.x=t*e.x,i.y=t*e.y,i.z=t*e.z,i}static Add(e,t){return new s(e.x+t.x,e.y+t.y,e.z+t.z)}static Sub(e,t){return new s(e.x-t.x,e.y-t.y,e.z-t.z)}static Clone(e){return s.DeepCopy(e)}static ZAxis(){return new s(0,0,1)}static YAxis(){return new s(0,1,0)}static Zero(){return new s(0,0,0)}static Origin(){return new s(0,0,0)}static Plus(e,t){return new s(e.x+t.x,e.y+t.y,e.z+t.z)}static Scale(e,t){return new s(e.x*t,e.y*t,e.z*t)}static MidVec(e,t){return new s((e.x+t.x)*.5,(e.y+t.y)*.5,(e.z+t.z)*.5)}static CompareTwoVectors(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z}static CompareTwoVectorsByGeoPos(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return e.long.toFixed(i)===t.long.toFixed(i)&&e.lat.toFixed(i)===t.lat.toFixed(i)}static Length(e){return Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z)}static Normalize(e){let t=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);return new s(e.x/t,e.y/t,e.z/t)}static GetArea(e){let t=0;for(let i=0,s=e.length;i<s;i++){let s=e[i].x,n=e[i===e.length-1?0:i+1].y,h=e[i===e.length-1?0:i+1].x,o=e[i].y;t+=s*n*.5,t-=h*o*.5}return Math.abs(t)}static GetAreaByLongLat(e){let t=0;for(let i=0;i<e.length-1;i++)t+=(e[i].long-e[i+1].long)*(e[i].lat+e[i+1].lat);return .5*t}static GetGeoArea(e){let t=0;for(let i=0;i<e.length-1;i++)t+=(e[i].x-e[i+1].x)*(e[i].y+e[i+1].y);return Math.abs(t*=.5)}static GetGeoAreaBbyLongLat(e){let t=0;for(let i=0;i<e.length-1;i++)t+=(e[i].long-e[i+1].long)*(e[i].lat+e[i+1].lat);return Math.abs(t*=.5)}static GetIndexByShortDistance(e,t){let i=-1,n=Number.MAX_SAFE_INTEGER;for(let h=0;h<t.length;++h){let o=s.Distance(e,t[h]);o<n&&(n=o,i=h)}return[i,n]}static Distance(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)+(e.z-t.z)*(e.z-t.z))}static DistanceByArray(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])+(e[2]-t[2])*(e[2]-t[2]))}static Distance2(e,t){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)+(e.z-t.z)*(e.z-t.z)}static DotProduct(e,t){return e.x*t.x+e.y*t.y+e.z*t.z}static CrossProduct(e,t){return new s(e.y*t.z-e.z*t.y,e.z*t.x-e.x*t.z,e.x*t.y-e.y*t.x)}static DivideByNum(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,n=[],h=(t.x-e.x)/i,o=(t.y-e.y)/i,r=(t.z-e.z)/i;for(let t=0;t<i;++t){let i=e.x+h*t,a=e.y+o*t,l=e.z+r*t;n.push(new s(i,a,l))}return n}static KMeterFromGeoGPSPos(e,t){let i=t.lat*Math.PI/180-e.lat*Math.PI/180,s=t.long*Math.PI/180-e.long*Math.PI/180,n=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat*Math.PI/180)*Math.cos(t.lat*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return 2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))*6378.137}static KMeterByTwoGeoPos(e,t,i,n){let h=new s(0,0);h.long=e,h.lat=t;let o=new s(0,0);return o.long=i,o.lat=n,s.KMeterFromGeoGPSPos(h,o)}static KMeterFromGPSPos(e,t){let i=t.y*Math.PI/180-e.y*Math.PI/180,s=t.x*Math.PI/180-e.x*Math.PI/180,n=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.y*Math.PI/180)*Math.cos(t.y*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return 2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))*6378.137}static Get1KM_Long_ByGeoUnit(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=new s(e,t,0),n=0;for(let e=0;e<1e4;++e){let e=s.KMeterFromGPSPos(i,new s(i.x+n,i.y,i.z));if(1<e&&e<1.001)return i.x+n;n+=1e-5}return -1}static Get1KM_lat_ByGeoUnit(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=new s(e,t,0),n=0;for(let e=0;e<1e4;++e){let e=s.KMeterFromGPSPos(i,new s(i.x,i.y+n,i.z));if(1<e&&e<1.001)return i.y+n;n+=1e-5}return -1}static Get1KM_Lat_Long_GeoUnit(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=s.Get1KM_Long_ByGeoUnit(e,t),n=s.Get1KM_lat_ByGeoUnit(e,t);return new s(i,n,0)}static CalculateFalloff(e,t,i,s){let n=t.Sub(e).Length();return i*Math.exp(-s*n*n)*n}static Attractor(e,t,i,s){let n=t.Sub(e);n.Unitize();let h=n.Length();return n.Mult(i*Math.exp(-s*h*h))}static Explosion(e,t,i,s){let n=t.Sub(e);n.Unitize();let h=n.Length();return n.Mult(-(i*Math.exp(-s*h*h)))}static Rotor(e,t,i,n){return t.Sub(e).Unitize(),s.Origin()}static GetAngleBetween(e,t){return Math.atan2(t.x-e.x,t.y-e.y)}static GetCosAngleByTwoVectors(e,t){return s.DotProduct(s.Normalize(e),s.Normalize(t))}static GetAngleByTwoVectorsRadian(e,t){return Math.acos(s.GetCosAngleByTwoVectors(e,t))}static GetAngleByTwoVectors(e,t){return 180*s.GetAngleByTwoVectorsRadian(e,t)/Math.PI}static GetRotationByWorldCoodinate(e){let t=new s(1,0,0);return s.GetAngleByTwoVectors(t,e)}static GetRotationByWorldCoodinateByTwo(e,t){let i=t.Sub(e),n=new s(1,0,0);return i.y>0?-1*s.GetAngleByTwoVectors(n,i):s.GetAngleByTwoVectors(n,i)}static ComputeDotProducts(e){let t=[];for(let i=0;i<e.length;++i)if(i<e.length-1){let n=new s(e[i].x,e[i].y,e[i].z),h=new s(e[i+1].x,e[i+1].y,e[i+1].z);h.x-=n.x,h.y-=n.y,h.z-=n.z;let o=s.DotProduct(new s(1,0,0),s.Normalize(h));t.push(o)}else{let n=new s(e[i].x,e[i].y,e[i].z),h=new s(e[0].x,e[0].y,e[0].z);h.x-=n.x,h.y-=n.y,h.z-=n.z;let o=s.DotProduct(new s(1,0,0),s.Normalize(h));t.push(o)}return t}static ComputeDotProductsWithCenter(e){let t=s.GetCenterVecFromVecs(e),i=[];for(let n=0;n<e.length;++n){let h,o;n<e.length-1?(h=new s(e[n].x-t.x,e[n].y-t.y,e[n].z-t.z),o=new s(e[n+1].x-t.x,e[n+1].y-t.y,e[n+1].z-t.z)):(h=new s(e[n].x-t.x,e[n].y-t.y,e[n].z-t.z),o=new s(e[0].x-t.x,e[0].y-t.y,e[0].z-t.z));let r=s.DotProduct(s.Normalize(h),s.Normalize(o));i.push(r)}return i}static GetXYDimForCircle(e){let t=s.GetCenterVecFromVecs(e),i=0,n=0,h=e.length;for(let s=0;s<h;++s)i+=Math.abs(e[s].x-t.x),n+=Math.abs(e[s].y-t.y);return[i/(h+=2),n/h]}static DistanceMouseWithTwoVecs(e,t,i){t.x+=1e-5,t.y+=1e-5;let n=s.GetBoundingVecs(t,i),h=s.GetCloseVec(t,i,e.x,e.y,n,!0);return s.Distance(e,h)}static GetCloseVec(e,t,i,n,h){let o=!(arguments.length>5)||void 0===arguments[5]||arguments[5],r=new s(e.x,e.y,e.z),a=new s(t.x,t.y,t.z).Sub(r),l=new s(i,n,0).Sub(r);a.Unitize();let c=r.Add(a.Mult(l.DotProduct(a)));return o?s.IsInsideOfVecs(c,h)?c:e.Distance(c)<t.Distance(c)?new s(e.x,e.y,e.z):new s(t.x,t.y,t.z):c}static GetBoundingVecs(e,t){let i=[],n=0,h=0,o=new s(n=e.x<t.x?e.x:t.x,e.y<t.y?e.y:t.y,e.z<t.z?e.z:t.z),r=new s(n=e.x>t.x?e.x:t.x,e.y>t.y?e.y:t.y,e.z>t.z?e.z:t.z);return i.push(new s(o.x,o.y,o.z)),i.push(new s(r.x,o.y,o.z)),i.push(new s(r.x,r.y,o.z)),i.push(new s(o.x,r.y,o.z)),i}static GetBoundaryByVecWidthHeight(e,t,i){let n=[];return n.push(new s(e.x,e.y,e.z)),n.push(new s(e.x+t,e.y,e.z)),n.push(new s(e.x+t,e.y+i,e.z)),n.push(new s(e.x,e.y+i,e.z)),n}static GetBoundingByVecs(e){let t=[],i=Number.MAX_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER,h=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(let t=0;t<e.length;++t)i>e[t].x&&(i=e[t].x),n>e[t].y&&(n=e[t].y),h>e[t].z&&(h=e[t].z),o<e[t].x&&(o=e[t].x),r<e[t].y&&(r=e[t].y),a<e[t].z&&(a=e[t].z);return t.push(new s(i,n,h)),t.push(new s(o,r,a)),t}static GetMinMaxVecFromVecs(e){let t=Number.MAX_VALUE,i=Number.MAX_VALUE,n=Number.MAX_VALUE,h=Number.MIN_VALUE,o=Number.MIN_VALUE,r=Number.MIN_VALUE;for(let s of e)t>s.x&&(t=s.x),i>s.y&&(i=s.y),n>s.z&&(n=s.z),h<s.x&&(h=s.x),o<s.y&&(o=s.y),r<s.z&&(r=s.z);return[new s(t,i,n),new s(h,o,r)]}static RemoveVecsWithinDis(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=[];for(let i=0;i<e.length-1;++i){let n=e[i];if(!1!==n.d)for(let h=i+1;h<e.length;++h)s.Distance(n,e[h])<t&&(e[h].d=!1)}for(let t=0;t<e.length;++t)!0===e[t].d&&i.push(e[t]);return i}static IsInsideOfVecsWtihVecs(e,t){for(let i=0;i<e.length;i++)if(!s.IsInsideOfVecs(e[i],t))return!1;return!0}static IsInsideOfVecs(e,t){let i=e.x,s=e.y,n=!1;for(let e=0,h=t.length-1;e<t.length;h=e++){let o=t[e].x,r=t[e].y,a=t[h].x,l=t[h].y;r>s!=l>s&&i<(a-o)*(s-r)/(l-r)+o&&(n=!n)}return n}static IsInsideOfVecsByArray(e,t){let i=e[0],s=e[1],n=!1;for(let e=0,h=t.length-1;e<t.length;h=e++){let o=t[e][0],r=t[e][1],a=t[h][0],l=t[h][1];r>s!=l>s&&i<(a-o)*(s-r)/(l-r)+o&&(n=!n)}return n}static IsInsideOfVecsByCrossing(e,t,i,n){return!!(this.IsInsideOfVecs(new s(e.x-.5*t,e.y-.5*i),n)||this.IsInsideOfVecs(new s(e.x+.5*t,e.y-.5*i),n)||this.IsInsideOfVecs(new s(e.x+.5*t,e.y+.5*i),n)||this.IsInsideOfVecs(new s(e.x-.5*t,e.y+.5*i),n))}static IsInsideOfVecsByConcaveHull(e,t){}static IsInsideOfVecsByConvexHull(e,t){return t=s.ConvexHull(t),!!s.IsInsideOfVecs(e,t)}static ConvexHull(e){e.sort(function(e,t){return e.x===t.x?e.y-t.y:e.x-t.x});let t=[];for(let i=0;i<e.length;i++){for(;t.length>=2&&0>=s.Cross(t[t.length-2],t[t.length-1],e[i]);)t.pop();t.push(e[i])}let i=[];for(let t=e.length-1;t>=0;t--){for(;i.length>=2&&0>=s.Cross(i[i.length-2],i[i.length-1],e[t]);)i.pop();i.push(e[t])}i.pop(),t.pop();for(let e=0;e<i.length;++e)t.push(i[e]);return t}static Cross(e,t,i){return(t.x-e.x)*(i.y-e.y)-(t.y-e.y)*(i.x-e.x)}static Cross_A_B_OUT(e,t,i){let s=e.x,n=e.y,h=e.z,o=t.x,r=t.y,a=t.z;return i.x=n*a-h*r,i.y=h*o-s*a,i.z=s*r-n*o,i}static CheckBoundIntersection(e,t,i){for(let s=0;s<e.length-1;++s)if(this.CheckLineIntersection(e[s],e[s+1],t,i))return!0;return!1}static CheckLineIntersection(e,t,i,n){let h=0,o=0,r=0,a=0,l=0,c=!1,d=!1;h=(n.y-i.y)*(t.x-e.x)-(n.x-i.x)*(t.y-e.y);let u=new s(0,0,0);return 0===h?void 0:(o=e.y-i.y,r=e.x-i.x,a=(n.x-i.x)*o-(n.y-i.y)*r,l=(t.x-e.x)*o-(t.y-e.y)*r,o=a/h,r=l/h,u.x=e.x+o*(t.x-e.x),u.y=e.y+o*(t.y-e.y),o>0&&o<1&&(c=!0),r>0&&r<1&&(d=!0),c&&d)?u:void 0}static CheckConvexity(e){let t,i,n;if(e.length<3)return!1;let h=0;for(let o=0;o<e.length;o++){t=e[o];let r=e[(o+1)%e.length];if(i=new s(r.x-t.x,r.y-t.y,0),n=e[(o+2)%e.length],0===o)h=n.x*i.y-n.y*i.x+i.x*t.y-i.y*t.x;else{let e=n.x*i.y-n.y*i.x+i.x*t.y-i.y*t.x;if(e>0&&h<0||e<0&&h>0)return!1}}return!0}static MoveVecs(e,t){let i=[];for(let n=0;n<e.length;++n)i.push(s.MoveVec(e[n],t));return i}static MoveVec(e,t){return new s(e.x+t.x,e.y+t.y,e.z+t.z)}static RotateVecsLoal(e,t){let i=s.GetCenterVecFromVecs(e),n=new s(-i.x,-i.y,-i.z),h=s.MoveVecs(e,n);return h=s.RotateVecs(h,t),h=s.MoveVecs(h,i)}static RotateVecs(e,t){let i=[];for(let n=0;n<e.length;++n)i.push(s.RotateVec(e[n],t));return i}static RotateVec(e,t){let i=Math.cos(.017453292519943278*t),n=Math.sin(.017453292519943278*t);return new s(e.x*i-e.y*n,e.x*n+e.y*i,e.z)}static GetCenterVecFromVecs(e){let t=new s(0,0,0);for(let i=0,s=e.length;i<s;++i)t.Add(e[i]);return t.Mult(1/e.length),t}static MidVecGeo(e,t){return new s(e.x+.5*t.x,e.y+.5*t.y,0)}static GetVecFromIntersection(e){let t=[];for(let i=0;i<e.length-1;++i)for(let n=i+1;n<e.length-1;++n){let h=s.CheckLineIntersection(e[i],e[i+1],e[n],e[n+1]);h&&t.push(h)}if(0!==t.length)return t}static between(e,t,i){return e-s.eps<=t&&t<=i+s.eps}static segment_intersection(e,t,i,n){var h=((e.x*t.y-e.y*t.x)*(i.x-n.x)-(e.x-t.x)*(i.x*n.y-i.y*n.x))/((e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x)),o=((e.x*t.y-e.y*t.x)*(i.y-n.y)-(e.y-t.y)*(i.x*n.y-i.y*n.x))/((e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x));if(isNaN(h)||isNaN(o))return!1;if(e.x>=t.x){if(!s.between(t.x,h,e.x))return!1}else if(!s.between(e.x,h,t.x))return!1;if(e.y>=t.y){if(!s.between(t.y,o,e.y))return!1}else if(!s.between(e.y,o,t.y))return!1;if(i.x>=n.x){if(!s.between(n.x,h,i.x))return!1}else if(!s.between(i.x,h,n.x))return!1;if(i.y>=n.y){if(!s.between(n.y,o,i.y))return!1}else if(!s.between(i.y,o,n.y))return!1;return new s(h,o)}Set(e,t,i){return this.x=e,this.y=t,this.z=i,new s(this.x,this.y,this.z)}Scale(e){return this.x*=e,this.y*=e,this.z*=e,new s(this.x,this.y,this.z)}Mult(e){return this.x*=e,this.y*=e,this.z*=e,new s(this.x,this.y,this.z)}DivByVal(e){return this.x/=e,this.y/=e,this.z/=e,new s(this.x,this.y,this.z)}DivByVec(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,new s(this.x,this.y,this.z)}Add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,new s(this.x,this.y,this.z)}Sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,new s(this.x,this.y,this.z)}Negate(){return this.x*=-1,this.y*=-1,this.z*=-1,new s(this.x,this.y,this.z)}Equals(e){return this.x===e.x&&this.y===e.y&&this.z===e.z}Clone(){let e=new s(this.x,this.y,this.z);return e.long=this.long,e.lat=this.lat,e.ele=this.ele,e.proX=this.proX,e.proY=this.proY,e.proZ=this.proZ,e}Length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}Unitize(){return this.Normalize()}IsOverlap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return this.Distance(e)<t}Normalize(){let e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return this.x=this.x/e,this.y=this.y/e,this.z=this.z/e,new s(this.x,this.y,this.z)}Distance(e){return s.Distance(new s(this.x,this.y,this.z),e)}DistanceByArray(e){return s.DistanceByArray([this.x,this.y,this.z],e)}Distance2(e){return s.Distance2(new s(this.x,this.y,this.z),e)}DotProduct(e){return s.DotProduct(new s(this.x,this.y,this.z),e)}CrossProduct(e){return s.CrossProduct(new s(this.x,this.y,this.z),e)}SquareLength(){let e=s.Length(new s(this.x,this.y,this.z));return e*e}FadeExp(e,t){let i=new s(this.x,this.y,this.z);return i.Sub(e),Math.exp(-t*i.SquareLength())}GetAngle(){return Math.atan2(this.y,this.x)}GetAngleDegree(){return 180*this.GetAngle()/Math.PI}ToJSON(){}ToString(){return"x: "+this.x.toFixed(3).toString()+" , y: "+this.y.toFixed(3).toString()+", z: "+this.z.toFixed(3).toString()}ToFloat32Array(){return new Float32Array([this.x,this.y,this.z])}constructor(e,t,i=0){this.x=0,this.y=0,this.z=0,this.w=0,this.long=0,this.lat=0,this.ele=0,this.proX=0,this.proY=0,this.proZ=0,this.alt=0,this.d=!0,this.isModified=!1,this.color="#000000",this.isVisited=!1,this.x=e,this.y=t,this.z=i}}s.eps=1e-7,s.origin=new s(0,0,0);let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=Math.atan2(e.x,e.y);i-=.5*Math.PI,i*=-1;let n=new s(0,0,0);return n.x=Math.cos(i),n.y=Math.sin(i),n.z=Math.tan(0),n.Unitize(),n.Mult(t),n}},35389:function(e,t,i){i.d(t,{h:function(){return s}});class s{static GetVecforGraphicApp(e,t,i,n,h,o){let r=new s(0,0,0);return r.long=e,r.lat=t,r.ele=i,r.proX=n,r.proY=h,r.proZ=o,r}static DeepCopy(e){let t=new s(e.x,e.y,e.z);return t.long=e.long,t.lat=e.lat,t.proX=e.proX,t.proY=e.proY,t.proZ=e.proZ,t}static Dot(e,t){return e.x*t.x+e.y*t.y+e.z*t.z}static GetAreayConvexGPS(e){let t,i,s,n=[],h=[];for(let t=0;t<e.length;++t)n.push(e[t].lat),h.push(e[t].long);n.push(e[0].lat),h.push(e[0].long);let o=0,r=0;for(let e=n.length;e--;)o+=n[e],r+=h[e];let a=o/n.length,l=r/h.length,c=Array(n.length);for(let e=n.length;e--;)n[e]-=a,h[e]-=l,h[e]>=0&&n[e]>=0?c[e]=Math.abs(180*Math.atan(n[e]/h[e])/Math.PI):h[e]<0&&n[e]>=0?c[e]=90+Math.abs(180*Math.atan(n[e]/h[e])/Math.PI):h[e]<0&&n[e]<0?c[e]=180+Math.abs(180*Math.atan(n[e]/h[e])/Math.PI):h[e]>=0&&n[e]<0&&(c[e]=270+Math.abs(180*Math.atan(n[e]/h[e])/Math.PI));for(let e=0;e<c.length;e++)for(let e=0;e<c.length-1;e++)t=c[e],i=n[e],s=h[e],t<c[e+1]&&(c[e]=c[e+1],n[e]=n[e+1],h[e]=h[e+1],c[e+1]=t,n[e+1]=i,h[e+1]=s);let d=0,u=0;for(let e=0;e<n.length;e++)e!==n.length-1?(d+=n[e]*h[e+1],u+=h[e]*n[e+1]):(d+=n[e]*h[0],u+=h[e]*n[0]);return(d-u)/2*20}static ScalarRev_V_S_OUT(e,t,i){return i.x=t*e.x,i.y=t*e.y,i.z=t*e.z,i}static Add(e,t){return new s(e.x+t.x,e.y+t.y,e.z+t.z)}static Sub(e,t){return new s(e.x-t.x,e.y-t.y,e.z-t.z)}static Clone(e){return s.DeepCopy(e)}static ZAxis(){return new s(0,0,1)}static YAxis(){return new s(0,1,0)}static Zero(){return new s(0,0,0)}static Origin(){return new s(0,0,0)}static Plus(e,t){return new s(e.x+t.x,e.y+t.y,e.z+t.z)}static Scale(e,t){return new s(e.x*t,e.y*t,e.z*t)}static MidVec(e,t){return new s(e.x+(t.x-e.x)*.5,e.y+(t.y-e.y)*.5,e.z+(t.z-e.z)*.5)}static CompareTwoVectors(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z}static CompareTwoVectorsByGeoPos(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return e.long.toFixed(i)===t.long.toFixed(i)&&e.lat.toFixed(i)===t.lat.toFixed(i)}static Length(e){return Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z)}static Normalize(e){let t=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);return t<1e-4?new s(e.x,e.y,e.z):new s(e.x/t,e.y/t,e.z/t)}static GetArea(e){let t=0;for(let i=0,s=e.length;i<s;i++){let s=e[i].x,n=e[i===e.length-1?0:i+1].y,h=e[i===e.length-1?0:i+1].x,o=e[i].y;t+=s*n*.5,t-=h*o*.5}return Math.abs(t)}static GetAreaByLongLat(e){let t=0;for(let i=0;i<e.length-1;i++)t+=(e[i].long-e[i+1].long)*(e[i].lat+e[i+1].lat);return .5*t}static GetGeoArea(e){let t=0;for(let i=0;i<e.length-1;i++)t+=(e[i].x-e[i+1].x)*(e[i].y+e[i+1].y);return Math.abs(t*=.5)}static GetGeoAreaBbyLongLat(e){let t=0;for(let i=0;i<e.length-1;i++)t+=(e[i].long-e[i+1].long)*(e[i].lat+e[i+1].lat);return Math.abs(t*=.5)}static GetIndexByShortDistance(e,t){let i=-1,n=Number.MAX_SAFE_INTEGER;for(let h=0;h<t.length;++h){let o=s.Distance(e,t[h]);o<n&&(n=o,i=h)}return[i,n]}static Distance(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)+(e.z-t.z)*(e.z-t.z))}static DistanceByArray(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])+(e[2]-t[2])*(e[2]-t[2]))}static Distance2(e,t){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)+(e.z-t.z)*(e.z-t.z)}static DotProduct(e,t){return e.x*t.x+e.y*t.y+e.z*t.z}static CrossProduct(e,t){return new s(e.y*t.z-e.z*t.y,e.z*t.x-e.x*t.z,e.x*t.y-e.y*t.x)}static DivideByNum(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,n=[],h=(t.x-e.x)/i,o=(t.y-e.y)/i,r=(t.z-e.z)/i;for(let t=0;t<i;++t){let i=e.x+h*t,a=e.y+o*t,l=e.z+r*t;n.push(new s(i,a,l))}return n}static KMeterFromGeoGPSPos(e,t){let i=t.lat*Math.PI/180-e.lat*Math.PI/180,s=t.long*Math.PI/180-e.long*Math.PI/180,n=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat*Math.PI/180)*Math.cos(t.lat*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return 2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))*6378.137}static KMeterByTwoGeoPos(e,t,i,n){let h=new s(0,0);h.long=e,h.lat=t;let o=new s(0,0);return o.long=i,o.lat=n,s.KMeterFromGeoGPSPos(h,o)}static KMeterFromGPSPos(e,t){let i=t.y*Math.PI/180-e.y*Math.PI/180,s=t.x*Math.PI/180-e.x*Math.PI/180,n=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.y*Math.PI/180)*Math.cos(t.y*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return 2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))*6371.0088}static Get1KM_Long_ByGeoUnit(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=new s(e,t,0),n=0;for(let e=0;e<1e4;++e){let e=s.KMeterFromGPSPos(i,new s(i.x+n,i.y,i.z));if(1<e&&e<1.001)return i.x+n;n+=1e-5}return -1}static Get1KM_lat_ByGeoUnit(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=new s(e,t,0),n=0;for(let e=0;e<1e4;++e){let e=s.KMeterFromGPSPos(i,new s(i.x,i.y+n,i.z));if(1<e&&e<1.001)return i.y+n;n+=1e-5}return -1}static Get1KM_Lat_Long_GeoUnit(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=s.Get1KM_Long_ByGeoUnit(e,t),n=s.Get1KM_lat_ByGeoUnit(e,t);return new s(i,n,0)}static CalculateFalloff(e,t,i,n){let h=s.Sub(t,e).Length();return i*Math.exp(-n*h*h)*h}static Attractor(e,t,i,n){let h=s.Sub(t,e),o=h.Length();return h.Unitize(),h.Mult(i*Math.exp(-n*o*o))}static Explosion(e,t,i,n){let h=s.Sub(t,e),o=h.Length();return h.Unitize(),h.Mult(-(i*Math.exp(-n*o*o)))}static Rotor(e,t,i,n){return s.Sub(t,e).Unitize(),s.Origin()}static GetAngleBetween(e,t){return Math.atan2(t.x-e.x,t.y-e.y)}static GetCosAngleByTwoVectors(e,t){return s.DotProduct(s.Normalize(e),s.Normalize(t))}static GetAngleByTwoVectorsRadian(e,t){return Math.acos(s.GetCosAngleByTwoVectors(e,t))}static GetAngleByTwoVectors(e,t){return 180*s.GetAngleByTwoVectorsRadian(e,t)/Math.PI}static GetRotationByWorldCoodinate(e){let t=new s(1,0,0);return s.GetAngleByTwoVectors(t,e)}static GetRotationByWorldCoodinateByTwo(e,t){let i=t.Sub(e),n=new s(1,0,0);return i.y>0?-1*s.GetAngleByTwoVectors(n,i):s.GetAngleByTwoVectors(n,i)}static ComputeDotProducts(e){let t=[];for(let i=0;i<e.length;++i)if(i<e.length-1){let n=new s(e[i].x,e[i].y,e[i].z),h=new s(e[i+1].x,e[i+1].y,e[i+1].z);h.x-=n.x,h.y-=n.y,h.z-=n.z;let o=s.DotProduct(new s(1,0,0),s.Normalize(h));t.push(o)}else{let n=new s(e[i].x,e[i].y,e[i].z),h=new s(e[0].x,e[0].y,e[0].z);h.x-=n.x,h.y-=n.y,h.z-=n.z;let o=s.DotProduct(new s(1,0,0),s.Normalize(h));t.push(o)}return t}static ComputeDotProductsWithCenter(e){let t=s.GetCenterVecFromVecs(e),i=[];for(let n=0;n<e.length;++n){let h,o;n<e.length-1?(h=new s(e[n].x-t.x,e[n].y-t.y,e[n].z-t.z),o=new s(e[n+1].x-t.x,e[n+1].y-t.y,e[n+1].z-t.z)):(h=new s(e[n].x-t.x,e[n].y-t.y,e[n].z-t.z),o=new s(e[0].x-t.x,e[0].y-t.y,e[0].z-t.z));let r=s.DotProduct(s.Normalize(h),s.Normalize(o));i.push(r)}return i}static GetXYDimForCircle(e){let t=s.GetCenterVecFromVecs(e),i=0,n=0,h=e.length;for(let s=0;s<h;++s)i+=Math.abs(e[s].x-t.x),n+=Math.abs(e[s].y-t.y);return[i/(h+=2),n/h]}static DistanceMouseWithTwoVecs(e,t,i){t.x+=1e-5,t.y+=1e-5;let n=s.GetBoundingVecs(t,i),h=s.GetCloseVec(t,i,e.x,e.y,n,!0);return s.Distance(e,h)}static GetCloseVec(e,t,i,n,h){let o=!(arguments.length>5)||void 0===arguments[5]||arguments[5],r=new s(e.x,e.y,e.z),a=new s(t.x,t.y,t.z).Sub(r),l=new s(i,n,0).Sub(r);a.Unitize();let c=r.Add(a.Mult(l.DotProduct(a)));return o?s.IsInsideOfVecs(c,h)?c:e.Distance(c)<t.Distance(c)?new s(e.x,e.y,e.z):new s(t.x,t.y,t.z):c}static GetBoundingVecs(e,t){let i=[],n=0,h=0,o=new s(n=e.x<t.x?e.x:t.x,e.y<t.y?e.y:t.y,e.z<t.z?e.z:t.z),r=new s(n=e.x>t.x?e.x:t.x,e.y>t.y?e.y:t.y,e.z>t.z?e.z:t.z);return i.push(new s(o.x,o.y,o.z)),i.push(new s(r.x,o.y,o.z)),i.push(new s(r.x,r.y,o.z)),i.push(new s(o.x,r.y,o.z)),i}static GetBoundaryByVecWidthHeight(e,t,i){let n=[];return n.push(new s(e.x,e.y,e.z)),n.push(new s(e.x+t,e.y,e.z)),n.push(new s(e.x+t,e.y+i,e.z)),n.push(new s(e.x,e.y+i,e.z)),n}static GetBoundingByVecs(e){let t=[],i=Number.MAX_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER,h=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(let t=0;t<e.length;++t)i>e[t].x&&(i=e[t].x),n>e[t].y&&(n=e[t].y),h>e[t].z&&(h=e[t].z),o<e[t].x&&(o=e[t].x),r<e[t].y&&(r=e[t].y),a<e[t].z&&(a=e[t].z);return t.push(new s(i,n,h)),t.push(new s(o,r,a)),t}static GetMinMaxVecFromVecs(e){let t=Number.MAX_VALUE,i=Number.MAX_VALUE,n=Number.MAX_VALUE,h=Number.MIN_VALUE,o=Number.MIN_VALUE,r=Number.MIN_VALUE;for(let s of e)t>s.x&&(t=s.x),i>s.y&&(i=s.y),n>s.z&&(n=s.z),h<s.x&&(h=s.x),o<s.y&&(o=s.y),r<s.z&&(r=s.z);return[new s(t,i,n),new s(h,o,r)]}static RemoveVecsWithinDis(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=[];for(let i=0;i<e.length-1;++i){let n=e[i];if(!1!==n.d)for(let h=i+1;h<e.length;++h)s.Distance(n,e[h])<t&&(e[h].d=!1)}for(let t=0;t<e.length;++t)!0===e[t].d&&i.push(e[t]);return i}static IsInsideOfVecsWtihVecs(e,t){for(let i=0;i<e.length;i++)if(!s.IsInsideOfVecs(e[i],t))return!1;return!0}static IsInsideOfVecWithHeight(e,t,i,s){return t.x<e.x&&e.x<t.x+i&&t.y<e.y&&e.y<t.y+s}static orientation(e,t,i){let s=(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y);return 0===s?0:s>0?1:2}static onSegment(e,t,i){return!!(t.x<=Math.max(e.x,i.x)&&t.x>=Math.min(e.x,i.x)&&t.y<=Math.max(e.y,i.y)&&t.y>=Math.min(e.y,i.y))}static isIntersect(e,t,i,s){let n=this.orientation(e,t,i),h=this.orientation(e,t,s),o=this.orientation(i,s,e),r=this.orientation(i,s,t);return!!(n!==h&&o!==r||0===n&&this.onSegment(e,i,t)||0===h&&this.onSegment(e,s,t)||0===o&&this.onSegment(i,e,s)||0===r&&this.onSegment(i,t,s))}static IsInsideOfVecs(e,t){let i=e.x,s=e.y,n=!1;for(let e=0,h=t.length-1;e<t.length;h=e++){let o=t[e].x,r=t[e].y,a=t[h].x,l=t[h].y;r>s!=l>s&&i<(a-o)*(s-r)/(l-r)+o&&(n=!n)}return n}static IsInsideOfVecsByArray(e,t){let i=e[0],s=e[1],n=!1;for(let e=0,h=t.length-1;e<t.length;h=e++){let o=t[e][0],r=t[e][1],a=t[h][0],l=t[h][1];r>s!=l>s&&i<(a-o)*(s-r)/(l-r)+o&&(n=!n)}return n}static IsInsideOfVecsByCrossing(e,t,i,n){return!!(this.IsInsideOfVecs(new s(e.x-.5*t,e.y-.5*i),n)||this.IsInsideOfVecs(new s(e.x+.5*t,e.y-.5*i),n)||this.IsInsideOfVecs(new s(e.x+.5*t,e.y+.5*i),n)||this.IsInsideOfVecs(new s(e.x-.5*t,e.y+.5*i),n))}static IsInsideOfVecsByConcaveHull(e,t){}static IsInsideOfVecsByConvexHull(e,t){return t=s.ConvexHull(t),!!s.IsInsideOfVecs(e,t)}static ConvexHull(e){e.sort(function(e,t){return e.x===t.x?e.y-t.y:e.x-t.x});let t=[];for(let i=0;i<e.length;i++){for(;t.length>=2&&0>=s.Cross(t[t.length-2],t[t.length-1],e[i]);)t.pop();t.push(e[i])}let i=[];for(let t=e.length-1;t>=0;t--){for(;i.length>=2&&0>=s.Cross(i[i.length-2],i[i.length-1],e[t]);)i.pop();i.push(e[t])}i.pop(),t.pop();for(let e=0;e<i.length;++e)t.push(i[e]);return t}static Cross(e,t,i){return(t.x-e.x)*(i.y-e.y)-(t.y-e.y)*(i.x-e.x)}static Cross_A_B_OUT(e,t,i){let s=e.x,n=e.y,h=e.z,o=t.x,r=t.y,a=t.z;return i.x=n*a-h*r,i.y=h*o-s*a,i.z=s*r-n*o,i}static CheckBoundIntersection(e,t,i){for(let s=0;s<e.length-1;++s)if(this.CheckLineIntersection(e[s],e[s+1],t,i))return!0;return!1}static CheckLineIntersection(e,t,i,n){let h=0,o=0,r=0,a=0,l=0,c=!1,d=!1;h=(n.y-i.y)*(t.x-e.x)-(n.x-i.x)*(t.y-e.y);let u=new s(0,0,0);return 0===h?void 0:(o=e.y-i.y,r=e.x-i.x,a=(n.x-i.x)*o-(n.y-i.y)*r,l=(t.x-e.x)*o-(t.y-e.y)*r,o=a/h,r=l/h,u.x=e.x+o*(t.x-e.x),u.y=e.y+o*(t.y-e.y),o>0&&o<1&&(c=!0),r>0&&r<1&&(d=!0),c&&d)?u:void 0}static CheckConvexity(e){let t,i,n;if(e.length<3)return!1;let h=0;for(let o=0;o<e.length;o++){t=e[o];let r=e[(o+1)%e.length];if(i=new s(r.x-t.x,r.y-t.y,0),n=e[(o+2)%e.length],0===o)h=n.x*i.y-n.y*i.x+i.x*t.y-i.y*t.x;else{let e=n.x*i.y-n.y*i.x+i.x*t.y-i.y*t.x;if(e>0&&h<0||e<0&&h>0)return!1}}return!0}static MoveVecs(e,t){let i=[];for(let n=0;n<e.length;++n)i.push(s.MoveVec(e[n],t));return i}static MoveVec(e,t){return new s(e.x+t.x,e.y+t.y,e.z+t.z)}static RotateVecsLoal(e,t){let i=s.GetCenterVecFromVecs(e),n=new s(-i.x,-i.y,-i.z),h=s.MoveVecs(e,n);return h=s.RotateVecs(h,t),h=s.MoveVecs(h,i)}static RotateVecs(e,t){let i=[];for(let n=0;n<e.length;++n)i.push(s.RotateVec(e[n],t));return i}static Reflect(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.x*=-1,e.y*=-1,e.z*=-1;let n=this.DotProduct(e,t);return new s((2*n*t.x-e.x)*i,(2*n*t.y-e.y)*i,(2*n*t.z-e.z)*i)}static RotateVec(e,t){let i=Math.cos(.017453292519943278*t),n=Math.sin(.017453292519943278*t);return new s(e.x*i-e.y*n,e.x*n+e.y*i,e.z)}static GetCenterVecFromVecs(e){let t=new s(0,0,0);for(let i=0,s=e.length;i<s;++i)t.Add(e[i]);return t.Mult(1/e.length),t}static MidVecGeo(e,t){return new s(e.x+(t.x+e.x)*.5,e.y+(t.y+e.y)*.5,e.z+(t.z+e.z)*.5)}static GetVecFromIntersection(e){let t=[];for(let i=0;i<e.length-1;++i)for(let n=i+1;n<e.length-1;++n){let h=s.CheckLineIntersection(e[i],e[i+1],e[n],e[n+1]);h&&t.push(h)}if(0!==t.length)return t}static between(e,t,i){return e-s.eps<=t&&t<=i+s.eps}static segment_intersection(e,t,i,n){var h=((e.x*t.y-e.y*t.x)*(i.x-n.x)-(e.x-t.x)*(i.x*n.y-i.y*n.x))/((e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x)),o=((e.x*t.y-e.y*t.x)*(i.y-n.y)-(e.y-t.y)*(i.x*n.y-i.y*n.x))/((e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x));if(isNaN(h)||isNaN(o))return!1;if(e.x>=t.x){if(!s.between(t.x,h,e.x))return!1}else if(!s.between(e.x,h,t.x))return!1;if(e.y>=t.y){if(!s.between(t.y,o,e.y))return!1}else if(!s.between(e.y,o,t.y))return!1;if(i.x>=n.x){if(!s.between(n.x,h,i.x))return!1}else if(!s.between(i.x,h,n.x))return!1;if(i.y>=n.y){if(!s.between(n.y,o,i.y))return!1}else if(!s.between(i.y,o,n.y))return!1;return new s(h,o)}Set(e,t,i){return this.x=e,this.y=t,this.z=i,new s(this.x,this.y,this.z)}Scale(e){return this.x*=e,this.y*=e,this.z*=e,new s(this.x,this.y,this.z)}Mult(e){return this.x*=e,this.y*=e,this.z*=e,new s(this.x,this.y,this.z)}DivByVal(e){return this.x/=e,this.y/=e,this.z/=e,new s(this.x,this.y,this.z)}DivByVec(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,new s(this.x,this.y,this.z)}Add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,new s(this.x,this.y,this.z)}Sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,new s(this.x,this.y,this.z)}Negate(){return this.x*=-1,this.y*=-1,this.z*=-1,new s(this.x,this.y,this.z)}Equals(e){return this.x===e.x&&this.y===e.y&&this.z===e.z}Clone(){let e=new s(this.x,this.y,this.z);return e.long=this.long,e.lat=this.lat,e.ele=this.ele,e.proX=this.proX,e.proY=this.proY,e.proZ=this.proZ,e}Length(){let e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return e<1e-5?1e-5:e}Unitize(){return this.Normalize()}IsOverlap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return this.Distance(e)<t}Normalize(){let e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return e<1e-4||(this.x=this.x/e,this.y=this.y/e,this.z=this.z/e),this}Distance(e){return s.Distance(new s(this.x,this.y,this.z),e)}DistanceByArray(e){return s.DistanceByArray([this.x,this.y,this.z],e)}Distance2(e){return s.Distance2(new s(this.x,this.y,this.z),e)}DotProduct(e){return s.DotProduct(new s(this.x,this.y,this.z),e)}CrossProduct(e){return s.CrossProduct(new s(this.x,this.y,this.z),e)}SquareLength(){let e=s.Length(new s(this.x,this.y,this.z));return e*e}FadeExp(e,t){let i=new s(this.x,this.y,this.z);return i.Sub(e),Math.exp(-t*i.SquareLength())}GetAngle(){return Math.atan2(this.y,this.x)}GetAngleDegree(){return 180*this.GetAngle()/Math.PI}ToJSON(){}ToString(){return"x: "+this.x.toFixed(3).toString()+" , y: "+this.y.toFixed(3).toString()+", z: "+this.z.toFixed(3).toString()}ToFloat32Array(){return new Float32Array([this.x,this.y,this.z])}constructor(e,t,i=0){this.x=0,this.y=0,this.z=0,this.w=0,this.long=0,this.lat=0,this.ele=0,this.proX=0,this.proY=0,this.proZ=0,this.alt=0,this.d=!0,this.isModified=!1,this.color="#000000",this.isVisited=!1,this.x=e,this.y=t,this.z=i}}s.eps=1e-7,s.origin=new s(0,0,0)},45672:function(e,t,i){var s,n,h,o;i.d(t,{Sm:function(){return p},ew:function(){return u},kz:function(){return s},mK:function(){return r},zD:function(){return m}}),(h=s||(s={})).SOURCE_OVER="source-over",h.SOURCE_IN="source-in",h.SOURCE_OUT="source-out",h.SOURCE_ATOP="source-atop",h.COPY="copy",h.DESTAINATION_OVER="destination-over",h.DESTAINATION_IN="destination-in",h.DESTAINATION_OUT="destination-out",h.DESTAINATION_ATOP="destination-atop",h.LIGHTER="lighter",h.MULTIPLY="multiply",h.SCREEN="screen",h.OVERLAY="overlay",h.DARKEN="darken",h.LIGHTEN="lighten",h.COLOR_DODGE="color-dodge",h.COLOR_BURN="color-burn",h.HARD_LIGHT="hard-light",h.SOFT_LIGHT="soft-light",h.DIFFERENCE="difference",h.EXCLUSION="exclusion",h.HUE="hue",h.SATURATION="saturation",h.COLOR="color",h.LUMINOSITY="luminosity",(o=n||(n={})).aqua="#00ffff",o.azure="#f0ffff",o.beige="#f5f5dc",o.black="#000000",o.blue="#0000ff",o.brown="#a52a2a",o.cyan="#00ffff",o.darkblue="#00008b",o.darkcyan="#008b8b",o.darkgrey="#a9a9a9",o.darkgreen="#006400",o.darkkhaki="#bdb76b",o.darkmagenta="#8b008b",o.darkolivegreen="#556b2f",o.darkorange="#ff8c00",o.darkorchid="#9932cc",o.darkred="#8b0000",o.darksalmon="#e9967a",o.darkviolet="#9400d3",o.fuchsia="#ff00ff",o.gold="#ffd700",o.green="#008000",o.indigo="#4b0082",o.khaki="#f0e68c",o.lightblue="#add8e6",o.lightcyan="#e0ffff",o.lightgreen="#90ee90",o.lightgrey="#d3d3d3",o.lightpink="#ffb6c1",o.lightyellow="#ffffe0",o.lime="#00ff00",o.magenta="#ff00ff",o.maroon="#800000",o.navy="#000080",o.olive="#808000",o.orange="#ffa500",o.pink="#ffc0cb",o.purple="#800080",o.violet="#800080",o.red="#ff0000",o.silver="#c0c0c0",o.white="#ffffff",o.yellow="#ffff00";class r{static ShiftBlendingMode(e){let t=e%r.modeListGL.length;return r.modeListGL[t]}static RGBtoGray(e,t,i){return .2126*e+.7152*t+.0722*i}static RGB_String_by_A(e,t){let i=e.split(",");return"".concat(i[0],",").concat(i[1],",").concat(i[2],",").concat(t,")")}static HSVtoRGB(e,t,i,s){let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;(void 0===t||isNaN(t))&&(t=2);let i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],s=0,n="";for(e=Math.floor(e);e>0;)s=e%16,e=Math.floor((e-s)/16),n=i[s]+n;for(;n.length<t;)n="0"+n;return n},h=e/60-Math.floor(e/60),o=i*(1-t),r=i*(1-h*t),a=i*(1-(1-h)*t),l=i,c=a,d=o;switch(Math.floor(e/60)%6){case 1:l=r,c=i,d=o;break;case 2:l=o,c=i,d=a;break;case 3:l=o,c=r,d=i;break;case 4:l=a,c=o,d=i;break;case 5:l=i,c=o,d=r}return s?"rgba( ".concat(Math.round(255*l),",").concat(Math.round(255*c),",").concat(Math.round(255*d),",").concat(s,")"):"#"+n(255*l)+n(255*c)+n(255*d)}static GetRandomHex(){return r.RGBToHex(Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random()))}static GetRandomRGB(){return"rgb(".concat(Math.round(255*Math.random()),",").concat(Math.round(255*Math.random()),",").concat(Math.round(255*Math.random()),")")}static GetRandomRGBA(){return"rgb(".concat(Math.round(255*Math.random()),",").concat(Math.round(255*Math.random()),",").concat(Math.round(255*Math.random()),",1)")}static GetRandomRGBArray(){return[Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())]}static GetRandomColor(){let e="#";for(let t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}static RGBToHex(e,t,i){return"#"+[Math.round(e),Math.round(t),Math.round(i)].map(e=>{let t=e.toString(16);return 1===t.length?"0"+t:t}).join("")}static HexToCanvasColor(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i=i||"1.0";let n=parseInt((e=e.replace("#","")).substring(0,2),16),h=parseInt(e.substring(2,4),16),o=parseInt(e.substring(4,6),16);if(s){let e=.58*n+.17*h+.8*o;t="rgba("+e+","+e+","+e+","+i+")"}else t="rgba("+n+","+h+","+o+","+i+")";return t}static Dec2hex(e){return(e+65536).toString(16).substr(-4).toUpperCase()}static Hex2Dec(e){return parseInt(e,16)}static GetRandomColorByLightness(e,t){let i=r.HexToRGBANormalized(e),s=r.RGB2HSL(i[0],i[1],i[2]);return r.HSL2RGB(s[0],s[1],s[2]+t)}static RGB_by_A(e,t){let i=e.split(",");return i[0]+","+i[1]+","+i[2]+","+t+")"}static HexToRGBA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=parseInt((e=e.replace("#","")).substring(0,2),16),n=parseInt(e.substring(2,4),16),h=parseInt(e.substring(4,6),16);if(!i)return[s,n,h,t];{let e=.58*s+.17*n+.8*h;return[e,e,e,t]}}static LABComputation(){}static lab2rgb(e,t,i){let s=(e+16)/116,n=t/500+s,h=s-i/200,o,r,a=0;return o=3.2406*(n=.95047*(n*n*n>.008856?n*n*n:(n-16/116)/7.787))+-1.5372*(s=1*(s*s*s>.008856?s*s*s:(s-16/116)/7.787))+-.4986*(h=1.08883*(h*h*h>.008856?h*h*h:(h-16/116)/7.787)),r=-.9689*n+1.8758*s+.0415*h,a=.0557*n+-.204*s+1.057*h,[255*Math.max(0,Math.min(1,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:12.92*o)),255*Math.max(0,Math.min(1,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r)),255*Math.max(0,Math.min(1,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:12.92*a))]}static rgb2lab(e,t,i){let s=e/255,n=t/255,h=i/255,o,r,a;return o=(.4124*(s=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(h=h>.04045?Math.pow((h+.055)/1.055,2.4):h/12.92))/.95047,r=(.2126*s+.7152*n+.0722*h)/1,a=(.0193*s+.1192*n+.9505*h)/1.08883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(o-r),200*(r-(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116))]}static deltaE(e,t){let i=e[0]-t[0],s=e[1]-t[1],n=e[2]-t[2],h=Math.sqrt(e[1]*e[1]+e[2]*e[2]),o=h-Math.sqrt(t[1]*t[1]+t[2]*t[2]),r=s*s+n*n-o*o,a=i/1,l=o/(1+.045*h),c=(r=r<0?0:Math.sqrt(r))/(1+.015*h),d=a*a+l*l+c*c;return d<0?0:Math.sqrt(d)}static calculateDeltaE(e,t){let[i,s,n]=e,[h,o,r]=t,a=s-o,l=n-r,c=Math.sqrt(s*s+n*n),d=c-Math.sqrt(o*o+r*r),u=a*a+l*l-d*d,p=(i-h)/1,m=d/(1+.045*c),g=(u=Math.sqrt(Math.max(u,0)))/(1+.015*c);return Math.sqrt(p*p+m*m+g*g)}static Threshold(e,t,i,s,n,h){return .3*e+.59*t+.11*i>=s?n:h}static HexToRGBANormalized(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=parseInt((e=e.replace("#","")).substring(0,2),16),n=parseInt(e.substring(2,4),16),h=parseInt(e.substring(4,6),16);if(!i)return[s/255,n/255,h/255,t/255];{let e=.58*s+.17*n+.8*h;return[e,e,e,t]}}static RGB2HSL(e,t,i){e/=255,t/=255,i/=255;let s=Math.max(e,t,i),n=Math.min(e,t,i),h=(s+n)/2,o=(s+n)/2,r=(s+n)/2;if(s===n)h=o=0;else{let a=s-n;switch(o=r>.5?a/(2-s-n):a/(s+n),s){case e:h=(t-i)/a+(t<i?6:0);break;case t:h=(i-e)/a+2;break;case i:h=(e-t)/a+4}h/=6}return[h,o,r]}static HSL2RGB(e,t,i){let s,n,h;if(0===t)s=n=h=i;else{let o=(e,t,i)=>(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?e+(t-e)*6*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e,r=i<.5?i*(1+t):i+t-i*t,a=2*i-r;s=o(a,r,e+1/3),n=o(a,r,e),h=o(a,r,e-1/3)}return[Math.max(0,Math.min(Math.round(255*s),255)),Math.max(0,Math.min(Math.round(255*n),255)),Math.max(0,Math.min(Math.round(255*h),255))]}static RGB2HSV(e,t,i){e/=255,t/=255,i/=255;let s=Math.max(e,t,i),n=Math.min(e,t,i),h=s,o=s,r=s-n;if(o=0===s?0:r/s,s===n)h=0;else{switch(s){case e:h=(t-i)/r+(t<i?6:0);break;case t:h=(i-e)/r+2;break;case i:h=(e-t)/r+4}h/=6}return[h,o,s]}static HSV2RGB(e,t,i){let s=0,n=0,h=0,o=Math.floor(6*e),r=6*e-o,a=i*(1-t),l=i*(1-r*t),c=i*(1-(1-r)*t);switch(o%6){case 0:s=i,n=c,h=a;break;case 1:s=l,n=i,h=a;break;case 2:s=a,n=i,h=c;break;case 3:s=a,n=l,h=i;break;case 4:s=c,n=a,h=i;break;case 5:s=i,n=a,h=l}return[255*s,255*n,255*h]}static InterpolateColor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,s=[e[0],e[1],e[2]];for(let n=0;n<3;n++)s[n]=255*s[n]+i*(255*t[n]-255*e[n]);return s}static InterpolateColorsByArray(e,t,i){let s=1/(i-1),n=[];for(let h=0;h<i;h++)n.push(r.InterpolateColor(e,t,s*h));return n}static InterpolateColors(e,t,i){let s=1/(i-1),n=[],h=r.RBGToArray(e),o=r.RBGToArray(t);if(h&&o)for(let e=0;e<i;e++)n.push(r.InterpolateColor(h,o,s*e));return n}static RBGToArray(e){let t=e.match(/\d+/g);if(t)return t.map(Number)}static Blend(e,t,i){return e*(1-i)+t*i}static Addition(e,t,i){return e*(1-i)+i*(e+t)*.5}static Subtraction(e,t,i){return e*(1-i)+i*(e-t)*2}static Multiply(e,t,i){return e*(1-i)+e*t*i*.5}static Screen(e,t,i){return e*(1-i)+i*(1-(1-e)*(1-t))}static Overlay(e,t,i){let s=0;return s=e<.5?2*e*t:1-2*(1-e)*(1-t),s=e*(1-i)+i*s}static SoftLight(e,t,i){let s=0;return s=t<.5?2*e*t+e*e*(1-2*t):2*e*(1-t)+Math.sqrt(e)*(2*t-1),s=e*(1-i)+i*s}static Hex2HSVByHue(e,t){let i=r.HexToRGBA(e),s=r.RGB2HSV(i[0],i[1],i[2]);return s[1]=t,r.HSVtoRGB(s[0],s[1],s[2],1)}static Hex2HSVByCol(e,t){let i=r.HexToRGBA(e),s=r.RGB2HSV(i[0],i[1],i[2]);return s[0]+=t,r.HSVtoRGB(s[0],s[1],s[2],1)}static BrightnessContrastLUT(e,t){let i=[],s=-128*t+128+255*e;for(let e=0;e<256;e++){let n=e*t+s,h=Math.floor(n<0?0:n>255?255:n);i.push(h)}return i}static ImgBrightnessContrast(e,t,i){let s=new ImageData(e.width,e.height),n=this.BrightnessContrastLUT(t,i+1);for(let t=0;t<e.data.length;t+=4){let i=n[e.data[t+0]],h=n[e.data[t+1]],o=n[e.data[t+2]],r=e.data[t+3];s.data[t+0]=i,s.data[t+1]=h,s.data[t+2]=o,s.data[t+3]=r}return s}static HueSaturationLightness(e,t,i,s){let n=new ImageData(e.width,e.height);for(let h=0;h<e.data.length;h+=4){let o=e.data[h+0],r=e.data[h+1],a=e.data[h+2],l=e.data[h+3],c=this.RGB2HSL(o,r,a);c[0]+=t,c[1]+=i,c[1]<0&&(c[1]=0),c[2]+=s;let d=this.HSL2RGB(c[0],c[1],c[2]);n.data[h+0]=d[0],n.data[h+1]=d[1],n.data[h+2]=d[2],n.data[h+3]=l}return n}static ImgInvert(e){let t=new ImageData(e.width,e.height);for(let i=0;i<e.data.length;i+=4){let s=e.data[i+0],n=e.data[i+1],h=e.data[i+2];t.data[i+0]=255-s,t.data[i+1]=255-n,t.data[i+2]=255-h,t.data[i+3]=255}return t}static ImgThreshold(e,t,i,s){let n=new ImageData(e.width,e.height);for(let h=0;h<e.data.length;h+=4){let o=e.data[h+0],a=e.data[h+1],l=e.data[h+2],c=Math.floor(255*r.Threshold(o/255,a/255,l/255,t,i,s));c=(c=c<255?c:255)<0?0:c,n.data[h+0]=c,n.data[h+1]=c,n.data[h+2]=c,n.data[h+3]=255}return n}}r.modeList=["source-over","source-in","source-out","source-atop","copy","destination-over","destination-in","destination-out","destination-atop","lighter","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],r.modeListGL=["source-over","lighter","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],r.ColorPreset={shadow:"rgba(10,10,10,0.5)"};let a=(e,t,i,s,n,h)=>Math.sqrt((s-e)*(s-e)*.3+(n-t)*(n-t)*.59+(h-i)*(h-i)*.11),l=e=>Math.sqrt(e.reduce((e,t)=>e+t*t,0)),c=(e,t)=>{if(e.length!==t.length)throw Error("Vectors must be of the same length.");return e.reduce((e,i,s)=>e+i*t[s],0)},d=(e,t)=>{let i=l(e),s=l(t),n=c(e,t);return 0===i||0===s?0:n/(i*s)},u=(e,t)=>d(e,t),p=(e,t)=>a(e[0],e[1],e[2],t[0],t[1],t[2]),m=(e,t)=>{let i=r.rgb2lab(e[0],e[1],e[2]),s=r.rgb2lab(t[0],t[1],t[2]);return r.deltaE(i,s)}},52067:function(e,t,i){i.d(t,{mK:function(){return s.mK}});var s=i(45672);i(35389)},66351:function(e,t,i){i.d(t,{xB:function(){return r},hI:function(){return u},cb:function(){return n}});class s{ToString(){let e=[];return e.push("index : "+this.index),e.push("count : "+this.count),e.push("min : "+this.min.toFixed(this.toFixed)),e.push("max : "+this.max.toFixed(this.toFixed)),e.push("mean : "+this.mean.toFixed(this.toFixed)),e.push("sum : "+this.sum.toFixed(this.toFixed)),e.push("median : "+this.median.toFixed(this.toFixed)),e.push("variance : "+this.variance.toFixed(this.toFixed)),e.push("STD : "+this.STD.toFixed(this.toFixed)),e}constructor(e,t,i,s,n,h,o,r,a,l){this.data=e,this.count=t,this.min=i,this.max=s,this.mean=n,this.sum=h,this.median=o,this.variance=r,this.STD=a,this.index=l,this.toFixed=4}}class n{static DescribeNumeric(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"null";return new s(e,e.length,n.Min(e),n.Max(e),n.Mean(e),n.Sum(e),n.Median(e),n.Variance(e),n.StandardDeviation(e),t)}static Min(e){return Math.min(...e)}static Max(e){return Math.max(...e)}static Mean(e){return n.Average(e)}static Average(e){return n.Sum(e)/e.length}static Sum(e){let t=e.length,i=0;for(;t--;)i+=e[t];return i}static Median(e){let t=n.SortAscending(e),i=Math.floor(t.length/2);return t.length%2?t[i]:(t[i-1]+t[i])/2}static SortAscending(e){return e.sort((e,t)=>e-t)}static SortDescending(e){return e.sort((e,t)=>t-e)}static Variance(e){let t=n.Mean(e),i=0;for(let s=0;s<e.length;++s)e[s],i+=Math.pow(t-e[s],2);return i/(e.length-1)}static StandardDeviation(e){return Math.sqrt(n.Variance(e))}static GetDataForHistDataFromNumeric(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,i=[],s=n.SortAscending(e),h=[s[0],s[s.length-1]],o=(h[1]-h[0])/(t-1),r=0;for(let s=0;s<t;++s){let t=h[0]+(s+1)*o,n=[];for(let i=r;i<e.length;++i)if(e[i]<t)n.push(e[i]);else{r=i;break}i.push(n)}return i}static GetIndexByDataForHistDataFromNumeric(e,t){for(let i=0;i<e.length;++i)for(let s=0;s<e[i].length;++s)if(t<e[i][s])return i;return -1}}class h{static GetIndexFromGeoJson(e){let t=[],i=[];Object.keys(e).forEach(s=>{if("features"===s)for(let n of e[s]){t=n.geometry,i=n.properties;break}});let s=[];return Object.keys(t).forEach(e=>{s.push(e)}),Object.keys(i).forEach(e=>{s.push(e)}),s}static GetDataWithIndexFromGeoJson(e){let t=[];return Object.keys(e).forEach(i=>{if("features"===i){for(let s of e[i]){let e=[],i=[],n=!0;Object.keys(s).forEach(t=>{Object.keys(s[t]).forEach(h=>{let o=s[t][h];("string"!=typeof o||1!==o.length)&&(n&&e.push(h),i.push(o))})}),n&&(t.push(e),n=!1),t.push(i)}return t}}),t}GetDataByIndex(e){let t=this.index.indexOf(e),i=[];for(let e=1;e<this.dMat.length;++e)i.push(this.dMat[e][t]);return i}GetColbyIndex(e){return this.GetDataByIndex(e)}GetDescribeByCol(e){let t=this.GetDataByIndex(e);return n.DescribeNumeric(t,e)}GetHistByCol(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,i=this.GetDataByIndex(e);return n.GetDataForHistDataFromNumeric(i,t)}constructor(e){this.dJson=e,this.dMat=h.GetDataWithIndexFromGeoJson(e),this.index=this.dMat[0],this.dDescribe=this.GetDescribeByCol(this.index[0]).ToString(),this.dHist=this.GetHistByCol(this.index[0]),this.dT=this.GetColbyIndex("time"),this.dA=this.GetColbyIndex(this.index[0]),this.dB=this.GetColbyIndex("rms"),this.dC=this.GetColbyIndex("sig"),this.dD=this.GetColbyIndex("nst"),this.dE=this.GetColbyIndex("mag"),this.dF=this.GetColbyIndex("dmin")}}h.geoJsonGeoType=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection"];class o{static GetIndexFromGeoJson(e){let t=[],i=[];Object.keys(e).forEach(s=>{if("features"===s)for(let n of e[s]){t=n.geometry,i=n.properties;break}});let s=[];return Object.keys(t).forEach(e=>{s.push(e)}),Object.keys(i).forEach(e=>{s.push(e)}),s}static GetDataWithIndexFromGeoJson(e){let t=[];return Object.keys(e).forEach(i=>{if("features"===i){for(let s of e[i]){let e=[],i=[],n=!0;Object.keys(s).forEach(t=>{Object.keys(s[t]).forEach(h=>{let o=s[t][h];("string"!=typeof o||1!==o.length)&&(n&&e.push(h),i.push(o))})}),n&&(t.push(e),n=!1),t.push(i)}return t}}),t}GetPTFloat32Array(){let e=[1],t=this.GetDataByIndex(this.index[this.index.length-1]);for(let i=0;i<t.length;++i)if(Array.isArray(t[i])){for(let s=0;s<t[i].length;++s)if(Array.isArray(t[i][s])){for(let n=0;n<t[i][s].length;++n)if(Array.isArray(t[i][s][n]))for(let h=0;h<t[i][s][n].length;++h)e.push(t[i][s][n][h][0],t[i][s][n][h][1],10.5)}}return e.shift(),e}GetDataByIndex(e){let t=this.index.indexOf(e),i=[];for(let e=1;e<this.dMat.length;++e)i.push(this.dMat[e][t]);return i}GetColbyIndex(e){return this.GetDataByIndex(e)}GetDescribeByCol(e){let t=this.GetDataByIndex(e);return n.DescribeNumeric(t,e)}GetHistByCol(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,i=this.GetDataByIndex(e);return n.GetDataForHistDataFromNumeric(i,t)}constructor(e){this.dJson=e,this.dMat=o.GetDataWithIndexFromGeoJson(e),this.index=this.dMat[0],this.posLn=this.GetPTFloat32Array(),o.d=this.posLn}}o.geoJsonGeoType=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection"];class r{static GetHistByCol(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return n.GetDataForHistDataFromNumeric(e,t)}static GetIndexFromGeoJson(e){let t=[],i=[];Object.keys(e).forEach(s=>{if("features"===s)for(let n of e[s]){t=n.geometry,i=n.properties;break}});let s=[];return Object.keys(t).forEach(e=>{s.push(e)}),Object.keys(i).forEach(e=>{s.push(e)}),s}static GetDataWithIndexFromGeoJson(e){let t=[];return Object.keys(e).forEach(i=>{if("features"===i){for(let s of e[i]){let e=[],i=[],n=!0;Object.keys(s).forEach(t=>{Object.keys(s[t]).forEach(h=>{let o=s[t][h];("string"!=typeof o||1!==o.length)&&(n&&e.push(h),i.push(o))})}),n&&(t.push(e),n=!1),t.push(i)}return t}}),t}Init(){for(let e of this.index)this.array[e]=this.GetColbyIndex(e);this.array.timeConverted=this.ConvertTime(this.array.Time_UT_),this.ComputeTimelineIndex();let e=[];for(let t=0;t<this.array.timeConverted.length;++t)e.push(t);this.ComputeArrayVis(e)}ComputeArrayVis(e){for(let t of(this.arrayVis={},this.index))for(let i of(this.arrayVis[t]=[],e))this.arrayVis[t].push(this.array[t][i])}GetHistByCol(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,i=this.GetDataByIndex(e);return n.GetDataForHistDataFromNumeric(i,t)}GetDataByIndex(e){let t=this.index.indexOf(e),i=[];for(let e=1;e<this.dMat.length;++e)i.push(this.dMat[e][t]);return i}GetColbyIndex(e){return this.GetDataByIndex(e)}ConvertTime(e){let t=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,s=[];for(let n=0;n<e.length;++n){let h=new Date(+e[n]).toLocaleDateString().split("/");t>+h[2]&&(t=+h[2]),i<+h[2]&&(i=+h[2]),s.push([+h[0],+h[1],+h[2]])}return this.array.yearDomain=[t,i],s}ComputeTimelineIndex(){let e={};this.array.timeLineIndexArryForKey=[];for(let t=this.array.yearDomain[0];t<=this.array.yearDomain[1];++t)for(let i=1;i<13;++i){let s=t+"_"+i;e[s]=[],this.array.timeLineIndexArryForKey.push(s)}this.array.timeLineIndex=e;for(let e=0;e<this.array.timeConverted.length;++e){let t=this.array.timeConverted[e][2]+"_"+this.array.timeConverted[e][0];this.array.timeLineIndex[t].push(e)}}constructor(e){this.array={},this.arrayVis={},this.dJson=e,this.dMat=r.GetDataWithIndexFromGeoJson(e),this.index=this.dMat[0],this.Init()}}r.geoJsonGeoType=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection"];var a,l,c=i(8483);class d{static GetID(){return d.ID++}ToString(){return"Pixel"+this.id}Update(){}Render(){}constructor(e,t=new c.h9(0,0,0)){this.nPix=[],this.i=-1,this.j=-1,this.k=-1,this.u=-1,this.v=-1,this.map=e,this.vec=t,this.nPix=[],this.recVec=[],this.i=-1,this.j=-1,this.k=-1,this.id=d.GetID(),this.data={}}}d.ID=0;class u{Init(){this.ddx=2*Math.PI/this.rx,this.ddy=Math.PI/this.ry,this.InitGrid()}InitGrid(){let e=0;for(let t=0;t<Math.PI;t+=this.ddy){let i=0;for(let s=0;s<2*Math.PI;s+=this.ddx){let n=new p(this);n.i=i,n.j=e,n.u=i,n.v=e;let h=this.RemapToShpere(s,t);n.vec=new c.h9(h[0],h[1],h[2]),n.norV=c.h9.Normalize(n.vec),h=this.RemapToShpere(s-.5*this.ddx,t-.5*this.ddy),n.recVec.push(new c.h9(h[0],h[1],h[2])),h=this.RemapToShpere(s+.5*this.ddx,t-.5*this.ddy),n.recVec.push(new c.h9(h[0],h[1],h[2])),h=this.RemapToShpere(s+.5*this.ddx,t+.5*this.ddy),n.recVec.push(new c.h9(h[0],h[1],h[2])),h=this.RemapToShpere(s-.5*this.ddx,t+.5*this.ddy),n.recVec.push(new c.h9(h[0],h[1],h[2])),this.listPixel.push(n),i++}e++}this.InitGridNeighbor()}RemapToShpere(e,t){return[this.radius*Math.cos(e)*Math.sin(t),this.radius*Math.sin(e)*Math.sin(t),this.radius*Math.cos(t)]}InitGridNeighbor(){for(let e=0;e<this.ry;++e)for(let t=0;t<this.rx;++t){let i=e*this.rx+t,s=this.listPixel[i];t>0&&s.nPix.push(this.listPixel[i-1]),t<this.rx-1&&s.nPix.push(this.listPixel[i+1]),e>0&&s.nPix.push(this.listPixel[i-this.rx]),e<this.ry-1&&s.nPix.push(this.listPixel[i+this.rx]),t>0&&e<this.ry-1&&s.nPix.push(this.listPixel[i+this.rx-1]),t>0&&e>0&&s.nPix.push(this.listPixel[i-this.rx-1]),t<this.rx-1&&e<this.ry-1&&s.nPix.push(this.listPixel[i+this.rx+1]),t<this.rx-1&&e>0&&s.nPix.push(this.listPixel[i-this.rx+1])}}GetPixelAtPoint(e){let t=new c.h9(e.x-this.v0.x,e.y-this.v0.y,e.z-this.v0.z),i=Math.round(t.x/this.ddx),s=Math.round(t.y/this.ddy);return i>=this.rx&&(i=this.rx-1),s>=this.ry&&(s=this.ry-1),i<0&&(i=0),s<0&&(s=0),this.listPixel[s*this.rx+i]}MouseMove(e,t,i){this.GetPixelAtPoint(new c.h9(e,t,i))}onDocumentMouseMove(){}onmouseenter(){}CVisLineGrid(e){for(let t=0;t<this.listPixel.length;++t){e.lineWidth=.5,e.beginPath(),e.moveTo(this.listPixel[t].recVec[0].x,this.listPixel[t].recVec[0].y);for(let i=1;i<this.listPixel[t].recVec.length;++i)e.lineTo(this.listPixel[t].recVec[i].x,this.listPixel[t].recVec[i].y);e.closePath(),e.strokeStyle="#ff0000",e.stroke()}}VisMeshGrid(){for(let e=0;e<this.listPixel.length;++e);}VisCenterPoints(){let e=[];for(let t=0;t<this.listPixel.length;++t)e.push(this.listPixel[t].vec)}Render(e){}GetTriFloatArray(){return new Float32Array(this.GetTriArray())}GetTriArray(){let e=[],t=c.h9.origin;for(let i=0;i<this.listPixel.length;++i)e.push((t=this.listPixel[i].recVec[0]).x,t.y,t.z),e.push((t=this.listPixel[i].recVec[3]).x,t.y,t.z),e.push((t=this.listPixel[i].recVec[2]).x,t.y,t.z),e.push((t=this.listPixel[i].recVec[0]).x,t.y,t.z),e.push((t=this.listPixel[i].recVec[2]).x,t.y,t.z),e.push((t=this.listPixel[i].recVec[1]).x,t.y,t.z);return e}GetPtFloatArray(){return new Float32Array(this.GetPtArray())}GetPtArray(){let e=[];for(let t=0;t<this.listPixel.length;++t){let i=this.listPixel[t].vec;e.push(i.x,i.y,i.z)}return e}GetNormalFloatArray(){return new Float32Array(this.GetNormalArray())}GetNormalArray(){let e=[],t=c.h9.origin;for(let i=0;i<this.listPixel.length;++i)(t=this.listPixel[i].recVec[0]).Normalize(),e.push(t.x,t.y,t.z),(t=this.listPixel[i].recVec[3]).Normalize(),e.push(t.x,t.y,t.z),(t=this.listPixel[i].recVec[2]).Normalize(),e.push(t.x,t.y,t.z),(t=this.listPixel[i].recVec[0]).Normalize(),e.push(t.x,t.y,t.z),(t=this.listPixel[i].recVec[2]).Normalize(),e.push(t.x,t.y,t.z),(t=this.listPixel[i].recVec[1]).Normalize(),e.push(t.x,t.y,t.z);return e}GetTexCoordinFloatArray(){return new Float32Array(this.GetTexCoordinArray())}GetTexCoordinArray(){let e=[];for(let t=0;t<this.listPixel.length;++t){let i=this.listPixel[t].u/(this.rx-1),s=this.listPixel[t].v/(this.ry-1);e.push(i,s),e.push(i,s+this.ddy),e.push(i+this.ddx,s+this.ddy),e.push(i,s),e.push(i+this.ddx,s+this.ddy),e.push(i+this.ddx,s)}return e}constructor(e=36,t=18,i=100){this.listPixel=[],this.rx=0,this.ry=0,this.radius=0,this.ddx=0,this.ddy=0,this.v0=c.h9.Origin(),this.v1=c.h9.Origin(),this.rx=e,this.ry=t,this.radius=i,this.ddx=0,this.ddy=0,this.Init()}}class p{static GetID(){return p.ID++}ToString(){return"Pixel"+this.id}Update(){}Render(){}constructor(e,t=new c.h9(0,0,0)){this.nPix=[],this.i=-1,this.j=-1,this.k=-1,this.u=-1,this.v=-1,this.color=[],this.map=e,this.vec=t,this.nPix=[],this.recVec=[],this.i=-1,this.j=-1,this.k=-1,this.id=p.GetID(),this.data={}}}p.ID=0,i(45672),(a=l||(l={})).DEFAULT="DEFAULT",a.START="START",a.END="END";class m{GetData(){return this.isGetData?this.data.length:0}SumDataByNPix(e){}constructor(e,t){this.pMap=e,this.nPix=[],this.bVec=[],this.vec=t,this.data=[],this.isVisited=!1,this.isGetData=!0}}class g{static Add(e){g.list.push(e)}static Remove(e){g.list.splice(g.list.indexOf(e),1)}ComputeMinMaxPos(){let e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,n=this.d.length;for(;n--;){let h=this.d[n][1],o=this.d[n][0];0!==h&&0!==o&&(e>h&&(e=h),i>o&&(i=o),t<h&&(t=h),s<o&&(s=o))}this.minV=new c.h9(e,i,0),this.maxV=new c.h9(t,s,0)}Init(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;this.offScale=.9,this.rx=i,this.ry=s,this.ddx=0,this.ddy=0,this.v0=e,this.v1=t,this.ddx=(this.v1.x-this.v0.x)/(this.rx-1),this.ddy=(this.v1.y-this.v0.y)/(this.ry-1),console.debug("ddx is "+this.ddx+". ddy is "+this.ddx),console.debug("Pixe Map was executed...")}InitGrid(){console.debug(this.rx,this.ry);for(let e=0;e<this.ry;++e)for(let t=0;t<this.rx;++t){let i=this.v0.x+t*this.ddx,s=this.v0.y+e*this.ddy,n=new m(this,new c.h9(i,s,0));n.i=t,n.j=e,n.bVec.push(new c.h9(i-.5*this.ddx,s-.5*this.ddy,0)),n.bVec.push(new c.h9(i+.5*this.ddx,s-.5*this.ddy,0)),n.bVec.push(new c.h9(i+.5*this.ddx,s+.5*this.ddy,0)),n.bVec.push(new c.h9(i-.5*this.ddx,s+.5*this.ddy,0)),this.listPixel.push(n)}}InitGridNeighbor(){for(let e=0;e<this.ry;++e)for(let t=0;t<this.rx;++t){let i=e*this.rx+t,s=this.listPixel[i];t>0&&s.nPix.push(this.listPixel[i-1]),t<this.rx-1&&s.nPix.push(this.listPixel[i+1]),e>0&&s.nPix.push(this.listPixel[i-this.rx]),e<this.ry-1&&s.nPix.push(this.listPixel[i+this.rx]),t>0&&e<this.ry-1&&s.nPix.push(this.listPixel[i+this.rx-1]),t>0&&e>0&&s.nPix.push(this.listPixel[i-this.rx-1]),t<this.rx-1&&e<this.ry-1&&s.nPix.push(this.listPixel[i+this.rx+1]),t<this.rx-1&&e>0&&s.nPix.push(this.listPixel[i-this.rx+1])}console.debug("done for computing neighbors ")}ComputePixelOff(){let e=this.listPixel.length;for(;e--;){let t=c.h9.GetCenterVecFromVecs(this.listPixel[e].bVec);this.listPixel[e].vec=t;for(let i=0;i<this.listPixel[e].bVec.length;++i){let s=this.listPixel[e].bVec[i],n=(s.x-t.x)*this.offScale+t.x,h=(s.y-t.y)*this.offScale+t.y;this.listPixel[e].bVec[i]=new c.h9(n,h,0)}}}PushDataToPixel(e){let t=this.d.length;for(;t--;){let e=new c.h9(this.d[t][1],this.d[t][0],0);this.GetPixelAtPoint(e).data.push(e)}}ComputeMinMaxValue(e){this.minData=Number.MAX_SAFE_INTEGER,this.maxData=Number.MIN_SAFE_INTEGER;for(let e=0;e<this.listPixel.length;++e){let t=this.listPixel[e].data.length;t<this.minData&&(this.minData=t),t>this.maxData&&(this.maxData=t)}}GetPixelAtPoint(e){let t=new c.h9(e.x-this.v0.x,e.y-this.v0.y,e.z-this.v0.z),i=Math.round(t.x/this.ddx),s=Math.round(t.y/this.ddy);return i>=this.rx&&(i=this.rx-1),s>=this.ry&&(s=this.ry-1),i<0&&(i=0),s<0&&(s=0),this.listPixel[s*this.rx+i]}GetDataAtPoint(e){return this.GetPixelAtPoint(e).data.length}GetDataAtByVecs(e,t){let i=this.GetPixelAtPoint(e);return i.SumDataByNPix(t),i.data.length}ForwardPropagation(e,t){let i=[];i.push(this.GetPixelAtPoint(e));let s=0;for(let e=0;e<100&&0!==i.length;++e){let e=i[0];for(let n of(i.shift(),e.nPix))c.h9.IsInsideOfVecs(n.vec,t)&&(i.push(n),s+=n.GetData(),n.isVisited=!0)}return s}LogUpdate(e){}Query(e,t,i){}onDocumentMouseMove(){console.debug("move")}onmouseenter(){console.debug("enter")}VisMeshGrid(){}VisCenterPoints(){}UpdatePost(){}constructor(e){this.listPixel=[],this.rx=0,this.ry=0,this.ddx=0,this.ddy=0,this.v0=c.h9.Origin(),this.v1=c.h9.Origin(),this.d=e,this.ComputeMinMaxPos(),this.Init(this.minV,this.maxV,100,100),this.InitGrid(),this.InitGridNeighbor(),this.PushDataToPixel(this.d),this.ComputeMinMaxValue(this.d)}}g.list=[]},66565:function(e,t,i){var s,n,h,o;i.d(t,{$H:function(){return l},MX:function(){return a},TV:function(){return r},iI:function(){return n}}),(h=s||(s={})).METER="METER",h.KILOMETER="KILOMETER",h.CENTIMETER="CENTIMETER",h.MILLIMETER="MILLIMETER",h.MICROMETER="MICROMETER",h.NANOMETER="NANOMETER",h.MILE="MILE",h.YARD="YARD",h.FOOT="FOOT",h.INCH="INCH",(o=n||(n={})).METER="METER",o.KM="KM",o.MILE="MILE";let r=e=>{for(var t,i,s=e.length;0!==s;)i=Math.floor(Math.random()*s),s-=1,t=e[s],e[s]=e[i],e[i]=t;return e},a=e=>{var t=123456789+e&4294967295,i=987654321-e&4294967295;return function(){return(((i=36969*(65535&i)+(i>>>16)&4294967295)<<16)+(65535&(t=18e3*(65535&t)+(t>>>16)&4294967295))>>>0)/4294967296}};class l{static Series(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=[];for(let s=0;s<e;s+=t)i.push(s);return i}static Range(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=[],s=e/t;for(let t=0;t<e;t+=s)i.push(t);return i}static Playground(){}static DigitGenerator(e){let t=e;for(;e;)t+=Math.floor(e%10),e=Math.floor(e/10);return t}static ReMapNomalize(e){let t=[],i=l.GetDomain(e);for(let s of e)t.push((s-i[0])/(i[1]-i[0]));return t}static Remaps(e,t,i,s,n){let h=[];for(let o of e)h.push(l.Remap(o,t,i,s,n));return h}static Remap(e,t,i,s,n){return(e-t)*(n-s)/(i-t)+s}static GetDomain(e){let t=Number.MAX_VALUE,i=Number.MIN_VALUE;for(let s of e)t>s&&(t=s),i<s&&(i=s);return[t,i]}static GetIndexBySort(e){let t=e.length,i=Array(t);for(var s=0;s<t;++s)i[s]=s;return i.sort((t,i)=>e[t]<e[i]?-1:e[t]>e[i]?1:0),i}static GetMaxIndex(e){let t=-1,i=Number.MIN_SAFE_INTEGER;for(let s=0;s<e.length;++s)i<e[s]&&(i=e[s],t=s);return t}static GetRatioByWidthHidthByWidths(e,t,i){return[i,i/e*t]}static GetRatioByWidthHidthByHeight(e,t,i){return[i/t*e,i]}static GetRatioByNewWidth(e,t,i){return[i,i/e*t]}static GetRatioByNewHeight(e,t,i){return[i/t*e,i]}static IsContainNagativeNumber(e){for(var t=0;t<e.length;++t)if(e[t]<0)return!0;return!1}static RemapMeterFromGPSPos(e,t,i,s){let n=i*Math.PI/180-e*Math.PI/180,h=s*Math.PI/180-t*Math.PI/180,o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e*Math.PI/180)*Math.cos(i*Math.PI/180)*Math.sin(h/2)*Math.sin(h/2);return 2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))*6378137}static GetKilogramFromNewton(e){return .10197162129779283*e}static GetNewtonFromKilogram(e){return 9.80665*e}static ReMapMileFromMeter(e){return 621371e-9*e}static ReMapMeterFromMile(e){return 1609.34*e}static ConverterUnitLength(e,t,i){switch(t){case"NANOMETER":return 1e9*e;case"MICROMETER":return 1e6*e;case"MILLIMETER":return 1e3*e;case"CENTIMETER":return 100*e;case"METER":default:return e;case"INCH":return 39.37007874*e;case"FOOT":return 3.280839895*e;case"YARD":return 1.0936132983*e;case"MILE":return 6213689e-10*e;case"KILOMETER":return .001*e}}static ConverterUnitLengthFromMeter(e,t){switch(t){case"NANOMETER":return 1e9*e;case"MICROMETER":return 1e6*e;case"MILLIMETER":return 1e3*e;case"CENTIMETER":return 100*e;case"METER":default:return e;case"INCH":return 39.37007874*e;case"FOOT":return 3.280839895*e;case"YARD":return 1.0936132983*e;case"MILE":return 6213689e-10*e;case"KILOMETER":return .001*e}}static MilesFromMeters(e){return 62137e-8*e}static MilesFromKM(e){return .62137119*e}static Radians(e){return .017453292519943278*e}static Degrees(e){return 57.29577951308238*e}static GetRandom(){return Math.random()}static GetRandomArbitrary(e,t){return Math.random()*(t-e)+e}static GetRandomInt(e,t){return Math.floor(Math.random()*(t-e))+e}static GetRandomIntFromRenage(e){return Math.floor(Math.random()*e)}static GetRandomIntsInclusive(e,t,i){let s=[];for(let n=0;n<i;++n)s.push(this.GetRandomIntInclusive(e,t));return s}static GetRandomIntInclusive(e,t){return Math.floor(Math.random()*(t-e+1))+e}static GetRandomItemWithStringList(e){return e[Math.floor(Math.random()*e.length)]}static GetUUID(){let e=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?i:3&i|8).toString(16)})}static Clamp(e,t,i){return Math.max(t,Math.min(i,e))}static SmoothStep(e,t,i){var s=Math.max(0,Math.min(1,(i-e)/(t-e)));return s*s*(3-2*s)}static Lerp(e,t,i){return e+i*(t-e)}static ClosestPointToLine2D(e,t,i,s,n,h){var o=i-e,r=s-t,a=((n-e)*o+(h-t)*r)/(o*o+r*r);return[e+o*a,t+r*a]}static LinearInterpolate(e,t,i){return e+(t-e)*i}static GetInterpolatedArray(e,t){let i=[],s=(e.length-1)/(t-1);i[0]=e[0];for(let n=1;n<t-1;n++){let t=n*s,h=+Math.floor(t).toFixed(),o=+Math.ceil(t).toFixed(),r=t-h;i[n]=this.LinearInterpolate(e[h],e[o],r)}return i[t-1]=e[e.length-1],i}static RemapLongToSurface(e,t,i){return(e- -180)*(i-t)/360+t}static RemapLatToSurface(e,t,i){return(e- -90)*(i-t)/180+t}static RemapLongToSurfaceNormal(e){return(e- -180)*1/360}static RemapLatToSurfaceNormal(e){return(e- -90)*1/180}static RemapLong(e){return-((e+180)*Math.PI*2/360*1)}static RemapLat(e){return(e+90)*Math.PI/180}static GetRadiusByArea(e){return Math.sqrt(e/Math.PI)}static GetRadiusByCircumference(e){return e/Math.PI*.5}}l.DEG2RAD=Math.PI/180,l.RAD2DEG=180/Math.PI},8483:function(e,t,i){i.d(t,{KW:function(){return J},AG:function(){return X},wm:function(){return ex},Wv:function(){return tm},gj:function(){return tg},R3:function(){return eO},R7:function(){return eL},uh:function(){return ec},g6:function(){return en},kz:function(){return eC.kz},Iq:function(){return eh},gi:function(){return ty},NI:function(){return tf},mK:function(){return eC.mK},yA:function(){return tu},oc:function(){return tP},gk:function(){return eE},GZ:function(){return eu},OH:function(){return ee},$h:function(){return tb.$h},Ui:function(){return o},OB:function(){return j},bx:function(){return ey},O2:function(){return eG},WU:function(){return eo},EQ:function(){return $},$H:function(){return ef.$H},$E:function(){return eI},eu:function(){return eW},G7:function(){return eA},Fc:function(){return td},h9:function(){return ev.h},m3:function(){return eP},aX:function(){return eD},sg:function(){return et},dc:function(){return el},Mo:function(){return Y},cb:function(){return eV.cb},mH:function(){return Q},SE:function(){return Z},KV:function(){return ed},iI:function(){return ef.iI},ew:function(){return eC.ew},zD:function(){return eC.zD},Sm:function(){return eC.Sm},$5:function(){return tC}});class s{constructor(){}}s.vTerrain="#version 300 es\n    precision mediump float;\n\n    in vec4 a_position;\n    in vec3 a_normal;\n\n    uniform mat4 u_matrix;\n    // uniform vec2 u_mouse;\n    // uniform vec2 u_cVec;\n    \n    out vec3 vLighting;\n    out vec4 v_color;\n\n    void main() { \n        gl_Position = u_matrix * a_position;\n\n        highp vec3 ambientLight = vec3(0.3, 0.3, 0.3);\n        highp vec3 directionalLightColor = vec3(0.5, 0.5, 0.75);\n       \n        highp vec3 directionalVector = vec3(0.85, 1.8, 0.75);\n\n        // highp vec4 transformedNormal = u_matrix * vec4(a_normal, 1.0);\n        // highp float directional = max(dot(transformedNormal.xyz, directionalVector), 0.0);\n        // vLighting = ambientLight + (directionalLightColor * directional);\n\n        highp float directional = max(dot(a_normal.xyz, directionalVector), 0.0);\n        vLighting = ambientLight + (directionalLightColor * directional);\n\n        v_color = vec4(a_normal,1);\n    }\n    ",s.fTerrain="#version 300 es\n    precision mediump float;\n    // uniform vec4 u_color;\n    // uniform vec2 u_mouse;\n    // uniform vec2 u_cVec;\n\n    in vec4 v_color;\n    in vec3 vLighting;\n\n    out vec4 outColor;\n    void main()\n    {\n        outColor = vec4(vLighting,1);\n\n        // outColor = vec4(v_color.xyz * vLighting,1);\n        // outColor = v_color;\n    }\n\n    ",s.vGlobe="#version 300 es\n    precision mediump float;\n\n    in vec4 a_position;\n    in vec3 a_normal;\n\n    uniform mat4 u_matrix;\n    // uniform vec2 u_mouse;\n    // uniform vec2 u_cVec;\n    \n    out vec3 vLighting;\n    out vec4 v_color;\n\n    void main() { \n        gl_Position = u_matrix * a_position;\n\n        highp vec3 ambientLight = vec3(0.3, 0.3, 0.3);\n        highp vec3 directionalLightColor = vec3(0.5, 0.5, 0.75);\n       \n        highp vec3 directionalVector = vec3(0.85, 1.8, 0.75);\n\n        // highp vec4 transformedNormal = u_matrix * vec4(a_normal, 1.0);\n        // highp float directional = max(dot(transformedNormal.xyz, directionalVector), 0.0);\n        // vLighting = ambientLight + (directionalLightColor * directional);\n\n        highp float directional = max(dot(a_normal.xyz, directionalVector), 0.0);\n        vLighting = ambientLight + (directionalLightColor * directional);\n\n        v_color = vec4(a_normal,1);\n    }\n    ",s.fGlobe="#version 300 es\n    precision mediump float;\n    // uniform vec4 u_color;\n    // uniform vec2 u_mouse;\n    // uniform vec2 u_cVec;\n\n    in vec4 v_color;\n    in vec3 vLighting;\n\n    out vec4 outColor;\n    void main()\n    {\n        outColor = vec4(vLighting,1);\n\n        // outColor = vec4(v_color.xyz * vLighting,1);\n        // outColor = v_color;\n    }\n\n    ",s.vGlobeTexture="#version 300 es\n    precision mediump float;\n\n    in vec4 a_position;\n    in vec3 a_normal;\n    in vec2 a_texcoord;\n\n    uniform mat4 u_matrix;\n    // uniform vec2 u_mouse;\n    // uniform vec2 u_cVec;\n    \n    out vec3 v_Lighting;\n    out vec4 v_color;\n    out vec2 v_texcoord;\n    out vec3 v_normal;\n\n    void main() { \n        gl_Position = u_matrix * a_position;\n\n        highp vec3 ambientLight = vec3(0.3, 0.3, 0.3);\n        highp vec3 directionalLightColor = vec3(0.5, 0.5, 0.75);\n       \n        highp vec3 directionalVector = vec3(0.85, 1.8, 0.75);\n\n        // highp vec4 transformedNormal = u_matrix * vec4(a_normal, 1.0);\n        // highp float directional = max(dot(transformedNormal.xyz, directionalVector), 0.0);\n        // v_Lighting = ambientLight + (directionalLightColor * directional);\n\n        highp float directional = max(dot(a_normal.xyz, directionalVector), 0.0);\n        v_Lighting = ambientLight + (directionalLightColor * directional);\n\n        v_color = vec4(a_normal,1);\n        v_texcoord = a_texcoord;\n        v_normal = a_normal;\n    }\n    ",s.fGlobeTexture="#version 300 es\n    precision mediump float;\n    // uniform vec4 u_color;\n    // uniform vec2 u_mouse;\n    // uniform vec2 u_cVec;\n    uniform sampler2D u_texture;\n\n    in vec3 v_normal;\n    in vec4 v_color;\n    in vec3 v_Lighting;\n    in vec2 v_texcoord;\n\n    out vec4 outColor;\n    void main()\n    {\n        // outColor = vec4(v_Lighting,1);\n        vec4 texCol = texture(u_texture, v_texcoord);\n        outColor = vec4(texCol.xyz * v_Lighting,1);\n        // outColor = v_color;\n    }\n\n    ",s.vObjBunny01="#version 300 es\n    precision mediump float;\n\n    in vec4 a_position;\n    in vec3 a_normal;\n    in vec4 a_color;\n\n    uniform mat4 u_matrix;\n    // uniform vec2 u_mouse;\n    // uniform vec2 u_cVec;\n    \n    out vec3 vLighting;\n    out vec4 v_color;\n\n    void main() { \n        gl_Position = u_matrix * a_position;\n\n        highp vec3 ambientLight = vec3(0.6, 0.6, 0.6);\n        highp vec3 directionalLightColor = vec3(0.5, 0.5, 0.75);\n       \n        highp vec3 directionalVector = vec3(0.85, 0.8, 0.75);\n\n        // highp vec4 transformedNormal = u_matrix * vec4(a_normal, 1.0);\n        // highp float directional = max(dot(transformedNormal.xyz, directionalVector), 0.0);\n        // vLighting = ambientLight + (directionalLightColor * directional);\n\n        highp float directional = max(dot(a_normal.xyz, directionalVector), 0.0);\n        vLighting = ambientLight + (directionalLightColor * directional);\n\n        v_color = vec4(a_normal,1);\n    }\n    ",s.fObjBunny01="#version 300 es\n    precision mediump float;\n    // uniform vec4 u_color;\n    // uniform vec2 u_mouse;\n    // uniform vec2 u_cVec;\n\n    in vec4 v_color;\n    in vec3 vLighting;\n\n    out vec4 outColor;\n    void main()\n    {\n        outColor = vec4(vLighting,1);\n\n        // outColor = vec4(v_color.xyz * vLighting,1);\n        // outColor = v_color;\n    }\n\n    ",s.vObjBunny02="#version 300 es\n    precision mediump float;\n\n    in vec4 a_position;\n    in vec3 a_normal;\n    in vec4 a_color;\n\n    uniform mat4 u_matrix;\n    // uniform vec2 u_mouse;\n    // uniform vec2 u_cVec;\n\n    out vec3 vLighting;\n    out vec4 v_color;\n\n    void main() { \n        gl_Position = u_matrix * a_position;\n\n        highp vec3 ambientLight = vec3(0.6, 0.6, 0.6);\n        highp vec3 directionalLightColor = vec3(0.5, 0.5, 0.75);\n    \n        highp vec3 directionalVector = vec3(0.85, 0.8, 0.75);\n\n        // highp vec4 transformedNormal = u_matrix * vec4(a_normal, 1.0);\n        // highp float directional = max(dot(transformedNormal.xyz, directionalVector), 0.0);\n        // vLighting = ambientLight + (directionalLightColor * directional);\n\n        highp float directional = max(dot(a_normal.xyz, directionalVector), 0.0);\n        vLighting = ambientLight + (directionalLightColor * directional);\n\n        v_color = vec4(a_normal,1);\n    }\n    ",s.fObjBunny02="#version 300 es\n    precision mediump float;\n    // uniform vec4 u_color;\n    // uniform vec2 u_mouse;\n    // uniform vec2 u_cVec;\n    \n    in vec4 v_color;\n    in vec3 vLighting;\n\n    out vec4 outColor;\n    void main()\n    {\n        // outColor = vec4(vLighting,1);\n\n        // outColor = vec4(v_color.xyz * vLighting,1);\n        outColor = v_color;\n    }\n    ",s.vObjBunny03="#version 300 es\n    precision mediump float;\n\n    in vec4 a_position;\n    in vec3 a_normal;\n    in vec4 a_color;\n\n    uniform mat4 u_matrix;\n    // uniform vec2 u_mouse;\n    // uniform vec2 u_cVec;\n\n    out vec3 vLighting;\n    out vec4 v_color;\n\n    void main() { \n        gl_Position = u_matrix * a_position;\n\n        highp vec3 ambientLight = vec3(0.6, 0.6, 0.6);\n        highp vec3 directionalLightColor = vec3(0.5, 0.5, 0.75);\n        highp vec3 directionalVector = vec3(0.85, 0.8, 0.75);\n\n        directionalVector = (vec4(directionalVector,1) * u_matrix).xyz;\n\n        highp vec4 transformedNormal = u_matrix * vec4(a_normal, 1.0);\n        highp float directional = max(dot(transformedNormal.xyz, directionalVector), 0.0);\n        vLighting = ambientLight + (directionalLightColor * directional);\n\n        v_color = vec4(a_normal,1);\n    }\n    ",s.fObjBunny03="#version 300 es\n    precision mediump float;\n    // uniform vec4 u_color;\n    // uniform vec2 u_mouse;\n    // uniform vec2 u_cVec;\n    \n    in vec4 v_color;\n    in vec3 vLighting;\n\n    out vec4 outColor;\n    void main(){\n        outColor = vec4(v_color.xyz * vLighting,1);\n    }\n    ";class n{static create(){let e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}static GetIdentity(){let e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}static identity(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}static clone(e){let t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}static copy(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}static Clone(e){let t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}static FromValues(e,t,i,s,n,h,o,r,a,l,c,d,u,p,m,g){let y=new Float32Array(16);return y[0]=e,y[1]=t,y[2]=i,y[3]=s,y[4]=n,y[5]=h,y[6]=o,y[7]=r,y[8]=a,y[9]=l,y[10]=c,y[11]=d,y[12]=u,y[13]=p,y[14]=m,y[15]=g,y}static set(e,t,i,s,n,h,o,r,a,l,c,d,u,p,m,g,y){return e[0]=t,e[1]=i,e[2]=s,e[3]=n,e[4]=h,e[5]=o,e[6]=r,e[7]=a,e[8]=l,e[9]=c,e[10]=d,e[11]=u,e[12]=p,e[13]=m,e[14]=g,e[15]=y,e}static transpose(e,t){if(e===t){let i=t[1],s=t[2],n=t[3],h=t[6],o=t[7],r=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=i,e[6]=t[9],e[7]=t[13],e[8]=s,e[9]=h,e[11]=t[14],e[12]=n,e[13]=o,e[14]=r}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}static lookAt(e,t,i,s){let h,o,r,a,l,c,d,u,p,m;let g=t[0],y=t[1],f=t[2],x=s[0],v=s[1],M=s[2],w=i[0],P=i[1],b=i[2];return Math.abs(g-w)<n.EPSILON&&Math.abs(y-P)<n.EPSILON&&Math.abs(f-b)<n.EPSILON?n.GetIdentity():(m=1/Math.sqrt((d=g-w)*d+(u=y-P)*u+(p=f-b)*p),d*=m,u*=m,p*=m,(m=Math.sqrt((h=v*p-M*u)*h+(o=M*d-x*p)*o+(r=x*u-v*d)*r))?(h*=m=1/m,o*=m,r*=m):(h=0,o=0,r=0),(m=Math.sqrt((a=u*r-p*o)*a+(l=p*h-d*r)*l+(c=d*o-u*h)*c))?(a*=m=1/m,l*=m,c*=m):(a=0,l=0,c=0),e[0]=h,e[1]=a,e[2]=d,e[3]=0,e[4]=o,e[5]=l,e[6]=u,e[7]=0,e[8]=r,e[9]=c,e[10]=p,e[11]=0,e[12]=-(h*g+o*y+r*f),e[13]=-(a*g+l*y+c*f),e[14]=-(d*g+u*y+p*f),e[15]=1,e)}static Ortho(e,t,i,s,n,h){let o=new Float32Array(16),r=1/(e-t),a=1/(i-s),l=1/(n-h);return o[0]=-2*r,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*a,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*l,o[11]=0,o[12]=(e+t)*r,o[13]=(s+i)*a,o[14]=(h+n)*l,o[15]=1,o}static ortho(e,t,i,s,n,h,o){let r=1/(t-i),a=1/(s-n),l=1/(h-o);return e[0]=-2*r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+i)*r,e[13]=(n+s)*a,e[14]=(o+h)*l,e[15]=1,e}static adjoint(e,t){let i=t[0],s=t[1],n=t[2],h=t[3],o=t[4],r=t[5],a=t[6],l=t[7],c=t[8],d=t[9],u=t[10],p=t[11],m=t[12],g=t[13],y=t[14],f=t[15];return e[0]=r*(u*f-p*y)-d*(a*f-l*y)+g*(a*p-l*u),e[1]=-(s*(u*f-p*y)-d*(n*f-h*y)+g*(n*p-h*u)),e[2]=s*(a*f-l*y)-r*(n*f-h*y)+g*(n*l-h*a),e[3]=-(s*(a*p-l*u)-r*(n*p-h*u)+d*(n*l-h*a)),e[4]=-(o*(u*f-p*y)-c*(a*f-l*y)+m*(a*p-l*u)),e[5]=i*(u*f-p*y)-c*(n*f-h*y)+m*(n*p-h*u),e[6]=-(i*(a*f-l*y)-o*(n*f-h*y)+m*(n*l-h*a)),e[7]=i*(a*p-l*u)-o*(n*p-h*u)+c*(n*l-h*a),e[8]=o*(d*f-p*g)-c*(r*f-l*g)+m*(r*p-l*d),e[9]=-(i*(d*f-p*g)-c*(s*f-h*g)+m*(s*p-h*d)),e[10]=i*(r*f-l*g)-o*(s*f-h*g)+m*(s*l-h*r),e[11]=-(i*(r*p-l*d)-o*(s*p-h*d)+c*(s*l-h*r)),e[12]=-(o*(d*y-u*g)-c*(r*y-a*g)+m*(r*u-a*d)),e[13]=i*(d*y-u*g)-c*(s*y-n*g)+m*(s*u-n*d),e[14]=-(i*(r*y-a*g)-o*(s*y-n*g)+m*(s*a-n*r)),e[15]=i*(r*u-a*d)-o*(s*u-n*d)+c*(s*a-n*r),e}static determinant(e){let t=e[0],i=e[1],s=e[2],n=e[3],h=e[4],o=e[5],r=e[6],a=e[7],l=e[8],c=e[9],d=e[10],u=e[11],p=e[12],m=e[13],g=e[14],y=e[15];return(t*o-i*h)*(d*y-u*g)-(t*r-s*h)*(c*y-u*m)+(t*a-n*h)*(c*g-d*m)+(i*r-s*o)*(l*y-u*p)-(i*a-n*o)*(l*g-d*p)+(s*a-n*r)*(l*m-c*p)}static Perspective(e,t,i,s,n){let h=1/Math.tan(t/2),o=1/(s-n);return e[0]=h/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=h,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(n+s)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*n*s*o,e[15]=0,e}static LookAt(e,t,i){let s=n.normalize(n.subtractVectors(e,t)),h=n.cross(i,s),o=n.cross(s,h);return new Float32Array([h[0],h[1],h[2],0,o[0],o[1],o[2],0,s[0],s[1],s[2],0,e[0],e[1],e[2],1])}static scale(e,t,i){let s=i[0],n=i[1],h=i[2];return e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e[3]=t[3]*s,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*h,e[9]=t[9]*h,e[10]=t[10]*h,e[11]=t[11]*h,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}static rotate(e,t,i,s){let h,o,r,a,l,c,d,u,p,m,g,y,f,x,v,M,w,P,b,C,D,E,I,S,R=s[0],A=s[1],T=s[2],L=Math.sqrt(R*R+A*A+T*T);return Math.abs(L)<n.EPSILON?null:(R*=L=1/L,A*=L,T*=L,h=Math.sin(i),r=1-(o=Math.cos(i)),a=t[0],l=t[1],c=t[2],d=t[3],u=t[4],p=t[5],m=t[6],g=t[7],y=t[8],f=t[9],x=t[10],v=t[11],M=R*R*r+o,w=A*R*r+T*h,P=T*R*r-A*h,b=R*A*r-T*h,C=A*A*r+o,D=T*A*r+R*h,E=R*T*r+A*h,I=A*T*r-R*h,S=T*T*r+o,e[0]=a*M+u*w+y*P,e[1]=l*M+p*w+f*P,e[2]=c*M+m*w+x*P,e[3]=d*M+g*w+v*P,e[4]=a*b+u*C+y*D,e[5]=l*b+p*C+f*D,e[6]=c*b+m*C+x*D,e[7]=d*b+g*C+v*D,e[8]=a*E+u*I+y*S,e[9]=l*E+p*I+f*S,e[10]=c*E+m*I+x*S,e[11]=d*E+g*I+v*S,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}static rotateX(e,t,i){let s=Math.sin(i),n=Math.cos(i),h=t[4],o=t[5],r=t[6],a=t[7],l=t[8],c=t[9],d=t[10],u=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=h*n+l*s,e[5]=o*n+c*s,e[6]=r*n+d*s,e[7]=a*n+u*s,e[8]=l*n-h*s,e[9]=c*n-o*s,e[10]=d*n-r*s,e[11]=u*n-a*s,e}static rotateY(e,t,i){let s=Math.sin(i),n=Math.cos(i),h=t[0],o=t[1],r=t[2],a=t[3],l=t[8],c=t[9],d=t[10],u=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=h*n-l*s,e[1]=o*n-c*s,e[2]=r*n-d*s,e[3]=a*n-u*s,e[8]=h*s+l*n,e[9]=o*s+c*n,e[10]=r*s+d*n,e[11]=a*s+u*n,e}static rotateZ(e,t,i){let s=Math.sin(i),n=Math.cos(i),h=t[0],o=t[1],r=t[2],a=t[3],l=t[4],c=t[5],d=t[6],u=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=h*n+l*s,e[1]=o*n+c*s,e[2]=r*n+d*s,e[3]=a*n+u*s,e[4]=l*n-h*s,e[5]=c*n-o*s,e[6]=d*n-r*s,e[7]=u*n-a*s,e}static fromScaling(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}static fromRotation(e,t,i){let s,h,o,r=i[0],a=i[1],l=i[2],c=Math.sqrt(r*r+a*a+l*l);return Math.abs(c)<n.EPSILON?null:(r*=c=1/c,a*=c,l*=c,s=Math.sin(t),o=1-(h=Math.cos(t)),e[0]=r*r*o+h,e[1]=a*r*o+l*s,e[2]=l*r*o-a*s,e[3]=0,e[4]=r*a*o-l*s,e[5]=a*a*o+h,e[6]=l*a*o+r*s,e[7]=0,e[8]=r*l*o+a*s,e[9]=a*l*o-r*s,e[10]=l*l*o+h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}static fromXRotation(e,t){let i=Math.sin(t),s=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=i,e[7]=0,e[8]=0,e[9]=-i,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}static fromYRotation(e,t){let i=Math.sin(t),s=Math.cos(t);return e[0]=s,e[1]=0,e[2]=-i,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=i,e[9]=0,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}static fromZRotation(e,t){let i=Math.sin(t),s=Math.cos(t);return e[0]=s,e[1]=i,e[2]=0,e[3]=0,e[4]=-i,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}static fromRotationTranslation(e,t,i){let s=t[0],n=t[1],h=t[2],o=t[3],r=s+s,a=n+n,l=h+h,c=s*r,d=s*a,u=s*l,p=n*a,m=n*l,g=h*l,y=o*r,f=o*a,x=o*l;return e[0]=1-(p+g),e[1]=d+x,e[2]=u-f,e[3]=0,e[4]=d-x,e[5]=1-(c+g),e[6]=m+y,e[7]=0,e[8]=u+f,e[9]=m-y,e[10]=1-(c+p),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}static getTranslation(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}static getScaling(e,t){let i=t[0],s=t[1],n=t[2],h=t[4],o=t[5],r=t[6],a=t[8],l=t[9],c=t[10];return e[0]=Math.sqrt(i*i+s*s+n*n),e[1]=Math.sqrt(h*h+o*o+r*r),e[2]=Math.sqrt(a*a+l*l+c*c),e}static getRotation(e,t){let i=t[0]+t[5]+t[10],s=0;return i>0?(s=2*Math.sqrt(i+1),e[3]=.25*s,e[0]=(t[6]-t[9])/s,e[1]=(t[8]-t[2])/s,e[2]=(t[1]-t[4])/s):t[0]>t[5]&&t[0]>t[10]?(s=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/s,e[0]=.25*s,e[1]=(t[1]+t[4])/s,e[2]=(t[8]+t[2])/s):t[5]>t[10]?(s=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/s,e[0]=(t[1]+t[4])/s,e[1]=.25*s,e[2]=(t[6]+t[9])/s):(s=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/s,e[0]=(t[8]+t[2])/s,e[1]=(t[6]+t[9])/s,e[2]=.25*s),e}static fromRotationTranslationScale(e,t,i,s){let n=t[0],h=t[1],o=t[2],r=t[3],a=n+n,l=h+h,c=o+o,d=n*a,u=n*l,p=n*c,m=h*l,g=h*c,y=o*c,f=r*a,x=r*l,v=r*c,M=s[0],w=s[1],P=s[2];return e[0]=(1-(m+y))*M,e[1]=(u+v)*M,e[2]=(p-x)*M,e[3]=0,e[4]=(u-v)*w,e[5]=(1-(d+y))*w,e[6]=(g+f)*w,e[7]=0,e[8]=(p+x)*P,e[9]=(g-f)*P,e[10]=(1-(d+m))*P,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}static fromRotationTranslationScaleOrigin(e,t,i,s,n){let h=t[0],o=t[1],r=t[2],a=t[3],l=h+h,c=o+o,d=r+r,u=h*l,p=h*c,m=h*d,g=o*c,y=o*d,f=r*d,x=a*l,v=a*c,M=a*d,w=s[0],P=s[1],b=s[2],C=n[0],D=n[1],E=n[2];return e[0]=(1-(g+f))*w,e[1]=(p+M)*w,e[2]=(m-v)*w,e[3]=0,e[4]=(p-M)*P,e[5]=(1-(u+f))*P,e[6]=(y+x)*P,e[7]=0,e[8]=(m+v)*b,e[9]=(y-x)*b,e[10]=(1-(u+g))*b,e[11]=0,e[12]=i[0]+C-(e[0]*C+e[4]*D+e[8]*E),e[13]=i[1]+D-(e[1]*C+e[5]*D+e[9]*E),e[14]=i[2]+E-(e[2]*C+e[6]*D+e[10]*E),e[15]=1,e}static fromQuat(e,t){let i=t[0],s=t[1],n=t[2],h=t[3],o=i+i,r=s+s,a=n+n,l=i*o,c=s*o,d=s*r,u=n*o,p=n*r,m=n*a,g=h*o,y=h*r,f=h*a;return e[0]=1-d-m,e[1]=c+f,e[2]=u-y,e[3]=0,e[4]=c-f,e[5]=1-l-m,e[6]=p+g,e[7]=0,e[8]=u+y,e[9]=p-g,e[10]=1-l-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}static frustum(e,t,i,s,n,h,o){let r=1/(i-t),a=1/(n-s),l=1/(h-o);return e[0]=2*h*r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*h*a,e[6]=0,e[7]=0,e[8]=(i+t)*r,e[9]=(n+s)*a,e[10]=(o+h)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*h*2*l,e[15]=0,e}static perspective(e,t,i,s,n){let h=1/Math.tan(t/2),o=1/(s-n);return e[0]=h/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=h,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(n+s)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*n*s*o,e[15]=0,e}static targetTo(e,t,i,s){let n=t[0],h=t[1],o=t[2],r=s[0],a=s[1],l=s[2],c=n-i[0],d=h-i[1],u=o-i[2],p=c*c+d*d+u*u;p>0&&(c*=p=1/Math.sqrt(p),d*=p,u*=p);let m=a*u-l*d,g=l*c-r*u,y=r*d-a*c;return e[0]=m,e[1]=g,e[2]=y,e[3]=0,e[4]=d*y-u*g,e[5]=u*m-c*y,e[6]=c*g-d*m,e[7]=0,e[8]=c,e[9]=d,e[10]=u,e[11]=0,e[12]=n,e[13]=h,e[14]=o,e[15]=1,e}static str(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}static frob(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))}static add(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e[9]=t[9]+i[9],e[10]=t[10]+i[10],e[11]=t[11]+i[11],e[12]=t[12]+i[12],e[13]=t[13]+i[13],e[14]=t[14]+i[14],e[15]=t[15]+i[15],e}static subtract(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e[9]=t[9]-i[9],e[10]=t[10]-i[10],e[11]=t[11]-i[11],e[12]=t[12]-i[12],e[13]=t[13]-i[13],e[14]=t[14]-i[14],e[15]=t[15]-i[15],e}static multiplyScalar(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12]*i,e[13]=t[13]*i,e[14]=t[14]*i,e[15]=t[15]*i,e}static multiplyScalarAndAdd(e,t,i,s){return e[0]=t[0]+i[0]*s,e[1]=t[1]+i[1]*s,e[2]=t[2]+i[2]*s,e[3]=t[3]+i[3]*s,e[4]=t[4]+i[4]*s,e[5]=t[5]+i[5]*s,e[6]=t[6]+i[6]*s,e[7]=t[7]+i[7]*s,e[8]=t[8]+i[8]*s,e[9]=t[9]+i[9]*s,e[10]=t[10]+i[10]*s,e[11]=t[11]+i[11]*s,e[12]=t[12]+i[12]*s,e[13]=t[13]+i[13]*s,e[14]=t[14]+i[14]*s,e[15]=t[15]+i[15]*s,e}static exactEquals(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}static equals(e,t){let i=e[0],s=e[1],h=e[2],o=e[3],r=e[4],a=e[5],l=e[6],c=e[7],d=e[8],u=e[9],p=e[10],m=e[11],g=e[12],y=e[13],f=e[14],x=e[15],v=t[0],M=t[1],w=t[2],P=t[3],b=t[4],C=t[5],D=t[6],E=t[7],I=t[8],S=t[9],R=t[10],A=t[11],T=t[12],L=t[13],O=t[14],N=t[15];return Math.abs(i-v)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(s-M)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(h-w)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(w))&&Math.abs(o-P)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(P))&&Math.abs(r-b)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(a-C)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(C))&&Math.abs(l-D)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(D))&&Math.abs(c-E)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(d-I)<=n.EPSILON*Math.max(1,Math.abs(d),Math.abs(I))&&Math.abs(u-S)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(p-R)<=n.EPSILON*Math.max(1,Math.abs(p),Math.abs(R))&&Math.abs(m-A)<=n.EPSILON*Math.max(1,Math.abs(m),Math.abs(A))&&Math.abs(g-T)<=n.EPSILON*Math.max(1,Math.abs(g),Math.abs(T))&&Math.abs(y-L)<=n.EPSILON*Math.max(1,Math.abs(y),Math.abs(L))&&Math.abs(f-O)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(x-N)<=n.EPSILON*Math.max(1,Math.abs(x),Math.abs(N))}static XRotation(e){let t=Math.cos(e),i=Math.sin(e);return new Float32Array([1,0,0,0,0,t,i,0,0,-i,t,0,0,0,0,1])}static YRotation(e){let t=Math.cos(e),i=Math.sin(e);return new Float32Array([t,0,-i,0,0,1,0,0,i,0,t,0,0,0,0,1])}static translate(e,t,i){let s,n,h,o,r,a,l,c,d,u,p,m,g=i[0],y=i[1],f=i[2];return t===e?(e[12]=t[0]*g+t[4]*y+t[8]*f+t[12],e[13]=t[1]*g+t[5]*y+t[9]*f+t[13],e[14]=t[2]*g+t[6]*y+t[10]*f+t[14],e[15]=t[3]*g+t[7]*y+t[11]*f+t[15]):(s=t[0],n=t[1],h=t[2],o=t[3],r=t[4],a=t[5],l=t[6],c=t[7],d=t[8],u=t[9],p=t[10],m=t[11],e[0]=s,e[1]=n,e[2]=h,e[3]=o,e[4]=r,e[5]=a,e[6]=l,e[7]=c,e[8]=d,e[9]=u,e[10]=p,e[11]=m,e[12]=s*g+r*y+d*f+t[12],e[13]=n*g+a*y+u*f+t[13],e[14]=h*g+l*y+p*f+t[14],e[15]=o*g+c*y+m*f+t[15]),e}static Translate(e,t,i,s){return n.Multiply(e,n.Translation(t,i,s))}static Translation(e,t,i){return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,e,t,i,1])}static multiply(e,t,i){let s=t[0],n=t[1],h=t[2],o=t[3],r=t[4],a=t[5],l=t[6],c=t[7],d=t[8],u=t[9],p=t[10],m=t[11],g=t[12],y=t[13],f=t[14],x=t[15],v=i[0],M=i[1],w=i[2],P=i[3];return e[0]=v*s+M*r+w*d+P*g,e[1]=v*n+M*a+w*u+P*y,e[2]=v*h+M*l+w*p+P*f,e[3]=v*o+M*c+w*m+P*x,v=i[4],M=i[5],w=i[6],P=i[7],e[4]=v*s+M*r+w*d+P*g,e[5]=v*n+M*a+w*u+P*y,e[6]=v*h+M*l+w*p+P*f,e[7]=v*o+M*c+w*m+P*x,v=i[8],M=i[9],w=i[10],P=i[11],e[8]=v*s+M*r+w*d+P*g,e[9]=v*n+M*a+w*u+P*y,e[10]=v*h+M*l+w*p+P*f,e[11]=v*o+M*c+w*m+P*x,v=i[12],M=i[13],w=i[14],P=i[15],e[12]=v*s+M*r+w*d+P*g,e[13]=v*n+M*a+w*u+P*y,e[14]=v*h+M*l+w*p+P*f,e[15]=v*o+M*c+w*m+P*x,e}static Multiply(e,t){let i=e[0],s=e[1],n=e[2],h=e[3],o=e[4],r=e[5],a=e[6],l=e[7],c=e[8],d=e[9],u=e[10],p=e[11],m=e[12],g=e[13],y=e[14],f=e[15],x=t[0],v=t[1],M=t[2],w=t[3],P=t[4],b=t[5],C=t[6],D=t[7],E=t[8],I=t[9],S=t[10],R=t[11],A=t[12],T=t[13],L=t[14],O=t[15];return new Float32Array([x*i+v*o+M*c+w*m,x*s+v*r+M*d+w*g,x*n+v*a+M*u+w*y,x*h+v*l+M*p+w*f,P*i+b*o+C*c+D*m,P*s+b*r+C*d+D*g,P*n+b*a+C*u+D*y,P*h+b*l+C*p+D*f,E*i+I*o+S*c+R*m,E*s+I*r+S*d+R*g,E*n+I*a+S*u+R*y,E*h+I*l+S*p+R*f,A*i+T*o+L*c+O*m,A*s+T*r+L*d+O*g,A*n+T*a+L*u+O*y,A*h+T*l+L*p+O*f])}static Inverse(e){let t=e[0],i=e[1],s=e[2],n=e[3],h=e[4],o=e[5],r=e[6],a=e[7],l=e[8],c=e[9],d=e[10],u=e[11],p=e[12],m=e[13],g=e[14],y=e[15],f=d*y,x=g*u,v=r*y,M=g*a,w=r*u,P=d*a,b=s*y,C=g*n,D=s*u,E=d*n,I=s*a,S=r*n,R=l*m,A=p*c,T=h*m,L=p*o,O=h*c,N=l*o,G=t*m,_=p*i,W=t*c,V=l*i,z=t*o,B=h*i,k=f*o+M*c+w*m-(x*o+v*c+P*m),H=x*i+b*c+E*m-(f*i+C*c+D*m),F=v*i+C*o+I*m-(M*i+b*o+S*m),U=P*i+D*o+S*c-(w*i+E*o+I*c),Y=1/(t*k+h*H+l*F+p*U);return new Float32Array([Y*k,Y*H,Y*F,Y*U,Y*(x*h+v*l+P*p-(f*h+M*l+w*p)),Y*(f*t+C*l+D*p-(x*t+b*l+E*p)),Y*(M*t+b*h+S*p-(v*t+C*h+I*p)),Y*(w*t+E*h+I*l-(P*t+D*h+S*l)),Y*(R*a+L*u+O*y-(A*a+T*u+N*y)),Y*(A*n+G*u+V*y-(R*n+_*u+W*y)),Y*(T*n+_*a+z*y-(L*n+G*a+B*y)),Y*(N*n+W*a+B*u-(O*n+V*a+z*u)),Y*(T*d+N*g+A*r-(O*g+R*r+L*d)),Y*(W*g+R*s+_*d-(G*d+V*g+A*s)),Y*(G*r+B*g+L*s-(z*g+T*s+_*r)),Y*(z*d+O*s+V*r-(W*r+B*d+N*s))])}static invert(e,t){let i=t[0],s=t[1],n=t[2],h=t[3],o=t[4],r=t[5],a=t[6],l=t[7],c=t[8],d=t[9],u=t[10],p=t[11],m=t[12],g=t[13],y=t[14],f=t[15],x=i*r-s*o,v=i*a-n*o,M=i*l-h*o,w=s*a-n*r,P=s*l-h*r,b=n*l-h*a,C=c*g-d*m,D=c*y-u*m,E=c*f-p*m,I=d*y-u*g,S=d*f-p*g,R=u*f-p*y,A=x*R-v*S+M*I+w*E-P*D+b*C;if(A)return A=1/A,e[0]=(r*R-a*S+l*I)*A,e[1]=(n*S-s*R-h*I)*A,e[2]=(g*b-y*P+f*w)*A,e[3]=(u*P-d*b-p*w)*A,e[4]=(a*E-o*R-l*D)*A,e[5]=(i*R-n*E+h*D)*A,e[6]=(y*M-m*b-f*v)*A,e[7]=(c*b-u*M+p*v)*A,e[8]=(o*S-r*E+l*C)*A,e[9]=(s*E-i*S-h*C)*A,e[10]=(m*P-g*M+f*x)*A,e[11]=(d*M-c*P-p*x)*A,e[12]=(r*D-o*I-a*C)*A,e[13]=(i*I-s*D+n*C)*A,e[14]=(g*v-m*w-y*x)*A,e[15]=(c*w-d*v+u*x)*A,e}static VectorMultiply(e,t){for(var i=[],s=0;s<4;++s){i[s]=0;for(var n=0;n<4;++n)i[s]+=e[n]*t[4*n+s]}return i}static subtractVectors(e,t){return new Float32Array([e[0]-t[0],e[1]-t[1],e[2]-t[2]])}static normalize(e){let t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return new Float32Array(t>1e-5?[e[0]/t,e[1]/t,e[2]/t]:[0,0,0])}static cross(e,t){return new Float32Array([e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]])}constructor(){}}n.EPSILON=1e-6;class h extends Float32Array{static Identity(e){for(var t=0;t<=e.length;t++)e[t]=t%5==0?1:0;return e}static Perspective(e,t,i,s,n){var h=1/Math.tan(t/2),o=1/(s-n);e[0]=h/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=h,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(n+s)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*n*s*o,e[15]=0}static Ortho(e,t,i,s,n,h,o){var r=1/(t-i),a=1/(s-n),l=1/(h-o);e[0]=-2*r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+i)*r,e[13]=(n+s)*a,e[14]=(o+h)*l,e[15]=1}static Transpose(e,t){if(e===t){var i=t[1],s=t[2],n=t[3],h=t[6],o=t[7],r=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=i,e[6]=t[9],e[7]=t[13],e[8]=s,e[9]=h,e[11]=t[14],e[12]=n,e[13]=o,e[14]=r}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}static NormalMat3(e,t){var i=t[0],s=t[1],n=t[2],h=t[3],o=t[4],r=t[5],a=t[6],l=t[7],c=t[8],d=t[9],u=t[10],p=t[11],m=t[12],g=t[13],y=t[14],f=t[15],x=i*r-s*o,v=i*a-n*o,M=i*l-h*o,w=s*a-n*r,P=s*l-h*r,b=n*l-h*a,C=c*g-d*m,D=c*y-u*m,E=c*f-p*m,I=d*y-u*g,S=d*f-p*g,R=u*f-p*y,A=x*R-v*S+M*I+w*E-P*D+b*C;return A?(A=1/A,e[0]=(r*R-a*S+l*I)*A,e[1]=(a*E-o*R-l*D)*A,e[2]=(o*S-r*E+l*C)*A,e[3]=(n*S-s*R-h*I)*A,e[4]=(i*R-n*E+h*D)*A,e[5]=(s*E-i*S-h*C)*A,e[6]=(g*b-y*P+f*w)*A,e[7]=(y*M-m*b-f*v)*A,e[8]=(m*P-g*M+f*x)*A,e):null}static FromQuaternion(e,t){var i=t[0],s=t[1],n=t[2],h=t[3],o=i+i,r=s+s,a=n+n,l=i*o,c=i*r,d=i*a,u=s*r,p=s*a,m=n*a,g=h*o,y=h*r,f=h*a;return e[0]=1-(u+m),e[1]=c+f,e[2]=d-y,e[3]=0,e[4]=c-f,e[5]=1-(l+m),e[6]=p+g,e[7]=0,e[8]=d+y,e[9]=p-g,e[10]=1-(l+u),e[11]=0,e}static FromQuaternionTranslation(e,t,i){var s=t[0],n=t[1],h=t[2],o=t[3],r=s+s,a=n+n,l=h+h,c=s*r,d=s*a,u=s*l,p=n*a,m=n*l,g=h*l,y=o*r,f=o*a,x=o*l;return e[0]=1-(p+g),e[1]=d+x,e[2]=u-f,e[3]=0,e[4]=d-x,e[5]=1-(c+g),e[6]=m+y,e[7]=0,e[8]=u+f,e[9]=m-y,e[10]=1-(c+p),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}static FromQuaternionTranslationScale(e,t,i,s){var n=t[0],h=t[1],o=t[2],r=t[3],a=n+n,l=h+h,c=o+o,d=n*a,u=n*l,p=n*c,m=h*l,g=h*c,y=o*c,f=r*a,x=r*l,v=r*c,M=s[0],w=s[1],P=s[2];return e[0]=(1-(m+y))*M,e[1]=(u+v)*M,e[2]=(p-x)*M,e[3]=0,e[4]=(u-v)*w,e[5]=(1-(d+y))*w,e[6]=(g+f)*w,e[7]=0,e[8]=(p+x)*P,e[9]=(g-f)*P,e[10]=(1-(d+m))*P,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}static GetTranslation(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}static GetScaling(e,t){var i=t[0],s=t[1],n=t[2],h=t[4],o=t[5],r=t[6],a=t[8],l=t[9],c=t[10];return e[0]=Math.sqrt(i*i+s*s+n*n),e[1]=Math.sqrt(h*h+o*o+r*r),e[2]=Math.sqrt(a*a+l*l+c*c),e}static GetRotation(e,t){var i=t[0]+t[5]+t[10],s=0;return i>0?(s=2*Math.sqrt(i+1),e[3]=.25*s,e[0]=(t[6]-t[9])/s,e[1]=(t[8]-t[2])/s,e[2]=(t[1]-t[4])/s):t[0]>t[5]&&t[0]>t[10]?(s=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/s,e[0]=.25*s,e[1]=(t[1]+t[4])/s,e[2]=(t[8]+t[2])/s):t[5]>t[10]?(s=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/s,e[0]=(t[1]+t[4])/s,e[1]=.25*s,e[2]=(t[6]+t[9])/s):(s=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/s,e[0]=(t[8]+t[2])/s,e[1]=(t[6]+t[9])/s,e[2]=.25*s),e}static MultiplyVector(e,t){var i=t[0],s=t[1],n=t[2],h=t[3],o=e[0],r=e[1],a=e[2],l=e[3],c=e[4],d=e[5],u=e[6],p=e[7],m=e[8],g=e[9],y=e[10],f=e[11];return[i*o+s*c+n*m+h*e[12],i*r+s*d+n*g+h*e[13],i*a+s*u+n*y+h*e[14],i*l+s*p+n*f+h*e[15]]}static TransformVec4(e,t,i){return e[0]=i[0]*t[0]+i[4]*t[1]+i[8]*t[2]+i[12]*t[3],e[1]=i[1]*t[0]+i[5]*t[1]+i[9]*t[2]+i[13]*t[3],e[2]=i[2]*t[0]+i[6]*t[1]+i[10]*t[2]+i[14]*t[3],e[3]=i[3]*t[0]+i[7]*t[1]+i[11]*t[2]+i[15]*t[3],e}static TransformVec3(e,t,i){return e[0]=i[0]*t[0]+i[4]*t[1]+i[8]*t[2]+i[12],e[1]=i[1]*t[0]+i[5]*t[1]+i[9]*t[2]+i[13],e[2]=i[2]*t[0]+i[6]*t[1]+i[10]*t[2]+i[14],e[3]=i[3]*t[0]+i[7]*t[1]+i[11]*t[2]+i[15],e}static Mult(e,t,i){var s=t[0],n=t[1],h=t[2],o=t[3],r=t[4],a=t[5],l=t[6],c=t[7],d=t[8],u=t[9],p=t[10],m=t[11],g=t[12],y=t[13],f=t[14],x=t[15],v=i[0],M=i[1],w=i[2],P=i[3];return e[0]=v*s+M*r+w*d+P*g,e[1]=v*n+M*a+w*u+P*y,e[2]=v*h+M*l+w*p+P*f,e[3]=v*o+M*c+w*m+P*x,v=i[4],M=i[5],w=i[6],P=i[7],e[4]=v*s+M*r+w*d+P*g,e[5]=v*n+M*a+w*u+P*y,e[6]=v*h+M*l+w*p+P*f,e[7]=v*o+M*c+w*m+P*x,v=i[8],M=i[9],w=i[10],P=i[11],e[8]=v*s+M*r+w*d+P*g,e[9]=v*n+M*a+w*u+P*y,e[10]=v*h+M*l+w*p+P*f,e[11]=v*o+M*c+w*m+P*x,v=i[12],M=i[13],w=i[14],P=i[15],e[12]=v*s+M*r+w*d+P*g,e[13]=v*n+M*a+w*u+P*y,e[14]=v*h+M*l+w*p+P*f,e[15]=v*o+M*c+w*m+P*x,e}static scale(e,t,i,s){return e[0]*=t,e[1]*=t,e[2]*=t,e[3]*=t,e[4]*=i,e[5]*=i,e[6]*=i,e[7]*=i,e[8]*=s,e[9]*=s,e[10]*=s,e[11]*=s,e}static RotateY(e,t){var i=Math.sin(t),s=Math.cos(t),n=e[0],h=e[1],o=e[2],r=e[3],a=e[8],l=e[9],c=e[10],d=e[11];return e[0]=n*s-a*i,e[1]=h*s-l*i,e[2]=o*s-c*i,e[3]=r*s-d*i,e[8]=n*i+a*s,e[9]=h*i+l*s,e[10]=o*i+c*s,e[11]=r*i+d*s,e}static RotateX(e,t){var i=Math.sin(t),s=Math.cos(t),n=e[4],h=e[5],o=e[6],r=e[7],a=e[8],l=e[9],c=e[10],d=e[11];return e[4]=n*s+a*i,e[5]=h*s+l*i,e[6]=o*s+c*i,e[7]=r*s+d*i,e[8]=a*s-n*i,e[9]=l*s-h*i,e[10]=c*s-o*i,e[11]=d*s-r*i,e}static RotateZ(e,t){var i=Math.sin(t),s=Math.cos(t),n=e[0],h=e[1],o=e[2],r=e[3],a=e[4],l=e[5],c=e[6],d=e[7];return e[0]=n*s+a*i,e[1]=h*s+l*i,e[2]=o*s+c*i,e[3]=r*s+d*i,e[4]=a*s-n*i,e[5]=l*s-h*i,e[6]=c*s-o*i,e[7]=d*s-r*i,e}static Rotate(e,t,i){var s,n,h,o,r,a,l,c,d,u,p,m,g,y,f,x,v,M,w,P,b,C,D,E,I=i[0],S=i[1],R=i[2],A=Math.sqrt(I*I+S*S+R*R);return 1e-6>Math.abs(A)?null:(I*=A=1/A,S*=A,R*=A,s=Math.sin(t),h=1-(n=Math.cos(t)),o=e[0],r=e[1],a=e[2],l=e[3],c=e[4],d=e[5],u=e[6],p=e[7],m=e[8],g=e[9],y=e[10],f=e[11],x=I*I*h+n,v=S*I*h+R*s,M=R*I*h-S*s,w=I*S*h-R*s,P=S*S*h+n,b=R*S*h+I*s,C=I*R*h+S*s,D=S*R*h-I*s,E=R*R*h+n,e[0]=o*x+c*v+m*M,e[1]=r*x+d*v+g*M,e[2]=a*x+u*v+y*M,e[3]=l*x+p*v+f*M,e[4]=o*w+c*P+m*b,e[5]=r*w+d*P+g*b,e[6]=a*w+u*P+y*b,e[7]=l*w+p*P+f*b,e[8]=o*C+c*D+m*E,e[9]=r*C+d*D+g*E,e[10]=a*C+u*D+y*E,e[11]=l*C+p*D+f*E,e)}static Invert(e,t){void 0===t&&(t=e);var i=t[0],s=t[1],n=t[2],h=t[3],o=t[4],r=t[5],a=t[6],l=t[7],c=t[8],d=t[9],u=t[10],p=t[11],m=t[12],g=t[13],y=t[14],f=t[15],x=i*r-s*o,v=i*a-n*o,M=i*l-h*o,w=s*a-n*r,P=s*l-h*r,b=n*l-h*a,C=c*g-d*m,D=c*y-u*m,E=c*f-p*m,I=d*y-u*g,S=d*f-p*g,R=u*f-p*y,A=x*R-v*S+M*I+w*E-P*D+b*C;return!!A&&(A=1/A,e[0]=(r*R-a*S+l*I)*A,e[1]=(n*S-s*R-h*I)*A,e[2]=(g*b-y*P+f*w)*A,e[3]=(u*P-d*b-p*w)*A,e[4]=(a*E-o*R-l*D)*A,e[5]=(i*R-n*E+h*D)*A,e[6]=(y*M-m*b-f*v)*A,e[7]=(c*b-u*M+p*v)*A,e[8]=(o*S-r*E+l*C)*A,e[9]=(s*E-i*S-h*C)*A,e[10]=(m*P-g*M+f*x)*A,e[11]=(d*M-c*P-p*x)*A,e[12]=(r*D-o*I-a*C)*A,e[13]=(i*I-s*D+n*C)*A,e[14]=(g*v-m*w-y*x)*A,e[15]=(c*w-d*v+u*x)*A,!0)}static Translate(e,t,i,s){e[12]=e[0]*t+e[4]*i+e[8]*s+e[12],e[13]=e[1]*t+e[5]*i+e[9]*s+e[13],e[14]=e[2]*t+e[6]*i+e[10]*s+e[14],e[15]=e[3]*t+e[7]*i+e[11]*s+e[15]}Translate(e){return h.Translate(this,e[0],e[1],e[2]),this}ResetTranslation(){return this[12]=this[13]=this[14]=0,this[15]=1,this}Reset(){for(var e=0;e<=this.length;e++)this[e]=e%5==0?1:0;return this}Copy(e){for(var t=0;t<16;t++)this[t]=e[t];return this}constructor(){super(16),this[0]=this[5]=this[10]=this[15]=1,this.raw=h.Identity(this.raw)}}h.deg2Rad=Math.PI/180;class o{static GetShader(e,t,i){let s=e.createShader(t);return(e.shaderSource(s,i),e.compileShader(s),e.getShaderParameter(s,e.COMPILE_STATUS))?s:(e.deleteShader(s),null)}static CreateProgram(e,t,i){let s=!(arguments.length>3)||void 0===arguments[3]||arguments[3],n=e.createProgram();return(e.attachShader(n,t),e.attachShader(n,i),e.linkProgram(n),e.getProgramParameter(n,e.LINK_STATUS))?s&&(e.validateProgram(n),!e.getProgramParameter(n,e.VALIDATE_STATUS))?(console.error("Failed to validate program",e.getProgramInfoLog(n)),e.deleteProgram(n),e.deleteShader(i),e.deleteShader(t),null):(e.deleteShader(i),e.deleteShader(t),n):(e.getProgramInfoLog(n),e.deleteProgram(n),e.deleteShader(i),e.deleteShader(t),null)}static CreateShader(e,t,i){let s=e.createShader(t);return(e.shaderSource(s,i),e.compileShader(s),e.getShaderParameter(s,e.COMPILE_STATUS))?s:(e.deleteShader(s),null)}static CreateShaderFromPath(e,t,i){let s=e.createShader(t);return(e.shaderSource(s,o.GetSourceSynch(i)),e.compileShader(s),e.getShaderParameter(s,e.COMPILE_STATUS))?s:(e.deleteShader(s),null)}static GetSourceSynch(e){let t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),200===t.status?t.responseText:null}static loadImage(e,t){let i=new Image;i.onload=function(){t(null,i)},i.src=e}}(_=V||(V={}))[_.ZERO=0]="ZERO",_[_.ONE=1]="ONE",_[_.SRC_COLOR=768]="SRC_COLOR",_[_.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",_[_.DST_COLOR=774]="DST_COLOR",_[_.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",_[_.SRC_ALPHA=770]="SRC_ALPHA",_[_.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",_[_.DST_ALPHA=772]="DST_ALPHA",_[_.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",_[_.CONSTANT_COLOR=32769]="CONSTANT_COLOR",_[_.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",_[_.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",_[_.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",_[_.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE";class r{static GLBlendingType(e,t,i){e.blendFunc(t,i)}static GetSourceBlendingInOrder(){}static GetDestinationBlendingInOrder(){}ShiftSource(){++this.indexSource===r.glBlendingArray.length&&(this.indexSource=0),this.glSource=V[r.glBlendingArray[this.indexSource]],this.GetLog()}ShiftDestination(){++this.indexDestination===r.glBlendingArray.length&&(this.indexDestination=0),this.glDestination=V[r.glBlendingArray[this.indexDestination]],this.GetLog()}GetLog(){}UpdateBlending(e){e.blendFunc(this.glSource,this.glDestination)}constructor(){this.indexSource=0,this.indexDestination=1,this.indexSource=6,this.indexDestination=1,this.glSource=V[r.glBlendingArray[this.indexSource]],this.glDestination=V[r.glBlendingArray[this.indexDestination]]}}r.numSource=0,r.numDestination=0,r.glBlendingArray=["ZERO","ONE","SRC_COLOR","ONE_MINUS_SRC_COLOR","DST_COLOR","ONE_MINUS_DST_COLOR","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","DST_ALPHA","ONE_MINUS_DST_ALPHA","CONSTANT_COLOR","ONE_MINUS_CONSTANT_COLOR","CONSTANT_ALPHA","ONE_MINUS_CONSTANT_ALPHA","SRC_ALPHA_SATURATE"],(W=z||(z={}))[W.POINTS=0]="POINTS",W[W.LINES=1]="LINES",W[W.LINE_LOOP=2]="LINE_LOOP",W[W.LINE_STRIP=3]="LINE_STRIP",W[W.TRIANGLES=4]="TRIANGLES",W[W.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",W[W.TRIANGLE_FAN=6]="TRIANGLE_FAN";var a,l,c,d,u,p,m,g,y,f,x,v,M,w,P,b,C,D,E,I,S,R,A,T,L,O,N,G,_,W,V,z,B,k,H,F,U,Y,X,j,K,q,J,Q,Z,$,ee,et,ei,es,en,eh,eo,er,ea,el,ec,ed,eu,ep,em,eg=i(38995);class ey{constructor(){this._vec=new eg.h(0,0,0)}}var ef=i(66565);class ex{MouseEventController(e){}KeyboardEventController(e){}TouchEventController(e){}GestureEventController(e){}mouseLeftClick(e){}mouseMiddleClick(e){}mouseRightClick(e){}mouseDoubleClick(e){}mouseMove(e){}mouseDrag(e){}mouseDown(e){}mouseUp(e){}keydown(e){}keyUp(e){}constructor(){}}var ev=i(35389);class eM{constructor(){this.vec=new ev.h(0,0,0)}}class ew extends eM{static GetLineFromVecs(e){let t=[];for(let i=0;i<e.length;++i)i===e.length-1?t.push(new ew(e[i],e[0])):t.push(new ew(e[i],e[i+1]));return t}static GetUnOverlapWithLines(e,t){let i=[],s=[];for(let s=0;s<e.length;++s){i.push(!1);for(let n=0;n<t.length;++n)ew.IsOverlap(e[s],t[n])&&(i[s]=!0)}for(let t=0;t<i.length;++t)i[t]||s.push(e[t]);return s}static IsOverlap(e,t){return!!(e.p0.IsOverlap(t.p0)&&e.p1.IsOverlap(t.p1))||!!(e.p0.IsOverlap(t.p1)&&e.p1.IsOverlap(t.p0))}static RemoveOverlapWithLines(e){let t=[],i=[];for(let i=0;i<e.length;++i){t.push(0);for(let s=i+1;s<e.length;++s)ew.IsOverlap(e[i],e[s])&&t[i]++}for(let s=0;s<t.length;++s)0===t[s]&&i.push(e[s]);return i}Render(e){e.lineWidth=.5,e.strokeStyle="red",e.beginPath(),e.moveTo(this.p0.x,this.p0.y),e.lineTo(this.p1.x,this.p1.y),e.closePath(),e.stroke()}DistanceToPoint(e){let t=(this.p1.y-this.p0.y)/(this.p1.x-this.p0.x),i=this.p0.y-t*this.p0.x,s=[];return s.push(Math.abs(e.y-t*e.x-i)/Math.sqrt(Math.pow(t,2)+1)),s.push(Math.sqrt(Math.pow(e.x-this.p0.x,2)+Math.pow(e.y-this.p0.y,2))),s.push(Math.sqrt(Math.pow(e.x-this.p1.x,2)+Math.pow(e.y-this.p1.y,2))),s.sort((e,t)=>e-t)[0]}PointCloseToLine(e){let t=this.p1.x-this.p0.x,i=this.p1.y-this.p0.y,s=((e.x-this.p0.x)*t+(e.y-this.p0.y)*i)/(t*t+i*i);return[ef.$H.Lerp(this.p0.x,this.p1.x,s),ef.$H.Lerp(this.p0.y,this.p1.y,s)]}GetLog(){throw Error("Method not implemented.")}RenderPost(e){throw Error("Method not implemented.")}IsMouseInside(e,t){throw Error("Method not implemented.")}Translate(e,t){throw Error("Method not implemented.")}Move(e,t){throw Error("Method not implemented.")}Remove(){throw Error("Method not implemented.")}Hide(){throw Error("Method not implemented.")}constructor(e,t){super(),this.p0=e,this.p1=t}}class eP{static GetGridArray(e,t,i,s,n,h){let o=new Float32Array(e*t*2),r=(n-i)/(e-1),a=(h-s)/(t-1),l=0;for(let n=0;n<t;++n){let t=a*n+s;for(let s=0;s<e;++s){let e=r*s+i;o[l++]=e,o[l++]=t}}return o}static GetGridVec(e,t,i,s,n,h){let o=[],r=(n-i)/(e-1),a=(h-s)/(t-1);for(let n=0;n<t;++n){let t=a*n+s;for(let s=0;s<e;++s){let e=r*s+i;o.push(new ev.h(e,t))}}return o}static GetGridVec3d(e,t,i,s,n,h,o,r,a){let l=[],c=(o-s)/(e-1),d=(r-n)/(t-1),u=(a-h)/(i-1);for(let o=0;o<i;++o){let i=u*o+h;for(let h=0;h<t;++h){let t=d*h+n;for(let n=0;n<e;++n){let e=c*n+s;l.push(new ev.h(e,t,i))}}}return l}static GetLineGridVec(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,n=[];e-=1,t-=1;let h=new ev.h(-(.5*e)*i,-(.5*t)*s,0),o=new ev.h(.5*e*i,.5*t*s,0);for(let e=0;e<=t;++e){let t=new ev.h(h.x+e*i,h.y,0),r=new ev.h(h.x+e*i,o.y,0),a=new ew(t,r);n.push(a),a=new ew(t=new ev.h(h.x,h.y+e*s,0),r=new ev.h(o.x,h.y+e*s,0)),n.push(a)}return n}static GetCircleVec(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:360,h=[e,t],o=360/n;for(let n=0;n<=360;n+=o){let o=n*Math.PI/180,r=e+Math.sin(o)*i,a=t+Math.cos(o)*s;h.push(r,a)}return new Float32Array(h)}static GetCircleVec3d(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:360,o=[e,t,i],r=360/h;for(let h=0;h<=360;h+=r){let r=h*Math.PI/180,a=e+Math.sin(r)*s,l=t+Math.cos(r)*n;o.push(a,l,i)}return new Float32Array(o)}static GetSpherec3d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=[];for(let i=0;i<6.28;i+=.1)for(let s=0;s<3.14;s+=.1){let n=e*Math.cos(i)*Math.sin(s),h=e*Math.sin(i)*Math.sin(s),o=e*Math.cos(s);t.push(n,h,o)}return new Float32Array(t)}static GetArcVec(e,t,i,s,n){let h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,o=[new ev.h(e,t)],r=2*Math.PI*i+.5*Math.PI,a=2*Math.PI*s+.5*Math.PI,l=(a-r)/h;for(let i=r;i<=a+.001;i+=l){let s=e+Math.sin(i)*n,h=t-Math.cos(i)*n;o.push(new ev.h(s,h))}return o}static GetSpherecVecs3d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:18,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,s=[],n=2*Math.PI/e,h=Math.PI/t;for(let e=0;e<2*Math.PI;e+=n)for(let t=0;t<Math.PI;t+=h){let n=i*Math.cos(e)*Math.sin(t),h=i*Math.sin(e)*Math.sin(t),o=i*Math.cos(t);s.push(new ev.h(n,h,o))}return s}static GetSpherecVecs3dRandom(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=[];for(let s=0;s<e;++s){let e=2*Math.PI*Math.random(),s=Math.PI*Math.random(),n=t*Math.cos(e)*Math.sin(s),h=t*Math.sin(e)*Math.sin(s),o=t*Math.cos(s);i.push(new ev.h(n,h,o))}return i}static GetSpherecVecs3dRandomWithThicknessOffset(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,s=[];for(var n=0;n<e;n++){let e=Math.random()*Math.PI*2,n=(1-Math.sqrt(Math.random()))*Math.PI/2*(Math.random()>.5?1:-1),h=Math.cos(e)*Math.cos(n),o=Math.sin(n),r=Math.sin(e)*Math.cos(n),a=new ev.h(h,o,r);a.Mult(t+(Math.random()-.5)*i),s.push(a)}return s}static GetSpherecVecs3dForWire(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:18,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,s=[],n=2*Math.PI/e,h=Math.PI/t;for(let e=0;e<Math.PI;e+=h)for(let t=0;t<2*Math.PI;t+=n){let n=i*Math.cos(t)*Math.sin(e),h=i*Math.sin(t)*Math.sin(e),o=i*Math.cos(e);s.push(new ev.h(n,h,o))}for(let e=0;e<2*Math.PI;e+=n)for(let t=0;t<Math.PI;t+=h){let n=i*Math.cos(e)*Math.sin(t),h=i*Math.sin(e)*Math.sin(t),o=i*Math.cos(t);s.push(new ev.h(n,h,o))}return s}static GetPoints3dProjectedToGlobe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,n=[];for(let h=0;h<e.length-3;h+=3){let o=ef.$H.RemapLong(e[h]),r=ef.$H.RemapLat(e[h+1]),a=e[h+2],l=t*Math.cos(o)*Math.sin(r),c=t*Math.sin(o)*Math.sin(r),d=t*Math.cos(r),u=new ev.h(l,c,d);if(i){let e=a*s,t=ev.h.Normalize(u).Mult(e);u.Add(t)}n.push(u)}return n}static GetPoint3dProjectedToGlobeByVecs(e){let t=[];for(let i=0;i<e.length;++i)t.push(this.GetPoint3dProjectedToGlobeByVec(e[i].x,e[i].y));return t}static GetPoint3dProjectedToGlobeByVec(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:10,o=ef.$H.RemapLong(e),r=ef.$H.RemapLat(t),a=new ev.h(s*Math.cos(o)*Math.sin(r),s*Math.sin(o)*Math.sin(r),s*Math.cos(r));if(n){let e=ev.h.Normalize(a).Mult(i*h);a.Add(e)}return a}static GetLineVecProjectedToGlobe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,i=[],s=ef.$H.RemapLong(e.x),n=ef.$H.RemapLat(e.y),h=e.z,o=h*Math.cos(s)*Math.sin(n),r=h*Math.sin(s)*Math.sin(n),a=h*Math.cos(n);return i.push(new ev.h(o,r,a)),o=(h=e.z+t)*Math.cos(s)*Math.sin(n),r=h*Math.sin(s)*Math.sin(n),a=h*Math.cos(n),i.push(new ev.h(o,r,a)),i}constructor(){}}class eb extends eM{static GetLineFromTriangles(e){let t=[];for(let i=0;i<e.length;++i){let s=e[i].GetLine();for(let e=0;e<s.length;++e)t.push(s[e])}return t}static GetLineFromTriangle(e){return e.GetLine()}GetCenter(){let e=(this.p0.x+this.p1.x+this.p2.x)/3,t=(this.p0.y+this.p1.y+this.p2.y)/3;return this.cp=new ev.h(e,t),this.cp}GetLine(){return[new ew(this.p0,this.p1),new ew(this.p1,this.p2),new ew(this.p2,this.p0)]}GetLog(){throw Error("Method not implemented.")}RenderPost(e){throw Error("Method not implemented.")}Render(e){e.lineWidth=.5,e.strokeStyle="blue",e.fillStyle="rgba(255,0,0,0.5)",e.beginPath(),e.moveTo(this.p0.x,this.p0.y),e.lineTo(this.p1.x,this.p1.y),e.lineTo(this.p2.x,this.p2.y),e.closePath(),e.fill(),e.stroke()}IsMouseInside(e,t){return!!ev.h.IsInsideOfVecs(new ev.h(e,t),[this.p0,this.p1,this.p2])}Translate(e,t){throw Error("Method not implemented.")}Move(e,t){throw Error("Method not implemented.")}Remove(){throw Error("Method not implemented.")}Hide(){throw Error("Method not implemented.")}constructor(e,t,i){super(),this.p0=e,this.p1=t,this.p2=i}}var eC=i(45672);class eD{static Scale(e){return(Math.sin(eD.t)+5)*.2*e}static ScaleLocalT(e,t){return(Math.sin(t)+5)*.2*e}static ScaleMin(e){return((Math.sin(eD.t)+5)*.02+.9)*e}static ScaleMinOfMin(e){return Math.cos(e)}static ScaleMinLocalT(e,t){return((Math.sin(t)+5)*.02+.9)*e}static linear(e){return e}static EaseInQuad(e){return e*e}static EaseOutQuad(e){return e*(2-e)}static EaseInOutQuad(e){return e<.5?2*e*e:-1+(4-2*e)*e}static EaseInCubic(e){return e*e*e}static EaseOutCubic(e){return--e*e*e+1}static EaseInOutCubic(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}static EaseInQuart(e){return e*e*e*e}static EaseOutQuart(e){return 1- --e*e*e*e}static EaseInOutQuart(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}static EaseInQuint(e){return e*e*e*e*e}static EaseOutQuint(e){return 1+--e*e*e*e*e}static EaseInOutQuint(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}static EaseInElastic(e){return(.04-.04/e)*Math.sin(25*e)+1}static EaseOutElastic(e){return .04*e/--e*Math.sin(25*e)}static EaseInOutElastic(e){return(e-=.5)<0?(.01+.01/e)*Math.sin(50*e):(.02-.01/e)*Math.sin(50*e)+1}static easeOutElastic2(e){return Math.pow(2,-10*e)*Math.sin(2*Math.PI*(e-.075)/.3)+1}static easeInSine(e){return -1*Math.cos(Math.PI/2*e)+1}static easeOutSine(e){return Math.sin(Math.PI/2*e)}static easeInOutSine(e){return -.5*(Math.cos(Math.PI*e)-1)}static easeInQuad(e){return e*e}static easeOutQuad(e){return e*(2-e)}static easeInOutQuad(e){return e<.5?2*e*e:-1+(4-2*e)*e}static easeInCubic(e){return e*e*e}static easeOutCubic(e){let t=e-1;return t*t*t+1}static easeInOutCubic(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}static easeInQuart(e){return e*e*e*e}static easeOutQuart(e){let t=e-1;return 1-t*t*t*t}static easeInOutQuart(e){let t=e-1;return e<.5?8*e*e*e*e:1-8*t*t*t*t}static easeInQuint(e){return e*e*e*e*e}static easeOutQuint(e){let t=e-1;return 1+t*t*t*t*t}static easeInOutQuint(e){let t=e-1;return e<.5?16*e*e*e*e*e:1+16*t*t*t*t*t}static easeInExpo(e){return 0===e?0:Math.pow(2,10*(e-1))}static easeOutExpo(e){return 1===e?1:-Math.pow(2,-10*e)+1}static easeInOutExpo(e){if(0===e||1===e)return e;let t=2*e,i=t-1;return t<1?.5*Math.pow(2,10*i):.5*(-Math.pow(2,-10*i)+2)}static easeInCirc(e){return -1*(Math.sqrt(1-e/1*e)-1)}static easeOutCirc(e){let t=e-1;return Math.sqrt(1-t*t)}static easeInOutCirc(e){let t=2*e,i=t-2;return t<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-i*i)+1)}static easeInBack(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.70158;return e*e*((t+1)*e-t)}static easeOutBack(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.70158,i=e/1-1;return i*i*((t+1)*i+t)+1}static easeInOutBack(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.70158,i=2*e,s=i-2,n=1.525*t;return i<1?.5*i*i*((n+1)*i-n):.5*(s*s*((n+1)*s+n)+2)}static easeInElastic(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7;if(0===e||1===e)return e;let i=e/1-1,s=1-t;return-(Math.pow(2,10*i)*Math.sin(2*Math.PI*(i-s/(2*Math.PI)*Math.asin(1))/s))}static easeOutElastic(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7,i=1-t,s=2*e;return 0===e||1===e?e:Math.pow(2,-10*s)*Math.sin(2*Math.PI*(s-i/(2*Math.PI)*Math.asin(1))/i)+1}static easeInOutElastic(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.65,i=1-t;if(0===e||1===e)return e;let s=2*e,n=s-1,h=i/(2*Math.PI)*Math.asin(1);return s<1?-(Math.pow(2,10*n)*Math.sin(2*Math.PI*(n-h)/i)*.5):Math.pow(2,-10*n)*Math.sin(2*Math.PI*(n-h)/i)*.5+1}static easeOutBounce(e){let t=e/1;if(t<1/2.75)return 7.5625*t*t;if(t<2/2.75){let e=t-1.5/2.75;return 7.5625*e*e+.75}if(t<2.5/2.75){let e=t-2.25/2.75;return 7.5625*e*e+.9375}{let e=t-2.625/2.75;return 7.5625*e*e+.984375}}static easeInBounce(e){return 1-eD.easeOutBounce(1-e)}static easeInOutBounce(e){return e<.5?.5*eD.easeInBounce(2*e):.5*eD.easeOutBounce(2*e-1)+.5}static Easing(){}static Update(){eD.t+=.05}}eD.t=0;class eE{UpdateFPS(){this.now=window.performance.now(),this.msLoop=this.now-this.last,this.last=this.now,this.delta=this.delta+Math.min(1,this.msLoop/1e3),this.delta>this.frameRate&&(this.delta=this.delta-this.frameRate),this.delta=(Date.now()-this.timeLastRender)/1e3,this.timeLastRender=Date.now(),this.frameRate=1/this.delta}get dt(){return this.delta}constructor(){this.last=0}}(a=B||(B={})).WALLPAPER2D="WALLPAPER2D",a.ANNOTATION2D="ANNOTATION2D",a.ANNOTATION3D="ANNOTATION3D",a.WALLPAPER3D="WALLPAPER3D",a.DRAWINGTOOL2D="DRAWINGTOOL2D",a.DRAWINGTOOL3D="DRAWINGTOOL3D",(l=k||(k={})).SMARTDRAWING="SMARTDRAWING",l.MAPFILTER="MAPFILTER",l.MAPTICON="MAPTICON",l.DRAWINGBLOCK="DRAWINGBLOCK",(c=H||(H={})).NONE="NONE",c.SELECT="SELECT",c.REMOVE="REMOVE",(d=F||(F={})).NONE="NONE",d.DEEP_LEARNING="DEEP_LEARNING",(u=U||(U={})).ERASER="ERASER",u.NONE="NONE",u.SIMPLE_PENCIL="SIMPLE_PENCIL",u.SIMPLE_MULT_PENCIL="SIMPLE_MULT_PENCIL",u.BRUSH_PENCIL="BRUSH_PENCIL",u.FUR_PENCIL="FUR_PENCIL",u.FUR_PENCIL_TEXTURE="FUR_PENCIL_TEXTURE",u.BRAID_PENCIL="BRAID_PENCIL",u.STAR_PENCIL="STAR_PENCIL",u.MULTIPLE_LINE_PENCIL="MULTIPLE_LINE_PENCIL",u.RANDOM_RADIUS_PENCIL="RANDOM_RADIUS_PENCIL",u.COLORED_PIXELS_PENCIL="COLORED_PIXELS_PENCIL",u.PATTERN_BASED_PENCIL="PATTERN_BASED_PENCIL",u.SHAPED_PENCIL="SHAPED_PENCIL",(p=Y||(Y={})).MERCATOR="MERCATOR",p.SPHERICALPROJECTION="SPHERICALPROJECTION",p.ORTHOGRAPHIC="ORTHOGRAPHIC",p.CONIC_EQUAL_AREA="CONIC_EQUAL_AREA",p.CONIC_EQUI_DISTANT="CONIC_EQUI_DISTANT",p.EQUAL_EARTH="EQUAL_EARTH",p.EQUI_RECTANGULAR="EQUI_RECTANGULAR",p.GNOMONIC="GNOMONIC",p.CONIC_CONFORMAL="CONIC_CONFORMAL",p.STEREO_GRAPHIC="STEREO_GRAPHIC",p.ALBERS_USA="ALBERS_USA",(m=X||(X={})).NONE="NONE",m.SELECT="SELECT",m.REMOVE="REMOVE",m.SELECT_RECT="SELECT_RECT",m.SELECT_LASSO="SELECT_LASSO",m.MOVE_EASEING="MOVE_EASEING",m.UNDO="UNDO",m.REDO="REDO",m.POINT_REGULAR="POINT_REGULAR",m.POINT_NUMBERED="POINT_NUMBERED",m.POLYLINE="POLYLINE",m.FREEHAND_POLYLINE_BENDING="FREEHAND_POLYLINE_BENDING",m.POLYLINE_CONSTRAINT="POLYLINE_CONSTRAINT",m.POLYGON="POLYGON",m.POLYGON_GRAPH="POLYGON_GRAPH",m.POLYGON_MULTIPLE="POLYGON_MULTIPLE",m.POLYGON_CONSTRAINT="POLYGON_CONSTRAINT",m.POLYLINE_BENDING="POLYLINE_BENDING",m.LINE_GRAPH="LINE_GRAPH",m.CIRCLE="CIRCLE",m.CIRCLE_CONSTRAINT_AREA="CIRCLE_CONSTRAINT_AREA",m.CIRCLE_CONSTRAINT_CIRCUMFERENCE="CIRCLE_CONSTRAINT_CIRCUMFERENCE",m.RECTANGLE="RECTANGLE",m.POINT_ICON="POINT_ICON",m.TEXT="TEXT",m.TEXT_LEADERLINE="TEXT_LEADERLINE",m.ARROW_SINGLE="ARROW_SINGLE",m.ARROW_DOUBLE="ARROW_DOUBLE",m.CURVE="CURVE",m.CURVE_OPEN="CURVE_OPEN",m.CURVE_CLOSE="CURVE_CLOSE",m.FREEHAND_POLYLINE="FREEHAND_POLYLINE",m.FREEHAND_POLYGON="FREEHAND_POLYGON",m.FREEHAND_CURVE="FREEHAND_CURVE",m.FREEHAND_CURVE_CLOSED="FREEHAND_CURVE_CLOSED",m.SMARTDRAWING="SMARTDRAWING",m.SMARTDRAWING_DEEPLEARNING="SMARTDRAWING_DEEPLEARNING",m.LINE="LINE",m.APOINT="APOINT",m.CPOINT_REGULAR="CPOINT_REGULAR",m.CPOINT_NUMBERED="CPOINT_NUMBERED",m.CLINE="CLINE",m.CPOLYLINE="CPOLYLINE",m.CPOLYGON="CPOLYGON",m.CLINE_TOOGLE="CLINE_TOOGLE",m.CARC="CARC",m.CCIRCLE="CCIRCLE",m.CRECTANGLE="CRECTANGLE",m.CNGON="CNGON",m.CSTAR="CSTAR",m.CCURVE="CCURVE",m.CCURVE_CLOSE="CCURVE_CLOSE",m.CFREEHAND_POLYLINE="CFREEHAND_POLYLINE",m.CFREEHAND_CURVE="CFREEHAND_CURVE",m.CFREEHAND_LINE="CFREEHAND_LINE",m.CFREEHAND_SMARTDRAWING="CFREEHAND_SMARTDRAWING",m.CFREEHAND_SMOOTH="CFREEHAND_SMOOTH",m.CRECTANGLE_CROP="CRECTANGLE_CROP",m.CPOINT="CPOINT",m.CNODE="CNODE",m.CEDGE="CEDGE",m.LINE_SPIKE="LINE_SPIKE",m.CIRCLE_TRAJECTORY="CIRCLE_TRAJECTORY",m.ARC_SPIKE="ARC_SPIKE",(g=j||(j={})).POINT_REGULAR="POINT_REGULAR",g.POINT_NUMBERED="POINT_NUMBERED",g.POINT_ICON="POINT_ICON",g.POLYLINE="POLYLINE",g.POLYLINE_BENDING="POLYLINE_BENDING",g.POLYGON="POLYGON",g.POLYGON_GRAPH="POLYGON_GRAPH",g.POLYGON_MULTIPLE="POLYGON_MULTIPLE",g.CIRCLE="CIRCLE",g.RECTANGLE="RECTANGLE",g.AN_GON="AN_GON",g.ARROW_SINGLE="ARROW_SINGLE",g.ARROW_DOUBLE="ARROW_DOUBLE",g.TEXT="TEXT",g.CATEXT="CATEXT",g.TEXT_LEADERLINE="TEXT_LEADERLINE",g.APOINT="APOINT",g.AMIDPOINT="AMIDPOINT",g.ANODE="ANODE",g.APOINT_PATH="APOINT_PATH",g.ANODE_RECT="ANODE_RECT",g.ANODE_CIRCLE="ANODE_CIRCLE",g.ANODE_NGON="ANODE_NGON",g.ANODE_TEXT="ANODE_TEXT",g.AMIDPOINT_ALINE="AMIDPOINT_ALINE",g.CURVE="CURVE",g.CURVE_OPEN="CURVE_OPEN",g.CURVE_CLOSE="CURVE_CLOSE",g.FREEHAND_POLYLINE="FREEHAND_POLYLINE",g.FREEHAND_CURVE="FREEHAND_CURVE",g.SMARTDRAWING="SMARTDRAWING",g.ALINE="ALINE",g.CPOINT="CPOINT",g.CMIDPOINT="CMIDPOINT",g.CNODE="CNODE",g.CNODE_RECT="CNODE_RECT",g.CNODE_CIRCLE="CNODE_CIRCLE",g.CNODE_NGON="CNODE_NGON",g.CNODE_TEXT="CNODE_TEXT",g.CPOINT_REGULAR="CPOINT_REGULAR",g.CPOINT_NUMBERED="CPOINT_NUMBERED",g.CLINE="CLINE",g.CEDGE="CEDGE",g.CPOLYLINE="CPOLYLINE",g.CPOLYGON="CPOLYGON",g.CRECTANGLE="CRECTANGLE",g.CN_GON="CN_GON",g.CN_STAR="CN_STAR",g.CARC="CARC",g.CCIRCLE="CCIRCLE",g.CCURVE="CCURVE",g.CCURVE_OPEN="CCURVE_OPEN",g.CCURVE_CLOSED="CCURVE_CLOSED",g.CBLACKHOLE="CBLACKHOLE",g.CFREEHAND="CFREEHAND",g.COTHERS="COTHERS",(y=K||(K={})).DEFAULT="default",y.AUTO="auto",y.CROSSHAIR="crosshair",y.MOVE="move",y.POINTER="pointer",y.TEXT="text",y.WAIT="wait",y.HELP="help",y.PROGRESS="progress",(f=q||(q={})).X_NONE="X_NONE",f.X_REMOVE="X_REMOVE",f.X_SELECT="X_SELECT",f.X_SELECT_RECT="X_SELECT_RECT",f.X_SELECT_LASSO="X_SELECT_LASSO",f.X_UNDO="X_UNDO",f.X_REDO="X_REDO",f.X_ARROW_SINGLE="X_ARROW_SINGLE",f.X_ARROW_DOUBLE="X_ARROW_DOUBLE",f.X_POINT_REGULAR="X_POINT_REGULAR",f.X_POINT_NUMBERED="X_POINT_NUMBERED",f.X_POLYLINE="X_POLYLINE",f.X_FREEHAND_POLYLINE="X_FREEHAND_POLYLINE",f.X_POLYGON="X_POLYGON",f.X_CIRCLE="X_CIRCLE",f.X_RECTANGLE="X_RECTANGLE",f.X_TEXT_LEADERLINE="X_TEXT_LEADERLINE",f.X_POINT="X_POINT",f.X_NODE="X_NODE",f.X_EDGE="X_EDGE",f.X_POINT_ICON="X_POINT_ICON",(x=J||(J={})).PointerOut="pointerOut",x.SetDrawingMode="setDrawingMode",x.ToggleMapfilter="toggleMapfilter",x.ToggleQuickActions="toggleQuickActions",x.ChangeTheme="changeTheme",x.ToggleDrawingTooltips="toggleDrawingTooltips",x.ToggleGrid="toggleGrid",x.ToggleMeasure="toggleMeasure",x.ShiftUnit="shiftUnit",x.DumpIconsBase64s="dumpIconsBase64s",x.AddIconBase64="addIconBase64",x.SelectIconBase64="selectIconBase64",x.InclusiveSelect="inclusiveSelect",x.InclusiveDeselect="inclusiveDeselect",x.ExclusiveSelect="exclusiveSelect",x.ExclusiveDeselect="exclusiveDeselect",x.ReorderNumberedPoints="reorderNumberedPoints",x.Remove="remove",x.RemoveSelected="removeSelected",x.Update="update",x.Enter="enter",x.Leave="leave",x.Show="show",x.Hide="hide",x.HidePopup="hidePopup",x.ShowPopup="showPopup",x.Dump="dump",x.InitGhost="initGhost",x.EnterGhost="enterGhost",x.LeaveGhost="leaveGhost",x.ShowGhostPopup="showGhostPopup",x.HideGhostPopup="hideGhostPopup",x.AddGhost="addGhost",x.Add="add",x.Transform="transform",x.RemoveGhost="removeGhost",x.ShowText="showText",x.HideText="hideText",x.StartEditingText="startEditingText",x.EndEditingText="endEditingText",(v=Q||(Q={})).START="start",v.END="end",v.LEFT="left",v.CENTER="center",v.RIGHT="right",(M=Z||(Z={})).WRAP="WRAP",M.LINEBREAK="LINEBREAK",M.NORMAL="NORMAL",(w=$||($={})).ROUND="round",w.BUTT="butt",w.SQUARE="square",(P=ee||(ee={})).CURVE="CURVE",P.CURVE_CLOSED="CURVE_CLOSED",P.LINE="LINE",P.PLINE="PLINE",P.PLINE_BENDING="PLINE_BENDING",P.PGON="PGON",P.SMOOTH="SMOOTH",P.SMDRAWING="SMDRAWING",(b=et||(et={})).REGULAR="REGULAR",b.DOUGLAS_PEUCKER="DOUGLAS_PEUCKER",(ei||(ei={})).FULL_HD="d",(C=es||(es={})).SVG="SVG",C.CANVAS="CANVAS",C.GL="GL",(D=en||(en={})).COMMAND="COMMAND",D.OBJECT="OBJECT",(E=eh||(eh={})).PRODUCTION="PRODUCTION",E.DEVELOPMENT="DEVELOPMENT",E.LOCAL="LOCAL",(I=eo||(eo={})).DRAWING="DRAWING",I.INTERACTIVE_VIEWER="INTERACTIVE_VIEWER",I.OBSERVE_VIEWER="OBSERVE_VIEWER",(S=er||(er={})).DRAWING="DRAWING",S.INTERACTIVE_VIEWER="INTERACTIVE_VIEWER",S.OBSERVE_VIEWER="OBSERVE_VIEWER",(R=ea||(ea={})).OPERA="Opera",R.CHROME="Chrome",R.SAFARI="Safari",R.FIREFOX="Firefox",R.IE="IE",R.EDGE="Edge",R.UNKNOWN="unknown",(A=el||(el={})).UP="UP",A.DOWN="DOWN",(T=ec||(ec={})).LEFT="LEFT",T.MIDDLE="MIDDLE",T.RIGHT="RIGHT",T.WHEEL="WHEEL",T.DRAG="DRAG",T.DRAG_LEFT="DRAG_LEFT",T.DRAG_MIDDLE="DRAG_MIDDLE",T.DRAG_RIGHT="DRAG_RIGHT",T.MOVE="MOVE",T.DOUBLE="DOUBLE",T.UP="UP",T.DOWN="DOWN",T.DOWN_MIDDLE="DOWN_MIDDLE",T.DOWN_RIGHT="DOWN_RIGHT",(L=ed||(ed={})).START="START",L.END="END",L.MOVE="MOVE",L.CANCEL="CANCEL",(O=eu||(eu={})).NATIVE="NATIVE",O.JSAPI4X="JSAPI4X",(N=ep||(ep={})).PERSPECTIVE="PERSPECTIVE",N.ORTHOGRAPHIC="ORTHOGRAPHIC",N.STEREO="STEREO",(G=em||(em={})).CANVAS="CANVAS",G.GL="GL";class eI{DeepCopy(){let e=new eI;return e.x=this.x,e.y=this.y,e.z=this.z,e.preX=this.preX,e.preY=this.preY,e.preZ=this.preZ,e.pressedAlt=this.pressedAlt,e.pressedShift=this.pressedShift,e.pressedCtrl=this.pressedCtrl,e.isDoubleClick=this.isDoubleClick,e.isDown=this.isDown,e.isMove=this.isMove,e.lat=this.lat,e.long=this.long,e.wheel=this.wheel,e.preWheel=this.preWheel,e.yGLPicking=this.yGLPicking,e.CLICK_TYPE=this.CLICK_TYPE,e.command=this.command,e.native=this.native,e}constructor(){this.x=-1,this.y=-1,this.z=-1,this.preX=-1,this.preY=-1,this.preZ=-1,this.CLICK_TYPE=ec.MOVE,this.isDown=!1,this.isDoubleClick=!1,this.isMove=!1,this.pressedShift=!1,this.pressedAlt=!1,this.pressedCtrl=!1,this.lat=-1,this.long=-1,this.wheel=0,this.preWheel=0}}class eS{static GetCamera(){}SetSizeFromTemplate(e){this.width=e[0],this.height=e[1],this.video.style.width=e[0]+"px",this.video.style.height=e[1]+"px",this.hostDiv.style.width=e[0]+"px",this.hostDiv.style.height=e[1]+"px"}InitCanvas(){let e=document.createElement("canvas");if(e){this.canvas=e;let t=this.canvas.getContext("2d");t&&(this.ctx=t)}}InitVideo(e){this.video=document.createElement("video"),this.video.id=this.id,this.video.setAttribute("playsinline",""),this.video.setAttribute("autoplay",""),this.video.setAttribute("muted",""),this.video.style.filter="blur(3px)",this.video.style.filter="contrast(150%)",this.video.style.width=this.width+"px",this.video.style.height=this.height+"px",e.appendChild(this.video)}InitMedia(){let e={video:{facingMode:"facingMode",width:this.width,height:this.height},audio:!1};this.HasGetUserMedia()?navigator.mediaDevices.getUserMedia(e).then(e=>{this.mediaStream=e,this.video.srcObject=this.mediaStream}):alert("getUserMedia() is not supported by your browser")}GetImageData(){this.ctx.drawImage(this.video,0,0,this.width,this.height),this.ctx.getImageData(0,0,this.width,this.height)}Resize(e,t){this.width=e,this.height=t,this.video.style.width=e+"px",this.video.style.height=t+"px"}HasGetUserMedia(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}Dummy(){}Dispose(){this.mediaStream.getTracks().forEach(e=>e.stop()),this.hostDiv.removeChild(this.video)}constructor(e){this.width=400,this.height=400,this.hostDiv=e,this.width=e.clientWidth,this.height=e.clientHeight,this.id="njslab-web-core-camera"+eS.id++,this.InitVideo(e),this.InitMedia()}}eS.id=0,eS.FILTERS=["grayscale","sepia","blur","brightness","contrast","hue-rotate","hue-rotate2","hue-rotate3","saturate","invert",""],i(39315);var eR=i(62581);class eA{static async URL(e){return fetch(e).then(e=>e.text()).catch(e=>{})}static async OpenOBJ(e){return fetch("".concat(eA.path,"/3dData/").concat("torus.obj")).then(e=>e.text()).then(e=>{}).catch(e=>{})}static async OpenOBJForExternalRenderer(e){return fetch(e,{mode:"no-cors"}).then(e=>e.text()).then(e=>{}).catch(e=>{})}static async OpenGeoJsonEx01(e){return fetch("".concat(eA.path,"/json/").concat("weektest.geojson")).then(e=>e.json()).then(e=>{}).catch(e=>{})}static async OpenGeoJsonEx02(e){return fetch("".concat(eA.path,"/json/").concat("BusRoute.geojson")).then(e=>e.json()).then(e=>{}).catch(e=>{})}static async OpenGeoJsonEx03(e){return fetch("".concat(eA.path,"/json/").concat("globeMap.geojson")).then(e=>e.json()).then(e=>{}).catch(e=>{})}static async OpenGeoJson(e){return fetch("".concat(eA.path,"/json/").concat(e)).then(e=>e.json()).then(e=>e).catch(e=>{})}static async OpenJson(e){return fetch("".concat(eA.path,"/json/").concat(e)).then(e=>e.json()).then(e=>e).catch(e=>{})}static async OpenJsonAnnotationTheme(e){return fetch("".concat(eA.path,"/theme/").concat(e)).then(e=>e.json()).catch(e=>{})}static async OpenThemeJSON(e){return fetch("".concat(eA.path,"/theme/").concat(e)).then(e=>e.json()).catch(e=>{})}static async OpenDataJSON(e){return fetch("".concat(eA.path,"/").concat(e)).then(e=>e.json()).catch(e=>{})}static async OpenImg(e){return fetch("".concat(eA.path,"/img/").concat(e)).then(e=>e.blob()).then(e=>{let t=new Image,i=URL.createObjectURL(e);return t.src=i,t.onload=()=>{t.crossOrigin="anonymous"},t}).catch(e=>{})}static async LoadImg(e){return fetch("".concat(eA.path,"/").concat(e)).then(e=>e.blob()).then(e=>URL.createObjectURL(e)).catch(e=>{})}static async LoadSVG(e){return fetch("".concat(eA.path,"/").concat(e)).then(e=>e.text()).catch(e=>{})}static async LoadSVGFromLocal(e){return fetch("".concat(eA.path,"/images/").concat(e)).then(e=>e.text()).catch(e=>{})}static async LoadSVGFromHTTP(e){return fetch(e,{mode:"no-cors"}).then(e=>e.text()).catch(e=>{})}static async PointRegular(){}static async OpenXML(e){}static async OpenCSV(e){}static async OpenTXT(e){}static async GetObjectFromSVGPath(e){let t=new eR.a,i=await fetch(e),s=await i.text(),n=await t.parseFromString(s,"text/xml");return this.XmlToJson(n)}static async GetObjectFromSVGImporting(e){let t=new eR.a,i=await t.parseFromString(e,"text/xml");return this.XmlToJson(i)}static XmlToJson(e){let t={};if(1===e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(let i=0;i<e.attributes.length;i++){let s=e.attributes.item(i);t["@attributes"][s.nodeName]=s.nodeValue}}}else 3===e.nodeType&&e.nodeValue&&(t=e.nodeValue);if(e.hasChildNodes())for(let i=0;i<e.childNodes.length;i++){let s=e.childNodes.item(i),n=s.nodeName;if(void 0===t[n])t[n]=this.XmlToJson(s);else{if(void 0===t[n].push){let e=t[n];t[n]=[],t[n].push(e)}t[n].push(this.XmlToJson(s))}}return t}constructor(){}}eA.path="/njslabSandboxStatic";class eT{static Test(){let e=ef.$H.GetRandomIntsInclusive(0,1e4,1e4);performance.now(),this.SortMerge(e,0,e.length-1),performance.now(),e=ef.$H.GetRandomIntsInclusive(0,1e4,1e4),performance.now(),this.SortQuickAscending(e),performance.now(),e=ef.$H.GetRandomIntsInclusive(0,1e4,1e4),performance.now(),this.SortBubbleAscending(e),performance.now(),e=ef.$H.GetRandomIntsInclusive(0,1e4,1e4),performance.now(),this.SortInsertionAscending(e),performance.now()}static GetIndexBySort(e){let t=e.length,i=Array(t);for(var s=0;s<t;++s)i[s]=s;return i.sort((t,i)=>e[t]<e[i]?-1:e[t]>e[i]?1:0),i}static GetIndexBySortDescending(e){let t=e.length,i=Array(t);for(var s=0;s<t;++s)i[s]=s;return i.sort((t,i)=>e[t]>e[i]?-1:e[t]<e[i]?1:0),i}static SortHeapAscending(e){let t=e.length;for(let i=0;i<t;++i){let t=i;do{let i=Math.round((t-1)/2);if(e[i]<e[t]){let s=e[i];e[i]=e[t],e[t]=s}t=i}while(0!==t)}for(let i=t-1;i>=0;i--){let t=e[0];e[0]=e[i],e[i]=t;let s=0,n=1;do(n=2*s+1)<i-1&&e[n]<e[n+1]&&n++,n<i&&e[s]<e[n]&&(t=e[s],e[s]=e[n],e[n]=t),s=n;while(n<i)}return e}static SortHeapDescending(e){return e}static Merge(e,t,i,s){let n=t,h=i+1,o=t;for(;n<=i&&h<=s;)e[n]<=e[h]?(this.sorted[o]=e[n],n++):(this.sorted[o]=e[h],h++),o++;if(n>i)for(let t=h;t<=s;++t)this.sorted[o]=e[t],o++;else for(let t=n;t<=i;++t)this.sorted[o]=e[t],o++;for(let i=t;i<=s;++i)e[i]=this.sorted[i]}static SortMergeLoop(e,t,i){if(t<i){let s=Math.floor((t+i)/2);this.SortMergeLoop(e,t,s),this.SortMergeLoop(e,s+1,i),this.Merge(e,t,s,i)}}static SortMerge(e,t,i){this.sorted=[],this.SortMergeLoop(e,t,i)}static SortQuickAscending(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;if(t>=i)return;let s=0,n=t+1,h=i;for(;n<=h;){for(;n<=i&&e[n]<=e[t];)n++;for(;h>t&&e[h]>=e[t];)h--;n>h?(s=e[h],e[h]=e[t],e[t]=s):(s=e[n],e[n]=e[h],e[h]=s)}this.SortQuickAscending(e,t,h-1),this.SortQuickAscending(e,h+1,i)}static SortQuickDescending(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;if(t>=i)return;let s=0,n=t+1,h=i;for(;n<=h;){for(;n<=i&&e[n]>=e[t];)n++;for(;h>t&&e[h]<=e[t];)h--;n>h?(s=e[h],e[h]=e[t],e[t]=s):(s=e[n],e[n]=e[h],e[h]=s)}this.SortQuickDescending(e,t,h-1),this.SortQuickDescending(e,h+1,i)}static SortInsertionAscending(e){let t=0,i=0,s=e.length;for(let n=0;n<s-1;++n)for(i=n;e[i]>e[i+1];)t=e[i],e[i]=e[i+1],e[i+1]=t,i--;return e}static SortInsertionDescending(e){let t=0,i=0,s=e.length;for(let n=0;n<s-1;++n)for(i=n;e[i]<e[i+1];)t=e[i],e[i]=e[i+1],e[i+1]=t,i--;return e}static SortBubbleAscending(e){let t=0,i=e.length;for(let s=0;s<i;++s)for(let n=0;n<i-1-s;++n)e[n]>e[n+1]&&(t=e[n],e[n]=e[n+1],e[n+1]=t);return e}static SortBubbleDescending(e){let t=0,i=e.length;for(let s=0;s<i;++s)for(let n=0;n<i-1-s;++n)e[n]<e[n+1]&&(t=e[n],e[n]=e[n+1],e[n+1]=t);return e}static SortSelectionAscending(e){let t=0,i=0,s=e.length;for(let n=0;n<s;++n){let h=Number.MAX_SAFE_INTEGER;for(let i=n;i<s;++i)e[i]<h&&(h=e[i],t=i);i=e[n],e[n]=e[t],e[t]=i}return e}static SortSelectionDescending(e){let t=0,i=0,s=e.length;for(let n=0;n<s;++n){let h=Number.MIN_SAFE_INTEGER;for(let i=n;i<s;++i)e[i]>h&&(h=e[i],t=i);i=e[n],e[n]=e[t],e[t]=i}return e}}eT.sorted=[];class eL{static getAllUrlParams(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.search,t=e?e.split("?")[1]:window.location.search.slice(1),i={};if(t){let e=(t=t.split("#")[0]).split("&");for(let t=0;t<e.length;t++){let s=e[t].split("="),n=s[0],h=void 0===s[1]||s[1];if(n.match(/\[(\d+)?\]$/)){let e=n.replace(/\[(\d+)?\]/,"");if(i[e]||(i[e]=[]),n&&n.match(/\[\d+\]$/)){if(null!==/\[(\d+)\]/.exec(n)){let e=/\[(\d+)\]/.exec(n);e&&e[1]}}else i[e].push(h)}else i[n]?(i[n]&&"string"==typeof i[n]&&(i[n]=[i[n]]),i[n].push(h)):i[n]=h}}return i}DetectBrowser(){if(-1!==navigator.userAgent.indexOf("Edge")){this._type=ea.EDGE;return}if(-1!==(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))&&(this._type=ea.OPERA),-1!==navigator.userAgent.indexOf("Chrome")){this._type=ea.CHROME;return}if(-1!==navigator.userAgent.indexOf("Safari")){this._type=ea.SAFARI;return}if(-1!==navigator.userAgent.indexOf("Firefox")){this._type=ea.FIREFOX;return}-1!==navigator.userAgent.indexOf("MSIE")&&(this._type=ea.IE),this._type=ea.UNKNOWN}DetectIsMoile(){this._isMobile=!1,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(this._isMobile=!0)}get type(){return this._type}get isMobile(){return this._isMobile}constructor(){this.DetectBrowser(),this.DetectIsMoile()}}class eO{static FindIndexOfMax(e){let t=1,i=0;for(;t<e.length;)e[t]<e[i]||(i=t),t+=1;return i}static FindIndexOfMin(e){let t=1,i=0;for(;t<e.length;)e[t]>e[i]||(i=t),t+=1;return i}}class eN{static log(e){if(!eN.isPrint)return}}eN.isPrint=!0;class eG{static GetGrid(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;return new e_(new ev.h(i,s),new ev.h(n,h),e,t,o)}constructor(){}}class e_{Init(){this.ddx=(this.v1.x-this.v0.x)/(this.rx-1),this.ddy=(this.v1.y-this.v0.y)/(this.ry-1),this.InitGrid()}InitGrid(){for(let e=0;e<this.ry;++e)for(let t=0;t<this.rx;++t){let i=this.v0.x+t*this.ddx,s=this.v0.y+e*this.ddy;switch(this.mode){case 0:this.vs.push(new ev.h(i,s,0));break;case 1:(t+e)%2==0&&this.vs.push(new ev.h(i,s,0));break;case 2:t*e%2==0&&this.vs.push(new ev.h(i,s,0));break;case 3:t*e%3==0&&this.vs.push(new ev.h(i,s,0));break;case 4:t%2==0&&this.vs.push(new ev.h(i,s,0));break;case 5:t%3==0&&this.vs.push(new ev.h(i,s,0));break;case 6:e%2==0&&this.vs.push(new ev.h(i,s,0));break;case 7:e%3==0&&this.vs.push(new ev.h(i,s,0));break;case 8:e%3==0&&t%3&&this.vs.push(new ev.h(i,s,0))}}}Update(){}Render(){}constructor(e,t,i=10,s=10,n=0){this.vs=[],this.mode=0,this.mode=n,this.v0=new ev.h(e.x,e.y,e.z),this.v1=new ev.h(t.x,t.y,t.z),this.rx=i,this.ry=s,this.Init()}}class eW{static Linspace(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,s=(t-e)/(i-1),n=[];for(let t=0;t<i;++t)n.push(e+s*t);return n}static GenerateXYDataForTest(){return this.GenerateXYData(-100,100,30,[6e-5,-.003,.1,10])}static GenerateXYData(e,t,i,s){let n=[],h=(t-e)/i;for(let i=e;i<t;i+=h)n.push([i,s[0]*i*i*i+s[1]*i*i+s[2]*i+s[3]]);return n}static GetGaussian(e,t,i){return Math.exp(-Math.pow(e-t,2)/(2*Math.pow(i,2)))}static GetGaussianForTest(){return this.GetGaussianEx()[1]}static GetGaussianEx(){let e=this.Linspace(-5,5,100),t=[];for(let i of[[0,1],[0,2],[1,.5],[1,.75]]){let s=[];for(let t of e){let e=this.GetGaussian(t,i[0],i[1]);s.push([t,e])}t.push(s)}return t}static Mean(e){let t=0;for(let i of e)t+=i;return t/e.length}static Stddev(e){let t=0,i=this.Mean(e);for(let s of e)t+=(s-i)*(s-i);return Math.sqrt(t/(e.length-1))}static normalizeVector(e,t,i){return e.map(e=>(e-t)/i)}constructor(){}}var eV=i(66351);let ez=i(80054),eB=i(71233),ek=i(60253),eH=i(79796),eF=i(88917),eU=i(56469),eY=i(92924),eX=i(69593);class ej{async ImportAssets(){this.themeRed=ez,this.themePurple=eB,this.themeBlue=ek,this.themeGreen=eH,this.themeOrange=eF,this.themeGray=eU,this.themeDarkgray=eY,this.themeBlack=eX}constructor(){this.ImportAssets()}}class eK{MouseEventController(e){if(e.CLICK_TYPE===ec.LEFT){this.MouseLeftClickPre(e);return}if(e.CLICK_TYPE===ec.MIDDLE){this.MouseMiddleClickPre(e);return}if(e.CLICK_TYPE===ec.DOWN_RIGHT){this.MouseRightClickPre(e);return}if(e.CLICK_TYPE===ec.DOUBLE){this.MouseDoubleClickPre(e);return}if(e.CLICK_TYPE===ec.MOVE){this.MouseMovePre(e);return}if(e.CLICK_TYPE===ec.DRAG){this.MouseDragPre(e);return}if(e.CLICK_TYPE===ec.DOWN){this.MouseDownPre(e);return}else if(e.CLICK_TYPE===ec.WHEEL){this.MouseWheelPre(e);return}else if(e.CLICK_TYPE===ec.UP){this.MouseUpPre(e);return}}MouseDown(e){}MouseDownPre(e){this.nUI.independentPanelWrapper.MouseDown(e),this.nUI.pullDownMenuWrapper.MouseDown(e),this.MouseDown(e)}MouseLeftClick(e){}MouseLeftClickPre(e){this.MouseLeftClick(e)}MouseMiddleClick(e){}MouseMiddleClickPre(e){this.MouseMiddleClick(e)}MouseRightClick(e){}MouseRightClickPre(e){this.MouseRightClick(e)}MouseUp(e){}MouseUpPre(e){this.MouseUp(e)}MouseDoubleClick(e){}MouseDoubleClickPre(e){this.MouseDoubleClick(e)}MouseMove(e){}MouseMovePre(e){this.nUI.pullDownMenuWrapper.MouseMove(e),this.nUI.independentPanelWrapper.MouseMove(e),this.MouseMove(e)}MouseDrag(e){}MouseDragPre(e){this.nUI.independentPanelWrapper.MouseDrag(e),this.MouseDrag(e)}MouseWheel(e){}MouseWheelPre(e){this.MouseWheel(e)}constructor(e){this.nUI=e,this.independentPanelWrapper=e.independentPanelWrapper}}class eq{ShiftTheme(e){this.colBG=e.colBG,this.colSection=e.colSection,this.colText=e.colText,this.colTextHover=e.colTextHover,this.colTextDisable=e.colTextDisable,this.colSelectedBG=e.colSelectedBG,this.colSelectedText=e.colSelectedText,this.widthEach=e.widthEach,this.heightEach=e.heightEach,this.textYOff=e.textYOff,this.font=e.font,this.textAlign=e.textAlign,this.toolbarBG=e.toolbarBG,this.toolbarFG=e.toolbarFG}constructor(){this.colBG="#fffffe",this.colSection="#777777",this.colText="#333333",this.colTextHover="#ffffff",this.colTextDisable="#bbbbbb",this.colSelectedBG="#ff0000",this.colSelectedText="#ffffff",this.widthEach=230,this.heightEach=22,this.textYOff=15,this.font="normal 11px arial",this.textAlign="start",this.animationSpeed=.138,this.toolbarBG="#cccccc",this.toolbarFG="#ffffff",this.textBaseline="alphabetic"}}eq.ThemePulldown={colBG:"#ffffff",colSection:"#777777",colText:"#333333",colTextHover:"#ffffff",colTextDisable:"#cccccc",colSelectedBG:"#ff0000",colSelectedText:"#ffffff",widthEach:250,heightEach:20,textYOff:15,font:"normal 11px arial",animationSpeed:.195,textAlign:"left",toolbarBG:"#cccccc",toolbarFG:"#ffffff"};class eJ{Add(e){this.menus.push(e)}RemoveAll(){this.menus=[]}Remove(e){this.menus.splice(this.menus.indexOf(e),1)}Render(e){if(this.isShow)for(let t=0;t<this.menus.length;++t)this.menus[t].Render(e)}set Capture(e){e?(e.isCaptured=!0,this.capture=e):this.capture&&(this.capture.isCaptured=!1)}get Capture(){return this.capture}ShowMenu(e){this.isShow=e}Reset(){for(let e=0;e<this.menus.length;++e)this.menus[e].IsHover=!1;this.isActivated=!1}MouseMove(e){if(!this.isShow||!this.isActivated)return;let t=0;for(let i=0;i<this.menus.length;++i)this.menus[i].IsMouseInside(e.x,e.y)&&(this.menus[i].IsHover=!0,t++);if(0!==t)for(let t=0;t<this.menus.length;++t)this.menus[t].IsMouseInside(e.x,e.y)?this.menus[t].IsHover=!0:this.menus[t].IsHover=!1}MouseDown(e){if(!this.isShow)return;this.isActivated||(this.isActivated=!0);for(let e=0;e<this.menus.length;++e)this.menus[e].isHover&&(this.menus[e].MouseDown(),this.ClickForStopPropagation());let t=0;for(let i=0;i<this.menus.length;++i)this.menus[i].IsMouseInside(e.x,e.y)&&t++;if(0===t)this.Reset();else for(let t=0;t<this.menus.length;++t)this.menus[t].IsMouseInside(e.x,e.y)?this.menus[t].IsHover=!0:this.menus[t].IsHover=!1}ClickForStopPropagation(){this.pullDownMenuWrapper.stopPropagation=!0}constructor(e){this.menus=[],this.isShow=!1,this.isActivated=!1,this.isStillCapturedFly=!0,this.pullDownMenuWrapper=e,this.menus=[]}}class eQ{Resize(e,t){this.width=e}IsHiddenToggle(){this.isHidden=!this.isHidden}MouseMove(e){}MouseDown(e){}RenderPost(e){}Reset(){}ShowMenu(e){}Destroy(){}constructor(){this.width=0,this.height=0,this.isActivated=!1,this.isHidden=!0}}class eZ{get IsHover(){return this.isHover}set IsHover(e){this.isHover=e}ComputeBoundary(){return this.boundarVecs=[],this.boundarVecs.push(new ev.h(this.vec.x,this.vec.y,this.vec.z)),this.boundarVecs.push(new ev.h(this.vec.x+this.width,this.vec.y,this.vec.z)),this.boundarVecs.push(new ev.h(this.vec.x+this.width,this.vec.y+this.height,this.vec.z)),this.boundarVecs.push(new ev.h(this.vec.x,this.vec.y+this.height,this.vec.z)),this.boundarVecs}IsMouseInside(e,t){return ev.h.IsInsideOfVecs(new ev.h(e,t),this.ComputeBoundary())}MouseDown(){}Render(e){this.ComputeBoundary(),this.RenderPost(e)}Remove(){this.pullDownMenuWrapper.menuRenderer.Remove(this)}constructor(e){this.isHover=!1,this.isHide=!1,this.isSelected=!1,this.isCaptured=!1,this.pullDownMenuWrapper=e,this.vec=ev.h.Origin(),this.vecSub=ev.h.Origin(),this.pullDownMenuWrapper.menuRenderer.Add(this)}}class e$ extends eZ{RenderPost(e){e.fillStyle=this.pullDownMenuWrapper.theme.colBG,e.beginPath(),e.rect(this.vec.x,0,this.width,this.vec.y+this.height),e.closePath(),e.fill()}constructor(e,t,i){super(e),this.width=t,this.height=i,this.vec=new ev.h(this.pullDownMenuWrapper.vec.x,this.pullDownMenuWrapper.vec.y)}}class e0{static RoundedRectFill(e,t,i,s){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,h=!(arguments.length>5)||void 0===arguments[5]||arguments[5];e.lineWidth=2,e.beginPath(),e.moveTo(i[0].x+n+s,i[0].y),e.lineTo(i[1].x-n-s,i[1].y),e.arcTo(i[1].x-n,i[1].y,i[1].x-n,i[1].y+s,s),e.lineTo(i[2].x-n,i[2].y-s),e.arcTo(i[2].x-n,i[2].y,i[2].x-n-s,i[2].y,s),e.lineTo(i[3].x+n+s,i[3].y),e.arcTo(i[3].x+n,i[3].y,i[3].x+n,i[3].y-s,s),e.lineTo(i[0].x+n,i[0].y+s),e.arcTo(i[0].x+n,i[0].y,i[0].x+n+s,i[0].y,s),e.closePath(),e.strokeStyle="#494949",e.fillStyle=t,h?(e.shadowBlur=4,e.shadowColor="rgba(0,0,0,0.3)",e.shadowOffsetY=2,e.shadowOffsetX=2):(e.shadowBlur=0,e.shadowOffsetY=0,e.shadowOffsetX=0),e.fill(),e.restore()}static RoundedRectFillWithCol(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#999999",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,h=!(arguments.length>5)||void 0===arguments[5]||arguments[5];e.lineWidth=2,e.beginPath(),e.moveTo(t[0].x+n+i,t[0].y),e.lineTo(t[1].x-n-i,t[1].y),e.arcTo(t[1].x-n,t[1].y,t[1].x-n,t[1].y+i,i),e.lineTo(t[2].x-n,t[2].y-i),e.arcTo(t[2].x-n,t[2].y,t[2].x-n-i,t[2].y,i),e.lineTo(t[3].x+n+i,t[3].y),e.arcTo(t[3].x+n,t[3].y,t[3].x+n,t[3].y-i,i),e.lineTo(t[0].x+n,t[0].y+i),e.arcTo(t[0].x+n,t[0].y,t[0].x+n+i,t[0].y,i),e.closePath(),e.strokeStyle="#494949",e.fillStyle=s,h?(e.shadowBlur=4,e.shadowColor="rgba(0,0,0,0.3)",e.shadowOffsetY=2,e.shadowOffsetX=2):(e.shadowBlur=0,e.shadowOffsetY=0,e.shadowOffsetX=0),e.fill(),e.restore()}static SectionLine(e,t,i,s){e.strokeStyle="#777777",e.lineWidth=.1,e.beginPath(),e.moveTo(t.x,t.y+s),e.lineTo(t.x+i,t.y+s),e.closePath(),e.stroke()}constructor(){}}class e1 extends eZ{AddApp(e){console.log(e)}MouseDown(){for(let e=0;e<this.menus.length;++e)this.menus[e].isHover&&this.menus[e].MouseDown()}get IsHover(){return this.isHover}set IsHover(e){this.isHover=e;for(let t=0;t<this.menus.length;++t)this.menus[t].isHide=!e}IsMouseInside(e,t){return ev.h.IsInsideOfVecs(new ev.h(e,t),this.ComputeBoundary())}RenderPost(e){if(this.ComputeBoundary(),this.isHover?(e0.RoundedRectFill(e,this.pullDownMenuWrapper.theme.colSelectedBG,this.boundarVecs,0),e.fillStyle=this.pullDownMenuWrapper.theme.colTextHover):e.fillStyle=this.pullDownMenuWrapper.theme.colText,e.shadowBlur=0,e.shadowOffsetY=0,e.shadowOffsetX=0,e.font=this.pullDownMenuWrapper.theme.font,e.fillText(this.title,this.vec.x+this.pullDownMenuWrapper.textOffX,this.vec.y+this.pullDownMenuWrapper.textOffY),this.isHover){this.isClick||(this.ClickForStopPropagation(),this.isClick=!0),e0.RoundedRectFillWithCol(e,ev.h.GetBoundaryByVecWidthHeight(this.vecSub,this.widthSub,this.heightSub),3,this.pullDownMenuWrapper.theme.colBG);for(let t=0;t<this.menus.length;++t)this.menus[t].RenderPost(e)}else this.isClick=!1}ClickForStopPropagation(){this.pullDownMenuWrapper.stopPropagation=!0}AddMenu(e,t,i){}constructor(e,t){super(e),this.menus=[],this.isClick=!1,this.ac=t}}class e5{ComputeBoundary(){return this.boundarVecs=[],this.boundarVecs.push(new ev.h(this.vec.x,this.vec.y,this.vec.z)),this.boundarVecs.push(new ev.h(this.vec.x+this.width,this.vec.y,this.vec.z)),this.boundarVecs.push(new ev.h(this.vec.x+this.width,this.vec.y+this.height,this.vec.z)),this.boundarVecs.push(new ev.h(this.vec.x,this.vec.y+this.height,this.vec.z)),this.boundarVecs}MouseInside(e,t){return ev.h.IsInsideOfVecs(new ev.h(e,t),this.ComputeBoundary())}MouseDown(){this.isClickable&&(this.MouseDownPost(),this.menu.pullDownMenuWrapper.stopPropagation=!0)}MouseDownPost(){}RenderPost(e){this.isHide||(this.MouseInside(this.menu.pullDownMenuWrapper.mouse.x,this.menu.pullDownMenuWrapper.mouse.y)?(this.isHover=!0,this.t+=this.menu.pullDownMenuWrapper.theme.animationSpeed,this.menu.pullDownMenuWrapper.menuRenderer.captureFlyout=void 0):(this.t=0,this.isHover=!1),this.isClickable?this.isHover?(this.t>1&&(this.t=1),e0.RoundedRectFill(e,this.menu.pullDownMenuWrapper.theme.colSelectedBG,ev.h.GetBoundaryByVecWidthHeight(this.vec,this.width*eD.EaseOutQuad(this.t),this.height),0),e.fillStyle=this.menu.pullDownMenuWrapper.theme.colTextHover):e.fillStyle=this.menu.pullDownMenuWrapper.theme.colText:e.fillStyle=this.menu.pullDownMenuWrapper.theme.colTextDisable,e.shadowBlur=0,e.shadowOffsetY=0,e.shadowOffsetX=0,e.font=this.menu.pullDownMenuWrapper.theme.font,e.fillText(this.title,this.vec.x+this.menu.pullDownMenuWrapper.textOffX,this.vec.y+this.menu.pullDownMenuWrapper.textOffY))}constructor(e,t,i){this.menus=[],this.isClickable=!0,this.t=0,this.menu=e,this.title=t,this.vec=new ev.h(this.menu.vec.x,this.menu.vec.y+i),this.height=this.menu.pullDownMenuWrapper.theme.heightEach,this.width=this.menu.pullDownMenuWrapper.theme.widthEach}}class e2 extends e5{RenderPost(e){this.isHide||e0.SectionLine(e,this.vec,this.width,this.offY)}constructor(e,t,i){super(e,t,i),this.menu=e,this.title=t,this.vec=new ev.h(this.menu.vec.x,this.menu.vec.y+i),this.height=this.menu.pullDownMenuWrapper.theme.heightEach,this.width=this.menu.pullDownMenuWrapper.theme.widthEach,this.offY=.5*this.height}}class e6 extends e5{MouseDown(){this.isClickable&&this.MouseDownPost()}MouseDownPost(){}get IsHover(){return this.isHover}set IsHover(e){this.isHover=e;for(let t=0;t<this.menus.length;++t)this.menus[t].isHide=!e}RenderPost(e){this.ComputeBoundary(),this.MouseInside(this.menu.pullDownMenuWrapper.mouse.x,this.menu.pullDownMenuWrapper.mouse.y)?(this.isHover=!0,this.t+=this.menu.pullDownMenuWrapper.theme.animationSpeed):(this.t=0,this.isHover=!1),this.isClickable?this.isHover?(this.t>1&&(this.t=1),e0.RoundedRectFill(e,this.menu.pullDownMenuWrapper.theme.colSelectedBG,ev.h.GetBoundaryByVecWidthHeight(this.vec,this.width*eD.EaseOutQuad(this.t),this.height),0),e.fillStyle=this.menu.pullDownMenuWrapper.theme.colTextHover):e.fillStyle=this.menu.pullDownMenuWrapper.theme.colText:e.fillStyle=this.menu.pullDownMenuWrapper.theme.colTextDisable,e.shadowBlur=0,e.shadowOffsetY=0,e.shadowOffsetX=0,e.font=this.menu.pullDownMenuWrapper.theme.font,e.fillText(this.title,this.vec.x+this.menu.pullDownMenuWrapper.textOffX,this.vec.y+this.menu.pullDownMenuWrapper.textOffY),this.isHover&&console.log(this)}constructor(e,t,i){super(e.menu,t,i),this.menus=[],this.isClickable=!0,this.vec=new ev.h(this.menu.vec.x+this.menu.pullDownMenuWrapper.theme.widthEach,i),this.height=this.menu.pullDownMenuWrapper.theme.heightEach,this.width=this.menu.pullDownMenuWrapper.theme.widthEach}}class e3 extends e5{Init(){this.widthSub=this.menu.pullDownMenuWrapper.theme.widthEach,this.vecSub=new ev.h(this.vec.x+this.menu.pullDownMenuWrapper.theme.widthEach+1,this.vec.y+1)}MouseDown(){for(let e=0;e<this.menus.length;++e)this.menus[e].isHover&&this.menus[e].MouseDown()}MouseInside(e,t){return ev.h.IsInsideOfVecs(new ev.h(e,t),this.ComputeBoundary())}RenderPost(e){if(!this.isHide&&(this.MouseInside(this.menu.pullDownMenuWrapper.mouse.x,this.menu.pullDownMenuWrapper.mouse.y)?(this.isHover=!0,this.menu.pullDownMenuWrapper.nUI.pullDownMenuWrapper.menuRenderer.captureFlyout&&this.menu.pullDownMenuWrapper.nUI.pullDownMenuWrapper.menuRenderer.captureFlyout!==this&&(this.menu.pullDownMenuWrapper.nUI.pullDownMenuWrapper.menuRenderer.captureFlyout.isHover=!1),this.menu.pullDownMenuWrapper.nUI.pullDownMenuWrapper.menuRenderer.captureFlyout=this):void 0===this.menu.pullDownMenuWrapper.nUI.pullDownMenuWrapper.menuRenderer.captureFlyout&&(this.isHover=!1),this.isHover?(this.t+=this.menu.pullDownMenuWrapper.theme.animationSpeed,this.t>1&&(this.t=1),e0.RoundedRectFill(e,this.menu.pullDownMenuWrapper.theme.colSelectedBG,ev.h.GetBoundaryByVecWidthHeight(this.vec,this.width*eD.EaseOutQuad(this.t),this.height),0),this.isClickable?e.fillStyle=this.menu.pullDownMenuWrapper.theme.colTextHover:e.fillStyle=this.menu.pullDownMenuWrapper.theme.colTextDisable):(this.t=0,this.isClickable?e.fillStyle=this.menu.pullDownMenuWrapper.theme.colText:e.fillStyle=this.menu.pullDownMenuWrapper.theme.colTextDisable),e.shadowBlur=0,e.shadowOffsetY=0,e.shadowOffsetX=0,e.font=this.menu.pullDownMenuWrapper.theme.font,e.fillText(this.title,this.vec.x+this.menu.pullDownMenuWrapper.textOffX,this.vec.y+this.menu.pullDownMenuWrapper.textOffY),this.isHover)){this.heightSub=this.menu.pullDownMenuWrapper.theme.heightEach*this.menus.length,e0.RoundedRectFillWithCol(e,ev.h.GetBoundaryByVecWidthHeight(this.vecSub,this.widthSub,this.heightSub),3,this.menu.pullDownMenuWrapper.theme.colBG);for(let t=0;t<this.menus.length;++t)this.menus[t].RenderPost(e)}}constructor(e,t,i){super(e,t,i),this.vecSub=ev.h.Origin(),this.isClickable=!0,this.menu=e,this.title=t,this.vec=new ev.h(this.menu.vec.x,this.menu.vec.y+i),this.height=this.menu.pullDownMenuWrapper.theme.heightEach,this.width=this.menu.pullDownMenuWrapper.theme.widthEach,this.offY=.5*this.height,this.Init()}}class e4 extends e1{Init(){this.AppendCommand(),this.heightSub=this.pullDownMenuWrapper.theme.heightEach*this.menus.length,this.widthSub=this.pullDownMenuWrapper.theme.widthEach,this.vecSub=new ev.h(this.vec.x,this.vec.y+this.pullDownMenuWrapper.bar.height+1)}AppendCommand(){let e=0,t=0,i=new e5(this,"dummy",this.pullDownMenuWrapper.bar.height);(i=new e5(this,"About NCanvas App",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).MouseDownPost=()=>{},this.menus.push(i),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)),(i=new e3(this,"Files",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).isClickable=!1;let s=i;t=0;let n=new e6(s,"Open",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++);n.isClickable=!1,n.MouseDownPost=()=>{},i.menus.push(n),(n=new e6(s,"Save",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).isClickable=!1,n.MouseDownPost=()=>{},i.menus.push(n),(n=new e6(s,"Download",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).isClickable=!1,n.MouseDownPost=()=>{},i.menus.push(n),this.menus.push(i),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)),(i=new e3(this,"Helpers",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).isClickable=!1,t=0,(n=new e6(s=i,"Log",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).isClickable=!1,n.MouseDownPost=()=>{},i.menus.push(n),(n=new e6(s,"Unit",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{},i.menus.push(n),(n=new e6(s,"View cropping",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{},i.menus.push(n),this.menus.push(i),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)),(i=new e5(this,"Save and capture screen as an image",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).isClickable=!1,i.MouseDownPost=()=>{},this.menus.push(i),(i=new e5(this,"Quit",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).isClickable=!1,i.MouseDownPost=()=>{},this.menus.push(i)}constructor(e,t,i,s){super(e,t),this.pullDownMenuWrapper=e,this.vec=new ev.h(this.pullDownMenuWrapper.vec.x+s,this.pullDownMenuWrapper.vec.y),this.height=this.pullDownMenuWrapper.height,this.title=i,this.width=2*this.pullDownMenuWrapper.textOffX+6*this.title.length,this.Init()}}class e9 extends e5{MouseDown(){for(let e=0;e<this.menus.length;++e)this.menus[e].isHover&&this.menus[e].MouseDown()}get IsHover(){return this.isHover}set IsHover(e){this.isHover=e;for(let t=0;t<this.menus.length;++t)this.menus[t].isHide=!e}RenderPost(e){this.isHide||e0.SectionLine(e,this.vec,this.width,this.offY)}constructor(e,t,i){super(e.menu,t,i),this.menus=[],this.vec=new ev.h(this.menu.vec.x+this.menu.pullDownMenuWrapper.theme.widthEach,i),this.height=this.menu.pullDownMenuWrapper.theme.heightEach,this.width=this.menu.pullDownMenuWrapper.theme.widthEach,this.offY=.5*this.height}}class e8 extends e1{Init(){this.AppendCommand(),this.heightSub=this.pullDownMenuWrapper.theme.heightEach*this.menus.length,this.widthSub=this.pullDownMenuWrapper.theme.widthEach,this.vecSub=new ev.h(this.vec.x,this.vec.y+this.pullDownMenuWrapper.bar.height+1)}AppendCommand(){let e=0,t=0,i=new e5(this,"dummy",this.pullDownMenuWrapper.bar.height);(i=new e5(this,"About Canvas Visualization Environment",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).MouseDownPost=()=>{},this.menus.push(i),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)),(i=new e5(this,"Load Visualization Environment ",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).MouseDownPost=()=>{this.ac.ShfitScene("canvasVisualization")},this.menus.push(i),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++));let s=i=new e3(this,"Definition",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++);t=0;let n=new e6(s,"Gaussian Distribution",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++);n.MouseDownPost=()=>{this.ac.LoadDefinition("canvasVisualization","GaussianDistribution")},i.menus.push(n),(n=new e6(s,"Point ex 01",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.pullDownMenuWrapper.nUI.independentPanelWrapper.activeCommand.AboutAnnotation()},i.menus.push(n),(n=new e6(s,"Point ex 02",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac.LoadDefinition("canvasVisualization","1")},i.menus.push(n),(n=new e6(s,"Point ex 03",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac.LoadDefinition("canvasVisualization","2")},i.menus.push(n),i.menus.push(new e9(s,"section",i.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)),(n=new e6(s,"Line ex 01",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac.LoadDefinition("canvasVisualization","3")},i.menus.push(n),(n=new e6(s,"Line ex 02",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac.LoadDefinition("canvasVisualization","4")},i.menus.push(n),i.menus.push(new e9(s,"section",i.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)),(n=new e6(s,"gaussian distribution 1",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac.LoadDefinition("canvasVisualization","5")},i.menus.push(n),(n=new e6(s,"gaussian distribution 2",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac.LoadDefinition("canvasVisualization","6")},i.menus.push(n),this.menus.push(i),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)),(i=new e5(this,"Option",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).isClickable=!1,i.MouseDownPost=()=>{},this.menus.push(i)}constructor(e,t,i,s){super(e,t),this.pullDownMenuWrapper=e,this.vec=new ev.h(this.pullDownMenuWrapper.vec.x+s,this.pullDownMenuWrapper.vec.y),this.height=this.pullDownMenuWrapper.height,this.title=i,this.width=2*this.pullDownMenuWrapper.textOffX+6*this.title.length,this.Init()}}class e7 extends e1{Init(){this.AppendCommand(),this.heightSub=this.pullDownMenuWrapper.theme.heightEach*this.menus.length,this.widthSub=this.pullDownMenuWrapper.theme.widthEach,this.vecSub=new ev.h(this.vec.x,this.vec.y+this.pullDownMenuWrapper.bar.height+1)}AppendCommand(){let e=0,t=0,i=new e5(this,"dummy",this.pullDownMenuWrapper.bar.height);(i=new e5(this,"About Creative Coding Environment",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).MouseDownPost=()=>{this.pullDownMenuWrapper.nUI.independentPanelWrapper.activeCommand.AboutAnnotation()},this.menus.push(i),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)),(i=new e5(this,"Load Creative Coding Environment ",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).MouseDownPost=()=>{this.ac.ShfitScene("creativeCoding")},this.menus.push(i),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++));let s=i=new e3(this,"Definition",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++);t=0;let n=new e6(s,"Blank",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++);n.MouseDownPost=()=>{this.ac.LoadDefinition("creativeCoding","Blank")},i.menus.push(n),i.menus.push(new e9(s,"section",i.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)),(n=new e6(s,"BallBounce",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac.LoadDefinition("creativeCoding","BallBounce")},i.menus.push(n),(n=new e6(s,"BallBounceClass",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac.LoadDefinition("creativeCoding","BallBounceClass")},i.menus.push(n),(n=new e6(s,"CircleGrid",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac.LoadDefinition("creativeCoding","CircleGrid")},i.menus.push(n),i.menus.push(new e9(s,"section",i.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)),(n=new e6(s,"CircleGridAttractors 1",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac.LoadDefinition("creativeCoding","CircleGridAttractors1")},i.menus.push(n),(n=new e6(s,"CircleGridAttractors 2",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac.LoadDefinition("creativeCoding","CircleGridAttractors2")},i.menus.push(n),i.menus.push(new e9(s,"section",i.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)),(n=new e6(s,"Line 1",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac.LoadDefinition("creativeCoding","Line")},i.menus.push(n),(n=new e6(s,"Line2",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac.LoadDefinition("creativeCoding","Line2")},i.menus.push(n),i.menus.push(new e9(s,"section",i.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)),(n=new e6(s,"Boid System 01",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac.LoadDefinition("creativeCoding","BoidSystem01")},i.menus.push(n),(n=new e6(s,"Boid System 02",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac.LoadDefinition("creativeCoding","BoidSystem02")},i.menus.push(n),(n=new e6(s,"Boid System 03",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac.LoadDefinition("creativeCoding","BoidSystem03")},i.menus.push(n),(n=new e6(s,"Boid System 04",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac.LoadDefinition("creativeCoding","BoidSystem04")},i.menus.push(n),i.menus.push(new e9(s,"section",i.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)),(n=new e6(s,"Dynamic System 01",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac.LoadDefinition("creativeCoding","DynamicSystem01")},i.menus.push(n),(n=new e6(s,"Dynamic System 02",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac.LoadDefinition("creativeCoding","DynamicSystem02")},i.menus.push(n),(n=new e6(s,"Dynamic System 03",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac.LoadDefinition("creativeCoding","DynamicSystem03")},i.menus.push(n),i.menus.push(new e9(s,"section",i.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)),(n=new e6(s,"OOP 01",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac.LoadDefinition("creativeCoding","OOP01")},i.menus.push(n),this.menus.push(i),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)),(i=new e5(this,"Option",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).isClickable=!1,i.MouseDownPost=()=>{},this.menus.push(i)}constructor(e,t,i,s){super(e,t),this.ac=t,this.pullDownMenuWrapper=e,this.vec=new ev.h(this.pullDownMenuWrapper.vec.x+s,this.pullDownMenuWrapper.vec.y),this.height=this.pullDownMenuWrapper.height,this.title=i,this.width=2*this.pullDownMenuWrapper.textOffX+6*this.title.length,this.Init()}}class te extends e1{Init(){this.AppendCommand(),this.heightSub=this.pullDownMenuWrapper.theme.heightEach*this.menus.length,this.widthSub=this.pullDownMenuWrapper.theme.widthEach,this.vecSub=new ev.h(this.vec.x,this.vec.y+this.pullDownMenuWrapper.bar.height+1)}AppendCommand(){let e=0,t=0,i=new e5(this,"dummy",this.pullDownMenuWrapper.bar.height);(i=new e5(this,"About Drawing Block",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).MouseDownPost=()=>{this.pullDownMenuWrapper.nUI.independentPanelWrapper.activeCommand.AboutAnnotation()},this.menus.push(i),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)),(i=new e5(this,"Load Creative Coding Environment ",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).MouseDownPost=()=>{this.ac("creativeCoding")},this.menus.push(i),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++));let s=i=new e3(this,"Definition",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++);t=0;let n=new e6(s,"Blank",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++);n.MouseDownPost=()=>{this.ac("creativeCoding@Blank")},i.menus.push(n),i.menus.push(new e9(s,"section",i.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)),(n=new e6(s,"BallBounce",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac("creativeCoding@BallBounce")},i.menus.push(n),(n=new e6(s,"Line2",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac("creativeCoding@Line2")},i.menus.push(n),i.menus.push(new e9(s,"section",i.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)),(n=new e6(s,"Boid System 01",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac("creativeCoding@BoidSystem01")},i.menus.push(n),i.menus.push(new e9(s,"section",i.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)),(n=new e6(s,"OOP 01",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{this.ac("creativeCoding@OOP01")},i.menus.push(n),this.menus.push(i),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)),(i=new e5(this,"Option",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).isClickable=!1,i.MouseDownPost=()=>{},this.menus.push(i)}constructor(e,t,i,s){super(e,t),this.pullDownMenuWrapper=e,this.vec=new ev.h(this.pullDownMenuWrapper.vec.x+s,this.pullDownMenuWrapper.vec.y),this.height=this.pullDownMenuWrapper.height,this.title=i,this.width=2*this.pullDownMenuWrapper.textOffX+6*this.title.length,this.Init()}}class tt extends e1{Init(){this.AppendCommand(),this.heightSub=this.pullDownMenuWrapper.theme.heightEach*this.menus.length,this.widthSub=this.pullDownMenuWrapper.theme.widthEach,this.vecSub=new ev.h(this.vec.x,this.vec.y+this.pullDownMenuWrapper.bar.height+1)}AppendCommand(){let e=0,t=0,i=new e5(this,"dummy",this.pullDownMenuWrapper.bar.height);(i=new e5(this,"Abbout NImage",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).MouseDownPost=()=>{this.pullDownMenuWrapper.nUI.independentPanelWrapper.activeCommand.AboutNImage()},this.menus.push(i),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)),(i=new e5(this,"Open File",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).MouseDownPost=()=>{this.ac.OpenImg()},this.menus.push(i),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)),(i=new e5(this,"Save",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).MouseDownPost=()=>{},this.menus.push(i),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++));let s=i=new e3(this,"Adjustment",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++);t=0;let n=new e6(s,"Option",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++);n.isClickable=!1,n.MouseDownPost=()=>{},i.menus.push(n),i.menus.push(new e9(s,"section",i.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)),(n=new e6(s,"Brightness/Contrast...",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).isClickable=!1,n.MouseDownPost=()=>{},i.menus.push(n),(n=new e6(s,"Hue/Saturation...",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).isClickable=!1,n.MouseDownPost=()=>{},i.menus.push(n),this.menus.push(i),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)),(i=new e5(this,"Setting",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).isClickable=!1,i.MouseDownPost=()=>{console.log("Setting!!")},this.menus.push(i),(i=new e5(this,"Blending",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).isClickable=!1,i.MouseDownPost=()=>{console.log("Reset!!")},this.menus.push(i),(i=new e5(this,"Capture screen",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).isClickable=!1,i.MouseDownPost=()=>{console.log("Reset!!")},this.menus.push(i),(i=new e5(this,"Reset",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).isClickable=!1,i.MouseDownPost=()=>{},this.menus.push(i)}constructor(e,t,i,s){super(e,t),this.pullDownMenuWrapper=e,this.vec=new ev.h(this.pullDownMenuWrapper.vec.x+s,this.pullDownMenuWrapper.vec.y),this.height=this.pullDownMenuWrapper.height,this.title=i,this.width=2*this.pullDownMenuWrapper.textOffX+5*this.title.length,this.Init()}}class ti extends e1{Init(){this.AppendCommand(),this.heightSub=this.pullDownMenuWrapper.theme.heightEach*this.menus.length,this.widthSub=this.pullDownMenuWrapper.theme.widthEach,this.vecSub=new ev.h(this.vec.x,this.vec.y+this.pullDownMenuWrapper.bar.height+1)}AppendCommand(){let e=0,t=0,i=new e5(this,"dummy",this.pullDownMenuWrapper.bar.height);(i=new e5(this,"About Algorithm Env App",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).MouseDownPost=()=>{},this.menus.push(i),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)),(i=new e3(this,"Files",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).isClickable=!1;let s=i;t=0;let n=new e6(s,"Open",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++);n.isClickable=!1,n.MouseDownPost=()=>{},i.menus.push(n),(n=new e6(s,"Save",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).isClickable=!1,n.MouseDownPost=()=>{},i.menus.push(n),(n=new e6(s,"Download",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).isClickable=!1,n.MouseDownPost=()=>{},i.menus.push(n),this.menus.push(i),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)),(i=new e3(this,"definition",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).isClickable=!0,this.menus.push(i),(i=new e3(this,"Helpers",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).isClickable=!1,t=0,(n=new e6(s=i,"Log",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).isClickable=!1,n.MouseDownPost=()=>{},i.menus.push(n),(n=new e6(s,"Unit",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{},i.menus.push(n),(n=new e6(s,"View cropping",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{},i.menus.push(n),this.menus.push(i),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)),(i=new e5(this,"Save and capture screen as an image",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).isClickable=!1,i.MouseDownPost=()=>{},this.menus.push(i),(i=new e5(this,"Quit",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).isClickable=!1,i.MouseDownPost=()=>{},this.menus.push(i)}AddMenu(e,t,i){for(let s=0;s<this.menus.length;++s)if(this.menus[s].title===e){let e=this.menus[s],n=new e6(e,t,e.vec.y+this.pullDownMenuWrapper.theme.heightEach*e.menus.length);n.isClickable=!0,n.MouseDownPost=i,e.menus.push(n)}}constructor(e,t,i,s){super(e,t),this.pullDownMenuWrapper=e,this.vec=new ev.h(this.pullDownMenuWrapper.vec.x+s,this.pullDownMenuWrapper.vec.y),this.height=this.pullDownMenuWrapper.height,this.title=i,this.width=2*this.pullDownMenuWrapper.textOffX+6*this.title.length,this.Init()}}class ts extends e1{Init(){this.AppendCommand(),this.heightSub=this.pullDownMenuWrapper.theme.heightEach*this.menus.length,this.widthSub=this.pullDownMenuWrapper.theme.widthEach,this.vecSub=new ev.h(this.vec.x,this.vec.y+this.pullDownMenuWrapper.bar.height+1)}AddApp(e){let t;let i=e.split("@");switch(i[0]){case"mlProject":"--"===i[1]?this.projectMLProject.menus.push(new e9(this.projectMLProject,"section",this.projectMLProject.vec.y+this.pullDownMenuWrapper.theme.heightEach*this.projectMLProjectNumSubInterval++)):((t=new e6(this.projectMLProject,i[1],this.projectMLProject.vec.y+this.pullDownMenuWrapper.theme.heightEach*this.projectMLProjectNumSubInterval++)).isClickable=!0,t.MouseDownPost=()=>{this.ac.LoadDefinition(i[1])},this.projectMLProject.menus.push(t));break;case"tfProject":"--"===i[1]?this.projectTFProject.menus.push(new e9(this.projectTFProject,"section",this.projectTFProject.vec.y+this.pullDownMenuWrapper.theme.heightEach*this.projectTFProjectNumSubInterval++)):((t=new e6(this.projectTFProject,i[1],this.projectTFProject.vec.y+this.pullDownMenuWrapper.theme.heightEach*this.projectTFProjectNumSubInterval++)).isClickable=!0,t.MouseDownPost=()=>{this.ac.LoadDefinition(i[1])},this.projectTFProject.menus.push(t))}}AppendCommand(){this.numInterval=0,this.numSubInterval=0;let e=new e5(this,"dummy",this.pullDownMenuWrapper.bar.height);(e=new e5(this,"About TF App",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*this.numInterval++)).MouseDownPost=()=>{},this.menus.push(e),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*this.numInterval++)),(e=new e3(this,"Project ML Project",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*this.numInterval++)).isClickable=!0,this.projectMLProject=e,this.menus.push(e),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*this.numInterval++)),(e=new e3(this,"Project TF",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*this.numInterval++)).isClickable=!0,this.projectTFProject=e,this.menus.push(e),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*this.numInterval++)),(e=new e3(this,"Helpers",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*this.numInterval++)).isClickable=!1;let t=e;this.numSubInterval=0;let i=new e6(t,"Log",t.vec.y+this.pullDownMenuWrapper.theme.heightEach*this.numSubInterval++);i.isClickable=!1,i.MouseDownPost=()=>{},e.menus.push(i),(i=new e6(t,"Unit",t.vec.y+this.pullDownMenuWrapper.theme.heightEach*this.numSubInterval++)).MouseDownPost=()=>{},e.menus.push(i),(i=new e6(t,"View cropping",t.vec.y+this.pullDownMenuWrapper.theme.heightEach*this.numSubInterval++)).MouseDownPost=()=>{},e.menus.push(i),this.menus.push(e),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*this.numInterval++)),(e=new e5(this,"Save and capture screen as an image",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*this.numInterval++)).isClickable=!1,e.MouseDownPost=()=>{},this.menus.push(e),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*this.numInterval++)),(e=new e3(this,"Playground",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*this.numInterval++)).isClickable=!0,t=e,this.numSubInterval=0,(i=new e6(t,"TF PG 01",t.vec.y+this.pullDownMenuWrapper.theme.heightEach*this.numSubInterval++)).isClickable=!0,i.MouseDownPost=()=>{this.ac.LoadDefinition("TFPlayground01")},e.menus.push(i),(i=new e6(t,"LinearRegression",t.vec.y+this.pullDownMenuWrapper.theme.heightEach*this.numSubInterval++)).isClickable=!0,i.MouseDownPost=()=>{this.ac.LoadDefinition("project01")},e.menus.push(i),(i=new e6(t,"LinearRegression, GD",t.vec.y+this.pullDownMenuWrapper.theme.heightEach*this.numSubInterval++)).isClickable=!0,i.MouseDownPost=()=>{this.ac.LoadDefinition("project02")},e.menus.push(i),(i=new e6(t,"LinearRegression, GD",t.vec.y+this.pullDownMenuWrapper.theme.heightEach*this.numSubInterval++)).isClickable=!0,i.MouseDownPost=()=>{this.ac.LoadDefinition("project03")},e.menus.push(i),(i=new e6(t,"LinearRegression, GD",t.vec.y+this.pullDownMenuWrapper.theme.heightEach*this.numSubInterval++)).isClickable=!0,i.MouseDownPost=()=>{this.ac.LoadDefinition("project04")},e.menus.push(i),this.menus.push(e),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*this.numInterval++)),(e=new e5(this,"Quit",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*this.numInterval++)).isClickable=!1,e.MouseDownPost=()=>{},this.menus.push(e)}constructor(e,t,i,s){super(e,t),this.projectMLProjectNumSubInterval=0,this.projectTFProjectNumSubInterval=0,this.pullDownMenuWrapper=e,this.vec=new ev.h(this.pullDownMenuWrapper.vec.x+s,this.pullDownMenuWrapper.vec.y),this.height=this.pullDownMenuWrapper.height,this.title=i,this.width=2*this.pullDownMenuWrapper.textOffX+6*this.title.length,this.Init()}}class tn extends e1{Init(){this.AppendCommand(),this.heightSub=this.pullDownMenuWrapper.theme.heightEach*this.menus.length,this.widthSub=this.pullDownMenuWrapper.theme.widthEach,this.vecSub=new ev.h(this.vec.x,this.vec.y+this.pullDownMenuWrapper.bar.height+1)}AppendCommand(){let e=0,t=0,i=new e5(this,"dummy",this.pullDownMenuWrapper.bar.height);(i=new e5(this,"About NCanvas App",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).MouseDownPost=()=>{},this.menus.push(i),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)),(i=new e3(this,"Files",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).isClickable=!1;let s=i;t=0;let n=new e6(s,"Open",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++);n.isClickable=!1,n.MouseDownPost=()=>{},i.menus.push(n),(n=new e6(s,"Save",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).isClickable=!1,n.MouseDownPost=()=>{},i.menus.push(n),(n=new e6(s,"Download",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).isClickable=!1,n.MouseDownPost=()=>{},i.menus.push(n),this.menus.push(i),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)),(i=new e3(this,"Helpers",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).isClickable=!1,t=0,(n=new e6(s=i,"Log",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).isClickable=!1,n.MouseDownPost=()=>{},i.menus.push(n),(n=new e6(s,"Unit",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{},i.menus.push(n),(n=new e6(s,"View cropping",s.vec.y+this.pullDownMenuWrapper.theme.heightEach*t++)).MouseDownPost=()=>{},i.menus.push(n),this.menus.push(i),this.menus.push(new e2(this,"section",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)),(i=new e5(this,"Save and capture screen as an image",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).isClickable=!1,i.MouseDownPost=()=>{},this.menus.push(i),(i=new e5(this,"Quit",this.pullDownMenuWrapper.bar.height+this.pullDownMenuWrapper.theme.heightEach*e++)).isClickable=!1,i.MouseDownPost=()=>{},this.menus.push(i)}constructor(e,t,i,s){super(e,t),this.pullDownMenuWrapper=e,this.vec=new ev.h(this.pullDownMenuWrapper.vec.x+s,this.pullDownMenuWrapper.vec.y),this.height=this.pullDownMenuWrapper.height,this.title=i,this.width=2*this.pullDownMenuWrapper.textOffX+6*this.title.length,this.Init()}}class th extends eQ{BuildMenuPre(){this.menuTemp=new tn(this,{},"NJSCoreSandbox",this.menuOff),this.menus.push(this.menuTemp)}BuildMenuContent(e,t){switch(e){case"NCanvas":this.menuTemp=new e4(this,t,"NCanvas",this.menus[this.menus.length-1].vec.x+this.menus[this.menus.length-1].width),this.menus.push(this.menuTemp),this.menuTemp=new e8(this,t,"Visualization",this.menus[this.menus.length-1].vec.x+this.menus[this.menus.length-1].width),this.menus.push(this.menuTemp),this.menuTemp=new e7(this,t,"Creative Coding",this.menus[this.menus.length-1].vec.x+this.menus[this.menus.length-1].width),this.menus.push(this.menuTemp);break;case"appThreeEnv":this.menuTemp=new tt(this,t,"NImage",this.menus[this.menus.length-1].vec.x+this.menus[this.menus.length-1].width),this.menus.push(this.menuTemp);break;case"NTF":this.menuTemp=new ts(this,t,"NTF",this.menus[this.menus.length-1].vec.x+this.menus[this.menus.length-1].width),this.menus.push(this.menuTemp);break;case"NDrawingBlock":this.menuTemp=new te(this,t,"NDrawing Block",this.menus[this.menus.length-1].vec.x+this.menus[this.menus.length-1].width),this.menus.push(this.menuTemp);break;case"AlgorithmEnv":this.menuTemp=new ti(this,t,"AlgorithmEnv",this.menus[this.menus.length-1].vec.x+this.menus[this.menus.length-1].width),this.menus.push(this.menuTemp)}}AddMenu(e,t,i,s){for(let n=0;n<this.menus.length;++n)this.menus[n].title===e&&this.menus[n].AddMenu(t,i,s)}RemoveMenu(e){e.Remove(),this.menus.splice(this.menus.indexOf(e),1)}Resize(e,t){this.width=e,this.bar.width=e}RenderPost(e){}MouseMove(e){this.mouse.x=e.x,this.mouse.y=e.y,this.menuRenderer.MouseMove(e)}MouseDown(e){this.menuRenderer.MouseDown(e)}Reset(){this.menuRenderer.Reset()}ShowMenu(e){this.menuRenderer.ShowMenu(e)}Destroy(){this.menuRenderer.RemoveAll()}set stopPropagation(e){this.nUI.stopPropagation=e}constructor(e,t=0,i=0,s=0,n=0){super(),this.menuOff=10,this.textOffX=12,this.textOffY=10,this.menus=[],this.nUI=e,this.theme=this.nUI.theme,this.width=s,this.height=n,this.vec=new ev.h(t,i),this.textOffY=this.theme.textYOff,this.menuRenderer=new eJ(this),this.bar=new e$(this,this.width,this.height),this.mouse=new ev.h(0,0),this.BuildMenuPre()}}class to{get IsHidden(){return this.isHidden}set IsHidden(e){this.isHidden=e}RemoveAllCapturedBlock(){void 0!==this.capture&&this.capture.Remove()}CheckOvered(e){let t=this.list.length;for(;t--;)this.list[t].isHidden||(this.list[t].IsMouseInside(e.x,e.y)?this.list[t].IsHover=!0:this.list[t].IsHover=!1)}FindAtPoint(e){let t=this.list.length;for(;t--;)if(!this.list[t].isHidden&&this.list[t].IsMouseInside(e.x,e.y))return this.list[t]}MouseDown(e){if(this.isHidden)return;let t=this.FindAtPoint(e);void 0!==t?(this.independentPanelWrapper.enablePan=!1,t.MouseDown(),this.capture=t):this.capture=void 0}MouseRight(e){if(this.isHidden)return;let t=this.FindAtPoint(e);void 0!==t?(this.independentPanelWrapper.enablePan=!1,t.MouseRight(e),this.capture=t):this.capture=void 0}MouseDrag(e){this.isHidden||void 0===this.capture||this.capture.MouseDrag(e)}MouseDouble(e){if(this.isHidden)return;let t=this.FindAtPoint(e);void 0!==t&&(this.independentPanelWrapper.enablePan=!1,t.MouseDouble(e))}MouseMove(e){this.isHidden||(this.CheckOvered(e),this.FindAtPoint(e))}MouseUp(e){this.isHidden||(void 0!==this.capture&&this.capture.MouseUp(e),this.independentPanelWrapper.enablePan=!0)}Render(e){if(!this.isHidden)for(let t=0;t<this.list.length;++t)this.list[t].Render(e)}Add(e){this.list.push(e)}Remove(e){this.list.splice(this.list.indexOf(e),1)}RemoveAll(){this.list=[]}ShowMenu(e){this.isShow=e}Reset(){for(let e=0;e<this.list.length;++e)this.list[e].IsHover=!1}constructor(e){this.list=[],this.isShow=!1,this.isStillCapturedFly=!0,this.isHidden=!1,this.capture=void 0,this.independentPanelWrapper=e}}var tr=i(82650);class ta{AboutWhatisTheProduct(){let e=new tr.F(this.independentPanel,0,0,450,300,!0);e.title="What is this Product?",e.content="Before you read this document, we would like to point out something behind it,\n                     which is our motivation and mission. The mission is to think about how to bridge and\n                     encourage people, who have no idea about data and visualization, to use and create map with GIS data activly.",e.btnHam.isHidden=!0}AboutApps(){let e=new tr.F(this.independentPanel,0,0,450,300,!0);e.title="About Apps",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}AboutViewer(){let e=new tr.F(this.independentPanel,0,0,300,170,!0);e.title="Viewer App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}AboutDrawingTool(){let e=new tr.F(this.independentPanel,0,0,300,170,!0);e.title="Drawing Tool App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}AboutAnnotation(){let e=new tr.F(this.independentPanel,0,0,300,170,!0);e.title="Annotation Tool App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}AboutNSketch(){let e=new tr.F(this.independentPanel,0,0,300,170,!0);e.title="NSketch App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}AboutMapfilter(){let e=new tr.F(this.independentPanel,0,0,300,170,!0);e.title="Mapfilter App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}AboutWallPaperGL(){let e=new tr.F(this.independentPanel,0,0,300,170,!0);e.title="WallPaperGL App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}AboutNLearning(){let e=new tr.F(this.independentPanel,0,0,300,170,!0);e.title="NLearning App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}AboutSmartDrawing(){let e=new tr.F(this.independentPanel,0,0,300,170,!0);e.title="Smart Drawing Addon",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}AboutVoiceController(){let e=new tr.F(this.independentPanel,0,0,300,170,!0);e.title="Voice Controller",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}AboutMapticon(){let e=new tr.F(this.independentPanel,0,0,300,170,!0);e.title="Mapticon Addon",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}AboutBlock(){let e=new tr.F(this.independentPanel,0,0,300,170,!0);e.title="Drawing Block App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}AboutNGlobe(){let e=new tr.F(this.independentPanel,0,0,300,170,!0);e.title="NGlobe",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}AboutNTerrain(){let e=new tr.F(this.independentPanel,0,0,300,170,!0);e.title="NTerrain",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}ABoutNDynamics(){let e=new tr.F(this.independentPanel,0,0,300,170,!0);e.title="NDynamics",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}ABoutNRhino3d(){let e=new tr.F(this.independentPanel,0,0,300,170,!0);e.title="NRhino3d",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}AboutVisCanvas(){let e=new tr.F(this.independentPanel,0,0,300,170,!0);e.title="Visualization Canvas App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}AboutVisGL(){let e=new tr.F(this.independentPanel,0,0,300,170,!0);e.title="Visualization GL App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}AboutVisGL3D(){let e=new tr.F(this.independentPanel,0,0,300,170,!0);e.title="Visualization GL3D App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}AboutVRAR(){let e=new tr.F(this.independentPanel,0,0,300,170,!0);e.title="GraphicApp VR & AR App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}AboutGL3d(){let e=new tr.F(this.independentPanel,0,0,300,170,!0);e.title="GraphicApp GL3d App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}AboutNImage(){let e=new tr.F(this.independentPanel,0,0,300,170,!0);e.title="GraphicApp NImage App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}AboutNWallpaper(){let e=new tr.F(this.independentPanel,0,0,300,170,!0);e.title="GraphicApp NWallpaper App",e.content="The content will be updated soon.",e.btnHam.isHidden=!0}AboutNMedia(){let e=new tr.F(this.independentPanel,0,0,300,170,!0);e.title="NMedia & NController",e.content="These apps are addons in njslabSandbox. NMedia is enable to us to access multimedia dvices like camera or voice, and NController provides with abilities to take advantage of extra dvices: HTC Vive, Leap Motion, or Kinect.",e.btnHam.isHidden=!0}constructor(e){this.independentPanel=e}}class tl extends eQ{Init(){this.activeCommand=new ta(this)}Resize(e,t){}RenderPost(e){}MouseMove(e){this.m.x=e.x,this.m.y=e.y,this.indePanelRender.MouseMove(e)}MouseDrag(e){this.indePanelRender.MouseDrag(e)}MouseDown(e){this.indePanelRender.MouseDown(e)}Reset(){this.indePanelRender.Reset()}ShowMenu(e){this.indePanelRender.ShowMenu(e)}Destroy(){this.indePanelRender.RemoveAll()}set stopPropagation(e){this.nUI.stopPropagation=e}set enablePan(e){this.nUI.enablePan=e}constructor(e,t=0,i=0,s=0,n=0){super(),this.menuOff=10,this.textOffX=12,this.textOffY=10,this.isActivated=!1,this.nUI=e,this.theme=this.nUI.theme,this.width=s,this.height=n,this.vec=new eg.h(t,i),this.textOffY=this.theme.textYOff,this.m=new eg.h(0,0),this.indePanelRender=new to(this),this.Init()}}class tc{ResizeCanvas(e,t){this.ctx.canvas.width=e,this.ctx.canvas.height=t}InitCanvas(){this.uiCanvas=document.createElement("canvas"),this.uiCanvas.id="njscore-web-ui",this.uiCanvas.className="njscore-web-ui",this.uiCanvas.style.position="absolute",this.uiCanvas.style.pointerEvents="none",this.uiCanvas.style.zIndex="10",this.uiCanvas.width=this.nUI.divHost.clientWidth,this.uiCanvas.height=this.nUI.divHost.clientHeight,this.nUI.divHost.appendChild(this.uiCanvas);let e=this.uiCanvas.getContext("2d");e&&(this.ctx=e),this.Loop()}Loop(){if(!this.isActive){this.ctx.clearRect(0,0,this.uiCanvas.width,this.uiCanvas.height);return}requestAnimationFrame(()=>this.Loop()),this.ctx.clearRect(0,0,this.uiCanvas.width,this.uiCanvas.height),this.Render(this.ctx)}Render(e){}constructor(e){this.isActive=!0,this.nUI=e,this.InitCanvas()}}class td{ShiftTheme(e){if("red"===e){this.theme.ShiftTheme(this.asset.themeRed),this.themeType="red";return}if("blue"===e){this.theme.ShiftTheme(this.asset.themeBlue),this.themeType="blue";return}if("purple"===e){this.theme.ShiftTheme(this.asset.themePurple),this.themeType="purple";return}if("green"===e){this.theme.ShiftTheme(this.asset.themeGreen),this.themeType="green";return}if("orange"===e){this.theme.ShiftTheme(this.asset.themeOrange),this.themeType="orange";return}if("gray"===e){this.theme.ShiftTheme(this.asset.themeGray),this.themeType="gray";return}if("darkGray"===e){this.theme.ShiftTheme(this.asset.themeDarkgray),this.themeType="darkGray";return}if("black"===e){this.theme.ShiftTheme(this.asset.themeBlack),this.themeType="black";return}}MouseInteractionMenu(e){this.activeCommand.MouseEventController(e)}Resize(e,t){this.indepCanvas.ResizeCanvas(e,t),this.independentPanelWrapper.Resize(e,t),this.pullDownCanvas.ResizeCanvas(e,t),this.pullDownMenuWrapper.Resize(e,t)}set stopPropagation(e){this._stopPropagation=e,e&&(this.BindingStoppropagation(e),setTimeout(()=>{this._stopPropagation=!1,this.BindingStoppropagation(!1)},500))}get stopPropagation(){return this._stopPropagation}BindingStoppropagation(e){}set enablePan(e){this.BindingEnablePan(e)}BindingEnablePan(e){}BindingActiveCommandController(e,t){this.pullDownMenuWrapper.BuildMenuContent(e,t)}Destroy(){this.indepCanvas.isActive=!1,this.pullDownCanvas.isActive=!1}constructor(e,t=!0){if(this.themeType="default",this._stopPropagation=!1,this.divHost=e,this.width=this.divHost.clientWidth,this.height=this.divHost.clientHeight,this.asset=new ej,this.theme=new eq,this.activeCommand=new eK(this),this.independentPanelWrapper=new tl(this,0,0,this.width,this.height),this.indepCanvas=new tc(this),t&&(this.indepCanvas.Render=e=>this.independentPanelWrapper.indePanelRender.Render(e)),this.pullDownMenuWrapper=new th(this,0,0,this.width,25),this.pullDownCanvas=new tc(this),this.pullDownCanvas.uiCanvas.style.zIndex){let e="".concat(+this.pullDownCanvas.uiCanvas.style.zIndex+1);e&&(this.pullDownCanvas.uiCanvas.style.zIndex=e)}t&&(this.pullDownCanvas.Render=e=>this.pullDownMenuWrapper.menuRenderer.Render(e)),this.pullDownMenuWrapper.ShowMenu(!0)}}class tu{constructor(){this.top=10,this.right=30,this.bottom=30,this.left=30}}class tp{constructor(){this.clickLeft=!0,this.clickMiddle=!0,this.clickRight=!0,this.clickDouble=!0,this.mouseDown=!0,this.mouseMove=!0,this.mouseDrag=!0,this.keyDown=!0}}class tm{set mode(e){this._mode=e,e===eo.DRAWING&&(this.currentAccessibility=this.drawing),e===eo.INTERACTIVE_VIEWER&&(this.currentAccessibility=this.interactiveViewer),e===eo.OBSERVE_VIEWER&&(this.currentAccessibility=this.viewer)}get mode(){return this._mode}SetAccessibility(e,t){e===eo.DRAWING&&(this.drawing.clickLeft=t.clickLeft,this.drawing.clickMiddle=t.clickMiddle,this.drawing.clickRight=t.clickRight,this.drawing.clickDouble=t.clickDouble,this.drawing.mouseDown=t.mouseDown,this.drawing.mouseMove=t.mouseMove,this.drawing.mouseDrag=t.mouseDrag),e===eo.INTERACTIVE_VIEWER&&(this.currentAccessibility=this.interactiveViewer),e===eo.OBSERVE_VIEWER&&(this.currentAccessibility=this.viewer)}constructor(e){this.currentAccessibility=new tp,this.drawing=new tp,this.interactiveViewer=new tp,this.viewer=new tp,this.interactiveViewer.clickLeft=!0,this.interactiveViewer.clickMiddle=!1,this.interactiveViewer.clickRight=!1,this.interactiveViewer.clickDouble=!1,this.interactiveViewer.mouseDown=!0,this.interactiveViewer.mouseMove=!0,this.interactiveViewer.mouseDrag=!1,this.interactiveViewer.keyDown=!1,this.viewer.clickLeft=!1,this.viewer.clickMiddle=!1,this.viewer.clickRight=!1,this.viewer.clickDouble=!1,this.viewer.mouseDown=!1,this.viewer.mouseMove=!1,this.viewer.mouseDrag=!1,this.viewer.keyDown=!1,this.mode=e}}class tg{constructor(){this.isStandalone=!1,this.compileMode=eh.DEVELOPMENT}}class ty{static LineByVecs(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#ff0000";e.strokeStyle=n,e.lineWidth=s,e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(i.x,i.y),e.closePath(),e.stroke()}static Line(e,t,i,s,n){let h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"#ff0000";e.strokeStyle=o,e.lineWidth=h,e.beginPath(),e.moveTo(t,i),e.lineTo(s,n),e.closePath(),e.stroke()}static Point(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#ff0000";e.fillStyle=n,e.beginPath(),e.arc(t,i,s,0,2*Math.PI),e.closePath(),e.fill()}static PointByNVec(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#ff0000";e.fillStyle=s,e.beginPath(),e.arc(t.x,t.y,i,0,2*Math.PI),e.closePath(),e.fill()}static PointByNVecAni(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,s=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#ff0000";e.fillStyle=n,e.beginPath(),e.arc(t.x,t.y,i+(1+Math.sin(s))*2,0,2*Math.PI),e.closePath(),e.fill()}static GridLineOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,h=-(t*s*.5),o=-(i*n*.5);e.lineWidth=.1;for(let r=0;r<=i;++r)e.beginPath(),e.moveTo(h,o+n*r),e.lineTo(t*s*.5,o+n*r),e.closePath(),e.stroke(),e.beginPath(),e.moveTo(h+s*r,o),e.lineTo(o+n*r,i*n*.5),e.closePath(),e.stroke()}static GridPointOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,h=-(t*s*.5),o=-(i*n*.5);e.lineWidth=.1;for(let r=0;r<=i;++r)for(let i=0;i<=t;++i)e.beginPath(),e.arc(h+s*i,o+n*r,1,0,2*Math.PI),e.closePath(),e.fill()}constructor(){}}class tf{get stop(){return this._stop}set stop(e){this.numRender=0,this._stop=e}TimerForStop(){this.numRender++,this.numRender>this.numStopFrame&&(this.numRender=0,this.stop=!0)}Reset(){this._level=-1}get level(){return this._level}set level(e){this._level=e}constructor(e){this._level=-1,this._stop=!1,this.numRender=0,this.numStopFrame=e}}class tx{static _cross(e,t,i){return(t[0]-e[0])*(i[1]-e[1])-(t[1]-e[1])*(i[0]-e[0])}static _upperTangent(e){let t=[];for(let i=0;i<e.length;i++){for(;t.length>=2&&0>=tx._cross(t[t.length-2],t[t.length-1],e[i]);)t.pop();t.push(e[i])}return t.pop(),t}static _lowerTangent(e){let t=e.reverse(),i=[];for(let e=0;e<t.length;e++){for(;i.length>=2&&0>=tx._cross(i[i.length-2],i[i.length-1],t[e]);)i.pop();i.push(t[e])}return i.pop(),i}static GetConvex(e){let t,i=tx._upperTangent(e);return(t=tx._lowerTangent(e).concat(i)).push(e[0]),t}constructor(){}}class tv{static GetGrid(e,t){return new tv(e,t)}cellPoints(e,t){return void 0!==this._cells[e]&&void 0!==this._cells[e][t]?this._cells[e][t]:[]}rangePoints(e){let t=this.point2CellXY([e[0],e[1]]),i=this.point2CellXY([e[2],e[3]]),s=[];for(let e=t[0];e<=i[0];e++)for(let n=t[1];n<=i[1];n++)s=s.concat(this.cellPoints(e,n));return s}removePoint(e){let t=this.point2CellXY(e),i=this._cells[t[0]][t[1]],s;for(let t=0;t<i.length;t++)if(i[t][0]===e[0]&&i[t][1]===e[1]){s=t;break}return s&&i.splice(s,1),i}point2CellXY(e){return[e[0]/this._cellSize,e[1]/this._cellSize]}extendBbox(e,t){return[e[0]-t*this._cellSize,e[1]-t*this._cellSize,e[2]+t*this._cellSize,e[3]+t*this._cellSize]}constructor(e,t){this._cells=[],this._cellSize=t,e.forEach(e=>{let t=this.point2CellXY(e),i=t[0],s=t[1];void 0===this._cells[i]&&(this._cells[i]=[]),void 0===this._cells[i][s]&&(this._cells[i][s]=[]),this._cells[i][s].push(e)},this)}}class tM{static ccw(e,t,i,s,n,h){let o=(h-t)*(i-e)-(s-t)*(n-e);return o>0||!(o<0)}static Intersect(e,t){let i=e[0][0],s=e[0][1],n=e[1][0],h=e[1][1],o=t[0][0],r=t[0][1],a=t[1][0],l=t[1][1];return tM.ccw(i,s,o,r,a,l)!==tM.ccw(n,h,o,r,a,l)&&tM.ccw(i,s,n,h,o,r)!==tM.ccw(i,s,n,h,a,l)}}class tw{static hull(e,t){let i,s,n,h,o,r;return e.length<4?e.slice():(r=tw._filterDuplicates(tw._sortByX(e)),h=[(n=tw._occupiedArea(r))[0]*tw.MAX_SEARCH_BBOX_SIZE_PERCENT,n[1]*tw.MAX_SEARCH_BBOX_SIZE_PERCENT],i=tx.GetConvex(r),s=r.filter(e=>0>i.indexOf(e)),o=Math.ceil(1/(r.length/(n[0]*n[1]))),tw._concave(i,Math.pow(t||20,2),h,tv.GetGrid(s,o),[]))}static _filterDuplicates(e){return e.filter((e,t,i)=>{let s=i[t-1];return 0===t||!(s[0]===e[0]&&s[1]===e[1])})}static _sortByX(e){return e.sort((e,t)=>e[0]===t[0]?e[1]-t[1]:e[0]-t[0])}static _occupiedArea(e){let t=1/0,i=1/0,s=-1/0,n=-1/0;for(let h=e.length-1;h>=0;h--)e[h][0]<t&&(t=e[h][0]),e[h][1]<i&&(i=e[h][1]),e[h][0]>s&&(s=e[h][0]),e[h][1]>n&&(n=e[h][1]);return[s-t,n-i]}static _bBoxAround(e){return[Math.min(e[0][0],e[1][0]),Math.min(e[0][1],e[1][1]),Math.max(e[0][0],e[1][0]),Math.max(e[0][1],e[1][1])]}static _midPoint(e,t,i){let s,n=tw.MAX_CONCAVE_ANGLE_COS,h=tw.MAX_CONCAVE_ANGLE_COS,o,r;for(let a=0;a<t.length;a++)o=tw._cos(e[0],e[1],t[a]),r=tw._cos(e[1],e[0],t[a]),o>n&&r>h&&!tw._intersect([e[0],t[a]],i)&&!tw._intersect([e[1],t[a]],i)&&(n=o,h=r,s=t[a]);return s}static _cos(e,t,i){let s=[t[0]-e[0],t[1]-e[1]],n=[i[0]-e[0],i[1]-e[1]];return(s[0]*n[0]+s[1]*n[1])/Math.sqrt(tw._sqLength(e,t)*tw._sqLength(e,i))}static _intersect(e,t){for(let i=0;i<t.length-1;i++){let s=[t[i],t[i+1]];if((e[0][0]!==s[0][0]||e[0][1]!==s[0][1])&&(e[0][0]!==s[1][0]||e[0][1]!==s[1][1])&&tM.Intersect(e,s))return!0}return!1}static _sqLength(e,t){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}static _concave(e,t,i,s,n){let h,o,r,a,l,c,d,u=!1;for(let p=0;p<e.length-1;p++)if(o=(h=[e[p],e[p+1]])[0].join()+","+h[1].join(),!(tw._sqLength(h[0],h[1])<t)&&!0!==n[o]){r=0,l=tw._bBoxAround(h);do c=(l=s.extendBbox(l,r))[2]-l[0],d=l[3]-l[1],a=tw._midPoint(h,s.rangePoints(l),e),r++;while(void 0===a&&(i[0]>c||i[1]>d));c>=i[0]&&d>=i[1]&&(n[o]=!0),void 0!==a&&(e.splice(p+1,0,a),s.removePoint(a),u=!0)}return u?tw._concave(e,t,i,s,n):e}}tw.MAX_CONCAVE_ANGLE_COS=Math.cos(90/(180/Math.PI)),tw.MAX_SEARCH_BBOX_SIZE_PERCENT=.6;class tP{Init(e){if(this.selfIntersection){let t=ev.h.GetVecFromIntersection(e);if(t){for(let i=0;i<t.length;++i)e.push(t[i]);this.self=!0,this.ComputeDelaunay(this.GetVerticesFromVec(e));return}}this.self=!0,this.ComputeDelaunay(this.GetVerticesFromVec(e))}ComputeDelaunay(e){let t,i,s,n,h,o,r,a,l,c=this.verticesOrigin.length,d,u,p;if(c<3){this.self=!1;return}for(e=e.slice(0),p=Array(c),d=c;d--;)p[d]=d;for(p.sort((t,i)=>{let s=e[i][0]-e[t][0];return 0!==s?s:t-i}),t=this.supertriangle(e),e.push(t[0],t[1],t[2]),l=[this.circumcircle(e,c+0,c+1,c+2)],i=[],s=[],d=p.length;d--;s.length=0){for(a=p[d],u=l.length;u--;){if((n=e[a][0]-l[u].x)>0&&n*n>l[u].r){i.push(l[u]),l.splice(u,1);continue}n*n+(h=e[a][1]-l[u].y)*h-l[u].r>this.EPSILON||(s.push(l[u].i,l[u].j,l[u].j,l[u].k,l[u].k,l[u].i),l.splice(u,1))}for(this.dedup(s),u=s.length;u;)r=s[--u],o=s[--u],l.push(this.circumcircle(e,o,r,a))}for(d=l.length;d--;)i.push(l[d]);for(l.length=0,d=i.length;d--;)i[d].i<c&&i[d].j<c&&i[d].k<c&&l.push(i[d].i,i[d].j,i[d].k);this.open=l,this.ComputeTri()}contains(e,t){if(t[0]<e[0][0]&&t[0]<e[1][0]&&t[0]<e[2][0]||t[0]>e[0][0]&&t[0]>e[1][0]&&t[0]>e[2][0]||t[1]<e[0][1]&&t[1]<e[1][1]&&t[1]<e[2][1]||t[1]>e[0][1]&&t[1]>e[1][1]&&t[1]>e[2][1])return;let i=e[1][0]-e[0][0],s=e[2][0]-e[0][0],n=e[1][1]-e[0][1],h=e[2][1]-e[0][1],o=i*h-s*n;if(0===o)return;let r=(h*(t[0]-e[0][0])-s*(t[1]-e[0][1]))/o,a=(i*(t[1]-e[0][1])-n*(t[0]-e[0][0]))/o;if(!(r<0)&&!(a<0)&&!(r+a>1))return[r,a]}ComputeTri(){if(this.self){if(this.triangle=[],this.autoDeleteion)for(let e=this.open.length;e;){--e;let t=new ev.h(this.verticesOrigin[this.open[e]][0],this.verticesOrigin[this.open[e]][1]);--e;let i=new ev.h(this.verticesOrigin[this.open[e]][0],this.verticesOrigin[this.open[e]][1]);--e;let s=new eb(t,i,new ev.h(this.verticesOrigin[this.open[e]][0],this.verticesOrigin[this.open[e]][1]));s.GetCenter(),ev.h.IsInsideOfVecs(s.cp,this.vs)&&this.triangle.push(s)}else for(let e=this.open.length;e;){--e;let t=new ev.h(this.verticesOrigin[this.open[e]][0],this.verticesOrigin[this.open[e]][1]);--e;let i=new ev.h(this.verticesOrigin[this.open[e]][0],this.verticesOrigin[this.open[e]][1]);--e;let s=new eb(t,i,new ev.h(this.verticesOrigin[this.open[e]][0],this.verticesOrigin[this.open[e]][1]));s.GetCenter(),this.triangle.push(s)}this.checkSecondInteraction&&(this.checkSecondInteraction=!1)}}GetOther(e){return!!this.self&&this.GetVecSecondIteraction(e)}GetVecSecondIteraction(e){if(!this.self)return!1;let t=ew.GetLineFromVecs(this.vs),i=eb.GetLineFromTriangles(this.triangle);i=ew.RemoveOverlapWithLines(i);let s=ew.GetUnOverlapWithLines(i,t);for(let t=0;t<s.length;++t)s[t].Render(e);return[]}IsMouseInside(e){if(!this.self)return!1;for(let t=0;t<this.triangle.length;++t)if(this.triangle[t].IsMouseInside(e.x,e.y))return!0;return!1}DrawTriClass(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#000000";if(this.self&&0!==this.triangle.length)for(let i=0;i<this.triangle.length;++i)e.strokeStyle=t,e.lineWidth=.7,e.beginPath(),e.setLineDash([3,3]),e.moveTo(this.triangle[i].p0.x,this.triangle[i].p0.y),e.lineTo(this.triangle[i].p1.x,this.triangle[i].p1.y),e.lineTo(this.triangle[i].p2.x,this.triangle[i].p2.y),e.closePath(),e.stroke(),e.beginPath(),e.setLineDash([]),e.strokeStyle="rgba(0,0,0,0.8)",e.fillStyle="rgba(0,0,0,0.5)",e.lineWidth=.5,e.arc(this.triangle[i].cp.x,this.triangle[i].cp.y,5,0,6.28),e.fill(),e.stroke()}DrawTri(e){if(this.self)for(let t=this.open.length;t;)e.strokeStyle="#000000",e.lineWidth=.7,e.beginPath(),e.setLineDash([3,3]),e.strokeStyle="rgba(0,0,0,0.8)",e.fillStyle="rgba(".concat(0,",0,0,0.5)"),e.fill(),e.beginPath(),e.setLineDash([]),e.lineWidth=.5,e.arc(0,0,5,0,6.28),e.fill(),e.stroke()}GetVerticesFromVec(e){let t=[],i=[];for(let s=0;s<e.length;++s){let n=e[s].x,h=e[s].y;i.push([n,h]),t.push([n,h])}return this.verticesOrigin=i,t}supertriangle(e){let t=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,h,o,r,a,l,c;for(h=e.length;h--;)e[h][0]<t&&(t=e[h][0]),e[h][0]>s&&(s=e[h][0]),e[h][1]<i&&(i=e[h][1]),e[h][1]>n&&(n=e[h][1]);return a=Math.max(o=s-t,r=n-i),[[(l=t+.5*o)-20*a,(c=i+.5*r)-a],[l,c+20*a],[l+20*a,c-a]]}circumcircle(e,t,i,s){let n=e[t][0],h=e[t][1],o=e[i][0],r=e[i][1],a=e[s][0],l=e[s][1],c=Math.abs(h-r),d=Math.abs(r-l),u,p,m,g,y,f,x,v,M,w;if(c<this.EPSILON&&d<this.EPSILON)throw Error("Eek! Coincident points!");return c<this.EPSILON?(g=-((a-o)/(l-r)),f=(o+a)/2,v=(r+l)/2,p=g*((u=(o+n)/2)-f)+v):d<this.EPSILON?(m=-((o-n)/(r-h)),y=(n+o)/2,x=(h+r)/2,p=m*((u=(a+o)/2)-y)+x):(m=-((o-n)/(r-h)),g=-((a-o)/(l-r)),y=(n+o)/2,f=(o+a)/2,x=(h+r)/2,u=(m*y-g*f+(v=(r+l)/2)-x)/(m-g),p=c>d?m*(u-y)+x:g*(u-f)+v),M=o-u,w=r-p,{i:t,j:i,k:s,x:u,y:p,r:M*M+w*w}}dedup(e){let t,i,s,n,h,o;for(i=e.length;i;)for(n=e[--i],s=e[--i],t=i;t;)if(o=e[--t],s===(h=e[--t])&&n===o||s===o&&n===h){e.splice(i,2),e.splice(t,2);break}}constructor(e,t=!1,i=!1){this.EPSILON=1/1048576,this.vs=e,this.autoDeleteion=i,this.selfIntersection=t,this.checkSecondInteraction=!0,this.Init(e)}}var tb=i(74087);let tC=(e,t,i,s,n)=>{let[h,o,r]=e;if(1===t&&1===i&&1===s&&1===n)return{vertices:[h,o,r],faces:[[0,1,2]]};1===n&&(n=1+1e-6);let a=t_(tV(tO(o,h),tO(r,h))),l=[[tD(h,o,Math.ceil(n)),tD(o,r,Math.ceil(n)),tD(r,h,Math.ceil(n))]];for(;l[l.length-1][0].length>3;)l.push(tI(l[l.length-1]));l[0][0]=tD(h,o,Math.ceil(t)),l[0][1]=tD(o,r,Math.ceil(i)),l[0][2]=tD(r,h,Math.ceil(s));let c=[],d=[];for(let[e,t,i]of l){let s=[],n=[],h=[];c.push(e[0]),s[0]=c.length-1,h[i.length-1]=c.length-1,c.push(t[0]),n[0]=c.length-1,s[e.length-1]=c.length-1,c.push(i[0]),h[0]=c.length-1,n[t.length-1]=c.length-1;for(let t=1;t<e.length-1;t++)c.push(e[t]),s[t]=c.length-1;for(let e=1;e<t.length-1;e++)c.push(t[e]),n[e]=c.length-1;for(let e=1;e<i.length-1;e++)c.push(i[e]),h[e]=c.length-1;d.push([s,n,h])}let u=[];for(let e=0;e<l.length-1;e++){let[t,i,s]=d[e],[n,h,o]=d[e+1];tR(t,n,c,a,u),tR(i,h,c,a,u),tR(s,o,c,a,u)}let[p,m,g]=d[l.length-1];if(2===p.length&&2===m.length&&2===g.length)u.push(tA(p[0],m[0],g[0],c,a));else{let e=tN(tL(tL(h,o),r),1/3);c.push(e);let t=c.length-1;for(let e=0;e<p.length-1;e++)u.push(tA(p[e],p[e+1],t,c,a));for(let e=0;e<m.length-1;e++)u.push(tA(m[e],m[e+1],t,c,a));for(let e=0;e<g.length-1;e++)u.push(tA(g[e],g[e+1],t,c,a))}return{vertices:c,faces:u}},tD=(e,t,i)=>{let s=tO(t,e),n=t_(s),h=tG(s)/i,o=[e];for(let t=0;t<i-1;t++)o.push(tL(e,tN(n,h*(t+1))));return o.push(t),o},tE=(e,t,i)=>{let s=tO(i,t),n=tW(s,tO(e,t))/tW(s,s);return tL(tN(s,n),t)},tI=e=>{let[t,i,s]=e,n=t[0],h=i[0],o=s[0],r=tO(h,n),a=tO(o,h),l=tO(n,o),c=t_(tV(r,a)),d=t_(tV(r,c)),u=t_(tV(a,c)),p=t_(tV(l,c)),m=t[1],g=s[s.length-2],y=i[1],f=t[t.length-2],x=s[1],v=i[i.length-2],M=tS(m,d,g,p),w=tS(y,u,f,d),P=tS(x,p,v,u),b=[M];for(let e=2;e<t.length-2;e++)b.push(tE(t[e],M,w));b.push(w);let C=[w];for(let e=2;e<i.length-2;e++)C.push(tE(i[e],w,P));C.push(P);let D=[P];for(let e=2;e<s.length-2;e++)D.push(tE(s[e],P,M));return D.push(M),[b,C,D]},tS=(e,t,i,s)=>{let n=tV(s,tO(i,e)),h=tG(n);if(0===h)return null;let o=tV(s,t),r=tG(o);if(0===r)return null;let a=tN(t,h/r);return tG(tV(n,o))>1e-6?tL(e,a):tO(e,a)},tR=(e,t,i,s,n)=>{let h=!0,o=0,r=0;for(;o<e.length-1||r<t.length-1;)h&&o<e.length-1?(n.push(tA(e[o],e[o+1],t[r],i,s)),o++):!h&&r<t.length-1&&(n.push(tA(t[r],t[r+1],e[o],i,s)),r++),h=!h},tA=(e,t,i,s,n)=>tT(s[e],s[t],s[i],n)?[e,t,i]:[e,i,t],tT=(e,t,i,s)=>tW(tV(tO(t,e),tO(i,e)),s)>0,tL=(e,t)=>[e[0]+t[0],e[1]+t[1],e[2]+t[2]],tO=(e,t)=>[e[0]-t[0],e[1]-t[1],e[2]-t[2]],tN=(e,t)=>[e[0]*t,e[1]*t,e[2]*t],tG=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]),t_=e=>{let t=tG(e);return[e[0]/t,e[1]/t,e[2]/t]},tW=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2],tV=(e,t)=>[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]},38275:function(e,t,i){i.r(t),i.d(t,{SUBAPPS:function(){return o},SceneCreativeCoding:function(){return ti}});var s,n,h,o,r=i(1758);class a{MouseEventController(e){if(e.CLICK_TYPE===r.uh.LEFT){this.MouseLeftClickPre(e);return}if(e.CLICK_TYPE===r.uh.MIDDLE){this.MouseMiddleClickPre(e);return}if(e.CLICK_TYPE===r.uh.DOWN_RIGHT){this.MouseRightClickPre(e);return}if(e.CLICK_TYPE===r.uh.DOUBLE){this.MouseDoubleClickPre(e);return}if(e.CLICK_TYPE===r.uh.MOVE){this.MouseMovePre(e);return}if(e.CLICK_TYPE===r.uh.DRAG){this.MouseDragPre(e);return}if(e.CLICK_TYPE===r.uh.DOWN){this.MouseDownPre(e);return}else if(e.CLICK_TYPE===r.uh.WHEEL){this.MouseWheelPre(e);return}else if(e.CLICK_TYPE===r.uh.UP){this.MouseUpPre(e);return}}MouseDown(e){}MouseDownPre(e){this.scene.MouseDown(e.x,e.y),this.MouseDown(e)}MouseLeftClick(e){}MouseLeftClickPre(e){this.scene.MouseLeftClick(e.x,e.y),this.MouseLeftClick(e)}MouseMiddleClick(e){}MouseMiddleClickPre(e){this.scene.MouseMiddleClick(e.x,e.y),this.MouseMiddleClick(e)}MouseRightClick(e){}MouseRightClickPre(e){this.scene.MouseRightClick(e.x,e.y),this.MouseRightClick(e)}MouseUp(e){}MouseUpPre(e){this.scene.MouseUp(e.x,e.y),this.MouseUp(e)}MouseDoubleClick(e){}MouseDoubleClickPre(e){this.scene.MouseDoubleClick(e.x,e.y),this.MouseDoubleClick(e)}MouseMove(e){}MouseMovePre(e){this.scene.MouseMove(e.x,e.y),this.MouseMove(e)}MouseDrag(e){}MouseDragPre(e){this.scene.MouseDrag(e.x,e.y),this.MouseDrag(e)}MouseWheel(e){}MouseWheelPre(e){this.scene.MouseWheel(e.x,e.y,e.wheel),this.MouseWheel(e)}constructor(e){this.scene=e}}class l{constructor(e){this.scene=e}}var c=i(79309);class d{InitIndeCanvas(){this.scene.implementation.app.needUI?this.indeCanvas=new c.D(this.scene.implementation.app.viewController.NUIWrapper.NUI.independentPanelWrapper,50,50,650,350,!0):this.indeCanvas=new c.D(this.scene.implementation.app.viewController.NUIWrapper.NUI.independentPanelWrapper,1,-25,650,450,!0),this.indeCanvas.title="Circle Grid with Attractors 2",this.indeCanvas.btnHam.isHidden=!0,this.indeCanvas.btnMini.isHidden=!0,this.indeCanvas.RenderIndependentCanvas=e=>this.RenderIndependentCanvas(e)}Dummy(){}get width(){return this.indeCanvas.canvas.width}get height(){return this.indeCanvas.canvas.height}init(e){}RenderIndependentCanvas(e){}MouseMove(e,t){}MouseMovePre(e,t){this.indeCanvas.IsMouseInsidePanel(e,t)&&this.MouseMove(e-this.indeCanvas.vec.x+this.mOffX,t-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseDown(e,t){}MouseDownPre(e,t){this.indeCanvas.IsMouseInsidePanel(e,t)&&this.MouseDown(e-this.indeCanvas.vec.x+this.mOffX,t-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseUp(e,t){}MouseUpPre(e,t){this.indeCanvas.IsMouseInsidePanel(e,t)&&this.MouseUp(e-this.indeCanvas.vec.x+this.mOffX,t-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseDrag(e,t){}MouseDragPre(e,t){this.indeCanvas.IsMouseInsidePanel(e,t)&&this.MouseDrag(e-this.indeCanvas.vec.x+this.mOffX,t-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseLeftClick(e,t){}MouseLeftClickPre(e,t){this.indeCanvas.IsMouseInsidePanel(e,t)&&this.MouseLeftClick(e-this.indeCanvas.vec.x+this.mOffX,t-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseMiddleClick(e,t){}MouseMiddleClickPre(e,t){this.indeCanvas.IsMouseInsidePanel(e,t)&&this.MouseMiddleClick(e-this.indeCanvas.vec.x+this.mOffX,t-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseRightClick(e,t){}MouseRightClickPre(e,t){this.indeCanvas.IsMouseInsidePanel(e,t)&&this.MouseRightClick(e-this.indeCanvas.vec.x+this.mOffX,t-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseDoubleClick(e,t){}MouseDoubleClickPre(e,t){this.indeCanvas.IsMouseInsidePanel(e,t)&&this.MouseDoubleClick(e-this.indeCanvas.vec.x+this.mOffX,t-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseWheel(e,t,i){}MouseWheelPre(e,t,i){this.indeCanvas.IsMouseInsidePanel(e,t)&&this.MouseWheel(e-this.indeCanvas.vec.x+this.mOffX,t-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY,i)}constructor(e){this.mOffX=-12,this.mOffY=-12,this.scene=e,this.scene.definitions.push(this),this.InitIndeCanvas()}}class u extends d{init(){}RenderIndependentCanvas(e){e.fillStyle="#eeeeee",e.beginPath(),e.rect(0,0,e.canvas.width,e.canvas.height),e.closePath(),e.fill(),this.xpos=this.xpos+this.xspeed*this.xdirection,this.ypos=this.ypos+this.yspeed*this.ydirection,(this.xpos>this.width-this.rad||this.xpos<this.rad)&&(this.xdirection*=-1),(this.ypos>this.height-this.rad||this.ypos<this.rad)&&(this.ydirection*=-1),e.fillStyle="#ff0000",e.beginPath(),e.arc(this.xpos,this.ypos,this.rad,0,6.28),e.closePath(),e.fill()}constructor(e){super(e),this.xpos=100,this.ypos=100,this.xspeed=10,this.yspeed=10,this.xdirection=1,this.ydirection=1,this.rad=50}}class p extends d{RenderIndependentCanvas(e){for(let t of(e.fillStyle="#eeeeee",e.beginPath(),e.rect(0,0,e.canvas.width,e.canvas.height),e.closePath(),e.fill(),this.Balls))t.Render(e)}MouseDown(e,t){this.Balls.push(new m(this,e,t))}constructor(e){super(e),this.Balls=[],this.Balls.push(new m(this,50,50)),this.Balls.push(new m(this,100,100))}}class m{static GetRandomHex(){return this.RGBToHex(Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random()))}static RGBToHex(e,t,i){return"#"+[Math.round(e),Math.round(t),Math.round(i)].map(e=>{let t=e.toString(16);return 1===t.length?"0"+t:t}).join("")}Render(e){this.xpos=this.xpos+this.xspeed*this.xdirection,this.ypos=this.ypos+this.yspeed*this.ydirection,(this.xpos>this.BallBounceClass.width-this.rad||this.xpos<this.rad)&&(this.xdirection*=-1),(this.ypos>this.BallBounceClass.height-this.rad||this.ypos<this.rad)&&(this.ydirection*=-1),e.fillStyle=this.color,e.beginPath(),e.arc(this.xpos,this.ypos,this.rad,0,6.28),e.closePath(),e.fill()}constructor(e,t,i){this.xpos=100,this.ypos=100,this.xspeed=10,this.yspeed=10,this.xdirection=1,this.ydirection=1,this.rad=50,this.BallBounceClass=e,this.xpos=t,this.ypos=i,this.xdirection=2*Math.random()-1,this.ydirection=2*Math.random()-1,this.rad=50*Math.random()+10,this.color=m.GetRandomHex()}}class g extends d{Init(){this.linspace=r.eu.Linspace(-5,5,100)}RenderIndependentCanvas(e){for(let e of(this.dataVis=[],this.pts=[],[[0,1+this.v],[0,2+this.v],[1,.5+this.v],[1,.75+this.v],[1,1+this.v],[1,2+this.v]])){let t=[];for(let i of this.linspace){let s=r.eu.GetGaussian(i,e[0],e[1]);t.push([i*this.scale,-(s*this.scale)])}this.dataVis.push(t)}let t=0;for(let i of this.dataVis){for(let s of i){let i=[50,50,50,1];i[0]=this.Distance(s[0]+300,s[1]+150,this.mouse[0],this.mouse[1]),e.fillStyle="rgba(".concat(i[0],",").concat(i[1],",").concat(i[2],",").concat(i[3],")"),e.beginPath(),e.arc(s[0]+300,s[1]+150*t,2,0,6.28),e.fill()}t++}e.fillStyle="rgba(0,0,0,1)",e.beginPath(),e.arc(this.mouse[0],this.mouse[1],2,0,6.28),e.fill()}Distance(e,t,i,s){return Math.sqrt((e-i)*(e-i)+(t-s)*(t-s))}MouseMove(e,t){this.mouse=[e,t]}MouseWheel(e){this.v+=.001*e}constructor(e){super(e),this.mouse=[0,0],this.scale=30,this.dataVis=[],this.v=1,this.Init()}}class y extends d{init(){this.mouse=[0,0]}RenderIndependentCanvas(e){this.pts=[];let t=this.width/40,i=this.height/40;for(let e=0;e<40;e+=1)for(let s=0;s<40;s+=1)this.pts.push([s*t,e*i]);let s=0;for(let t of this.pts){if(s%2==0){let i=[50,50,50,1],s=this.Distance(t[0],t[1],this.mouse[0],this.mouse[1]);i[0]=s,e.strokeStyle="rgba(".concat(i[0],",").concat(i[1],",").concat(i[2],",").concat(i[3],")"),e.beginPath(),e.arc(t[0],t[1],s/10,0,6.28),e.stroke()}s++}}Distance(e,t,i,s){return Math.sqrt((e-i)*(e-i)+(t-s)*(t-s))}MouseMove(e,t){this.mouse=[e,t]}constructor(e){super(e),this.mouse=[0,0],this.init()}}class f extends d{init(){this.mouse=[0,0]}RenderIndependentCanvas(e){this.pts=[];let t=this.width/60,i=this.height/40;for(let e=0;e<40;e+=1)for(let s=0;s<60;s+=1)this.pts.push([s*t,e*i]);let s=0;for(let t of this.pts){if(s%2==0){let i=[50,255,0,1],s=0;for(let e of this.attrs){let i=this.Attractor(t,e,this.strength,this.falloff);s<i&&(s=i)}i[2]+=3*s,e.strokeStyle="rgba(".concat(i[0],",").concat(i[1],",").concat(i[2],",").concat(i[3],")"),e.beginPath(),e.arc(t[0],t[1],10+s,0,6.28),e.stroke()}s++}}Attractor(e,t,i,s){let n=this.Sub(e,t),h=this.Length(n);return i*Math.exp(-s*h*h)}Sub(e,t){return[e[0]-t[0],e[1]-t[1]]}Unitize(e){let t=this.Length(e);return[e[0]/t,e[1]/t]}Length(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}MouseMove(e,t){this.attrs[this.attrs.length-1]=[e,t]}MouseDown(e,t){this.attrs.push([e,t])}MouseWheel(e,t,i){this.falloff+=1e-7*i}constructor(e){super(e),this.mouse=[0,0],this.attrs=[[0,0]],this.strength=50,this.falloff=5e-5,this.init()}}class x extends d{init(){this.mouse=[0,0]}RenderIndependentCanvas(e){this.pts=[];let t=this.width/50,i=this.height/20;for(let e=0;e<20;e+=1)for(let s=0;s<50;s+=1)this.pts.push([s*t,e*i]);let s=0;for(let t of this.pts){if(s%2==0){let i=[0,20,0,1],s=0;for(let e of this.attrs){let i=this.Attractor(t,e,this.strength,this.falloff);s<i&&(s=i)}i[2]+=3*s,e.strokeStyle="rgba(".concat(i[0],",").concat(i[1],",").concat(i[2],",").concat(i[3],")"),e.beginPath(),e.arc(t[0],t[1],10+s,0,6.28),e.stroke()}s++}}Attractor(e,t,i,s){let n=this.Sub(e,t),h=this.Length(n);return i*Math.exp(-s*h*h)}Sub(e,t){return[e[0]-t[0],e[1]-t[1]]}Unitize(e){let t=this.Length(e);return[e[0]/t,e[1]/t]}Length(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}MouseMove(e,t){this.attrs[this.attrs.length-1]=[e,t]}MouseDown(e,t){this.attrs.push([e,t])}MouseWheel(e,t,i){this.falloff+=1e-7*i}constructor(e){super(e),this.mouse=[0,0],this.attrs=[[0,0]],this.strength=50,this.falloff=5e-5,this.init()}}class v extends d{init(){this.lines.push(new M(10,10,50,50))}RenderIndependentCanvas(e){for(let t of(e.fillStyle="#eeeeee",e.beginPath(),e.rect(0,0,e.canvas.width,e.canvas.height),e.closePath(),e.fill(),this.lines))t.Render(e)}MouseMove(e,t){this.mouse=[e,t]}MouseDown(){let e=this.lines[this.lines.length-1].p1;this.lines.push(new M(e[0],e[1],this.mouse[0],this.mouse[1]))}constructor(e){super(e),this.mouse=[0,0],this.lines=[],this.indeCanvas.title="Line",this.init()}}class M{Render(e){e.strokeStyle="red",e.beginPath(),e.moveTo(this.p0[0],this.p0[1]),e.lineTo(this.p1[0],this.p1[1]),e.closePath(),e.stroke()}constructor(e,t,i,s){this.p0=[e,t],this.p1=[i,s]}}class w extends d{init(){this.lines.push(new P(10,10,50,50))}RenderIndependentCanvas(e){for(let t of(e.fillStyle="#eeeeee",e.beginPath(),e.rect(0,0,e.canvas.width,e.canvas.height),e.closePath(),e.fill(),this.lines))t.Render(e)}MouseMove(e,t){this.mouse=[e,t]}MouseDown(){this.lines.length>5&&this.lines.shift();let e=this.lines[this.lines.length-1].p1;this.lines.push(new P(e[0],e[1],this.mouse[0],this.mouse[1]))}constructor(e){super(e),this.mouse=[0,0],this.lines=[],this.indeCanvas.title="Line",this.init()}}class P{Render(e){e.strokeStyle="red",e.beginPath(),e.moveTo(this.p0[0],this.p0[1]),e.lineTo(this.p1[0],this.p1[1]),e.closePath(),e.stroke()}constructor(e,t,i,s){this.p0=[e,t],this.p1=[i,s]}}class b{static GetRandomPath(e,t,i,s){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,h=[];for(let o=0;o<n;++o){let n=r.$H.GetRandomIntInclusive(e,i),o=r.$H.GetRandomIntInclusive(t,s);h.push(new r.h9(n,o,0))}return h}constructor(){}}class C{AddAgent(e,t){let i=new D(new r.h9(e,t));i.InitTarget(this.targets),this.boids.push(i)}Update(){for(let e of(this.Col(),this.boids))e.Update()}Col(){for(let e of this.boids)e.col=!1;for(let e=0;e<this.boids.length;++e){let t=this.boids[e];if(!t.isRenderable)break;for(let i=e+1;i<this.boids.length;++i){let e=this.boids[i];if(30>t.p.Distance(e.p)){e.col=!0;break}}}}GetPoint(){let e=[];for(let t of this.boids)t.isRenderable&&e.push(t.p);return e}Render(e){this.boids.forEach(t=>{t.Render(e)})}constructor(e){this.boids=[],this.boids=[],this.targets=e}}class D{InitTarget(e){this.targets=e,this.target=this.targets[this.targetID]}Update(){this.UpdateTarget(),this.UpdateVecSlowDown2()}UpdateTarget(){9>this.p.Distance(this.target)&&(this.targetID++,this.targetID<this.targets.length&&(this.target=this.targets[this.targetID],this.targetID,this.targets.length))}UpdateVec0(){this.desiredVelocity=new r.h9(this.target.x-this.p.x,this.target.y-this.p.y,this.target.z-this.p.z),this.desiredVelocity.Unitize(),this.desiredVelocity.x*=this.maxVelocity,this.desiredVelocity.y*=this.maxVelocity,this.desiredVelocity.z*=this.maxVelocity;let e=this.desiredVelocity.x-this.velocity.x<this.maxForce?this.desiredVelocity.x-this.velocity.x:this.maxForce,t=this.desiredVelocity.y-this.velocity.y<this.maxForce?this.desiredVelocity.y-this.velocity.y:this.maxForce,i=this.desiredVelocity.z-this.velocity.z<this.maxForce?this.desiredVelocity.z-this.velocity.z:this.maxForce;this.steering=new r.h9(e/this.mass,t/this.mass,i/this.mass),this.velocity.x=this.velocity.x+this.steering.x<this.maxSpeed?this.velocity.x+this.steering.x:this.maxSpeed,this.velocity.y=this.velocity.y+this.steering.y<this.maxSpeed?this.velocity.y+this.steering.y:this.maxSpeed,this.velocity.z=this.velocity.z+this.steering.z<this.maxSpeed?this.velocity.z+this.steering.z:this.maxSpeed,this.col?(this.p.x+=-(.8*this.steering.x),this.p.y+=-(.8*this.steering.y),this.p.z+=-(.8*this.steering.z)):(this.p.x+=this.velocity.x,this.p.y+=this.velocity.y,this.p.z+=this.velocity.z)}UpdateVec1(){this.desiredVelocity=new r.h9(this.target.x-this.p.x,this.target.y-this.p.y,this.target.z-this.p.z),this.desiredVelocity.Unitize(),this.desiredVelocity.x*=this.maxVelocity,this.desiredVelocity.y*=this.maxVelocity,this.desiredVelocity.z*=this.maxVelocity;let e=this.desiredVelocity.x-this.velocity.x,t=this.desiredVelocity.y-this.velocity.y,i=this.desiredVelocity.z-this.velocity.z;this.steering=new r.h9(e/this.mass,t/this.mass,i/this.mass),this.velocity.x=this.velocity.x+this.steering.x<this.maxSpeed?this.velocity.x+this.steering.x:this.maxSpeed,this.velocity.y=this.velocity.y+this.steering.y<this.maxSpeed?this.velocity.y+this.steering.y:this.maxSpeed,this.velocity.z=this.velocity.z+this.steering.z<this.maxSpeed?this.velocity.z+this.steering.z:this.maxSpeed,this.col?(this.p.x+=-(.8*this.steering.x),this.p.y+=-(.8*this.steering.y),this.p.z+=-(.8*this.steering.z)):(this.p.x+=this.velocity.x,this.p.y+=this.velocity.y,this.p.z+=this.velocity.z)}UpdateVecSlowDown1(){this.desiredVelocity=new r.h9(this.target.x-this.p.x,this.target.y-this.p.y,this.target.z-this.p.z),this.desiredVelocity.Unitize(),this.desiredVelocity.x*=this.maxVelocity,this.desiredVelocity.y*=this.maxVelocity,this.desiredVelocity.z*=this.maxVelocity;let e=this.desiredVelocity.x-this.velocity.x,t=this.desiredVelocity.y-this.velocity.y,i=this.desiredVelocity.z-this.velocity.z;if(this.steering=new r.h9(e/this.mass,t/this.mass,i/this.mass),this.velocity.x=this.velocity.x+this.steering.x<this.maxSpeed?this.velocity.x+this.steering.x:this.maxSpeed,this.velocity.y=this.velocity.y+this.steering.y<this.maxSpeed?this.velocity.y+this.steering.y:this.maxSpeed,this.velocity.z=this.velocity.z+this.steering.z<this.maxSpeed?this.velocity.z+this.steering.z:this.maxSpeed,this.col)this.p.x+=-(.8*this.steering.x),this.p.y+=-(.8*this.steering.y),this.p.z+=-(.8*this.steering.z);else{let e=this.maxSpeed/this.velocity.Length();e=e<1?e:1,this.p.x+=this.velocity.x*e,this.p.y+=this.velocity.y*e,this.p.z+=this.velocity.z*e}}UpdateVecSlowDown2(){this.desiredVelocity=new r.h9(this.target.x-this.p.x,this.target.y-this.p.y,this.target.z-this.p.z);let e=this.desiredVelocity.Length();e<150?(this.desiredVelocity.Unitize(),this.desiredVelocity.x*=this.maxVelocity*(e/150),this.desiredVelocity.y*=this.maxVelocity*(e/150),this.desiredVelocity.z*=this.maxVelocity*(e/150)):(this.desiredVelocity.Unitize(),this.desiredVelocity.x*=this.maxVelocity,this.desiredVelocity.y*=this.maxVelocity,this.desiredVelocity.z*=this.maxVelocity);let t=this.desiredVelocity.x-this.velocity.x,i=this.desiredVelocity.y-this.velocity.y,s=this.desiredVelocity.z-this.velocity.z;if(this.steering=new r.h9(t,i,s),this.velocity.x=this.velocity.x+this.steering.x<this.maxSpeed?this.velocity.x+this.steering.x:this.maxSpeed,this.velocity.y=this.velocity.y+this.steering.y<this.maxSpeed?this.velocity.y+this.steering.y:this.maxSpeed,this.velocity.z=this.velocity.z+this.steering.z<this.maxSpeed?this.velocity.z+this.steering.z:this.maxSpeed,this.col)this.p.x+=-(.8*this.steering.x),this.p.y+=-(.8*this.steering.y),this.p.z+=-(.8*this.steering.z);else{let e=this.maxSpeed/this.velocity.Length();e=e<1?e:1,this.p.x+=this.velocity.x*e,this.p.y+=this.velocity.y*e,this.p.z+=this.velocity.z*e}}Render(e){this.RenderDesiredVelocity(e),this.RenderCurrentVelocity(e),this.RenderCircle(e)}RenderDesiredVelocity(e){e.lineWidth=.5,e.strokeStyle="#00ff00",e.beginPath(),e.moveTo(this.p.x,this.p.y),e.lineTo(this.p.x+20*this.desiredVelocity.x,this.p.y+20*this.desiredVelocity.y),e.closePath(),e.stroke()}RenderCurrentVelocity(e){e.lineWidth=.5,e.strokeStyle="#ff0000",e.beginPath(),e.moveTo(this.p.x,this.p.y),e.lineTo(this.p.x+20*this.velocity.x,this.p.y+20*this.velocity.y),e.closePath(),e.stroke()}RenderCircle(e){e.strokeStyle="#000000",e.lineWidth=.5,e.beginPath(),e.moveTo(this.targets[0].x,this.targets[0].y);for(let t=1;t<this.targets.length;++t)e.lineTo(this.targets[t].x,this.targets[t].y);e.closePath(),e.stroke(),e.beginPath(),e.arc(this.p.x,this.p.y,10,0,6.28),e.closePath(),e.stroke()}constructor(e){this.maxForce=5,this.maxVelocity=5,this.maxSpeed=5,this.mass=10.2,this.isRenderable=!0,this.targetID=0,this.col=!1,this.velocity=new r.h9(0,0,0),this.p=e,this.target=new r.h9(e.x,e.y,e.z)}}D.list=[];class E extends d{init(){let e=b.GetRandomPath(0,0,this.width,this.height);this.BoidContoller1=new C(e)}RenderIndependentCanvas(e){e.fillStyle="#eeeeee",e.beginPath(),e.rect(0,0,e.canvas.width,e.canvas.height),e.closePath(),e.fill(),this.BoidContoller1.Update(),this.BoidContoller1.Render(e),this.Circle(e)}MouseMove(e,t){this.mouse=[e,t]}MouseDown(){this.BoidContoller1.AddAgent(this.mouse[0],this.mouse[1])}Circle(e){for(let t=0;t<6.28;t+=.5)for(let i=0;i<3.14;i+=.5){let s=50*Math.cos(t)*Math.sin(i),n=50*Math.sin(t)*Math.sin(i);e.beginPath(),e.arc(s,n,2,0,6.28),e.closePath(),e.fill()}}constructor(e){super(e),this.mouse=[0,0],this.indeCanvas.title="BoidSystem01",this.init()}}class I extends d{init(){this.lines.push(new S(10,10,50,50))}RenderIndependentCanvas(e){for(let t of(e.fillStyle="#eeeeee",e.beginPath(),e.rect(0,0,e.canvas.width,e.canvas.height),e.closePath(),e.fill(),this.lines))t.Render(e)}MouseMove(e,t){this.mouse=[e,t]}MouseDown(){this.lines.length>5&&this.lines.shift();let e=this.lines[this.lines.length-1].p1;this.lines.push(new S(e[0],e[1],this.mouse[0],this.mouse[1]))}constructor(e){super(e),this.mouse=[0,0],this.lines=[],this.indeCanvas.title="BoidSystem03",this.init()}}class S{Render(e){e.strokeStyle="red",e.beginPath(),e.moveTo(this.p0[0],this.p0[1]),e.lineTo(this.p1[0],this.p1[1]),e.closePath(),e.stroke()}constructor(e,t,i,s){this.p0=[e,t],this.p1=[i,s]}}class R extends d{init(){this.lines.push(new A(10,10,50,50))}RenderIndependentCanvas(e){for(let t of(e.fillStyle="#eeeeee",e.beginPath(),e.rect(0,0,e.canvas.width,e.canvas.height),e.closePath(),e.fill(),this.lines))t.Render(e)}MouseMove(e,t){this.mouse=[e,t]}MouseDown(){this.lines.length>5&&this.lines.shift();let e=this.lines[this.lines.length-1].p1;this.lines.push(new A(e[0],e[1],this.mouse[0],this.mouse[1]))}constructor(e){super(e),this.mouse=[0,0],this.lines=[],this.indeCanvas.title="BoidSystem04",this.init()}}class A{Render(e){e.strokeStyle="red",e.beginPath(),e.moveTo(this.p0[0],this.p0[1]),e.lineTo(this.p1[0],this.p1[1]),e.closePath(),e.stroke()}constructor(e,t,i,s){this.p0=[e,t],this.p1=[i,s]}}class T{AddAgent(e,t,i,s){let n=new L(new r.h9(e,t),new r.h9(0,0),new r.h9(i,s));this.boids.push(n)}Update(){for(let e of this.boids)e.Update()}GetPoint(){let e=[];for(let t of this.boids)t.isRenderable&&e.push(t.p);return e}Render(e){this.boids.forEach(t=>{t.Render(e)})}constructor(){this.boids=[],this.boids=[]}}class L{Update(){this.UpdateVec1()}UpdateTarget(){let e=r.$H.GetRandomInt(this.p0.x,this.p1.x),t=r.$H.GetRandomInt(this.p0.y,this.p1.y);this.target=new r.h9(e,t)}UpdateVec1(){this.desiredVelocity=new r.h9(this.target.x-this.p.x,this.target.y-this.p.y,this.target.z-this.p.z),this.desiredVelocity.Unitize(),this.desiredVelocity.x*=this.maxVelocity,this.desiredVelocity.y*=this.maxVelocity,this.desiredVelocity.z*=this.maxVelocity;let e=this.desiredVelocity.x-this.velocity.x<this.maxForce?this.desiredVelocity.x-this.velocity.x:this.maxForce,t=this.desiredVelocity.y-this.velocity.y<this.maxForce?this.desiredVelocity.y-this.velocity.y:this.maxForce,i=this.desiredVelocity.z-this.velocity.z<this.maxForce?this.desiredVelocity.z-this.velocity.z:this.maxForce;this.steering=new r.h9(e/this.mass,t/this.mass,i/this.mass),this.velocity.x=this.velocity.x+this.steering.x<this.maxSpeed?this.velocity.x+this.steering.x:this.maxSpeed,this.velocity.y=this.velocity.y+this.steering.y<this.maxSpeed?this.velocity.y+this.steering.y:this.maxSpeed,this.velocity.z=this.velocity.z+this.steering.z<this.maxSpeed?this.velocity.z+this.steering.z:this.maxSpeed,this.Queue(),this.p.x+=this.velocity.x,this.p.y+=this.velocity.y,this.p.z+=this.velocity.z,this.t+=.01,this.t>3&&(this.t=0,this.UpdateTarget())}UpdateVec0(){this.steering=this.Wander(new r.h9(this.velocity.x,this.velocity.y,this.velocity.z)),this.steering.x=this.steering.x<this.maxForce?this.steering.x:this.maxForce,this.steering.y=this.steering.y<this.maxForce?this.steering.y:this.maxForce,this.steering.z=this.steering.z<this.maxForce?this.steering.z:this.maxForce,this.steering.x/=this.mass,this.steering.y/=this.mass,this.steering.z/=this.mass,this.velocity.x+this.steering.x<this.maxSpeed?this.velocity.x=this.velocity.x+this.steering.x:this.velocity.x=this.maxSpeed,this.velocity.y+this.steering.y<this.maxSpeed?this.velocity.y=this.velocity.y+this.steering.y:this.velocity.y=this.maxSpeed,this.velocity.z+this.steering.z<this.maxSpeed?this.velocity.z=this.velocity.z+this.steering.z:this.velocity.z=this.maxSpeed,this.Queue(),console.log(this.maxSpeed),this.p.x+=this.velocity.x,this.p.y+=this.velocity.y,this.p.z+=this.velocity.z}Wander(e){let t=new r.h9(e.x,e.y,e.z);t.Normalize(),t.Scale(this.CIRCLE_DISTANCE);let i=new r.h9(0,-1);return i.Scale(this.CIRCLE_RADIUS),i=this.SetAngle(i,this.wanderAngle),this.wanderAngle+=Math.random()*this.ANGLE_CHANGE-.5*this.ANGLE_CHANGE,t.Add(i)}SetAngle(e,t){let i=e.Length();return e.x=Math.cos(t)*i,e.y=Math.sin(t)*i,e}GetNeighborAhead(){var e=void 0,t=this.velocity.Clone();t.Normalize(),t.Scale(this.MAX_QUEUE_AHEAD);let i=this.p.Clone().Add(t);for(let t=0;t<L.list.length;t++){let s=L.list[t],n=r.h9.Distance(i,s.p);if(s!==this&&n<=this.MAX_QUEUE_RADIUS){e=s;break}}return e}Queue(){return void 0!==this.GetNeighborAhead()&&this.velocity.Scale(.3),new r.h9(0,0)}Render(e){this.RenderCircle(e)}RenderDesiredVelocity(e){}RenderCurrentVelocity(e){}RenderCircle(e){this.timerTrajectory+=1,this.timerTrajectory%5==0&&(this.trajectory.length>30&&this.trajectory.shift(),this.trajectory.push(new r.h9(this.p.x,this.p.y)),this.timerTrajectory=0);for(let t=0;t<this.trajectory.length;++t)e.fillStyle="rgba(100, 100, 100 ,0.1)",e.beginPath(),e.arc(this.trajectory[t].x,this.trajectory[t].y,.2*t,0,6.28),e.closePath(),e.fill();e.strokeStyle="#000000",e.lineWidth=.5,e.fillStyle="#000000",e.beginPath(),e.arc(this.p.x,this.p.y,2.5,0,6.28),e.closePath(),e.fill(),e.beginPath(),e.arc(this.p.x,this.p.y,10,0,6.28),e.closePath(),e.stroke()}constructor(e,t,i){this.maxForce=2,this.maxVelocity=2,this.maxSpeed=.9,this.mass=100.2,this.isRenderable=!0,this.targetID=0,this.col=!1,this.velocity=new r.h9(0,0,0),this.wanderAngle=0,this.CIRCLE_DISTANCE=50,this.CIRCLE_RADIUS=50,this.ANGLE_CHANGE=15,this.t=0,this.MAX_QUEUE_AHEAD=15,this.MAX_QUEUE_RADIUS=10,this.trajectory=[],this.timerTrajectory=0,L.list.push(this),this.p=e,this.p0=t,this.p1=i,this.UpdateTarget()}}L.list=[];class O extends d{init(){this.BoidContoller=new T}RenderIndependentCanvas(e){e.fillStyle="#eeeeee",e.beginPath(),e.rect(0,0,e.canvas.width,e.canvas.height),e.closePath(),e.fill(),this.BoidContoller.Update(),this.BoidContoller.Render(e)}MouseMove(e,t){this.mouse=[e,t]}MouseDown(){this.BoidContoller.AddAgent(this.mouse[0],this.mouse[1],this.width,this.height)}MouseDrag(e,t){this.dragTime>5&&(this.BoidContoller.AddAgent(e,t,this.width,this.height),this.dragTime=0),this.dragTime++}constructor(e){super(e),this.mouse=[0,0],this.dragTime=0,this.indeCanvas.title="BoidSystem01",this.init()}}class N{AddAgent(e,t,i,s){let n=new G(new r.h9(e,t),new r.h9(0,0),new r.h9(i,s));this.boids.push(n)}Update(){for(let e of this.boids)e.Update()}UpdateTarget(e,t){for(let i of this.boids)i.target.x=e,i.target.y=t}GetPoint(){let e=[];for(let t of this.boids)t.isRenderable&&e.push(t.p);return e}Render(e){this.boids.forEach(t=>{t.Render(e)})}constructor(){this.boids=[],this.boids=[]}}class G{Update(){this.UpdateVec1()}UpdateTarget(){let e=r.$H.GetRandomInt(this.p0.x,this.p1.x),t=r.$H.GetRandomInt(this.p0.y,this.p1.y);this.target=new r.h9(e,t)}UpdateVec1(){this.desiredVelocity=new r.h9(this.target.x-this.p.x,this.target.y-this.p.y,this.target.z-this.p.z),this.desiredVelocity.Unitize(),this.desiredVelocity.x*=this.maxVelocity,this.desiredVelocity.y*=this.maxVelocity,this.desiredVelocity.z*=this.maxVelocity;let e=this.desiredVelocity.x-this.velocity.x<this.maxForce?this.desiredVelocity.x-this.velocity.x:this.maxForce,t=this.desiredVelocity.y-this.velocity.y<this.maxForce?this.desiredVelocity.y-this.velocity.y:this.maxForce,i=this.desiredVelocity.z-this.velocity.z<this.maxForce?this.desiredVelocity.z-this.velocity.z:this.maxForce;this.steering=new r.h9(e/this.mass,t/this.mass,i/this.mass),this.velocity.x=this.velocity.x+this.steering.x<this.maxSpeed?this.velocity.x+this.steering.x:this.maxSpeed,this.velocity.y=this.velocity.y+this.steering.y<this.maxSpeed?this.velocity.y+this.steering.y:this.maxSpeed,this.velocity.z=this.velocity.z+this.steering.z<this.maxSpeed?this.velocity.z+this.steering.z:this.maxSpeed,this.Queue(),this.p.x+=this.velocity.x,this.p.y+=this.velocity.y,this.p.z+=this.velocity.z,this.t+=.01,this.t>3&&(this.t=0)}Queue(){var e=this.GetNeighborAhead();return void 0!==e&&this.BrakingForceOverlap(e),new r.h9(0,0)}BrakingForceOverlap(e){let t=new r.h9(0,0);if(t.x=-(.8*this.steering.x),t.y=-(.8*this.steering.y),this.velocity.Scale(-1),t=t.Add(this.velocity),r.h9.Distance(this.p,e.p)<=this.MAX_QUEUE_RADIUS){this.velocity.Scale(.3);return}this.velocity=t}HardStop(){this.velocity.Scale(.3)}BrakingForce(){let e=new r.h9(0,0);e.x=-(.8*this.steering.x),e.y=-(.8*this.steering.y),this.velocity.Scale(-1),e=e.Add(this.velocity),this.velocity=e}GetNeighborAhead(){var e=void 0,t=this.velocity.Clone();t.Normalize(),t.Scale(this.MAX_QUEUE_AHEAD);let i=this.p.Clone().Add(t);for(let t=0;t<G.list.length;t++){let s=G.list[t],n=r.h9.Distance(i,s.p);if(s!==this&&n<=this.MAX_QUEUE_RADIUS){e=s;break}}return e}Separation(){let e=new r.h9(0,0),t=0;for(let i=0;i<G.list.length;i++){let s=G.list[i];s!==this&&r.h9.Distance(s.p,this.p)<=this.SEPARATION_RADIUS&&(e.x+=s.p.x-this.p.x,e.y+=s.p.y-this.p.y,e.z+=s.p.z-this.p.z,t++)}return 0!==t&&(e.x/=t,e.y/=t,e.z/=t,e.Scale(-1)),e.Normalize(),e.Scale(this.MAX_SEPARATION),e}Render(e){this.RenderCircle(e)}RenderDesiredVelocity(e){}RenderCurrentVelocity(e){}RenderCircle(e){e.strokeStyle="#000000",e.lineWidth=.5,e.beginPath(),e.arc(this.p.x,this.p.y,10,0,6.28),e.closePath(),e.stroke()}constructor(e,t,i){this.maxForce=2,this.maxVelocity=2,this.maxSpeed=.9,this.mass=100.2,this.isRenderable=!0,this.targetID=0,this.col=!1,this.velocity=new r.h9(0,0,0),this.wanderAngle=0,this.CIRCLE_DISTANCE=50,this.CIRCLE_RADIUS=50,this.ANGLE_CHANGE=15,this.t=0,this.MAX_QUEUE_AHEAD=15,this.MAX_QUEUE_RADIUS=15,this.SEPARATION_RADIUS=10,this.MAX_SEPARATION=.5,G.list.push(this),this.p=e,this.p0=t,this.p1=i,this.UpdateTarget()}}G.list=[];class _ extends d{init(){this.BoidContoller=new N}RenderIndependentCanvas(e){e.fillStyle="#eeeeee",e.beginPath(),e.rect(0,0,e.canvas.width,e.canvas.height),e.closePath(),e.fill(),this.BoidContoller.Update(),this.BoidContoller.Render(e)}MouseMove(e,t){this.mouse=[e,t],this.BoidContoller.UpdateTarget(e,t)}MouseDown(){this.BoidContoller.AddAgent(this.mouse[0],this.mouse[1],this.width,this.height)}constructor(e){super(e),this.mouse=[0,0],this.indeCanvas.title="BoidSystem01",this.init()}}class W{Update(e,t,i,s){this.velocity.Add(this.gravity),this.velocity.Mult(s),this.force.Mult(i/this.m),this.velocity.Add(this.force),this.v.x+=this.velocity.x*i,this.v.y+=this.velocity.y*i,this.v.z+=this.velocity.z*i,this.UpdateEdge(e,t)}UpdateEdge(e,t){(this.v.x>e||this.v.x<0)&&(this.velocity.x=-1*this.velocity.x),this.v.y>t&&(this.velocity.y=-.95*this.velocity.y,this.v.y=t)}Render(e){e.beginPath(),e.arc(this.v.x,this.v.y,this.r,0,2*Math.PI),e.closePath(),e.fill()}constructor(e,t,i,s=1){this.velocity=new r.h9(0,0,0),this.force=new r.h9(0,.01,0),this.gravity=new r.h9(0,.95,0),this.v=new r.h9(0,0,0),this.r=10,this.m=.1,this.v=new r.h9(e,t,0),this.m=s}}var V=i(25785);class z{Render(e){this.angle=this.body.angle,this.position=this.body.position,this.DrawRectByCen(e,this.position.x,this.position.y,this.width,this.height,this.angle)}DrawRectByCen(e,t,i,s,n,h){e.save(),e.translate(this.position.x,this.position.y),e.rotate(h),e.beginPath(),e.rect(-(.5*s),-(.5*n),this.width,this.height),e.fill(),e.restore()}constructor(e,t,i,s,n,h=!1){this.scene=e,this.width=s,this.height=n,this.body=V.Bodies.rectangle(t,i,s,n,{isStatic:h,restitution:.5,friction:.5}),V.World.add(this.scene.world,this.body)}}class B{InitMatter(){this.engine=V.Engine.create(),this.world=this.engine.world,V.Engine.run(this.engine),this.MBoxes.push(new z(this,0,400,500,50,!0)),this.MBoxes.push(new z(this,100,100,50,50)),setInterval(()=>{this.MouseDown(100+(Math.random()-.5)*10,0)},1e3)}Update(){this.dNode.Update(this.Dynamic01.width,this.Dynamic01.height,this.t,.9),this.t+=.1}MouseDown(e,t){this.MBoxes.push(new z(this,e,t,100*Math.random(),100*Math.random()))}MouseDrag(e,t){this.MBoxes.push(new z(this,e,t,100*Math.random(),100*Math.random()))}Render(e){this.dNode.Render(e);for(let t=0;t<this.MBoxes.length;++t)this.MBoxes[t].Render(e)}constructor(e){this.t=0,this.MBoxes=[],this.Dynamic01=e,this.dNode=new W(100,100,0),this.InitMatter()}}class k extends d{init(){this.DynamicSystem=new B(this)}RenderIndependentCanvas(e){this.DynamicSystem.Update(),this.DynamicSystem.Render(e)}MouseMove(e,t){this.mouse=[e,t]}MouseDrag(e,t){this.DynamicSystem.MouseDrag(e,t)}MouseDown(e,t){this.DynamicSystem.MouseDown(e,t)}constructor(e){super(e),this.mouse=[0,0],this.indeCanvas.title="Dynamic01",console.log("init Dynamic01 ,"),this.init()}}class H extends d{init(){this.DynamicSystem=new B(this)}RenderIndependentCanvas(e){this.DynamicSystem.Update(),this.DynamicSystem.Render(e)}MouseMove(e,t){this.mouse=[e,t]}MouseDown(){}constructor(e){super(e),this.mouse=[0,0],this.indeCanvas.title="Dynamic02",console.log("init Dynamic02"),this.init()}}class F extends d{init(){this.DynamicSystem=new B(this)}RenderIndependentCanvas(e){this.DynamicSystem.Update(),this.DynamicSystem.Render(e)}MouseMove(e,t){this.mouse=[e,t]}MouseDown(){}constructor(e){super(e),this.mouse=[0,0],this.indeCanvas.title="Dynamic03",this.init()}}class U{Render(e){}constructor(e){this.scene=e}}class Y extends U{Render(e){this.angle=this.body.angle,this.position=this.body.position,this.DrawRectByCen(e,this.position.x,this.position.y,this.width,this.height,this.angle)}DrawRectByCen(e,t,i,s,n,h){e.save(),e.translate(this.position.x,this.position.y),e.rotate(h),e.beginPath(),e.rect(-(.5*s),-(.5*n),this.width,this.height),e.fill(),e.restore()}constructor(e,t,i,s,n,h=!1){super(e),this.width=s,this.height=n,this.body=V.Bodies.rectangle(t,i,s,n,{isStatic:h,restitution:.5,friction:.5}),V.World.add(this.scene.world,this.body)}}class X extends U{Render(e){this.angle=this.body.angle,this.position=this.body.position,this.DrawCircle(e,this.position.x,this.position.y,this.radius,this.angle)}DrawCircle(e,t,i,s,n){e.save(),e.translate(t,i),e.rotate(n),e.beginPath(),e.arc(0,0,this.radius,0,2*Math.PI),e.fill(),e.restore()}constructor(e,t,i,s,n=!1){super(e),this.radius=s,this.body=V.Bodies.circle(t,i,this.radius,{isStatic:n,restitution:.5,friction:.5}),V.World.add(this.scene.world,this.body)}}class j{InitMatter(){this.engine=V.Engine.create(),this.world=this.engine.world,V.Engine.run(this.engine),this.MBoxes.push(new Y(this,0,400,500,50,!0)),this.MBoxes.push(new Y(this,100,100,50,50)),setInterval(()=>{this.MouseDown(100+(Math.random()-.5)*10,0)},1e3)}Update(){}MouseDown(e,t){this.MBoxes.push(new X(this,e,t,100*Math.random()))}MouseDrag(e,t){this.MBoxes.push(new Y(this,e,t,100*Math.random(),100*Math.random()))}Render(e){for(let t=0;t<this.MBoxes.length;++t)this.MBoxes[t].Render(e)}constructor(e){this.t=0,this.MBoxes=[],this.MatterSandbox=e,this.InitMatter()}}class K{constructor(e){this.MatterSandbox=e}}class q extends d{init(){this.sceneMatter=new j(this)}RenderIndependentCanvas(e){this.sceneMatter.Update(),this.sceneMatter.Render(e)}MouseMove(e,t){this.mouse=[e,t]}MouseDrag(e,t){this.sceneMatter.MouseDrag(e,t)}MouseDown(e,t){this.sceneMatter.MouseDown(e,t)}constructor(e){super(e),this.mouse=[0,0],this.indeCanvas.title="MatterSandbox",console.log("init MatterSandbox"),this.core=new K(this),this.init()}}class J extends d{init(){this.p=new Q(100,100,10),console.log("oop init")}RenderIndependentCanvas(e){console.log("oop loop"),this.p.Render(e),console.log(this.p.age)}MouseMove(e,t){this.mouse=[e,t]}MouseDown(){}constructor(e){super(e),this.mouse=[0,0],this.indeCanvas.title="OOP",this.init()}}class Q{Render(e){e.beginPath(),e.arc(this.age,this.height,this.weight,0,6.28),e.closePath(),e.fill(),this.age+=.01,this.age>102&&this.Compute()}Compute(){this.height+=.1}constructor(e,t,i){this.age=e,this.height=t,this.weight=i}}class Z{dot2(e,t){return this.x*e+this.y*t}dot3(e,t,i){return this.x*e+this.y*t+this.z*i}constructor(e,t,i){this.x=e,this.y=t,this.z=i}}let $=[new Z(1,1,0),new Z(-1,1,0),new Z(1,-1,0),new Z(-1,-1,0),new Z(1,0,1),new Z(-1,0,1),new Z(1,0,-1),new Z(-1,0,-1),new Z(0,1,1),new Z(0,-1,1),new Z(0,1,-1),new Z(0,-1,-1)],ee=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],et=Array(512),ei=Array(512),es=1/3,en=1/6;(e=>{e>0&&e<1&&(e*=65536),(e=Math.floor(e))<256&&(e|=e<<8);for(let t=0;t<256;t++){let i;i=1&t?ee[t]^255&e:ee[t]^e>>8&255,et[t]=et[t+256]=i,ei[t]=ei[t+256]=$[i%12]}})(0);let eh=(e,t,i)=>{let s,n,h,o,r,a,l,c,d,u;let p=(e+t+i)*es,m=Math.floor(e+p),g=Math.floor(t+p),y=Math.floor(i+p),f=(m+g+y)*en,x=e-m+f,v=t-g+f,M=i-y+f;x>=v?v>=M?(r=1,a=0,l=0,c=1,d=1,u=0):(x>=M?(r=1,a=0,l=0):(r=0,a=0,l=1),c=1,d=0,u=1):v<M?(r=0,a=0,l=1,c=0,d=1,u=1):x<M?(r=0,a=1,l=0,c=0,d=1,u=1):(r=0,a=1,l=0,c=1,d=1,u=0);let w=x-r+en,P=v-a+en,b=M-l+en,C=x-c+2*en,D=v-d+2*en,E=M-u+2*en,I=x-1+3*en,S=v-1+3*en,R=M-1+3*en,A=ei[(m&=255)+et[(g&=255)+et[y&=255]]],T=ei[m+r+et[g+a+et[y+l]]],L=ei[m+c+et[g+d+et[y+u]]],O=ei[m+1+et[g+1+et[y+1]]],N=.6-x*x-v*v-M*M;N<0?s=0:(N*=N,s=N*N*A.dot3(x,v,M));let G=.6-w*w-P*P-b*b;G<0?n=0:(G*=G,n=G*G*T.dot3(w,P,b));let _=.6-C*C-D*D-E*E;_<0?h=0:(_*=_,h=_*_*L.dot3(C,D,E));let W=.6-I*I-S*S-R*R;return W<0?o=0:(W*=W,o=W*W*O.dot3(I,S,R)),32*(s+n+h+o)};class eo extends d{initUI(){let e=document.createElement("div");e.style.position="absolute",e.style.left="450px",e.style.height="50px",this.indeCanvas.bodyDiv.divHost.appendChild(e);let t=document.createElement("button");t.textContent="Reset",t.style.width="60px",t.style.height="20px",t.onclick=()=>{this.init()},e.appendChild(t);let i=document.createElement("div");i.innerHTML="time",i.style.height="50px",i.style.width="100px",e.appendChild(i);let s=document.createElement("input");s.type="range",s.min="0.001",s.max="10.0",s.step="0.0001",s.oninput=()=>{let e=+s.value;this.interval=e},i.appendChild(s);let n=document.createElement("div");n.innerHTML="Res",n.style.height="50px",n.style.width="100px",e.appendChild(n);let h=document.createElement("input");h.type="range",h.min="1",h.max="10",h.step="1",h.oninput=()=>{this.res=+h.value},n.appendChild(h);let o=document.createElement("div");o.innerHTML="Scale",o.style.height="50px",o.style.width="100px",e.appendChild(o);let r=document.createElement("input");r.type="range",r.min="1",r.max="200",r.value="100",r.step="1",r.oninput=()=>{this.scale=+r.value},o.appendChild(r)}init(){}RenderIndependentCanvas(e){for(let t=0;t<e.canvas.height;t+=this.res)for(let i=0;i<e.canvas.width;i+=this.res){let s="hsl("+(180-Math.round(10*Math.abs(eh(i/this.scale,t/this.scale,.01*this.t)))/10*180)+",50%,50%)";e.beginPath(),e.rect(i,t,this.res,this.res),e.closePath(),e.fillStyle=s,e.fill()}this.t+=this.interval}MouseLeftClick(e,t){}MouseDrag(e,t){}rotation(e){}MouseMove(e,t){}constructor(e){super(e),this.t=0,this.interval=1,this.res=5,this.scale=100,this.vecs=[],this.emmiters=[],this.xx=1,this.yy=1,this.init(),this.initUI(),this.indeCanvas.canvas.width=300,this.indeCanvas.canvas.height=300}}var er=i(38995);(s=h||(h={})).Cp="cp",s.L1="l1",s.L2="l2",s.R1="r1",s.R2="r2";class ea{initEvent(){this.canvas.addEventListener("mousedown",e=>{let t=this.MousePostProcess(e);this.mouseDown(t[0],t[1])}),this.canvas.addEventListener("mousemove",e=>{let t=this.MousePostProcess(e);this.mouseMove(t[0],t[1])}),this.canvas.addEventListener("mouseup",e=>{let t=this.MousePostProcess(e);this.mouseUp(t[0],t[1])})}MousePostProcess(e){let t=e.offsetX-this.r,i=e.offsetY-this.r;return this.m.x=t,this.m.y=i,[t,i]}init(){this.cp=new ec(this,0,0,"cp"),this.cpL1=new ed(this,10,10,"l1"),this.cpL1.updatePosByRadian(3),this.cpR1=new eu(this,10,10,"r1"),this.cpR1.updatePosByRadian(-3);let e=this.r,t=this.ctxBase.createImageData(2*e,2*e),i=t.data;for(let t=-e;t<e;t++)for(let s=-e;s<e;s++){let[n,h]=ep(t,s);if(n>e)continue;let o=em(h),r=2*e,a=(t+e+(s+e)*r)*4,[l,c,d]=eg(o,1,1);i[a]=l,i[a+1]=c,i[a+2]=d,i[a+3]=255}this.ctxBase.putImageData(t,0,0),this.ctxBase.beginPath(),this.ctxBase.arc(0,0,1,0,2*Math.PI),this.ctxBase.closePath(),this.ctxBase.fill(),this.render(this.ctx)}render(e){e.clearRect(-this.r,-this.r,2*this.r,2*this.r),this.cp.render(e),this.cpL1.render(e),this.cpR1.render(e)}mouseDrag(e,t){}mouseMove(e,t){if(this.capture){if("cp"===this.capture.id){let i=new er.h(e,t,0),s=i.Length();s=s>this.r?this.r:s;let n=(0,er.d)(i,s);this.capture.updatePos(n)}else if("l1"===this.capture.id){let i=new er.h(e,t,0),s=i.Length();s=s>this.r?this.r:s;let n=(0,er.d)(i,s);this.capture.updatePos(n)}else if("r1"===this.capture.id){let i=new er.h(e,t,0),s=i.Length();s=s>this.r?this.r:s;let n=(0,er.d)(i,s);this.capture.updatePos(n)}}this.render(this.ctx)}mouseDown(e,t){this.capture=this.GetPoint(e,t)}mouseUp(e,t){this.capture=void 0}GetPoint(e,t){return this.cp.getDistance(e,t)<this.cp.r?this.cp:this.cpL1.getDistance(e,t)<this.cp.r?this.cpL1:this.cpR1.getDistance(e,t)<this.cp.r?this.cpR1:void 0}constructor(e){this.capture=void 0,this.offset=15,this.m=new er.h(0,0,0),e.style.background="#eeeeee",this.canvasBase=document.createElement("canvas"),this.canvasBase.style.position="absolute",e.append(this.canvasBase),this.ctxBase=this.canvasBase.getContext("2d"),this.canvasBase.width=300,this.canvasBase.height=300,this.r=150,this.ctxBase.translate(this.r,this.r),this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.width=this.canvasBase.width,this.canvas.height=this.canvasBase.height,this.ctx=this.canvas.getContext("2d"),this.ctx.translate(this.r,this.r),e.append(this.canvas),this.initEvent(),this.init()}}class el{getRadian(){return this.radian=Math.atan2(this.vec.x,this.vec.y),this.radian-=.5*Math.PI,this.radian*=-1,this.radian}updatePosByRadian(e){this.vec.x=Math.cos(e),this.vec.y=Math.sin(e),this.vec.x*=this.radius,this.vec.y*=this.radius}updatePos(e){"cp"===this.id&&(this.vec.x=e.x,this.vec.y=e.y,this.radius=this.vec.Length(),this.getRadian(),this.colorPicker.cpL1.radius=this.radius,this.colorPicker.cpL1.updatePosByRadian(this.colorPicker.cpL1.radian+this.colorPicker.cpL1.radian-this.radian),this.colorPicker.cpR1.radius=this.radius)}updateposByCPOffset(e){}getDistance(e,t){return Math.sqrt((this.vec.x-e)*(this.vec.x-e)+(this.vec.y-t)*(this.vec.y-t))}render(e){let t=this.colorPicker.ctxBase.getImageData(this.vec.x+this.colorPicker.r,this.vec.y+this.colorPicker.r,2,2);this.color="rgb(".concat(t.data[0],", ").concat(t.data[1],", ").concat(t.data[2],")"),e.strokeStyle="#ffffff",e.lineWidth=3,e.beginPath(),e.moveTo(0,0),e.lineTo(this.vec.x,this.vec.y),e.closePath(),e.stroke(),e.beginPath(),e.arc(this.vec.x,this.vec.y,this.r,0,2*Math.PI),e.closePath(),e.fillStyle=this.color,e.fill(),e.stroke()}constructor(e,t,i,s){this.r=15,this.radian=0,this.radius=10,this.color="#ffffff",this.colorPicker=e,this.vec=new er.h(t,i,0),this.id=s}}class ec extends el{constructor(e,t,i,s){super(e,t,i,s)}}class ed extends el{updatePos(e){this.vec.x=e.x,this.vec.y=e.y,this.radius=this.vec.Length(),this.getRadian(),console.log(-this.radius);let t=this.colorPicker.cp.radian;this.colorPicker.cpR1.updatePosByRadian(-this.radian+2*t)}constructor(e,t,i,s){super(e,t,i,s)}}class eu extends el{updatePos(e){this.vec.x=e.x,this.vec.y=e.y,this.radius=this.vec.Length(),this.getRadian(),console.log(-this.radius);let t=this.colorPicker.cp.radian;this.colorPicker.cpL1.updatePosByRadian(-this.radian+2*t)}updateposByCPOffset(e){this.radian+=e,this.vec.x=Math.cos(this.radian),this.vec.y=Math.sin(this.radian),this.vec.x*=this.radius,this.vec.y*=this.radius}constructor(e,t,i,s){super(e,t,i,s)}}let ep=(e,t)=>[Math.sqrt(e*e+t*t),Math.atan2(t,e)],em=e=>(e+Math.PI)/(2*Math.PI)*360,eg=(e,t,i)=>{var s=i*t,n=e/60,h=s*(1-Math.abs(n%2-1)),o=i-s,r=[0,0,0];return void 0===e?r=[0,0,0]:n<1?r=[s,h,0]:n<2?r=[h,s,0]:n<3?r=[0,s,h]:n<4?r=[0,h,s]:n<5?r=[h,0,s]:n<=6&&(r=[s,0,h]),[255*(r[0]+o),255*(r[1]+o),255*(r[2]+o)]};class ey extends d{initUI(){}init(){}RenderIndependentCanvas(e){}MouseLeftClick(e,t){}MouseDrag(e,t){}rotation(e){}MouseMove(e,t){}Mouseup(e,t){}constructor(e){super(e),this.indeCanvas.canvas.width=300,this.indeCanvas.canvas.height=300,console.log(new ea(this.indeCanvas.bodyDiv.divHost))}}class ef extends d{init(){let e=performance.now();this.map=new ev([[1,0,1,1,1,1,1],[1,1,1,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]]),console.log("time: ",performance.now()-e)}RenderIndependentCanvas(e){this.map&&(this.map.Render(e,this.p),e.fillStyle="#ff0000",e.beginPath(),e.arc(this.p[0],this.p[1],5,0,6.28),e.closePath(),e.fill())}MouseMove(e,t){this.p=[e,t]}MouseDown(e,t){this.p=[e,t]}constructor(e){super(e),this.p=[0,0],this.init()}}class ex{pushConnections(e){e.fill||this.connections.push(e)}Render(e,t){let i=(this.x+.5)*this.scale,s=(this.y+.5)*this.scale,n=Math.sqrt((t[0]-i)*(t[0]-i)+(t[1]-s)*(t[1]-s));if(e.lineWidth=4,e.strokeStyle="#ffffff",e.beginPath(),e.rect(this.x*this.scale,this.y*this.scale,this.scale,this.scale),e.closePath(),this.fill?e.fillStyle="rgba(0,0,0, 0.85)":e.fillStyle="rgba(255,0,0, 0.5)",e.fill(),e.stroke(),n<.5*this.scale){e.strokeStyle="#ff0000",e.lineWidth=2;for(let t=0;t<this.connections.length;++t)e.beginPath(),e.moveTo((this.x+.5)*this.scale,(this.y+.5)*this.scale),e.lineTo((this.connections[t].x+.5)*this.scale,(this.connections[t].y+.5)*this.scale),e.stroke()}this.start?(e.fillStyle="#0000ff",e.beginPath(),e.arc((this.x+.5)*this.scale,(this.y+.5)*this.scale,5,0,6.28),e.closePath(),e.fill()):this.end&&(e.fillStyle="#00ff00",e.beginPath(),e.arc((this.x+.5)*this.scale,(this.y+.5)*this.scale,5,0,6.28),e.closePath(),e.fill())}constructor(e,t,i,s){this.x=-1,this.y=-1,this.scale=50,this.fill=!1,this.visited=!1,this.dist=-1,this.start=!1,this.end=!1,this.connections=[],this.map=e,this.x=t,this.y=i,this.type=s,0===this.type?this.fill=!0:this.fill=!1}}class ev{ComputePath(e,t){let i=[e];for(;i.length>0;){let e=i[0];i.shift(),e.visited=!0,console.log(e);for(let t=0;t<e.connections.length;++t)if(!e.connections[t].fill&&!e.connections[t].visited){let s=this.ComputeCost(e,e.connections[t]),n=e.dist+s;(-1===e.connections[t].dist||n<e.connections[t].dist)&&(e.connections[t].dist=n,i.push(e.connections[t]))}}console.log(this);let s=[];if(-1!==t.dist){s.push(t);let i=t;for(;;){let t=i;for(let e=0;e<i.connections.length;++e)i.connections[e].dist<t.dist&&(t=i.connections[e]);if(i=t,s.push(i),i===e)break}}return console.log(),console.log("there are ",s.length," to exit"),s}ComputeCost(e,t){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}InitConnections(){for(let e=0;e<this.pixels.length;++e)for(let t=0;t<this.pixels[0].length;++t){let i=this.pixels[e][t];0!==e&&e<this.pixels.length-1&&0!==t&&t<this.pixels[0].length-1?(i.pushConnections(this.pixels[e-1][t]),i.pushConnections(this.pixels[e+1][t]),i.pushConnections(this.pixels[e][t-1]),i.pushConnections(this.pixels[e][t+1])):0===e?(i.pushConnections(this.pixels[e+1][t]),0<t&&t<this.pixels[0].length-1?(i.pushConnections(this.pixels[e][t-1]),i.pushConnections(this.pixels[e][t+1])):0===t?i.pushConnections(this.pixels[e][t+1]):t===this.pixels[0].length-1&&i.pushConnections(this.pixels[e][t-1])):e===this.pixels.length-1?(i.pushConnections(this.pixels[e-1][t]),0<t&&t<this.pixels[0].length-1?(i.pushConnections(this.pixels[e][t-1]),i.pushConnections(this.pixels[e][t+1])):0===t?i.pushConnections(this.pixels[e][t+1]):t===this.pixels[0].length-1&&i.pushConnections(this.pixels[e][t-1])):0===t?(i.pushConnections(this.pixels[e][t+1]),0<e&&e<this.pixels.length-1?(i.pushConnections(this.pixels[e-1][t]),i.pushConnections(this.pixels[e+1][t])):0===e?i.pushConnections(this.pixels[e+1][t]):e===this.pixels.length-1&&i.pushConnections(this.pixels[e-1][t])):t===this.pixels[0].length-1&&(i.pushConnections(this.pixels[e][t-1]),0<e&&e<this.pixels.length-1?(i.pushConnections(this.pixels[e-1][t]),i.pushConnections(this.pixels[e+1][t])):0===e?i.pushConnections(this.pixels[e+1][t]):e===this.pixels.length-1&&i.pushConnections(this.pixels[e-1][t]))}}Render(e,t){for(let i=0;i<this.pixels.length;++i)for(let s=0;s<this.pixels[0].length;++s)this.pixels[i][s].Render(e,t);this.path&&this.path.length>0&&this.RenderPath(e,this.path)}RenderPath(e,t){e.strokeStyle="#000000",e.lineWidth=5,e.beginPath(),e.moveTo((t[0].x+.5)*50,(t[0].y+.5)*50);for(let i=1;i<t.length;++i)e.lineTo((t[i].x+.5)*50,(t[i].y+.5)*50);e.stroke()}constructor(e){this.pixels=[],this.fires=[],this.path=[],this.t=0,this.count=1;for(let t=0;t<e.length;++t){let i=[];for(let s=0;s<e[t].length;++s)i.push(new ex(this,s,t,e[t][s]));this.pixels.push(i)}this.InitConnections(),this.start=this.pixels[0][0],this.exit=this.pixels[e.length-1][e[0].length-1],this.start.start=!0,this.exit.end=!0,this.path=this.ComputePath(this.start,this.exit)}}class eM extends d{init(){let e=performance.now();this.map=new eP(10,8,[[0,0],[1,0],[1,1],[4,2],[4,3],[4,5],[2,4],[3,4],[7,4],[8,4],[9,4],[7,5],[8,5],[9,5],[7,6],[8,6],[9,6]]),console.log("time: ",performance.now()-e)}RenderIndependentCanvas(e){this.map.Render(e,this.p),e.fillStyle="#ff0000",e.beginPath(),e.arc(this.p[0],this.p[1],5,0,6.28),e.closePath(),e.fill()}MouseMove(e,t){this.p=[e,t]}MouseDown(e,t){this.p=[e,t]}constructor(e){super(e),this.p=[0,0],this.init()}}class ew{Render(e,t){let i=(this.x+.5)*this.scale,s=(this.y+.5)*this.scale,n=Math.sqrt((t[0]-i)*(t[0]-i)+(t[1]-s)*(t[1]-s));if(e.lineWidth=4,e.beginPath(),e.rect(this.x*this.scale,this.y*this.scale,this.scale,this.scale),e.closePath(),this.fill&&(this.visited?e.fillStyle="rgba(255,0,0, 0.5)":e.fillStyle="rgba(0,255,0, 0.5)",e.fill()),e.stroke(),n<.5*this.scale){e.lineWidth=1;for(let t=0;t<this.connections.length;++t)e.beginPath(),e.moveTo((this.x+.5)*this.scale,(this.y+.5)*this.scale),e.lineTo((this.connections[t].x+.5)*this.scale,(this.connections[t].y+.5)*this.scale),e.stroke()}}constructor(e,t){this.x=-1,this.y=-1,this.scale=50,this.fill=!1,this.visited=!1,this.connections=[],this.x=e,this.y=t}}class eP{Compute(e){let t=0;for(let i=0;i<e.length;++i){let s=e[i][0],n=e[i][1],h=this.pixels[n][s];if(h.visited)continue;let o=[h];for(t++;o.length>0;){let e=o[0];e.visited=!0,o.shift();for(let t=0;t<e.connections.length;++t)e.connections[t].fill&&!e.connections[t].visited&&o.push(e.connections[t])}}console.log("there are ",t," group of cells")}InitFill(e){for(let t=0;t<e.length;++t){let i=e[t][0],s=e[t][1];this.pixels[s][i].fill=!0}}InitConnections(){for(let e=0;e<this.pixels.length;++e)for(let t=0;t<this.pixels[0].length;++t){let i=this.pixels[e][t];0!==e&&e<this.pixels.length-1&&0!==t&&t<this.pixels[0].length-1?(i.connections.push(this.pixels[e-1][t]),i.connections.push(this.pixels[e+1][t]),i.connections.push(this.pixels[e][t-1]),i.connections.push(this.pixels[e][t+1])):0===e?(i.connections.push(this.pixels[e+1][t]),0<t&&t<this.pixels[0].length-1?(i.connections.push(this.pixels[e][t-1]),i.connections.push(this.pixels[e][t+1])):0===t?i.connections.push(this.pixels[e][t+1]):t===this.pixels[0].length-1&&i.connections.push(this.pixels[e][t-1])):e===this.pixels.length-1?(i.connections.push(this.pixels[e-1][t]),0<t&&t<this.pixels[0].length-1?(i.connections.push(this.pixels[e][t-1]),i.connections.push(this.pixels[e][t+1])):0===t?i.connections.push(this.pixels[e][t+1]):t===this.pixels[0].length-1&&i.connections.push(this.pixels[e][t-1])):0===t?(i.connections.push(this.pixels[e][t+1]),0<e&&e<this.pixels.length-1?(i.connections.push(this.pixels[e-1][t]),i.connections.push(this.pixels[e+1][t])):0===e?i.connections.push(this.pixels[e+1][t]):e===this.pixels.length-1&&i.connections.push(this.pixels[e-1][t])):t===this.pixels[0].length-1&&(i.connections.push(this.pixels[e][t-1]),0<e&&e<this.pixels.length-1?(i.connections.push(this.pixels[e-1][t]),i.connections.push(this.pixels[e+1][t])):0===e?i.connections.push(this.pixels[e+1][t]):e===this.pixels.length-1&&i.connections.push(this.pixels[e-1][t]))}}Render(e,t){for(let i=0;i<this.pixels.length;++i)for(let s=0;s<this.pixels[0].length;++s)this.pixels[i][s].Render(e,t)}constructor(e,t,i){this.pixels=[];for(let i=0;i<t;++i){let t=[];for(let s=0;s<e;++s)t.push(new ew(s,i));this.pixels.push(t)}this.InitFill(i),this.InitConnections(),this.Compute(i)}}class eb extends d{init(){}RenderIndependentCanvas(e){e.fillStyle="#ff0000",e.beginPath(),e.arc(this.p[0],this.p[1],5,0,6.28),e.closePath(),e.fill()}MouseDown(e,t){this.p=[e,t]}constructor(e){super(e),this.p=[0,0],console.log(new eD)}}class eC{push(e){for(let t=0;t<this.friends.length;++t)if(this.friends[t]===e)return;this.friends.push(e),e.push(this)}Reset(){this.visited=!1,this.dis=0}findPerson(e){let t=[];if(0===this.friends.length)return -1;for(this.visited=!0,t.push(this);t.length>0;){let i=t[0];if(t.shift(),i){if(e===i.id)return i.dis;for(let e=0;e<i.friends.length;++e)i.friends[e]&&!i.friends[e].visited&&(i.friends[e].visited=!0,i.friends[e].dis=i.dis+1,t.push(i.friends[e]))}}return -1}constructor(e){this.id=-1,this.friends=[],this.dis=0,this.visited=!1,this.id=e}}class eD{Reset(){for(this.index=0;this.index<this.people.length;++this.index)this.people[this.index].visited=!1,this.people[this.index].dis=0}BuildRelationship(e,t){this.people[e].push(this.people[t])}PrintRelationship(){for(this.index=0;this.index<this.people.length;++this.index){let e="";for(let t=0;t<this.people[this.index].friends.length;++t)e+=" ".concat(this.people[this.index].friends[t].id);console.log("id: ",this.people[this.index].id,", freindsID",e)}}Compute(e){for(let t=0;t<e;++t){let i=0;for(let s=0;s<e;++s)if(t!==s){let e=this.people[t].findPerson(s);i+=e,console.log(t,s,e),this.Reset()}console.log(t,i),console.log("------")}}constructor(){for(this.people=[],this.index=0,this.index=0;this.index<5;++this.index)this.people.push(new eC(this.index));let e=[[1,3],[1,4],[4,5],[4,3],[3,2]];for(this.index=0;this.index<e.length;++this.index)this.BuildRelationship(e[this.index][0]-1,e[this.index][1]-1);this.PrintRelationship(),this.Compute(5)}}class eE extends d{init(){let e=performance.now();this.map=new eR(["###.######","#*#.#...*#","#.#......#","#........#","#.......@#","##########"]),console.log("time: ",performance.now()-e)}RenderIndependentCanvas(e){this.map&&(this.map.Render(e,this.p),e.fillStyle="#ff0000",e.beginPath(),e.arc(this.p[0],this.p[1],5,0,6.28),e.closePath(),e.fill())}MouseMove(e,t){this.p=[e,t]}MouseDown(e,t){this.p=[e,t]}constructor(e){super(e),this.p=[0,0],this.init()}}class eI{pushConnections(e){e.fill||this.connections.push(e)}Render(e,t){let i=(this.x+.5)*this.scale,s=(this.y+.5)*this.scale,n=Math.sqrt((t[0]-i)*(t[0]-i)+(t[1]-s)*(t[1]-s));if(e.lineWidth=4,e.strokeStyle="#ffffff",e.beginPath(),e.rect(this.x*this.scale,this.y*this.scale,this.scale,this.scale),e.closePath(),this.fill?e.fillStyle="rgba(0,0,0, 0.85)":this.fire?e.fillStyle="rgba(255,0,0, 0.5)":e.fillStyle="rgba(255,255,0, 0.5)",e.fill(),e.stroke(),n<.5*this.scale){e.lineWidth=1;for(let t=0;t<this.connections.length;++t)e.beginPath(),e.moveTo((this.x+.5)*this.scale,(this.y+.5)*this.scale),e.lineTo((this.connections[t].x+.5)*this.scale,(this.connections[t].y+.5)*this.scale),e.stroke()}this.exit&&(e.fillStyle="#0000ff",e.beginPath(),e.arc((this.x+.5)*this.scale,(this.y+.5)*this.scale,5,0,6.28),e.closePath(),e.fill())}constructor(e,t,i,s){this.x=-1,this.y=-1,this.scale=50,this.fill=!1,this.fire=!1,this.exit=!1,this.visited=!1,this.cost=0,this.temp=0,this.connections=[],this.map=e,this.x=t,this.y=i,this.type=s,"#"===this.type?this.fill=!0:"."===this.type?this.fill=!1:"*"===this.type?(this.fire=!0,this.map.fires.push(this)):"@"===this.type&&this.map.SetAgent(this)}}class eS{Render(e){e.fillStyle="#00ff00",e.beginPath();let t=Math.sin(this.current.map.t)+1.1;e.arc((this.current.x+.5)*this.current.scale,(this.current.y+.5)*this.current.scale,6*t+2,0,6.28),e.closePath(),e.fill()}constructor(e){this.current=e}}class eR{Update(){this.ComputeFire(),this.ComputeAgent()}ComputeFire(){let e=[];for(let t=0;t<this.fires.length;++t)for(let i=0;i<this.fires[t].connections.length;++i)this.fires[t].connections[i].fill||(this.fires[t].connections[i].fire=!0,e.push(this.fires[t].connections[i]));for(let t=0;t<e.length;++t)this.fires.push(e[t])}ComputeAgent(){if(this.agent.current===this.exit){console.log("Done! by ",this.count),this.done=!0;return}this.path=this.ComputePath(this.agent.current,this.exit),this.path&&this.path.length>0&&(this.agent.current=this.path[this.path.length-2],console.log(this.path),this.count++)}ComputeExit(){for(let e=0;e<this.pixels.length;++e)for(let t=0;t<this.pixels[e].length;++t)if((this.pixels[e][t].connections.length<3&&0===e||0===t||e===this.pixels.length-1||t===this.pixels[0].length-1)&&!this.pixels[e][t].fill){let i=!1;for(let s=0;s<this.pixels[e][t].connections.length;++s)!1===this.pixels[e][t].connections[s].fill&&(i=!0);i&&(this.pixels[e][t].exit=!0,this.exit=this.pixels[e][t])}}ResetCost(){for(let e=0;e<this.pixels.length;++e)for(let t=0;t<this.pixels[e].length;++t)this.pixels[e][t].fill||this.pixels[e][t].fire||(this.pixels[e][t].cost=0,this.pixels[e][t].temp=-1,this.pixels[e][t].visited=!1)}ComputePath(e,t){this.ResetCost();let i=[e];for(;i.length>0;){let e=i[0];e.visited=!0,i.shift();for(let t=0;t<e.connections.length;++t)if(!e.connections[t].fill&&!e.connections[t].visited){let s=this.ComputeCost(e,e.connections[t]),n=e.temp+s;(-1===e.connections[t].temp||n<e.connections[t].temp)&&(e.connections[t].temp=n,i.push(e.connections[t]))}}let s=[];if(-1!==t.temp){s.push(t);let i=t;for(;;){let t=i;for(let e=0;e<i.connections.length;++e)!i.connections[e].fill&&i.connections[e].temp<t.temp&&(t=i.connections[e]);if(t===i){this.fail=!0;return}if(i=t,s.push(i),i===e)break}}return s}ComputeCost(e,t){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}SetAgent(e){this.agent=new eS(e)}InitConnections(){for(let e=0;e<this.pixels.length;++e)for(let t=0;t<this.pixels[0].length;++t){let i=this.pixels[e][t];0!==e&&e<this.pixels.length-1&&0!==t&&t<this.pixels[0].length-1?(i.pushConnections(this.pixels[e-1][t]),i.pushConnections(this.pixels[e+1][t]),i.pushConnections(this.pixels[e][t-1]),i.pushConnections(this.pixels[e][t+1])):0===e?(i.pushConnections(this.pixels[e+1][t]),0<t&&t<this.pixels[0].length-1?(i.pushConnections(this.pixels[e][t-1]),i.pushConnections(this.pixels[e][t+1])):0===t?i.pushConnections(this.pixels[e][t+1]):t===this.pixels[0].length-1&&i.pushConnections(this.pixels[e][t-1])):e===this.pixels.length-1?(i.pushConnections(this.pixels[e-1][t]),0<t&&t<this.pixels[0].length-1?(i.pushConnections(this.pixels[e][t-1]),i.pushConnections(this.pixels[e][t+1])):0===t?i.pushConnections(this.pixels[e][t+1]):t===this.pixels[0].length-1&&i.pushConnections(this.pixels[e][t-1])):0===t?(i.pushConnections(this.pixels[e][t+1]),0<e&&e<this.pixels.length-1?(i.pushConnections(this.pixels[e-1][t]),i.pushConnections(this.pixels[e+1][t])):0===e?i.pushConnections(this.pixels[e+1][t]):e===this.pixels.length-1&&i.pushConnections(this.pixels[e-1][t])):t===this.pixels[0].length-1&&(i.pushConnections(this.pixels[e][t-1]),0<e&&e<this.pixels.length-1?(i.pushConnections(this.pixels[e-1][t]),i.pushConnections(this.pixels[e+1][t])):0===e?i.pushConnections(this.pixels[e+1][t]):e===this.pixels.length-1&&i.pushConnections(this.pixels[e-1][t]))}}Render(e,t){if(!this.done&&(this.agent&&this.agent.current.fire||this.fail)){console.log("impossible");return}this.t+=.1,this.t>10&&(this.t=0,this.fail||this.Update());for(let i=0;i<this.pixels.length;++i)for(let s=0;s<this.pixels[0].length;++s)this.pixels[i][s].Render(e,t);this.agent&&this.agent.Render(e),this.path&&this.path.length>0&&this.RenderPath(e,this.path)}RenderPath(e,t){e.strokeStyle="#000000",e.lineWidth=5,e.beginPath(),e.moveTo((t[0].x+.5)*50,(t[0].y+.5)*50);for(let i=1;i<t.length-1;++i)e.lineTo((t[i].x+.5)*50,(t[i].y+.5)*50);e.stroke()}constructor(e){this.pixels=[],this.fires=[],this.path=[],this.t=0,this.count=1,this.fail=!1,this.done=!1;for(let t=0;t<e.length;++t){let i=[];for(let s=0;s<e[t].length;++s){let n=e[t].charAt(s);i.push(new eI(this,s,t,n))}this.pixels.push(i)}this.InitConnections(),this.ComputeExit(),console.log(this)}}class eA extends d{init(){let e=performance.now();this.map=new eL(7,5,[[0,2,4,4],[1,1,2,5],[4,0,6,2]]),console.log("time: ",performance.now()-e)}RenderIndependentCanvas(e){this.map.Render(e,this.p),e.fillStyle="#ff0000",e.beginPath(),e.arc(this.p[0],this.p[1],5,0,6.28),e.closePath(),e.fill()}MouseMove(e,t){this.p=[e,t]}MouseDown(e,t){this.p=[e,t]}constructor(e){super(e),this.p=[0,0],this.init()}}class eT{Render(e,t){let i=(this.x+.5)*this.scale,s=(this.y+.5)*this.scale,n=Math.sqrt((t[0]-i)*(t[0]-i)+(t[1]-s)*(t[1]-s));if(e.lineWidth=4,e.beginPath(),e.rect(this.x*this.scale,this.y*this.scale,this.scale,this.scale),e.closePath(),this.fill&&(this.visited?e.fillStyle="rgba(255,0,0, 0.5)":e.fillStyle="rgba(0,255,0, 0.5)",e.fill()),e.stroke(),n<.5*this.scale){e.lineWidth=1;for(let t=0;t<this.connections.length;++t)e.beginPath(),e.moveTo((this.x+.5)*this.scale,(this.y+.5)*this.scale),e.lineTo((this.connections[t].x+.5)*this.scale,(this.connections[t].y+.5)*this.scale),e.stroke()}}Add(e){e.fill||this.connections.push(e)}constructor(e,t){this.x=-1,this.y=-1,this.scale=50,this.fill=!1,this.visited=!1,this.connections=[],this.x=e,this.y=t}}class eL{Compute(){for(let e=0;e<this.pixels.length;++e)for(let t=0;t<this.pixels[0].length;++t){let i=this.pixels[e][t];i.fill||i.visited||console.log(this.PropagationBFS(i))}}PropagationBFS(e){let t=[e],i=0;for(;t.length>0;){let e=t[0];if(t.shift(),!e.visited){e.visited=!0,i++;for(let i=0;i<e.connections.length;++i)e.connections[i].visited||t.push(e.connections[i])}}return i}InitFill(e){for(let t=0;t<e.length;++t){let i=e[t][0],s=e[t][1],n=e[t][2],h=e[t][3];for(let e=s;e<h;++e)for(let t=i;t<n;++t)this.pixels[e][t].fill=!0}}InitConnections(){for(let e=0;e<this.pixels.length;++e)for(let t=0;t<this.pixels[0].length;++t){let i=this.pixels[e][t];0!==e&&e<this.pixels.length-1&&0!==t&&t<this.pixels[0].length-1?(i.Add(this.pixels[e-1][t]),i.Add(this.pixels[e+1][t]),i.Add(this.pixels[e][t-1]),i.Add(this.pixels[e][t+1])):0===e?(i.Add(this.pixels[e+1][t]),0<t&&t<this.pixels[0].length-1?(i.Add(this.pixels[e][t-1]),i.Add(this.pixels[e][t+1])):0===t?i.Add(this.pixels[e][t+1]):t===this.pixels[0].length-1&&i.Add(this.pixels[e][t-1])):e===this.pixels.length-1?(i.Add(this.pixels[e-1][t]),0<t&&t<this.pixels[0].length-1?(i.Add(this.pixels[e][t-1]),i.Add(this.pixels[e][t+1])):0===t?i.Add(this.pixels[e][t+1]):t===this.pixels[0].length-1&&i.Add(this.pixels[e][t-1])):0===t?(i.Add(this.pixels[e][t+1]),0<e&&e<this.pixels.length-1?(i.Add(this.pixels[e-1][t]),i.Add(this.pixels[e+1][t])):0===e?i.Add(this.pixels[e+1][t]):e===this.pixels.length-1&&i.Add(this.pixels[e-1][t])):t===this.pixels[0].length-1&&(i.Add(this.pixels[e][t-1]),0<e&&e<this.pixels.length-1?(i.Add(this.pixels[e-1][t]),i.Add(this.pixels[e+1][t])):0===e?i.Add(this.pixels[e+1][t]):e===this.pixels.length-1&&i.Add(this.pixels[e-1][t]))}}Render(e,t){for(let i=0;i<this.pixels.length;++i)for(let s=0;s<this.pixels[0].length;++s)this.pixels[i][s].Render(e,t)}constructor(e,t,i){this.pixels=[];for(let i=0;i<t;++i){let t=[];for(let s=0;s<e;++s)t.push(new eT(s,i));this.pixels.push(t)}this.InitFill(i),this.InitConnections(),this.Compute()}}class eO extends d{init(){let e=performance.now();this.graph=new eG([5,4],[[3,1],[3,2],[4,3],[5,3]]),console.log("time: ",performance.now()-e)}RenderIndependentCanvas(e){this.graph.Render(e,this.p),e.fillStyle="#ff0000",e.beginPath(),e.arc(this.p[0],this.p[1],5,0,6.28),e.closePath(),e.fill()}MouseMove(e,t){this.p=[e,t]}MouseDown(e,t){this.p=[e,t]}constructor(e){super(e),this.p=[0,0],this.init()}}class eN{Render(e,t){}constructor(e){this.id=-1,this.visited=!1,this.children=[],this.id=e}}class eG{ComputeConnections(){for(let e=0;e<this.nodes.length;++e){let t=this.BFS(this.nodes[e]);this.Reset(),console.log(e+1,t)}}BFS(e){let t=[e],i=0;for(;t.length>0;){let e=t[0];if(t.shift(),!e.visited){e.visited=!0,i++;for(let i=0;i<e.children.length;++i)e.children[i].visited||t.push(e.children[i])}}return i}Reset(){for(let e=0;e<this.nodes.length;++e)this.nodes[e].visited=!1}Render(e,t){}constructor(e,t){this.nodes=[];for(let t=0;t<e[0];++t)this.nodes.push(new eN(t));for(let e=0;e<t.length;++e){let i=t[e][0]-1,s=t[e][1]-1;this.nodes[s].children.push(this.nodes[i])}this.ComputeConnections(),console.log(this)}}class e_ extends d{init(){let e=performance.now();this.map=new ez([".###.#####..","#.kk#...#v#.","#..k#.#.#.#.","#..##k#...#.","#.#v#k###.#.","#..#v#....#.","#...v#v####.",".####.#vv.k#",".......####."]),console.log("time: ",performance.now()-e)}RenderIndependentCanvas(e){this.map.Render(e,this.p),e.fillStyle="#ff0000",e.beginPath(),e.arc(this.p[0],this.p[1],5,0,6.28),e.closePath(),e.fill()}MouseMove(e,t){this.p=[e,t]}MouseDown(e,t){this.p=[e,t]}constructor(e){super(e),this.p=[0,0],this.init()}}class eW{Render(e,t){let i=(this.x+.5)*this.scale,s=(this.y+.5)*this.scale,n=Math.sqrt((t[0]-i)*(t[0]-i)+(t[1]-s)*(t[1]-s));if(e.lineWidth=4,e.beginPath(),e.rect(this.x*this.scale,this.y*this.scale,this.scale,this.scale),e.closePath(),this.fill&&(this.visited?e.fillStyle="rgba(255,0,0, 0.5)":e.fillStyle="rgba(0,255,0, 0.5)",e.fill()),e.stroke(),this.wolf&&(e.fillStyle="#ff0000",e.beginPath(),e.arc((this.x+.5)*this.scale,(this.y+.5)*this.scale,5,0,6.28),e.closePath(),e.fill()),this.sheep&&(e.fillStyle="#00ff00",e.beginPath(),e.arc((this.x+.5)*this.scale,(this.y+.5)*this.scale,5,0,6.28),e.closePath(),e.fill()),n<.5*this.scale){e.lineWidth=1;for(let t=0;t<this.connections.length;++t)e.beginPath(),e.moveTo((this.x+.5)*this.scale,(this.y+.5)*this.scale),e.lineTo((this.connections[t].x+.5)*this.scale,(this.connections[t].y+.5)*this.scale),e.stroke()}}Add(e){e.fill||this.connections.push(e)}constructor(e,t,i,s){this.x=-1,this.y=-1,this.scale=50,this.fill=!1,this.wolf=!1,this.sheep=!1,this.visited=!1,this.connections=[],this.map=e,this.x=t,this.y=i,this.type=s,"#"===this.type?this.fill=!0:"."===this.type?this.map.pixelsComputedNeeded.push(this):"v"===this.type?(this.wolf=!0,this.map.pixelsComputedNeeded.push(this)):"k"===this.type&&(this.sheep=!0,this.map.pixelsComputedNeeded.push(this))}}class eV{constructor(){this.s=0,this.w=0}}class ez{ComputeDFSValue(){let e=0,t=0;for(let i=0;i<this.pixelsComputedNeeded.length;++i){if(this.pixelsComputedNeeded[i].visited)continue;let s=new eV;this.DFSValue(this.pixelsComputedNeeded[i],s),(0!==s.s||0!==s.w)&&(s.w<s.s?e+=s.s:t+=s.w)}console.log("sheep : ",e,", wolf : ",t)}DFSValue(e,t){if(!e.visited){e.visited=!0,e.sheep&&t.s++,e.wolf&&t.w++;for(let i=0;i<e.connections.length;++i)this.DFSValue(e.connections[i],t)}}ComputeDFS(){let e=0,t=0;for(let i=0;i<this.pixelsComputedNeeded.length;++i)this.pixelsComputedNeeded[i].visited||(this.s=0,this.w=0,this.DFS(this.pixelsComputedNeeded[i]),(0!==this.s||0!==this.w)&&(this.w<this.s?e+=this.s:t+=this.w));console.log("sheep : ",e,", wolf : ",t)}DFS(e){if(!e.visited){e.visited=!0,e.sheep&&this.s++,e.wolf&&this.w++;for(let t=0;t<e.connections.length;++t)this.DFS(e.connections[t])}}ComputeBFS(){let e=0,t=0;for(let i=0;i<this.pixelsComputedNeeded.length;++i){if(this.pixelsComputedNeeded[i].visited)continue;let s=[this.pixelsComputedNeeded[i]];this.pixelsComputedNeeded[i].visited=!0;let n=0,h=0;for(;s.length>0;){let e=s[0];s.shift(),e.wolf&&(h+=1),e.sheep&&(n+=1);for(let t=0;t<e.connections.length;++t)e.connections[t].visited||(e.connections[t].visited=!0,s.push(e.connections[t]))}(0!==n||0!==h)&&(h<n?e+=n:t+=h)}console.log("sheep : ",e,", wolf : ",t)}InitConnections(){for(let e=0;e<this.pixels.length;++e)for(let t=0;t<this.pixels[0].length;++t){let i=this.pixels[e][t];0!==e&&e<this.pixels.length-1&&0!==t&&t<this.pixels[0].length-1?(i.Add(this.pixels[e-1][t]),i.Add(this.pixels[e+1][t]),i.Add(this.pixels[e][t-1]),i.Add(this.pixels[e][t+1])):0===e?(i.Add(this.pixels[e+1][t]),0<t&&t<this.pixels[0].length-1?(i.Add(this.pixels[e][t-1]),i.Add(this.pixels[e][t+1])):0===t?i.Add(this.pixels[e][t+1]):t===this.pixels[0].length-1&&i.Add(this.pixels[e][t-1])):e===this.pixels.length-1?(i.Add(this.pixels[e-1][t]),0<t&&t<this.pixels[0].length-1?(i.Add(this.pixels[e][t-1]),i.Add(this.pixels[e][t+1])):0===t?i.Add(this.pixels[e][t+1]):t===this.pixels[0].length-1&&i.Add(this.pixels[e][t-1])):0===t?(i.Add(this.pixels[e][t+1]),0<e&&e<this.pixels.length-1?(i.Add(this.pixels[e-1][t]),i.Add(this.pixels[e+1][t])):0===e?i.Add(this.pixels[e+1][t]):e===this.pixels.length-1&&i.Add(this.pixels[e-1][t])):t===this.pixels[0].length-1&&(i.Add(this.pixels[e][t-1]),0<e&&e<this.pixels.length-1?(i.Add(this.pixels[e-1][t]),i.Add(this.pixels[e+1][t])):0===e?i.Add(this.pixels[e+1][t]):e===this.pixels.length-1&&i.Add(this.pixels[e-1][t]))}}Render(e,t){for(let i=0;i<this.pixels.length;++i)for(let s=0;s<this.pixels[0].length;++s)this.pixels[i][s].Render(e,t)}constructor(e){this.pixels=[],this.pixelsComputedNeeded=[],this.s=0,this.w=0;for(let t=0;t<e.length;++t){let i=[];for(let s=0;s<e[t].length;++s){let n=e[t].charAt(s);i.push(new eW(this,s,t,n))}this.pixels.push(i)}this.InitConnections();let t=performance.now();this.ComputeBFS();let i=performance.now();console.log("BFS time: ",i-t);for(let e=0;e<this.pixelsComputedNeeded.length;++e)this.pixelsComputedNeeded[e].visited=!1;t=performance.now(),this.ComputeDFS(),console.log("DFS time: ",(i=performance.now())-t);for(let e=0;e<this.pixelsComputedNeeded.length;++e)this.pixelsComputedNeeded[e].visited=!1;t=performance.now(),this.ComputeDFSValue(),console.log("DFS by Value time: ",(i=performance.now())-t)}}class eB extends d{init(){let e=performance.now();this.map=new eF([10,10,3,3,5],[[2,2],[3,2],[3,3],[6,4],[1,1],[4,1],[1,4]]),console.log("time: ",performance.now()-e)}RenderIndependentCanvas(e){this.map&&(this.map.Render(e,this.p),e.fillStyle="#ff0000",e.beginPath(),e.arc(this.p[0],this.p[1],5,0,6.28),e.closePath(),e.fill())}MouseMove(e,t){this.p=[e,t]}MouseDown(e,t){this.p=[e,t]}constructor(e){super(e),this.p=[0,0],this.init()}}class ek{Render(e){e.lineWidth=4,e.strokeStyle="#ffffff",e.beginPath(),e.rect(50+this.x-.5*this.scale,50+this.y-.5*this.scale,this.scale,this.scale),e.closePath(),this.fill?e.fillStyle="rgba(0,0,0, 0.85)":this.hover?e.fillStyle="rgba(255,0,0, 0.8)":e.fillStyle="rgba(255,255,0, 0.5)",e.fill(),e.stroke(),e.fillStyle="#0000ff",e.beginPath(),e.arc(50+this.x,50+this.y,3,0,6.28),e.closePath(),e.fill()}RenderHover(e){this.hover=!0,this.Render(e)}constructor(e,t,i){this.hover=!1,this.x=-1,this.y=-1,this.scale=50,this.fill=!1,this.fire=!1,this.exit=!1,this.visited=!1,this.cost=0,this.temp=0,this.connections=[],this.map=e,this.x=t,this.y=i}}class eH{Compute(){for(let e=0;e<this.pixels.length;++e)if(this.pixels[e].fill){this.isPath=!1;return}}pushConnections(e){e.isPath&&this.connections.push(e)}Render(e,t){let i=Math.sqrt((t[0]-this.x)*(t[0]-this.x)+(t[1]-this.y)*(t[1]-this.y));this.isPath?e.fillStyle="rgba(0,0,0, 1)":e.fillStyle="rgba(0,0,0, 0.3)";for(let e=0;e<this.pixels.length;++e)i<10&&this.isPath?this.map.pixelsHover=this.pixels:this.pixels[e].hover=!1;if(e.beginPath(),e.arc(this.x,this.y,9,0,6.28),e.closePath(),e.fill(),i<10){e.strokeStyle="#000000",e.lineWidth=10;for(let t=0;t<this.connections.length;++t)e.beginPath(),e.moveTo(this.x,this.y),e.lineTo(this.connections[t].x,this.connections[t].y),e.stroke()}this.start&&(e.fillStyle="rgba(255,0,255 , 1)",e.beginPath(),e.arc(this.x,this.y,12,0,6.28),e.closePath(),e.fill()),this.end&&(e.fillStyle="rgba(0,255,255, 1)",e.beginPath(),e.arc(this.x,this.y,12,0,6.28),e.closePath(),e.fill())}constructor(e,t,i){this.pixels=[],this.connections=[],this.isPath=!0,this.visited=!1,this.scale=50,this.start=!1,this.end=!1,this.temp=-1,this.x=t,this.y=i,this.map=e}}class eF{FindGhost(e){let t;let i=this.pixels[e[0]][e[1]];for(let e=0;e<this.connectionMap.length;++e)for(let s=0;s<this.connectionMap[0].length;++s)for(let n=0;n<this.connectionMap[e][s].pixels.length;++n)this.connectionMap[e][s].pixels[n]===i&&this.connectionMap[e][s].isPath&&(t=this.connectionMap[e][s]);if(t)return t}Update(){}ComputeFire(){let e=[];for(let t=0;t<this.fires.length;++t)for(let i=0;i<this.fires[t].connections.length;++i)this.fires[t].connections[i].fill||(this.fires[t].connections[i].fire=!0,e.push(this.fires[t].connections[i]));for(let t=0;t<e.length;++t)this.fires.push(e[t])}ComputeExit(){for(let e=0;e<this.pixels.length;++e)for(let t=0;t<this.pixels[e].length;++t)if((this.pixels[e][t].connections.length<3&&0===e||0===t||e===this.pixels.length-1||t===this.pixels[0].length-1)&&!this.pixels[e][t].fill){let i=!1;for(let s=0;s<this.pixels[e][t].connections.length;++s)!1===this.pixels[e][t].connections[s].fill&&(i=!0);i&&(this.pixels[e][t].exit=!0,this.exit=this.pixels[e][t])}}ResetCost(){for(let e=0;e<this.connectionMap.length;++e)for(let t=0;t<this.connectionMap[e].length;++t)this.connectionMap[e][t].isPath&&(this.connectionMap[e][t].temp=-1,this.connectionMap[e][t].visited=!1)}ComputePath(e,t){this.ResetCost();let i=[e];for(;i.length>0;){let e=i[0];e.visited=!0,i.shift();for(let t=0;t<e.connections.length;++t)if(!e.connections[t].visited){let s=this.ComputeCost(e,e.connections[t]),n=e.temp+s;(-1===e.connections[t].temp||n<e.connections[t].temp)&&(e.connections[t].temp=n,i.push(e.connections[t]))}}let s=[];if(-1!==t.temp){s.push(t);let i=t;for(;;){let t=i;for(let e=0;e<i.connections.length;++e)i.connections[e].isPath&&i.connections[e].temp<t.temp&&(t=i.connections[e]);if(t===i){this.fail=!0;return}if(i=t,s.push(i),i===e)break}}return s}ComputeCost(e,t){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}InitConnections(e,t){this.connectionMap=[];for(let i=0;i<this.pixels.length-e+1;++i){let s=[];for(let n=0;n<this.pixels[0].length-t+1;++n){let h=new eH(this,n*this.scale+75,i*this.scale+75);for(let s=0;s<t;++s)for(let t=0;t<e;++t)h.pixels.push(this.pixels[i+s][n+t]);h.Compute(),s.push(h)}this.connectionMap.push(s)}for(let e=0;e<this.connectionMap.length;++e)for(let t=0;t<this.connectionMap.length;++t){let i=this.connectionMap[e][t];0!==e&&e<this.connectionMap.length-1&&0!==t&&t<this.connectionMap[0].length-1?(i.pushConnections(this.connectionMap[e-1][t]),i.pushConnections(this.connectionMap[e+1][t]),i.pushConnections(this.connectionMap[e][t-1]),i.pushConnections(this.connectionMap[e][t+1])):0===e?(i.pushConnections(this.connectionMap[e+1][t]),0<t&&t<this.connectionMap[0].length-1?(i.pushConnections(this.connectionMap[e][t-1]),i.pushConnections(this.connectionMap[e][t+1])):0===t?i.pushConnections(this.connectionMap[e][t+1]):t===this.connectionMap[0].length-1&&i.pushConnections(this.connectionMap[e][t-1])):e===this.connectionMap.length-1?(i.pushConnections(this.connectionMap[e-1][t]),0<t&&t<this.connectionMap[0].length-1?(i.pushConnections(this.connectionMap[e][t-1]),i.pushConnections(this.connectionMap[e][t+1])):0===t?i.pushConnections(this.connectionMap[e][t+1]):t===this.connectionMap[0].length-1&&i.pushConnections(this.connectionMap[e][t-1])):0===t?(i.pushConnections(this.connectionMap[e][t+1]),0<e&&e<this.connectionMap.length-1?(i.pushConnections(this.connectionMap[e-1][t]),i.pushConnections(this.connectionMap[e+1][t])):0===e?i.pushConnections(this.connectionMap[e+1][t]):e===this.connectionMap.length-1&&i.pushConnections(this.connectionMap[e-1][t])):t===this.connectionMap[0].length-1&&(i.pushConnections(this.connectionMap[e][t-1]),0<e&&e<this.connectionMap.length-1?(i.pushConnections(this.connectionMap[e-1][t]),i.pushConnections(this.connectionMap[e+1][t])):0===e?i.pushConnections(this.connectionMap[e+1][t]):e===this.connectionMap.length-1&&i.pushConnections(this.connectionMap[e-1][t]))}}Render(e,t){this.t+=.1,this.t>10&&(this.t=0,this.fail||this.Update());for(let t=0;t<this.pixels.length;++t)for(let i=0;i<this.pixels[0].length;++i)this.pixels[t][i].Render(e);if(this.pixelsHover)for(let t=0;t<this.pixelsHover.length;++t)this.pixelsHover[t].RenderHover(e);if(this.connectionMap)for(let i=0;i<this.connectionMap.length;++i)for(let s=0;s<this.connectionMap.length;++s)this.connectionMap[i][s].Render(e,t);this.path&&this.path.length>0&&this.RenderPath(e,this.path)}RenderPath(e,t){e.strokeStyle="#000000",e.lineWidth=5,e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let i=1;i<t.length;++i)e.lineTo(t[i].x,t[i].y);e.stroke()}constructor(e,t){this.connectionMap=[],this.pixels=[],this.pixelsHover=[],this.scale=50,this.fires=[],this.path=[],this.t=0,this.count=1,this.fail=!1,this.done=!1;for(let t=0;t<e[0];++t){let i=[];for(let s=0;s<e[1];++s)i.push(new ek(this,s*this.scale,t*this.scale));this.pixels.push(i)}for(let e=0;e<t.length-2;++e)this.pixels[t[e][1]][t[e][0]].fill=!0;this.InitConnections(e[2],e[3]);let i=this.FindGhost(t[t.length-2]);i&&(i.start=!0);let s=this.FindGhost(t[t.length-1]);s&&(s.end=!0),i&&s&&(this.path=this.ComputePath(i,s))}}class eU extends d{init(){let e=performance.now();this.map=new eX(11,[[5,2],[9,7],[4,4],[3,9]]),console.log("time: ",performance.now()-e)}RenderIndependentCanvas(e){this.map.Render(e,this.p),e.fillStyle="#ff0000",e.beginPath(),e.arc(this.p[0],this.p[1],5,0,6.28),e.closePath(),e.fill()}MouseMove(e,t){this.p=[e,t]}MouseDown(e,t){this.p=[e,t]}constructor(e){super(e),this.p=[0,0],this.init()}}class eY{Render(e,t){e.strokeStyle="#ffffff",e.fillStyle="rgba(255,255,255, 1)",e.lineWidth=1,e.beginPath(),e.rect(this.x,this.y,this.scale,this.scale),e.closePath(),this.r?e.fillStyle="rgba(255,0,0, 1)":this.yC?e.fillStyle="rgba(255,255,0, 1)":this.b&&(e.fillStyle="rgba(0,0,255, 1)"),e.stroke(),e.fill(),this.selected&&(e.fillStyle="#ffffff",e.beginPath(),e.arc(this.x+.5*this.scale,this.y+.5*this.scale,5,0,6.28),e.closePath(),e.fill())}constructor(e,t,i,s){this.x=-1,this.y=-1,this.connections=[],this.scale=10,this.r=!1,this.yC=!1,this.b=!1,this.selected=!1,this.map=e,this.x=t,this.y=i,this.scale=s}}class eX{ComputeData(e){for(let t=0;t<e.length;++t){let i=this.pixels[e[t][0]-1][e[t][1]-1];i.selected=!0,i.r?console.log("red, 1"):i.yC?console.log("yellow, 3"):i.b&&console.log("blue, 2")}}InitConnections(){for(let e=0;e<.5*this.pixels.length;++e)for(let t=0;t<.5*this.pixels[0].length;++t){let i=this.pixels[e][t],s=t%3,n=e%3;0===s&&e>=t?i.r=!0:1===s&&e>=t?i.b=!0:2===s&&e>=t&&(i.yC=!0),0===n&&t>=e?i.r=!0:1===n&&t>=e?i.b=!0:2===n&&t>=e&&(i.yC=!0)}for(let e=0;e<.5*this.pixels.length;++e)for(let t=0;t<.5*this.pixels[0].length;++t){let i=this.pixels[e][t],s=e,n=this.pixels[0].length-t-1,h=this.pixels[s][n];h.r=i.r,h.yC=i.yC,h.b=i.b}for(let e=0;e<.5*this.pixels.length;++e)for(let t=0;t<this.pixels[0].length;++t){let i=this.pixels[e][t],s=this.pixels.length-e-1,n=t,h=this.pixels[s][n];h.r=i.r,h.yC=i.yC,h.b=i.b}}Render(e,t){for(let i=0;i<this.pixels.length;++i)for(let s=0;s<this.pixels[0].length;++s)this.pixels[i][s].Render(e,t)}constructor(e,t){this.scale=15,this.pixels=[],this.pixelsComputedNeeded=[],this.s=0,this.w=0;for(let t=0;t<e;++t){let i=[];for(let s=0;s<e;++s)i.push(new eY(this,t*this.scale,s*this.scale,this.scale));this.pixels.push(i)}this.InitConnections(),this.ComputeData(t)}}class ej extends d{init(){let e=performance.now(),t=new eK("DOG");console.log("time: ",performance.now()-e),console.log(t)}RenderIndependentCanvas(e){e.fillStyle="#ff0000",e.beginPath(),e.arc(this.p[0],this.p[1],5,0,6.28),e.closePath(),e.fill()}MouseMove(e,t){this.p=[e,t]}MouseDown(e,t){this.p=[e,t]}constructor(e){super(e),this.p=[0,0],this.init()}}class eK{constructor(e){let t=e.length,i=5+(t-1)*4;console.log(i),console.log(t);for(let t=0;t<5;++t){let s="",n=0;for(let h=0;h<i;++h)0===t||4===t?h%4==2?h<i-5?s+="#":s+="*":s+=".":1===t||3===t?h%2==1?h<i-5?s+="#":s+="*":s+=".":h%4==0?h<i-5?s+="#":s+="*":h%2==0?s+=e[n++]:s+=".";console.log(s)}}}class eq extends d{init(){let e=performance.now();this.graph=new eQ([4,5,1],[[1,2],[1,3],[1,4],[2,4],[3,4]]),console.log("time: ",performance.now()-e)}RenderIndependentCanvas(e){this.graph.Render(e,this.p),this.RenderMouse(e)}RenderMouse(e){e.fillStyle="#ff0000",e.beginPath(),e.arc(this.p[0],this.p[1],5,0,6.28),e.closePath(),e.fill()}MouseMove(e,t){this.p=[e,t]}MouseDown(e,t){this.p=[e,t]}constructor(e){super(e),this.p=[0,0],this.init()}}class eJ{Add(e){this.visitedNum.push(e)}Print(){for(let e=0;e<this.visitedNum.length;++e)console.log(this.visitedNum[e])}constructor(){this.visitedNum=[]}}class eQ{ComputeBFS(e,t){this.BFS(this.nodes[e],t)}BFS(e,t){let i=[e];for(;i.length>0;){let e=i[0];if(i.shift(),!e.visited){e.visited=!0,t.Add(e.id+1);for(let t=e.edges.length-1;t>-1;--t)e.edges[t].n0.visited||i.push(e.edges[t].n0),e.edges[t].n1.visited||i.push(e.edges[t].n1)}}}ComputeDFS(e,t){this.DFS(this.nodes[e],t)}DFS(e,t){if(e.visited)return t;t.Add(e.id+1),e.visited=!0;for(let i=e.edges.length-1;i>-1;--i)this.DFS(e.edges[i].n0,t),this.DFS(e.edges[i].n1,t);return t}Render(e,t){for(let t=0;t<this.edges.length;++t)this.edges[t].Render(e);for(let t=0;t<this.nodes.length;++t)this.nodes[t].Render(e)}constructor(e,t){this.edges=[],this.nodes=[];for(let t=0;t<e[0];++t)this.nodes.push(new e$(t));for(let e=0;e<t.length;++e){let i=t[e],s=new eZ(this.nodes[i[0]-1],this.nodes[i[1]-1]);this.edges.push(s)}let i=new eJ;this.ComputeDFS(e[e.length-1]-1,i),i.Print();for(let e=0;e<this.nodes.length;++e)this.nodes[e].visited=!1;i=new eJ,this.ComputeBFS(e[e.length-1]-1,i),i.Print()}}class eZ{Render(e){e.beginPath(),e.moveTo(this.n0.x,this.n0.y),e.lineTo(this.n1.x,this.n1.y),e.closePath(),e.stroke()}constructor(e,t){this.n0=e,this.n1=t,this.n0.edges.push(this),this.n1.edges.push(this)}}class e${Render(e){e.fillStyle="#ff0000",e.beginPath(),e.arc(this.x,this.y,10,0,6.28),e.closePath(),e.stroke(),e.font="15px Arial",e.fillText((this.id+1).toString(),this.x-5,this.y+5)}constructor(e){this.edges=[],this.x=-1,this.y=-1,this.id=-1,this.visited=!1,this.x=(Math.random()+1)*300,this.y=(Math.random()+1)*300,this.id=e,console.log(this.x,this.y)}}class e0 extends d{init(){this.myWork=new e1(10,[[10,10],[50,15],[45,65],[25,80],[9,10]]),this.myWork.toJson(),console.log("building run....")}RenderIndependentCanvas(e){e.fillStyle="#ff0000",e.beginPath(),e.arc(this.p[0],this.p[1],5,0,6.28),e.closePath(),e.fill()}MouseMove(e,t){this.p=[e,t]}MouseDown(e,t){this.p=[e,t]}constructor(e){super(e),this.p=[0,0],this.init()}}class e1{init(){this.site=new e6;for(let e=0;e<10;++e)this.apts.push(new e2)}InitOpti(){}toJson(){for(let e=0;e<10;++e)this.apts[e].toJson()}constructor(e,t){this.apts=[],this.sun=new e3,this.init(),this.InitOpti()}}class e5{getFloor(){return[0,0]}computeSVec(e){this.scoreBySun.update(12,0)}toJson(){}constructor(e){this.host=e}}class e2{Init(){for(let e=0;e<10;++e)this.unit.push(new e5(this))}toJson(){for(let e=0;e<this.unit.length;++e)this.unit[e].toJson()}constructor(){this.unit=[],this.Init()}}class e6{SiteInitByVecs(e){this.vecsSite=e}Render(e){}constructor(){this.vecsSite=[]}}class e3{ComputeVAl(e){for(let t=0;t<e.unit.length;++t){let i=e.unit[t];this.Compute(i)}}Compute(e){e.computeSVec(this.vec)}constructor(){this.vec=[0,0,0]}}var e4=i(8483);class e9 extends d{InitUI(){let e=document.createElement("div");e.style.position="absolute",e.style.left="650px",e.style.height="400px",e.style.width="200px",e.style.marginTop="10px",e.style.paddingLeft="10px",e.style.background="#aaaaaa",this.titleA=document.createElement("p"),this.titleA.textContent="X axis: 20",e.append(this.titleA);let t=document.createElement("input");t.type="range",t.min="2",t.max="20",t.oninput=()=>{let e=+t.value;this.xNum=e,this.titleA.textContent="X axis: "+e,this.init()},e.append(t),this.titleB=document.createElement("p"),this.titleB.textContent="Y axis: 20",e.append(this.titleB);let i=document.createElement("input");i.type="range",i.min="2",i.max="20",i.oninput=()=>{let e=+i.value;this.yNum=e,this.titleB.textContent="Y axis: "+e,this.init()},e.append(i),this.titleC=document.createElement("p"),this.titleC.textContent="mode: 0",e.append(this.titleC);let s=document.createElement("input");s.type="range",s.min="0",s.max="8",s.defaultValue="0",s.oninput=()=>{let e=+s.value;this.mode=e,this.titleC.textContent="mode: "+e,this.init()},e.append(s),this.titleD=document.createElement("p"),this.titleD.textContent="connectivity: false",e.append(this.titleD);let n=document.createElement("input");n.type="checkbox",n.oninput=()=>{let e=n.checked;this.connectivity=e,this.titleD.textContent="connectivity: "+e,this.init()},e.append(n),this.titleE=document.createElement("p"),this.titleE.textContent="distance: 0",e.append(this.titleE);let h=document.createElement("input");h.type="range",h.min="0",h.max="2000",h.defaultValue="0",h.oninput=()=>{let e=+h.value;this.distance=.001*e,this.titleE.textContent="distance: "+e,this.init()},e.append(h),this.scene.canvas.hostDiv.append(e)}init(){this.gridSystem=e4.O2.GetGrid(this.xNum,this.yNum,this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.mode)}RenderIndependentCanvas(e){e.save(),e.translate(.5*this.width,.5*this.height),e.scale(100,100),e.beginPath(),e.fillStyle="#ededed",e.rect(-(.5*this.width),-(.5*this.height),this.width,this.height),e.fill(),this.gridSystem.Update(),this.RenderLine(e),this.RenderPoints(e)}RenderLine(e){if(this.connectivity)for(let t=0;t<this.gridSystem.vs.length-1;++t)for(let i=t+1;i<this.gridSystem.vs.length;++i)this.gridSystem.vs[i].Distance(this.gridSystem.vs[t])<this.distance&&e4.gi.LineByVecs(e,this.gridSystem.vs[t],this.gridSystem.vs[i],.002,"rgba(0, 0, 255, 0.9)")}RenderPoints(e){e4.gi.PointByNVec(e,this.gridSystem.v0,.05),e4.gi.PointByNVec(e,this.gridSystem.v1,.05);for(let t=0;t<this.gridSystem.vs.length;++t)e4.gi.PointByNVec(e,this.gridSystem.vs[t],.01);e4.gi.Point(e,this.mouse.x,this.mouse.y,.01),e.restore()}MouseMove(e,t){let i=(e-.5*this.width)*.01,s=(t-.5*this.height)*.01;this.mouse.x=i,this.mouse.y=s}MouseDown(e,t){if(.1>this.mouse.Distance(this.p0)){this.capture=this.p0;return}if(.1>this.mouse.Distance(this.p1)){this.capture=this.p1;return}this.capture=void 0}MouseDrag(e,t){let i=(e-.5*this.width)*.01,s=(t-.5*this.height)*.01;this.mouse.x=i,this.mouse.y=s,this.capture&&(this.capture.x=i,this.capture.y=s,this.init())}constructor(e){super(e),this.mouse=new e4.h9(0,0),this.xNum=10,this.yNum=10,this.mode=0,this.connectivity=!1,this.distance=0,this.p0=new e4.h9(-1,-1),this.p1=new e4.h9(1,1),this.capture=void 0,this.indeCanvas.title="GridOptiA",this.init(),this.InitUI()}}class e8 extends d{InitUI(){let e=document.createElement("div");e.style.position="absolute",e.style.marginLeft="10px";let t=document.createElement("div");if(!t)return;e.append(t),t.style.cssFloat="left",t.innerHTML="x res: ";let i=document.createElement("input");if(i.oninput=()=>{let e=+i.value;this.pixelMap.rx=Math.floor(e)%2==0?Math.floor(e):Math.floor(e)+1,this.pixelMap.Init()},i.innerText="x res: ",i.type="range",i.min="6",i.max="40",i.value="15",i.style.cssFloat="left",i.style.marginRight="25px",e.append(i),!(t=document.createElement("div")))return;e.append(t),t.style.cssFloat="left",t.innerHTML="y res: ";let s=document.createElement("input");if(s.oninput=()=>{let e=+s.value;this.pixelMap.ry=Math.floor(e)%2==0?Math.floor(e):Math.floor(e)+1,this.pixelMap.Init()},s.type="range",s.min="6",s.max="40",s.value="15",s.style.cssFloat="left",e.append(s),!(t=document.createElement("div")))return;e.append(t),t.style.cssFloat="left",t.style.marginLeft="10px",t.innerHTML="Mode: ";let n=document.createElement("input");n.oninput=()=>{let e=+n.value;this.pixelMap.mode=e,this.pixelMap.Init()},n.type="range",n.min="0",n.max="5",n.value="0",n.style.cssFloat="left",n.style.width="50px",e.append(n),(t=document.createElement("div"))&&(e.append(t),t.style.cssFloat="left",t.style.marginLeft="10px",t.innerHTML="data : ",this.dataHtml=t,this.scene.implementation.app.divHost.append(e))}init(){this.pixelMap=new e7(new r.h9(100,100),new r.h9(400,300)),this.data=this.InitData(800,5,this.width-5,25,this.height-5,.5,4)}InitData(e,t,i,s,n,h,o){let a=[];for(let l=0;l<e;++l){let e=t+Math.random()*i,l=s+Math.random()*n,c=h+Math.random()*o;a.push(new r.h9(e,l,c))}return a}MouseDown(e,t){this.captureVec=this.pixelMap.IsHover(e,t)}MouseMove(e,t){if(this.pixelMap.MoveInspection(e,t),this.pixelMap.selPixel){let e=this.pixelMap.selPixel.data.num.toFixed(4);this.dataHtml.innerText="data: "+e;return}this.dataHtml.innerText="data: "}MouseDrag(e,t){this.captureVec&&this.pixelMap.DragControlPoint(e,t)}MouseUp(e,t){this.captureVec=void 0}RenderIndependentCanvas(e){for(let t=0;t<this.data.length;++t)e4.gi.PointByNVec(e,this.data[t],this.data[t].z,"rgba(0, 0, 0, 0.5)");this.pixelMap.UpdateData(this.data),this.pixelMap.RenderPixel(e),this.pixelMap.RenderCorner(e),this.pixelMap.RenderSelPixel(e)}constructor(e){super(e),this.data=[],this.p=[0,0],this.captureVec=void 0,this.init(),this.InitUI()}}class e7{IsHover(e,t){this.m.x=e,this.m.y=t;let i=this.pts[0][0];return 8>r.h9.Distance(this.m,i)?i:(i=this.pts[0][this.pts[0].length-1],8>r.h9.Distance(this.m,i))?i:(i=this.pts[this.pts.length-1][this.pts[0].length-1],8>r.h9.Distance(this.m,i))?i:(i=this.pts[this.pts.length-1][0],8>r.h9.Distance(this.m,i))?i:void 0}Move(e,t){this.MoveInspection(e,t)}MoveInspection(e,t){this.m.x=e,this.m.y=t;for(let e=0;e<this.listPixels.length;++e){if(r.h9.IsInsideOfVecs(this.m,this.listPixels[e].recVec)){this.selPixel=this.listPixels[e];return}this.selPixel=void 0}}DragControlPoint(e,t){this.m.x=e,this.m.y=t;let i=this.pts[0][0];60>r.h9.Distance(this.m,i)&&(this.v0.x=e,this.v0.y=t),i=this.pts[0][this.pts[0].length-1],60>r.h9.Distance(this.m,i)&&(this.v1.x=e,this.v0.y=t),i=this.pts[this.pts.length-1][this.pts[0].length-1],60>r.h9.Distance(this.m,i)&&(this.v1.x=e,this.v1.y=t),i=this.pts[this.pts.length-1][0],60>r.h9.Distance(this.m,i)&&(this.v0.x=e,this.v1.y=t),this.Init()}Init(){switch(this.ddx=(this.v1.x-this.v0.x)/(this.rx-1),this.ddy=(this.v1.y-this.v0.y)/(this.ry-1),this.pts=[],this.ptList=[],this.listPixels=[],this.InitGrid(),this.mode){case 0:this.ComputeRec();break;case 1:this.ComputeTriA();break;case 2:this.ComputeTriB();break;case 3:this.ComputeDia();break;case 4:this.ComputeLShape();break;default:this.ComputeHex()}}UpdateData(e){for(let e=0;e<this.listPixels.length;++e)this.listPixels[e].data.num=0;for(let t=0;t<e.length;++t){let i=e[t];for(let e=0;e<this.listPixels.length;++e)r.h9.IsInsideOfVecs(i,this.listPixels[e].recVec)&&(this.listPixels[e].data.num+=i.z)}}InitGrid(){this.pts=[];for(let e=0;e<this.ry;++e){let t=this.v0.y+e*this.ddy,i=[];for(let e=0;e<this.rx;++e){let s=this.v0.x+e*this.ddx,n=new r.h9(s,t,0);i.push(n),this.ptList.push(n)}this.pts.push(i)}}ComputeRec(){this.listPixels=[];for(let e=0;e<this.ry;e+=1)for(let t=0;t<this.rx;t+=1)if(t<this.rx-1&&e<this.ry-1){let i=new te(this);i.recVec.push(this.pts[e][t]),i.recVec.push(this.pts[e][t+1]),i.recVec.push(this.pts[e+1][t+1]),i.recVec.push(this.pts[e+1][t]),this.listPixels.push(i)}}ComputeTriA(){this.listPixels=[];for(let e=0;e<this.ry;e+=1)for(let t=0;t<this.rx;t+=1)if(t<this.rx-1&&e<this.ry-1){let i=new te(this);i.recVec.push(this.pts[e][t]),i.recVec.push(this.pts[e][t+1]),i.recVec.push(this.pts[e+1][t]),this.listPixels.push(i),(i=new te(this)).recVec.push(this.pts[e][t+1]),i.recVec.push(this.pts[e+1][t+1]),i.recVec.push(this.pts[e+1][t]),this.listPixels.push(i)}}ComputeDia(){this.listPixels=[];for(let e=0;e<this.ry;e+=1)for(let t=0;t<this.rx;t+=1)if(t<this.rx-2&&e<this.ry-1){let i=new te(this);i.recVec.push(this.pts[e][t]),i.recVec.push(this.pts[e][t+1]),i.recVec.push(this.pts[e+1][t+2]),i.recVec.push(this.pts[e+1][t+1]),this.listPixels.push(i)}}ComputeLShape(){this.listPixels=[];for(let e=0;e<this.ry;e+=3)for(let t=0;t<this.rx;t+=2)if(t<this.rx-2&&e<this.ry-2){let i=new te(this);i.recVec.push(this.pts[e][t]),i.recVec.push(this.pts[e][t+2]),i.recVec.push(this.pts[e+1][t+2]),i.recVec.push(this.pts[e+1][t+1]),i.recVec.push(this.pts[e+2][t+1]),i.recVec.push(this.pts[e+2][t]),this.listPixels.push(i),(i=new te(this)).recVec.push(this.pts[e+2][t]),i.recVec.push(this.pts[e+3][t]),i.recVec.push(this.pts[e+3][t+2]),i.recVec.push(this.pts[e+1][t+2]),i.recVec.push(this.pts[e+1][t+1]),i.recVec.push(this.pts[e+2][t+1]),this.listPixels.push(i)}}ComputeTriB(){this.listPixels=[];for(let e=0;e<this.ry;e+=1)for(let t=0;t<this.rx;t+=1)if(t<this.rx-1&&e<this.ry-1){let i=new te(this);i.recVec.push(this.pts[e][t]),i.recVec.push(this.pts[e][t+1]),i.recVec.push(this.pts[e+1][t+1]),this.listPixels.push(i),(i=new te(this)).recVec.push(this.pts[e][t]),i.recVec.push(this.pts[e+1][t+1]),i.recVec.push(this.pts[e+1][t]),this.listPixels.push(i)}}ComputeHex(){this.listPixels=[];let e=!0;for(let t=0;t<this.ry;t+=2){for(let i=0;i<this.rx;i+=2)if(e){if(i%2==0&&i<this.rx-2&&t%2==0&&t<this.ry-2){let e=new te(this);e.recVec.push(this.pts[t][i+1]),e.recVec.push(this.pts[t+1][i+2]),e.recVec.push(this.pts[t+2][i+2]),e.recVec.push(this.pts[t+3][i+1]),e.recVec.push(this.pts[t+2][i]),e.recVec.push(this.pts[t+1][i]),this.listPixels.push(e)}}else if(i%2==0&&i<this.rx-2&&t%2==0&&t<this.ry-2){let e=new te(this);e.recVec.push(this.pts[t][i+2]),e.recVec.push(this.pts[t+1][i+3]),e.recVec.push(this.pts[t+2][i+3]),e.recVec.push(this.pts[t+3][i+2]),e.recVec.push(this.pts[t+2][i+1]),e.recVec.push(this.pts[t+1][i+1]),this.listPixels.push(e)}e=!e}}RenderPixel(e){for(let t=0;t<this.listPixels.length;++t)this.listPixels[t].Render(e)}RenderCorner(e){let t=this.pts[0][0];e4.gi.PointByNVecAni(e,t,7,this.t,"rgba(255, 0, 0, 1)"),e.stroke(),t=this.pts[0][this.pts[0].length-1],e4.gi.PointByNVecAni(e,t,7,this.t,"rgba(255, 0, 0, 1)"),e.stroke(),t=this.pts[this.pts.length-1][this.pts[0].length-1],e4.gi.PointByNVecAni(e,t,7,this.t,"rgba(255, 0, 0, 1)"),e.stroke(),t=this.pts[this.pts.length-1][0],e4.gi.PointByNVecAni(e,t,7,this.t,"rgba(255, 0, 0, 1)"),e.stroke(),this.t+=.07}RenderSelPixel(e){if(this.selPixel){e.lineWidth=3,e.strokeStyle="#ffffff",e.beginPath(),e.moveTo(this.selPixel.recVec[0].x,this.selPixel.recVec[0].y);for(let t=1;t<this.selPixel.recVec.length;++t)e.lineTo(this.selPixel.recVec[t].x,this.selPixel.recVec[t].y);e.closePath(),e.stroke()}}constructor(e,t){this.pts=[],this.ptList=[],this.listPixels=[],this.t=0,this.mode=0,this.selPixel=void 0,this.v0=e,this.v1=t,this.rx=20,this.ry=20,this.ddx=0,this.ddy=0,this.m=new r.h9(0,0),this.Init()}}class te{static GetID(){return te.ID++}ToString(){return"Pixel"+this.id}Update(){}Render(e){e.lineWidth=1,e.strokeStyle="#000000",e.fillStyle="rgba(255, 0, 255, ".concat(.05*this.data.num," )"),e.beginPath(),e.moveTo(this.recVec[0].x,this.recVec[0].y);for(let t=1;t<this.recVec.length;++t)e.lineTo(this.recVec[t].x,this.recVec[t].y);e.closePath(),e.fill(),e.stroke()}constructor(e,t=new r.h9(0,0,0)){this.nPix=[],this.i=-1,this.j=-1,this.k=-1,this.u=-1,this.v=-1,this.color=[],this.map=e,this.vec=t,this.nPix=[],this.recVec=[],this.i=-1,this.j=-1,this.k=-1,this.id=te.GetID(),this.data={}}}te.ID=0;class tt extends d{init(){}RenderIndependentCanvas(e){e.fillStyle="#ff0000",e.beginPath(),e.arc(this.p[0],this.p[1],5,0,6.28),e.closePath(),e.fill()}MouseDown(e,t){this.p=[e,t]}constructor(e){super(e),this.p=[0,0]}}(n=o||(o={})).GridOptiA="GridOptiA",n.customBinSystemA="customBinSystemA",n.BallBounce="BallBounce",n.BallBounceClass="BallBounceClass",n.CircleGrid="CircleGrid",n.CircleGridAttractors1="CircleGridAttractors1",n.CircleGridAttractors2="CircleGridAttractors2",n.Line1="Line1",n.Line2="Line2",n.OOP01="OOP01",n.ColorPicker="ColorPicker",n.DynamicSystem01="DynamicSystem01",n.DynamicSystem02="DynamicSystem02",n.DynamicSystem03="DynamicSystem03",n.BoidSystem01="BoidSystem01",n.BoidSystem03="BoidSystem03",n.BoidSystem04="BoidSystem04",n.BoidSystemWander0="BoidSystemWander0",n.BoidSystemWander1="BoidSystemWander1",n.FireExit="FireExit",n.BaconsLaw="BaconsLaw",n.Cabbage="Cabbage",n.NumOfArea="NumOfArea",n.ComputerFinder="ComputerFinder",n.MazeExit="MazeExit",n.Koze="Koze",n.UnitMoving="UnitMoving",n.Tile="Tile",n.OKVIRI="OKVIRI",n.FluidSimulation="FluidSimulation",n.AlgorithmDFSBFS="AlgorithmDFSBFS",n.GaussianDistribution="GaussianDistribution",n.PerlinHeatmap="PerlinHeatmap",n.MatterSandbox="MatterSandbox";class ti{Init(){this.definitions=[]}get width(){return this.implementation.app.model.graphicsCoreWrapper.canvasWrapper.canvas.canvas.width}get height(){return this.implementation.app.model.graphicsCoreWrapper.canvasWrapper.canvas.canvas.height}InitDefinition(){for(let e of this.definitions)e.init(this.implementation.app.model.graphicsCoreWrapper.canvasWrapper.canvas.ctx)}Render(e){}MouseMove(e,t){for(let i of this.definitions)i.MouseMovePre(e,t)}MouseLeftClick(e,t){for(let i of this.definitions)i.MouseLeftClickPre(e,t)}MouseDown(e,t){for(let i of this.definitions)i.MouseDownPre(e,t)}MouseUp(e,t){for(let i of this.definitions)i.MouseUpPre(e,t)}MouseDrag(e,t){for(let i of this.definitions)i.MouseDragPre(e,t)}MouseMiddleClick(e,t){for(let i of this.definitions)i.MouseMiddleClickPre(e,t)}MouseRightClick(e,t){for(let i of this.definitions)i.MouseRightClickPre(e,t)}MouseDoubleClick(e,t){for(let i of this.definitions)i.MouseDoubleClickPre(e,t)}MouseWheel(e,t,i){for(let s of this.definitions)s.MouseWheelPre(e,t,i)}Dispose(){this.definitions=[]}LoadDefinition(e){"Blank"===e&&new tt(this).Dummy(),"GridOptiA"===e&&new e9(this).Dummy(),"customBinSystemA"===e&&new e8(this).Dummy(),"BallBounce"===e&&new u(this).Dummy(),"BallBounceClass"===e&&new p(this).Dummy(),"CircleGrid"===e&&new y(this).Dummy(),"CircleGridAttractors1"===e&&new f(this).Dummy(),"CircleGridAttractors2"===e&&new x(this).Dummy(),"Line1"===e&&new v(this).Dummy(),"Line2"===e&&new w(this).Dummy(),"OOP01"===e&&new J(this).Dummy(),"DynamicSystem01"===e&&new k(this).Dummy(),"DynamicSystem02"===e&&new H(this).Dummy(),"DynamicSystem03"===e&&new F(this).Dummy(),"BoidSystem01"===e&&new E(this).Dummy(),"BoidSystem03"===e&&new I(this).Dummy(),"BoidSystem04"===e&&new R(this).Dummy(),"BoidSystemWander0"===e&&new O(this).Dummy(),"BoidSystemWander1"===e&&new _(this).Dummy(),"FireExit"===e&&new eE(this).Dummy(),"BaconsLaw"===e&&new eb(this).Dummy(),"Cabbage"===e&&new eM(this).Dummy(),"NumOfArea"===e&&new eA(this).Dummy(),"ComputerFinder"===e&&new eO(this).Dummy(),"MazeExit"===e&&new ef(this).Dummy(),"Koze"===e&&new e_(this).Dummy(),"UnitMoving"===e&&new eB(this).Dummy(),"Tile"===e&&new eU(this).Dummy(),"OKVIRI"===e&&new ej(this).Dummy(),"ColorPicker"===e&&new ey(this).Dummy(),"PerlinHeatmap"===e&&new eo(this).Dummy(),"MatterSandbox"===e&&new q(this).Dummy(),"Building"===e&&new e0(this).Dummy(),"GaussianDistribution"===e&&new g(this).Dummy(),"AlgorithmDFSBFS"===e&&new eq(this).Dummy(),"temp"===e&&new ef(this).Dummy(),"temp"===e&&new ef(this).Dummy(),"temp"===e&&new ef(this).Dummy(),"temp"===e&&new ef(this).Dummy()}constructor(e){this.definitions=[],this.implementation=e,this.canvas=e.app.model.graphicsCoreWrapper.canvasWrapper.canvas,this.activeCommandController=new a(this),this.geomeetryCommon=new l(this),this.Init(),this.InitDefinition()}}},1758:function(e,t,i){i.d(t,{gj:function(){return s.gj},R7:function(){return s.R7},uh:function(){return s.uh},gk:function(){return s.gk},$H:function(){return s.$H},eu:function(){return s.eu},Fc:function(){return s.Fc},h9:function(){return s.h9}});var s=i(8483)},10952:function(e,t,i){i.r(t),i.d(t,{DynamicSpringTruss:function(){return T},STRUCTURE_TYPE:function(){return c},Solution:function(){return L}});class s{constructor(){}}class n{constructor(e){this.app=e}}var h,o,r,a,l,c,d=i(97776),u=i(78252),p=i(8483);(h=a||(a={})).PERSPECTIVE="PERSPECTIVE",h.ORTHOGRAPHIC="ORTHOGRAPHIC",h.STEREO="STEREO";class m{GetStereo(){}set aspect(e){"PERSPECTIVE"===this.type?this.cameraP.aspect=e:this.type}get aspect(){return this.width/this.height}get camera(){return"PERSPECTIVE"===this.type?this.cameraP:"ORTHOGRAPHIC"===this.type?this.cameraO:this.cameraP}GetPerspective(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;this.cameraP=new d.cPb(45,this.width/this.height,.01,1e4),this.cameraP.position.set(e,t,i),this.InitOrbitController()}GetOrthographic(){this.cameraO=new d.iKG(-(this.frustumSize*this.aspect/2),this.frustumSize*this.aspect/2,this.frustumSize/2,-(this.frustumSize/2),.01,5e4),this.cameraO.position.set(0,1,0),this.InitOrbitController()}InitOrbitController(){"PERSPECTIVE"===this.type?this.controls=new u.OrbitControls(this.cameraP,this.canvas.renderer.domElement):"ORTHOGRAPHIC"===this.type&&(this.controls=new u.OrbitControls(this.cameraO,this.canvas.renderer.domElement)),this.controls.minDistance=.01,this.controls.maxDistance=500,this.controls.enablePan=!0,this.controls.enableZoom=!0,this.yRotRate=this.rotateRate/this.width*Math.PI/90,this.xRotRate=this.rotateRate/this.height*Math.PI/180,this.xPanRate=this.panRate/this.width*this.zoomFactor,this.yPanRate=this.panRate/this.height*this.zoomFactor,this.zPanRate=this.zoomRate/this.height}EnableDamping(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.35;this.controls.enableDamping=e,this.controls.dampingFactor=t}MouseDown(e,t){this.initX=this.prevX=e,this.initY=this.prevY=t}MouseMove(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.ableToMove)return;let s=e-this.prevX,n=t-this.prevY;i?(this.controls.panLeft(s*this.xPanRate,this.cameraP.matrix),this.controls.panUp(n*this.yPanRate,this.cameraP.matrix)):(this.controls.rotateLeft(s*this.xRotRate),this.controls.rotateUp(n*this.yRotRate)),this.prevX=e,this.prevY=t}MouseWheel(e){this.controls.enableZoom=!0,e*=.1;let t=100*this.cameraP.position.length();this.zoomFactor=t,e>0?(this.cameraP.position.x*=.9,this.cameraP.position.y*=.9,this.cameraP.position.z*=.9):(this.cameraP.position.x*=1.1,this.cameraP.position.y*=1.1,this.cameraP.position.z*=1.1)}ShiftCamera(){this.cameraShift++,2===this.cameraShift&&(this.cameraShift=0),0===this.cameraShift?this.GetPerspective():1===this.cameraShift&&this.GetOrthographic()}MouseEventController(e){e.CLICK_TYPE===p.uh.DOWN&&this.MouseDown(e.x,e.y),e.CLICK_TYPE===p.uh.DRAG&&this.MouseMove(e.x,e.y,e.pressedShift),e.CLICK_TYPE===p.uh.WHEEL&&this.MouseWheel(e.wheel)}constructor(e,t,i,s="PERSPECTIVE"){this.initX=0,this.initY=0,this.prevX=0,this.prevY=0,this.rotateRate=150,this.panRate=50,this.zoomRate=200,this.zoomFactor=1,this.frustumSize=.001,this.cameraShift=0,this.ableToMove=!0,this.canvas=e,this.type=s,this.width=t,this.height=i,"PERSPECTIVE"===this.type?this.GetPerspective(0,10,50):"ORTHOGRAPHIC"===this.type?this.GetOrthographic():"STEREO"===this.type&&this.GetStereo(),this.stereoCamera=new d.u37}}class g{Init(){let e=this.hostDiv.clientWidth,t=this.hostDiv.clientHeight;this.renderer=new d.CP7({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(e/t),this.camera=new m(this,e,t),this.scene=new d.xsS,this.renderer.domElement.id="dynamic-spring",this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.pointerEvents="none",this.renderer.setSize(e,t),this.hostDiv.appendChild(this.renderer.domElement),this.RenderLoop(this)}RenderLoop(e){this.isActive&&(requestAnimationFrame(()=>{this.RenderLoop(this)}),this.UpdateBinding(),this.camera.controls.update(),this.renderer.render(this.scene,this.camera.camera))}UpdateBinding(){console.log("implementation needed")}ResizeCanvas(e,t){this.camera.aspect=e/t,this.camera.camera.updateProjectionMatrix(),this.renderer.setSize(e,t)}ResizeEffect(e,t){}Remove(){for(;this.scene.children.length;)this.scene.remove(this.scene.children[0])}constructor(e,t){this.bg=0,this.isActive=!0,this.canvasWrapper=e,this.hostDiv=t,this.Init()}}class y{constructor(e){this.graphicsCoreWrapper=e,this.canvasThree=new g(this,this.graphicsCoreWrapper.app.divHost)}}class f{Resize(e,t){this.canvasWrapper.canvasThree.ResizeCanvas(e,t)}Dispose(){this.canvasWrapper.canvasThree.isActive=!1}constructor(e){this.app=e,this.canvasWrapper=new y(this)}}class x{MouseEventController(e){if(this.scene.app.graphicsCoreWrapper.canvasWrapper.canvasThree.camera.MouseEventController(e),e.CLICK_TYPE===p.uh.LEFT){this.MouseLeftClickPre(e);return}if(e.CLICK_TYPE===p.uh.MIDDLE){this.MouseMiddleClickPre(e);return}if(e.CLICK_TYPE===p.uh.DOWN_RIGHT){this.MouseRightClickPre(e);return}if(e.CLICK_TYPE===p.uh.DOUBLE){this.MouseDoubleClickPre(e);return}if(e.CLICK_TYPE===p.uh.MOVE){this.MouseMovePre(e);return}if(e.CLICK_TYPE===p.uh.DRAG){this.MouseDragPre(e);return}if(e.CLICK_TYPE===p.uh.DOWN){this.MouseDownPre(e);return}else if(e.CLICK_TYPE===p.uh.UP){this.MouseUpPre(e);return}}MouseDown(e){}MouseDownPre(e){this.scene.MouseDown(e.x,e.y),this.MouseDown(e)}MouseLeftClick(e){}MouseLeftClickPre(e){this.MouseLeftClick(e)}MouseMiddleClick(e){}MouseMiddleClickPre(e){this.MouseMiddleClick(e)}MouseRightClick(e){}MouseRightClickPre(e){this.MouseRightClick(e)}MouseUp(e){}MouseUpPre(e){this.scene.MouseUp(e.x,e.y),this.MouseUp(e)}MouseDoubleClick(e){}MouseDoubleClickPre(e){this.MouseDoubleClick(e)}MouseMove(e){}MouseMovePre(e){this.scene.MouseMove(e.x,e.y),this.MouseMove(e)}MouseDrag(e){}MouseDragPre(e){this.scene.MouseDrag(e.x,e.y),this.MouseDrag(e)}constructor(e){this.scene=e}}class v{Raycast(e,t,i){this.m.x=e/this.scene.app.graphicsCoreWrapper.canvasWrapper.canvasThree.renderer.domElement.clientWidth*2-1,this.m.y=-(t/this.scene.app.graphicsCoreWrapper.canvasWrapper.canvasThree.renderer.domElement.clientHeight*2)+1,this.raycaster.setFromCamera(this.m,this.scene.app.graphicsCoreWrapper.canvasWrapper.canvasThree.camera.camera);let s=this.raycaster.intersectObjects(i);s.length>0&&console.log(s[0].point)}RaycastPoint(e,t,i){this.raycaster.params.Points={threshold:5},this.m.x=e/this.scene.app.graphicsCoreWrapper.canvasWrapper.canvasThree.renderer.domElement.clientWidth*2-1,this.m.y=-(t/this.scene.app.graphicsCoreWrapper.canvasWrapper.canvasThree.renderer.domElement.clientHeight*2)+1,this.raycaster.setFromCamera(this.m,this.scene.app.graphicsCoreWrapper.canvasWrapper.canvasThree.camera.camera);let s=this.raycaster.intersectObjects(i);if(s.length>0){let e=s[0];return[e.point.x,e.point.y,e.point.z]}return null}constructor(e){this.listMesh=[],this.raycaster=new d.iMs,this.m=new d.FM8(0,0),this.scene=e,this.raycaster.params.Points={threshold:.1}}}class M{Init(){this.hemiLight=new d.vmT(16777215,16777215,.6),this.hemiLight.color.setHSL(.6,1,.6),this.hemiLight.groundColor.setHSL(.095,1,.75),this.hemiLight.position.set(0,50,0),this.sceneWrapper.scene.add(this.hemiLight),this.dirLight=new d.Ox3(16777215,1),this.dirLight.color.setHSL(.1,1,.95),this.dirLight.position.set(-1,1.75,1),this.dirLight.position.multiplyScalar(30),this.dirLight.castShadow=!0,this.dirLight.shadow.mapSize.width=4096,this.dirLight.shadow.mapSize.height=4096,this.dirLight.shadow.camera.left=-50,this.dirLight.shadow.camera.right=50,this.dirLight.shadow.camera.top=50,this.dirLight.shadow.camera.bottom=-50,this.dirLight.shadow.bias=-.0001,this.dirLight.shadow.camera.near=.001,this.dirLight.shadow.camera.far=350,this.sceneWrapper.scene.add(this.dirLight)}Dispose(){this.dirLight.visible=!1,this.hemiLight.visible=!1,this.sceneWrapper.scene.remove(this.dirLight),this.sceneWrapper.scene.remove(this.hemiLight)}constructor(e){this.sceneWrapper=e,this.Init()}}(o=l||(l={})).particle="particle",o.particleLine="particleLine",o.thread="thread",o.grid="grid",o.fabric="fabric",o.curtain="curtain",o.tensileStructure="tensileStructure",o.network="network";class w{Move(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!this.Fixed&&(this.u.Mult(t),this.u.Add(p.h9.Scale(this.f,e/this.m)),this.p.Add(p.h9.Scale(this.u,e)),this.p.y<i&&(this.p.y=i,this.u.y<0&&(this.u.y=-this.u.y)))}constructor(e,t,i){this.p=p.h9.Origin(),this.f=p.h9.Origin(),this.u=p.h9.Origin(),this.m=0,this.Fixed=!1,this.isCapture=!1,this.p=new p.h9(e.x,e.y,e.z),this.u=new p.h9(t.x,t.y,t.z),this.m=i}}class P{ApplySpringForce(){let e=p.h9.Sub(this.n1.p,this.n0.p),t=e.Length();e.Unitize();let i=p.h9.Scale(e,(t-this.targetLength)*this.springConstant);this.n0.f=p.h9.Add(this.n0.f,i),this.n1.f=p.h9.Sub(this.n1.f,i)}constructor(e,t){this.targetLength=0,this.springConstant=.8,this.n0=e,this.n1=t,this.targetLength=this.n0.p.Distance(this.n1.p)}}class b{Graph(){}InitTemplate(e,t,i,s,n,h,o,r){let a=(n-i)/(e-1),l=(h-s)/(t-1);switch(r){case"particle":for(let t=0;t<e;++t)this.AddNode(new p.h9(.1*t,0,4),p.h9.Zero(),.2+.1*t);break;case"thread":for(let t=0;t<e;++t)this.AddNode(new p.h9(.1*t,0,4),p.h9.Zero(),1);for(let t=0;t<e-1;++t)this.AddEdge(this.nodes[t],this.nodes[t+1]);this.nodes[this.nodes.length-1].Fixed=!0;break;case"grid":for(let n=0;n<t;++n)for(let t=0;t<e;++t)this.AddNode(new p.h9(i+t*a,s+n*l,o),p.h9.Zero(),1);break;case"fabric":for(let n=0;n<t;++n)for(let t=0;t<e;++t)this.AddNode(new p.h9(i+t*a,s+n*l,o),p.h9.Origin(),1);for(let i=0;i<t;++i)for(let t=0;t<e;++t){let s=i*e+t;0!==t&&this.AddEdge(this.nodes[s-1],this.nodes[s]),0!==i&&this.AddEdge(this.nodes[s-e],this.nodes[s])}break;case"curtain":for(let n=0;n<t;++n)for(let t=0;t<e;++t)this.AddNode(new p.h9(i+t*a,s+n*l,o),p.h9.Zero(),1);for(let i=0;i<t;++i)for(let s=0;s<e;++s){let n=i*e+s;0!==s&&this.AddEdge(this.nodes[n-1],this.nodes[n]),0!==i&&this.AddEdge(this.nodes[n-e],this.nodes[n]),0!==s&&0!==i&&this.AddEdge(this.nodes[n-e-1],this.nodes[n]),0!==s&&i!==t-1&&this.AddEdge(this.nodes[n+e-1],this.nodes[n])}for(let t=0;t<e;++t)this.nodes[t].Fixed=!0;break;case"tensileStructure":for(let n=0;n<t;++n)for(let t=0;t<e;++t)this.AddNode(new p.h9(i+t*a,s+n*l,o),p.h9.Zero(),1);for(let i=0;i<t;++i)for(let s=0;s<e;++s){let n=i*e+s;0!==s&&this.AddEdge(this.nodes[n-1],this.nodes[n]),0!==i&&this.AddEdge(this.nodes[n-e],this.nodes[n]),0!==s&&0!==i&&this.AddEdge(this.nodes[n-e-1],this.nodes[n]),0!==s&&i!==t-1&&this.AddEdge(this.nodes[n+e-1],this.nodes[n])}for(let i=0;i<t;++i)this.nodes[i*e].Fixed=!0;for(let i of(this.nodes[e-1].Fixed=!0,this.nodes[e-1].p.z=0,this.nodes[t*e-1].Fixed=!0,this.nodes[e*t/2+e/2].Fixed=!0,this.nodes[e*t/2+e/2].p.z=0,this.edges))i.targetLength=.1;break;case"network":for(let e=0;e<200;++e)this.AddNode(new p.h9(-15+10*Math.random(),13+5*Math.random(),13+5*Math.random()),p.h9.Zero(),1);for(let e=0;e<this.nodes.length;++e)for(let t=e+1;t<this.nodes.length;++t).1>Math.random()&&(this.AddEdge(this.nodes[e],this.nodes[t]).targetLength=8*Math.random()+.3)}}InitGridXY(e,t,i,s,n,h,o){let r=(n-i)/(e-1),a=(h-s)/(t-1),l=this.nodes.length;for(let n=0;n<t;++n)for(let t=0;t<e;++t)this.AddNode(new p.h9(i+t*r,s+n*a,o),p.h9.Zero(),1);for(let i=0;i<t;++i)for(let s=0;s<e;++s){let n=i*e+s;0!==s&&this.AddEdge(this.nodes[l+n-1],this.nodes[l+n]),0!==i&&this.AddEdge(this.nodes[l+n-e],this.nodes[l+n]),0!==s&&0!==i&&this.AddEdge(this.nodes[l+n-e-1],this.nodes[l+n]),0!==s&&i!==t-1&&this.AddEdge(this.nodes[l+n+e-1],this.nodes[l+n])}}InitTruss(e,t,i){let s=1/(e-1),n=this.nodes.length;for(let n=0;n<e;++n){let e=t.Clone();e.x=t.x+(i.x-t.x)*n*s,this.AddNode(e,p.h9.Zero(),1),e.y=i.y,this.AddNode(e,p.h9.Zero(),1),e.z=i.z,this.AddNode(e,p.h9.Zero(),1),e.y=t.y,this.AddNode(e,p.h9.Zero(),1)}for(let t=0;t<e;++t){let i=4*t;this.AddEdge(this.nodes[n+i],this.nodes[n+i+1]),this.AddEdge(this.nodes[n+i+1],this.nodes[n+i+2]),this.AddEdge(this.nodes[n+i+2],this.nodes[n+i+3]),this.AddEdge(this.nodes[n+i+3],this.nodes[n+i]),this.AddEdge(this.nodes[n+i],this.nodes[n+i+2]),this.AddEdge(this.nodes[n+i+1],this.nodes[n+i+3]),t!==e-1&&(this.AddEdge(this.nodes[n+i],this.nodes[n+i+4]),this.AddEdge(this.nodes[n+i+1],this.nodes[n+i+5]),this.AddEdge(this.nodes[n+i+2],this.nodes[n+i+6]),this.AddEdge(this.nodes[n+i+3],this.nodes[n+i+7]),this.AddEdge(this.nodes[n+i],this.nodes[n+i+5]),this.AddEdge(this.nodes[n+i+1],this.nodes[n+i+6]),this.AddEdge(this.nodes[n+i+2],this.nodes[n+i+7]),this.AddEdge(this.nodes[n+i+3],this.nodes[n+i+4]),this.AddEdge(this.nodes[n+i],this.nodes[n+i+6]),this.AddEdge(this.nodes[n+i+1],this.nodes[n+i+7]),this.AddEdge(this.nodes[n+i+2],this.nodes[n+i+4]),this.AddEdge(this.nodes[n+i+3],this.nodes[n+i+5]),this.AddEdge(this.nodes[n+i],this.nodes[n+i+7]),this.AddEdge(this.nodes[n+i+1],this.nodes[n+i+4]),this.AddEdge(this.nodes[n+i+2],this.nodes[n+i+5]),this.AddEdge(this.nodes[n+i+3],this.nodes[n+i+6]))}for(let e of this.edges)e.springConstant=2;this.nodes[0].Fixed=!0,this.nodes[1].Fixed=!0,this.nodes[2].Fixed=!0,this.nodes[3].Fixed=!0}Clear(){this.nodes=[],this.edges=[]}AddNode(e,t,i){let s=new w(e,t,i);return this.nodes.push(s),s}AddEdge(e,t){let i=new P(e,t);return this.edges.push(i),i}Move(e,t,i,s,n,h){for(let o=0;o<h;++o){for(let t of this.nodes){let s=p.h9.Sub(e,t.p),n=s.Length();s.Unitize(),t.f=p.h9.Add(p.h9.Scale(s,.1*Math.exp(-.1*n*n)),p.h9.Scale(p.h9.YAxis(),i))}for(let e of this.edges)e.ApplySpringForce();for(let e of this.nodes)e.Move(s,t,n)}}FindNode(e,t,i){for(let s=0;s<this.nodes.length;++s)if(3>this.nodes[s].p.Distance(new p.h9(e,t,i)))return this.nodes[s]}constructor(){this.nodes=[],this.edges=[]}}class C{initGeometry(){this.geometry=new d.u9r,this.verticesArray=new Float32Array(3*this.num),this.geometry.setAttribute("position",new d.TlE(this.verticesArray,3))}initMaterial(){this.material=new d.UY4({color:16711680,size:1.15,opacity:.5,transparent:!0})}initPointCloud(){this.pointCloud=new d.woe(this.geometry,this.material),this.scene.add(this.pointCloud)}addInitialPoint(e,t,i){this.verticesArray[0]=e,this.verticesArray[1]=t,this.verticesArray[2]=i,this.updateGeometry()}click(){this.num+=100,console.log(this.num);let e=new Float32Array(3*this.num);for(let t=0;t<this.num;t++){let i=3*t;e[i]=2*Math.random()-1,e[i+1]=2*Math.random()-1,e[i+2]=2*Math.random()-1}this.verticesArray=e,this.updateGeometry()}updateGeometry(){this.geometry.setAttribute("position",new d.TlE(this.verticesArray,3)),this.geometry.attributes.position.needsUpdate=!0,this.geometry.computeBoundingSphere()}dispose(){this.scene.remove(this.pointCloud),this.geometry.dispose(),this.material.dispose()}constructor(e,t,i,s){this.num=100,this.scene=e,this.initGeometry(),this.initMaterial(),this.initPointCloud(),this.addInitialPoint(t,i,s)}}class D{initGeometry(){this.geometry=new d.u9r}initMaterial(){this.material=new d.nls({color:16711680,opacity:1,transparent:!0})}initLineSegments(){this.lineSegments=new d.ejS(this.geometry,this.material),this.scene.add(this.lineSegments)}add(e,t,i){this.vertices.push(e,t,i),this.updateGeometry()}addLine(e,t,i,s,n,h){this.vertices.push(e,t,i,s,n,h),this.updateGeometry()}updateGeometry(){let e=new Float32Array(this.vertices);this.geometry.setAttribute("position",new d.TlE(e,3)),this.geometry.attributes.position.needsUpdate=!0,this.geometry.computeBoundingSphere()}dispose(){this.scene.remove(this.lineSegments),this.geometry.dispose(),this.material.dispose()}clear(){this.vertices=[],this.updateGeometry()}constructor(e){this.vertices=[],this.scene=e,this.initGeometry(),this.initMaterial(),this.initLineSegments()}}(r=c||(c={})).Thread="Thread",r.Particle="Particle",r.ParticleLine="ParticleLine",r.TensileStructure="TensileStructure",r.Curtain="Curtain",r.Truss="Truss",r.Grid="Grid",r.Network="Network";class E{Init(e){switch(this.Graph=new b,e){case"Network":this.Graph.InitTemplate(10,10,-10,-10,0,10,10,l.network),this.Graph.nodes[0].Fixed=!0;break;case"Thread":this.Graph.InitTemplate(10,10,-10,-10,0,10,10,l.thread),this.Graph.nodes[0].Fixed=!0;break;case"Particle":this.Graph.InitTemplate(10,10,-10,-10,0,10,10,l.particle),this.Graph.nodes[0].Fixed=!0;break;case"ParticleLine":this.Graph.InitTemplate(10,10,-10,-10,0,10,10,l.particleLine);break;case"TensileStructure":this.Graph.InitTemplate(10,10,-10,-10,0,10,10,l.tensileStructure),this.Graph.nodes[0].Fixed=!0;break;case"Curtain":this.Graph.InitTemplate(10,10,-10,-10,0,10,10,l.curtain),this.Graph.nodes[0].Fixed=!0;break;case"Grid":this.Graph.InitGridXY(10,10,-10,-10,10,10,2),this.Graph.nodes[0].Fixed=!0,this.Graph.nodes[this.Graph.nodes.length-1].Fixed=!0;break;case"Truss":this.Graph.InitTruss(5,new p.h9(-20,20,-5),new p.h9(20,15,5))}for(let e=0;e<this.Graph.nodes.length;++e){let t=this.Graph.nodes[e];this.point.push(new C(this.scene,t.p.x,t.p.y,t.p.z))}this.Lines=new D(this.scene);for(let e=0;e<this.Graph.edges.length;++e){let t=this.Graph.edges[e];this.Lines.add(t.n0.p.x,t.n0.p.y,t.n0.p.z),this.Lines.add(t.n1.p.x,t.n1.p.y,t.n1.p.z)}}get capture(){return this._capture}set capture(e){e?e.isCapture=!0:this._capture&&(this._capture.isCapture=!1),this._capture=e}GetPointForRaycast(){let e=[];for(let t=0;t<this.point.length;++t)e.push(this.point[t].pointCloud);return e}Update(){var e,t;this.Graph.Move(new p.h9(100,10,10),this.damping,this.gravity,this.timeStep,this.groundZ,1);for(let e=0;e<this.Graph.nodes.length;++e){let t=this.Graph.nodes[e],i=this.point[e],s=t.p;i.geometry.attributes.position.array[0]=s.x,i.geometry.attributes.position.array[1]=s.y,i.geometry.attributes.position.array[2]=s.z,t.isCapture?i.material.color.setRGB(1,1,1):i.material.color.setRGB(1,0,0),i.geometry.attributes.position.needsUpdate=!0,i.material.needsUpdate=!0}let i=null===(t=this.Lines.geometry)||void 0===t?void 0:null===(e=t.attributes)||void 0===e?void 0:e.position;if(i&&i.array){let e=i.array;for(let t=0,i=0;t<this.Graph.edges.length;++t,i+=6){let s=this.Graph.edges[t],n=s.n0.p,h=s.n1.p;e[i]=n.x,e[i+1]=n.y,e[i+2]=n.z,e[i+3]=h.x,e[i+4]=h.y,e[i+5]=h.z}i.needsUpdate=!0}else console.error("Lines geometry or position attribute is not properly initialized")}MouseMove(e,t,i){this.capture}MouseDrag(e,t){this.capture&&(this.capture.p.x=e,this.capture.p.y=t)}MouseDown(e,t,i){let s=this.Graph.FindNode(e,t,i);s?this.capture=s:this.capture=void 0}MouseUp(){this.capture=void 0}Dispose(){for(let e of this.point)this.scene.remove(e.pointCloud),e.dispose();this.Lines.dispose()}constructor(e,t){this.point=[],this.damping=.96,this.gravity=-.032,this.timeStep=.316,this.groundZ=-9.26,this.m=new p.h9(0,0,0),this.scene=e,this.Init(t)}}class I{Init(e){this.definition=new E(this.scene,e)}Update(){var e;null===(e=this.definition)||void 0===e||e.Update()}MouseMove(e,t){let i=this.geometryCommon.RaycastPoint(e,t,this.definition.GetPointForRaycast());i&&this.definition.MouseMove(i[0],i[1],i[2])}MouseDown(e,t){let i=this.geometryCommon.RaycastPoint(e,t,this.definition.GetPointForRaycast());i&&(this.app.graphicsCoreWrapper.canvasWrapper.canvasThree.camera.ableToMove=!1,this.definition.MouseDown(i[0],i[1],i[2]))}MouseUp(e,t){this.definition.MouseUp(),this.app.graphicsCoreWrapper.canvasWrapper.canvasThree.camera.ableToMove=!0}MouseDrag(e,t){let i=this.geometryCommon.RaycastPoint(e,t,this.definition.GetPointForRaycast());i&&this.definition.MouseDrag(i[0],i[1])}Dispose(){this.definition.Dispose()}constructor(e,t){this.app=e,this.activeCommandController=new x(this),this.scene=this.app.graphicsCoreWrapper.canvasWrapper.canvasThree.scene,this.app.graphicsCoreWrapper.canvasWrapper.canvasThree.UpdateBinding=()=>{this.Update()},this.lightingController=new M(this),this.geometryCommon=new v(this),this.Init(t)}}class S{DeepCopy(){let e=new S(this.app);return e.x=this.x,e.y=this.y,e.z=this.z,e.preX=this.preX,e.preY=this.preY,e.preZ=this.preZ,e.pressedAlt=this.pressedAlt,e.pressedShift=this.pressedShift,e.pressedCtrl=this.pressedCtrl,e.isDoubleClick=this.isDoubleClick,e.isDown=this.isDown,e.isMove=this.isMove,e.lat=this.lat,e.long=this.long,e.wheel=this.wheel,e.preWheel=this.preWheel,e.yGLPicking=this.yGLPicking,e.CLICK_TYPE=this.CLICK_TYPE,e.native=this.native,e}constructor(e){this.x=-1,this.y=-1,this.z=-1,this.preX=-1,this.preY=-1,this.preZ=-1,this.CLICK_TYPE=p.uh.MOVE,this.isDown=!1,this.isDoubleClick=!1,this.isMove=!1,this.pressedShift=!1,this.pressedAlt=!1,this.pressedCtrl=!1,this.lat=-1,this.long=-1,this.wheel=0,this.preWheel=0,this.isActive=!0,null!=e&&(this.app=e)}}class R{InitNativeMouseEvent(e){e.onclick=e=>{this.prevent=!1,this.timer=setTimeout(()=>{this.prevent||(this.MouseClick(e),e.stopPropagation()),this.prevent=!1},this.delay)},e.ondblclick=e=>{clearTimeout(this.timer),this.prevent=!0,this.MouseDoubleClick(e)},e.onmousedown=e=>{this.MouseDown(e),e.stopPropagation()},e.onmouseup=e=>{this.MouseUp(e),e.stopPropagation()},e.onmousemove=e=>{this.MouseMove(e),e.stopPropagation()},e.addEventListener("wheel",e=>{this.MouseWheel(e,e.deltaY),e.stopPropagation()})}MouseDown(e){this.click=!0,this.down=!0;let t=this.CommonEventBuilder(e);t.CLICK_TYPE=p.uh.DOWN,t.isDown=!0,this.MouseEvenEmitting(t)}MouseClick(e){if(!this.click)return;let t=this.CommonEventBuilder(e);0===e.button?t.CLICK_TYPE=p.uh.LEFT:1===e.button?t.CLICK_TYPE=p.uh.MIDDLE:2===e.button&&(t.CLICK_TYPE=p.uh.RIGHT),this.MouseEvenEmitting(t)}MouseDoubleClick(e){let t=this.CommonEventBuilder(e);t.CLICK_TYPE=p.uh.DOUBLE,this.MouseEvenEmitting(t)}MouseDrag(e){this.click=!1,this.prevent=!0;let t=this.CommonEventBuilder(e);t.CLICK_TYPE=p.uh.DRAG,t.isDown=!0,1===e.buttons?t.CLICK_TYPE=p.uh.DRAG:4===e.buttons?t.CLICK_TYPE=p.uh.DRAG_MIDDLE:2===e.buttons&&(t.CLICK_TYPE=p.uh.DRAG_RIGHT),this.MouseEvenEmitting(t)}MouseMove(e){if(this.down){this.MouseDrag(e);return}let t=this.CommonEventBuilder(e);t.CLICK_TYPE=p.uh.MOVE,t.isDown=!0,this.prevent=!0,this.MouseEvenEmitting(t)}MouseUp(e){this.down=!1,this.click=!0;let t=this.CommonEventBuilder(e);t.CLICK_TYPE=p.uh.UP,t.isDown=!1,this.MouseEvenEmitting(t)}MouseWheel(e,t){let i=this.CommonEventBuilder(e);i.wheel=t,i.CLICK_TYPE=p.uh.WHEEL,this.MouseEvenEmitting(i)}CommonEventBuilder(e){let t=new S(this.app);return t.preX=this.mouseEventDataPre.x,t.preY=this.mouseEventDataPre.y,t.pressedShift=e.shiftKey,t.pressedAlt=e.altKey,t.pressedCtrl=e.ctrlKey,t.x=e.offsetX,t.y=e.offsetY,t.preWheel=this.mouseEventDataPre.wheel,t.wheel=0,t.native=e,this.mouseEventDataPre=t,this.e=t,t}get stopPropagation(){return this._stopPropagation}set stopPropagation(e){e?this._stopPropagation=e:setTimeout(()=>{this._stopPropagation=e},500)}MouseEvenEmitting(e){this.app.MouseEventController(e)}constructor(e){this.mouseEventDataPre=new S,this.isEnable=!0,this.clickCount=0,this.click=!1,this.prevent=!1,this.delay=250,this.down=!1,this._stopPropagation=!1,this.app=e}}class A{constructor(e){this.app=e,this.mouseInteraction=new R(this.app),this.mouseInteraction.InitNativeMouseEvent(this.app.divHost)}}class T{static Init(e,t){new T(e,t)}MouseEventController(e){this.sceneWrapper.activeCommandController.MouseEventController(e)}Resize(e,t){this.graphicsCoreWrapper.Resize(e,t)}Dispose(){this.graphicsCoreWrapper.Dispose(),this.sceneWrapper.Dispose()}Dummy(){}constructor(e,t){let i=document.getElementById(e);i&&(this.divHost=i),this.asset=new s,this.viewWrapper=new n(this),this.graphicsCoreWrapper=new f(this),this.sceneWrapper=new I(this,t),this.io=new A(this)}}class L{destroy(){if(this.divHost)try{for(;this.divHost.firstChild;)this.divHost.removeChild(this.divHost.firstChild)}catch(e){console.error("Error in destroy method:",e)}else console.warn("divHost is undefined in destroy method")}constructor(e,t){this.divHost=document.getElementById(e);let i=document.createElement("div");i.id="n-dynamic-truss",i.style.width="100%",i.style.height="100%",this.divHost.appendChild(i),T.Init(i.id,t)}}},88832:function(e,t,i){var s,n;i.r(t),i.d(t,{Solution:function(){return h},TISTORY_PAGE:function(){return s}}),(n=s||(s={}))[n.KeyLecturesDataDesignComputation=68]="KeyLecturesDataDesignComputation",n[n.OpenLecturesNJChannel=43]="OpenLecturesNJChannel",n[n.DataDesign=50]="DataDesign",n[n.ComputationalDesignThinkingDesigners=51]="ComputationalDesignThinkingDesigners",n[n.CodeForDesignDataAndProgramming=54]="CodeForDesignDataAndProgramming",n[n.GeometryData=61]="GeometryData",n[n.GeometryDataStructure=23]="GeometryDataStructure",n[n.VectorPoint=39]="VectorPoint",n[n.Raster=51]="Raster",n[n.AIforDesigners=55]="AIforDesigners",n[n.WorkshopDataStructureAlgorithmDesignResearch=67]="WorkshopDataStructureAlgorithmDesignResearch",n[n.CheatSheetPythonPandasNumpySKlearn=59]="CheatSheetPythonPandasNumpySKlearn",n[n.CheatSheetMachineLearningDeepLearningArtificialIntelligence=60]="CheatSheetMachineLearningDeepLearningArtificialIntelligence",n[n.ThirdPlaceAnalysisImplementation=52]="ThirdPlaceAnalysisImplementation",n[n.Research=10]="Research",n[n.DiscreteUrbanSpaceAndConnectivity=56]="DiscreteUrbanSpaceAndConnectivity",n[n.ClusteringPointsCollisionBasedDynamicGraphMethod=58]="ClusteringPointsCollisionBasedDynamicGraphMethod",n[n.DigitalMappingUsingArcGISJSAPI=57]="DigitalMappingUsingArcGISJSAPI",n[n.QnA=2]="QnA",n[n.ComputationalDesignCreativeCoding=3]="ComputationalDesignCreativeCoding",n[n.NJStory=4]="NJStory",n[n.HarvardGSD=5]="HarvardGSD",n[n.SurvivalKit=6]="SurvivalKit",n[n.MITSENSEableCityLab=7]="MITSENSEableCityLab",n[n.BBoyNJ=8]="BBoyNJ",n[n.AIDataForDesign=29]="AIDataForDesign",n[n.OpenLecture=62]="OpenLecture",n[n.OpenTalk=63]="OpenTalk",n[n.OpenLab=63]="OpenLab",n[n.DesignVisualization=11]="DesignVisualization",n[n.DesignComputationProjects=13]="DesignComputationProjects",n[n.GrasshopperCSharpEpisodeA=14]="GrasshopperCSharpEpisodeA",n[n.GrasshopperCSharpEpisodeB=15]="GrasshopperCSharpEpisodeB",n[n.DigitalFUTURESWorldWorkshopFullVersionKOR=16]="DigitalFUTURESWorldWorkshopFullVersionKOR",n[n.ColorDesignData=17]="ColorDesignData",n[n.DigitalMappingWorkshopRhinoGrasshopperPythonKOR=18]="DigitalMappingWorkshopRhinoGrasshopperPythonKOR",n[n.SA7Unit2=19]="SA7Unit2",n[n.PythonForDesigners=20]="PythonForDesigners",n[n.EpisodeARhinoPython=21]="EpisodeARhinoPython",n[n.EpisodeBComponentChallengePython=25]="EpisodeBComponentChallengePython",n[n.UnityDesignScriptingVisualization=27]="UnityDesignScriptingVisualization",n[n.DigitalMappingDataVisualization=31]="DigitalMappingDataVisualization",n[n.WorkshopCsharpSyntax=38]="WorkshopCsharpSyntax",n[n.WorkshopArchitecturalAnimationVisualization=34]="WorkshopArchitecturalAnimationVisualization",n[n.WorkshopRhino3d=35]="WorkshopRhino3d",n[n.WorkshopPluginAddonLib=36]="WorkshopPluginAddonLib",n[n.WorkshopCADAppStarter=40]="WorkshopCADAppStarter",n[n.Lecture2021IntroComputation=37]="Lecture2021IntroComputation",n[n.Lecture2022IntroComputation=48]="Lecture2022IntroComputation",n[n.WorkshopDesignScriptingVisualizationWebApp=42]="WorkshopDesignScriptingVisualizationWebApp",n[n.WorkshopRhinoGrasshopper=46]="WorkshopRhinoGrasshopper",n[n.WorkSnippetComputationalDesign=41]="WorkSnippetComputationalDesign",n[n.WorkSnippetComputationalLecture=47]="WorkSnippetComputationalLecture",n[n.MediaPublications=33]="MediaPublications",n[n.NJSSocialNetworks=44]="NJSSocialNetworks",n[n.CareerCounselingStudyAbroad=45]="CareerCounselingStudyAbroad",n[n.HeechanBIMStory=9]="HeechanBIMStory",n[n.UrbanRegeneration=26]="UrbanRegeneration",n[n.CodeForDesignGroup=12]="CodeForDesignGroup",n[n.SmallTalkInterview=22]="SmallTalkInterview",n[n.BookIntroComputationIndex=49]="BookIntroComputationIndex",n[n.IntroComputationIndex=30]="IntroComputationIndex",n[n.architecturalRepresentationAnimation=32]="architecturalRepresentationAnimation";class h{destroy(){for(;this.hostDiv.lastElementChild;)this.hostDiv.removeChild(this.hostDiv.lastElementChild)}constructor(e,t){this.hostDiv=document.getElementById(e);let i=document.createElement("iframe");i.src="https://computationaldesign.tistory.com/".concat(t.pageID),i.width="100%",i.height="100%",i.style.border="none",i.style.background="#fff",this.hostDiv.appendChild(i)}}},69593:function(e){e.exports=JSON.parse('{"colBG":"#ffffff","colSection":"#777777","colText":"#333333","colTextHover":"#ffffff","colTextDisable":"#cccccc","colSelectedBG":"#000000","colSelectedText":"#ffffff","widthEach":250,"heightEach":23,"textYOff":15,"font":"normal 12px arial","animationSpeed":0.195,"textAlign":"left","toolbarBG":"#cccccc","toolbarFG":"#ffffff"}')},60253:function(e){e.exports=JSON.parse('{"colBG":"#ffffff","colSection":"#777777","colText":"#333333","colTextHover":"#ffffff","colTextDisable":"#cccccc","colSelectedBG":"#0080FF","colSelectedText":"#ffffff","widthEach":250,"heightEach":20,"textYOff":15,"font":"normal 11px arial","animationSpeed":0.195,"textAlign":"left","toolbarBG":"#cccccc","toolbarFG":"#ffffff"}')},92924:function(e){e.exports=JSON.parse('{"colBG":"#ffffff","colSection":"#777777","colText":"#333333","colTextHover":"#ffffff","colTextDisable":"#cccccc","colSelectedBG":"#575757","colSelectedText":"#ffffff","widthEach":250,"heightEach":20,"textYOff":15,"font":"normal 11px arial","animationSpeed":0.195,"textAlign":"left","toolbarBG":"#cccccc","toolbarFG":"#ffffff"}')},56469:function(e){e.exports=JSON.parse('{"colBG":"#ffffff","colSection":"#777777","colText":"#333333","colTextHover":"#ffffff","colTextDisable":"#cccccc","colSelectedBG":"#cccccc","colSelectedText":"#ffffff","widthEach":250,"heightEach":20,"textYOff":15,"font":"normal 11px arial","animationSpeed":0.195,"textAlign":"left","toolbarBG":"#cccccc","toolbarFG":"#ffffff"}')},79796:function(e){e.exports=JSON.parse('{"colBG":"#ffffff","colSection":"#777777","colText":"#333333","colTextHover":"#ffffff","colTextDisable":"#cccccc","colSelectedBG":"#29AB87","colSelectedText":"#ffffff","widthEach":250,"heightEach":22,"textYOff":15,"font":"normal 11px arial","animationSpeed":0.195,"textAlign":"left","toolbarBG":"#cccccc","toolbarFG":"#ffffff"}')},88917:function(e){e.exports=JSON.parse('{"colBG":"#ffffff","colSection":"#777777","colText":"#333333","colTextHover":"#ffffff","colTextDisable":"#cccccc","colSelectedBG":"#ffa500","colSelectedText":"#ffffff","widthEach":250,"heightEach":22,"textYOff":15,"font":"normal 11px arial","animationSpeed":0.195,"textAlign":"left","toolbarBG":"#cccccc","toolbarFG":"#ffffff"}')},71233:function(e){e.exports=JSON.parse('{"colBG":"#ffffff","colSection":"#777777","colText":"#333333","colTextHover":"#ffffff","colTextDisable":"#cccccc","colSelectedBG":"#9400D3","colSelectedText":"#ffffff","widthEach":300,"heightEach":22,"textYOff":15,"font":"normal 12px arial","animationSpeed":0.195,"textAlign":"left","toolbarBG":"#cccccc","toolbarFG":"#ffffff"}')},80054:function(e){e.exports=JSON.parse('{"colBG":"#ffffff","colSection":"#777777","colText":"#333333","colTextHover":"#ffffff","colTextDisable":"#cccccc","colSelectedBG":"#ff0000","colSelectedText":"#ffffff","widthEach":250,"heightEach":20,"textYOff":15,"font":"normal 11px arial","animationSpeed":0.195,"textAlign":"left","toolbarBG":"#cccccc","toolbarFG":"#ffffff"}')}}]);