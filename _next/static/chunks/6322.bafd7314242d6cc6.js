"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6322],{91870:function(e,t,n){n.d(t,{a:function(){return S},b:function(){return c},c:function(){return i},e:function(){return _},f:function(){return o},g:function(){return m},i:function(){return p},j:function(){return y},l:function(){return g},n:function(){return h},s:function(){return s},t:function(){return b}});var r=n(77584);function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function s(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function o(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function u(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function a(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function l(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function c(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function d(e,t){let n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],s=t[3]-e[3];return Math.sqrt(n*n+r*r+i*i+s*s)}function f(e,t){let n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],s=t[3]-e[3];return n*n+r*r+i*i+s*s}function p(e){let t=e[0],n=e[1],r=e[2],i=e[3];return Math.sqrt(t*t+n*n+r*r+i*i)}function y(e){let t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i}function h(e,t){let n=t[0],r=t[1],i=t[2],s=t[3],o=n*n+r*r+i*i+s*s;return o>0&&(o=1/Math.sqrt(o),e[0]=n*o,e[1]=r*o,e[2]=i*o,e[3]=s*o),e}function m(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function g(e,t,n,r){let i=t[0],s=t[1],o=t[2],u=t[3];return e[0]=i+r*(n[0]-i),e[1]=s+r*(n[1]-s),e[2]=o+r*(n[2]-o),e[3]=u+r*(n[3]-u),e}function b(e,t,n){let r=t[0],i=t[1],s=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*s+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*s+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*s+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*s+n[15]*o,e}function S(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function _(e,t){let n=e[0],i=e[1],s=e[2],o=e[3],u=t[0],a=t[1],l=t[2],c=t[3],d=(0,r.bn)();return Math.abs(n-u)<=d*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-a)<=d*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(s-l)<=d*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(o-c)<=d*Math.max(1,Math.abs(o),Math.abs(c))}Object.freeze(Object.defineProperty({__proto__:null,add:o,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},copy:i,copyVec3:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},dist:d,distance:d,div:l,divide:l,dot:m,equals:_,exactEquals:S,floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},len:p,length:p,lerp:g,max:function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e},min:function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e},mul:a,multiply:a,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},normalize:h,random:function(e,t){let n,i,s,o,u,a;let l=r.FD;t=t||1;do u=(n=2*l()-1)*n+(i=2*l()-1)*i;while(u>=1);do a=(s=2*l()-1)*s+(o=2*l()-1)*o;while(a>=1);let c=Math.sqrt((1-u)/a);return e[0]=t*n,e[1]=t*i,e[2]=t*s*c,e[3]=t*o*c,e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},scale:c,scaleAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e},set:s,sqrDist:f,sqrLen:y,squaredDistance:f,squaredLength:y,str:function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},sub:u,subtract:u,transformMat4:b,transformQuat:function(e,t,n){let r=t[0],i=t[1],s=t[2],o=n[0],u=n[1],a=n[2],l=n[3],c=l*r+u*s-a*i,d=l*i+a*r-o*s,f=l*s+o*i-u*r,p=-o*r-u*i-a*s;return e[0]=c*l+-(p*o)+-(d*a)- -(f*u),e[1]=d*l+-(p*u)+-(f*o)- -(c*a),e[2]=f*l+-(p*a)+-(c*u)- -(d*o),e[3]=t[3],e}},Symbol.toStringTag,{value:"Module"}))},37966:function(e,t,n){function r(e){return null!=u(e)||null!=o(e)}function i(e){return a.test(e)}function s(e){return u(e)??o(e)}function o(e){let t=new Date(e);return!function(e,t){if(Number.isNaN(e.getTime()))return!1;let n=!0;if(c&&/\d+\W*$/.test(t)){let e=t.match(/[a-zA-Z]{2,}/);if(e){let t=!1,r=0;for(;!t&&r<=e.length;)t=!l.test(e[r]),r++;n=!t}}return n}(t,e)?null:Number.isNaN(t.getTime())?null:t.getTime()-6e4*t.getTimezoneOffset()}function u(e){let t;let n=a.exec(e);if(!n?.groups)return null;let r=n.groups,i=+r.year,s=+r.month-1,o=+r.day,u=+(r.hours??"0"),l=+(r.minutes??"0"),c=+(r.seconds??"0");if(u>23||l>59||c>59)return null;let d=r.ms??"0",f=d?+d.padEnd(3,"0").substring(0,3):0;if(r.isUTC||!r.offsetSign)t=Date.UTC(i,s,o,u,l,c,f);else{let e=+r.offsetHours,n=+r.offsetMinutes;t=6e4*("+"===r.offsetSign?-1:1)*(60*e+n)+Date.UTC(i,s,o,u,l,c,f)}return Number.isNaN(t)?null:t}n.d(t,{mu:function(){return i},of:function(){return r},sG:function(){return s}});let a=/^(?:(?<year>-?\d{4,})-(?<month>\d{2})-(?<day>\d{2}))(?:T(?<hours>\d{2}):(?<minutes>\d{2}):(?<seconds>\d{2})(?:\.(?<ms>\d+))?)?(?:(?<isUTC>Z)|(?:(?<offsetSign>\+|-)(?<offsetHours>\d{2}):(?<offsetMinutes>\d{2})))?$/,l=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,c=!Number.isNaN(new Date("technology 10").getTime())},40465:function(e,t,n){function r(){return[0,0,0,0]}function i(e,t,n,r){return[e,t,n,r]}function s(){return r()}function o(){return i(1,1,1,1)}function u(){return i(1,0,0,0)}function a(){return i(0,1,0,0)}function l(){return i(0,0,1,0)}function c(){return i(0,0,0,1)}n.d(t,{Ue:function(){return r},al:function(){return i}});let d=s(),f=o(),p=u(),y=a(),h=l();Object.freeze(Object.defineProperty({__proto__:null,ONES:f,UNIT_W:c(),UNIT_X:p,UNIT_Y:y,UNIT_Z:h,ZEROS:d,clone:function(e){return[e[0],e[1],e[2],e[3]]},create:r,createView:function(e,t){return new Float64Array(e,t,4)},fromArray:function(e,t=r()){let n=Math.min(4,e.length);for(let r=0;r<n;++r)t[r]=e[r];return t},fromValues:i,ones:o,unitW:c,unitX:u,unitY:a,unitZ:l,zeros:s},Symbol.toStringTag,{value:"Module"}))},71961:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r=n(54748),i=n(27817),s=n(94605),o=n(65223),u=n(31124),a=n(5005),l=n(62329),c=n(83339),d=n(33362),f=n(26978),p=n(71416),y=n(85536),h=n(43859),m=n(75977),g=n(32370),b=n(13647),S=n(67009),_=n(46200);let F={hasAttachments:!1,capabilities:"query, editing, create, delete, update",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}};class w{constructor(){this._queryEngine=null,this._snapshotFeatures=async e=>{let t=await this._fetch(e);return this._createFeatures(t)}}destroy(){this._queryEngine?.destroy(),this._queryEngine=this._createDefaultAttributes=null}async load(e,t={}){this._loadOptions={url:e.url,customParameters:e.customParameters};let n=[],[r]=await Promise.all([e.url?this._fetch(t?.signal):null,this._checkProjection(e.spatialReference)]),i=(0,y.my)(r,{geometryType:e.geometryType}),o=e.fields||i.fields||[],u=null!=e.hasZ?e.hasZ:i.hasZ,a=i.geometryType,c=e.objectIdField||i.objectIdFieldName||"__OBJECTID",f=e.spatialReference||l.YU,m=e.timeInfo;o===i.fields&&i.unknownFields.length>0&&n.push({name:"geojson-layer:unknown-field-types",message:"Some fields types couldn't be inferred from the features and were dropped",details:{unknownFields:i.unknownFields}});let w=new g.Z(o),I=w.get(c);I?("esriFieldTypeString"!==I.type&&(I.type="esriFieldTypeOID"),I.editable=!1,I.nullable=!1,c=I.name):(I={alias:c,name:c,type:"string"===i.objectIdFieldType?"esriFieldTypeString":"esriFieldTypeOID",editable:!1,nullable:!1},o.unshift(I));let T={};for(let e of o){if(null==e.name&&(e.name=e.alias),null==e.alias&&(e.alias=e.name),!e.name)throw new s.Z("geojson-layer:invalid-field-name","field name is missing",{field:e});if(!b.v.jsonValues.includes(e.type))throw new s.Z("geojson-layer:invalid-field-type",`invalid type for field "${e.name}"`,{field:e});if(e.name!==I.name){let t=(0,S.os)(e);void 0!==t&&(T[e.name]=t)}null==e.length&&(e.length=(0,S.ZR)(e))}if(m){if(m.startTimeField){let e=w.get(m.startTimeField);e?(m.startTimeField=e.name,e.type="esriFieldTypeDate"):m.startTimeField=null}if(m.endTimeField){let e=w.get(m.endTimeField);e?(m.endTimeField=e.name,e.type="esriFieldTypeDate"):m.endTimeField=null}if(m.trackIdField){let e=w.get(m.trackIdField);e?m.trackIdField=e.name:(m.trackIdField=null,n.push({name:"geojson-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:m}}))}m.startTimeField||m.endTimeField||(n.push({name:"geojson-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing",details:{timeInfo:m}}),m=null)}let E=a?(0,h.bU)(a):void 0,M=w.dateFields.length?{timeZoneIANA:_.pt}:null,q={warnings:n,featureErrors:[],layerDefinition:{...F,drawingInfo:E??void 0,templates:(0,h.Hq)(T),extent:void 0,geometryType:a,objectIdField:c,fields:o,hasZ:!!u,timeInfo:m,dateFieldsTimeReference:M}};this._queryEngine=new p.q({fieldsIndex:g.Z.fromLayerJSON({fields:o,timeInfo:m,dateFieldsTimeReference:M}),geometryType:a,hasM:!1,hasZ:u,objectIdField:c,spatialReference:f,timeInfo:m,featureStore:new d.Z({geometryType:a,hasM:!1,hasZ:u}),cacheSpatialQueries:!0});let j=this._queryEngine.fieldsIndex.requiredFields.indexOf(I);j>-1&&this._queryEngine.fieldsIndex.requiredFields.splice(j,1),this._createDefaultAttributes=(0,h.Dm)(T,c);let x=await this._createFeatures(r);this._objectIdGenerator=this._createObjectIdGenerator(this._queryEngine,x);let O=this._normalizeFeatures(x,q.featureErrors);this._queryEngine.featureStore.addMany(O);let{fullExtent:P,timeExtent:R}=await this._queryEngine.fetchRecomputedExtents();if(q.layerDefinition.extent=P,R){let{start:e,end:t}=R;q.layerDefinition.timeInfo.timeExtent=[e,t]}return q}async applyEdits(e){let{spatialReference:t,geometryType:n}=this._queryEngine;return await Promise.all([(0,m.b)(t,n),(0,f._W)(e.adds,t),(0,f._W)(e.updates,t)]),await this._waitSnapshotComplete(),this._applyEdits(e)}async queryFeatures(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForExtent(e,t.signal)}async querySnapping(e,t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForSnapping(e,t.signal)}async refresh(e){this._loadOptions.customParameters=e,this._snapshotTask?.abort(),this._snapshotTask=(0,i.vr)(this._snapshotFeatures),this._snapshotTask.promise.then(e=>{this._queryEngine.featureStore.clear(),this._objectIdGenerator=this._createObjectIdGenerator(this._queryEngine,e);let t=this._normalizeFeatures(e);t&&this._queryEngine.featureStore.addMany(t)},e=>{this._queryEngine.featureStore.clear(),(0,u.D_)(e)||o.Z.getLogger("esri.layers.GeoJSONLayer").error(new s.Z("geojson-layer:refresh","An error occurred during refresh",{error:e}))}),await this._waitSnapshotComplete();let{fullExtent:t,timeExtent:n}=await this._queryEngine.fetchRecomputedExtents();return{extent:t,timeExtent:n}}async _createFeatures(e){if(null==e)return[];let{geometryType:t,hasZ:n,objectIdField:r}=this._queryEngine,i=(0,y.lG)(e,{geometryType:t,hasZ:n,objectIdField:r});if(!(0,l.fS)(this._queryEngine.spatialReference,l.YU))for(let e of i)null!=e.geometry&&(e.geometry=(0,c.GH)((0,f.iV)((0,c.di)(e.geometry,this._queryEngine.geometryType,this._queryEngine.hasZ,!1),l.YU,this._queryEngine.spatialReference)));return i}async _waitSnapshotComplete(){if(this._snapshotTask&&!this._snapshotTask.finished){try{await this._snapshotTask.promise}catch{}return this._waitSnapshotComplete()}}async _fetch(e){let{url:t,customParameters:n}=this._loadOptions,i=(await (0,r.Z)(t??"",{responseType:"json",query:{...n},signal:e})).data;return(0,y.O3)(i),i}_normalizeFeatures(e,t){let{objectIdField:n,fieldsIndex:r}=this._queryEngine,i=[];for(let s of e){let e=this._createDefaultAttributes(),o=(0,m.O0)(r,e,s.attributes,!0);o?t?.push(o):(this._assignObjectId(e,s.attributes,!0),s.attributes=e,s.objectId=e[n],i.push(s))}return i}async _applyEdits(e){let{adds:t,updates:n,deletes:r}=e,i={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(t?.length&&this._applyAddEdits(i,t),n?.length&&this._applyUpdateEdits(i,n),r?.length){for(let e of r)i.deleteResults.push((0,m.d1)(e));this._queryEngine.featureStore.removeManyById(r)}let{fullExtent:s,timeExtent:o}=await this._queryEngine.fetchRecomputedExtents();return{extent:s,timeExtent:o,featureEditResults:i}}_applyAddEdits(e,t){let{addResults:n}=e,{geometryType:r,hasM:i,hasZ:s,objectIdField:o,spatialReference:u,featureStore:l,fieldsIndex:d}=this._queryEngine,p=[];for(let i of t){if(i.geometry&&r!==(0,a.Ji)(i.geometry)){n.push((0,m.av)("Incorrect geometry type."));continue}let t=this._createDefaultAttributes(),s=(0,m.O0)(d,t,i.attributes);if(s)n.push(s);else{if(this._assignObjectId(t,i.attributes),i.attributes=t,null!=i.uid){let t=i.attributes[o];e.uidToObjectId[i.uid]=t}if(null!=i.geometry){let e=i.geometry.spatialReference??u;i.geometry=(0,f.iV)((0,m.og)(i.geometry,e),e,u)}p.push(i),n.push((0,m.d1)(i.attributes[o]))}}l.addMany((0,c.Yn)([],p,r,s,i,o))}_applyUpdateEdits({updateResults:e},t){let{geometryType:n,hasM:r,hasZ:i,objectIdField:s,spatialReference:o,featureStore:u,fieldsIndex:l}=this._queryEngine;for(let d of t){let{attributes:t,geometry:p}=d,y=t?.[s];if(null==y){e.push((0,m.av)(`Identifier field ${s} missing`));continue}if(!u.has(y)){e.push((0,m.av)(`Feature with object id ${y} missing`));continue}let h=(0,c.EI)(u.getFeature(y),n,i,r);if(null!=p){if(n!==(0,a.Ji)(p)){e.push((0,m.av)("Incorrect geometry type."));continue}let t=p.spatialReference??o;h.geometry=(0,f.iV)((0,m.og)(p,t),t,o)}if(t){let n=(0,m.O0)(l,h.attributes,t);if(n){e.push(n);continue}}u.add((0,c.XA)(h,n,i,r,s)),e.push((0,m.d1)(y))}}_createObjectIdGenerator(e,t){let n=e.fieldsIndex.get(e.objectIdField);if("esriFieldTypeString"===n.type)return()=>n.name+"-"+Date.now().toString(16);let r=Number.NEGATIVE_INFINITY;for(let e of t)e.objectId&&(r=Math.max(r,e.objectId));return r=Math.max(0,r)+1,()=>r++}_assignObjectId(e,t,n=!1){let r=this._queryEngine.objectIdField;e[r]=n&&r in t?t[r]:this._objectIdGenerator()}async _checkProjection(e){try{await (0,f._W)(l.YU,e)}catch{throw new s.Z("geojson-layer","Projection not supported")}}}},85536:function(e,t,n){n.d(t,{O3:function(){return S},lG:function(){return F},my:function(){return _},q9:function(){return c}});var r=n(37966),i=n(94605),s=n(62329),o=n(53787),u=n(73503),a=n(67009);let l={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function c(e){return l[e]}function*d(e){switch(e.type){case"Feature":yield e;break;case"FeatureCollection":for(let t of e.features)t&&(yield t)}}function f(e){let t=0;for(let n=0;n<e.length;n++){let r=e[n],i=e[(n+1)%e.length];t+=r[0]*i[1]-i[0]*r[1]}return t<=0}function p(e){let t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function y(e,t,n){let r=p(t);f(r)?m(e,r,n):g(e,r,n)}function h(e,t,n){let r=p(t);f(r)?g(e,r,n):m(e,r,n)}function m(e,t,n){for(let r of t)b(e,r,n);e.lengths.push(t.length)}function g(e,t,n){for(let r=t.length-1;r>=0;r--)b(e,t[r],n);e.lengths.push(t.length)}function b(e,t,n){let[r,i,s]=t;e.coords.push(r,i),n.hasZ&&e.coords.push(s||0)}function S(e,t=4326){if(!e)throw new i.Z("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new i.Z("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});let{crs:n}=e;if(!n)return;let r="string"==typeof n?n:"name"===n.type?n.properties.name:"EPSG"===n.type?n.properties.code:null,o=(0,s.oR)({wkid:t})?RegExp(".*(CRS84H?|4326)$","i"):RegExp(`.*(${t})$`,"i");if(!r||!o.test(r))throw new i.Z("geojson:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:n})}function _(e,t={}){let n=[],i=new Set,s=new Set,o,u=!1,c=null,f=!1,{geometryType:p=null}=t,y=!1;for(let t of d(e)){let{geometry:e,properties:d,id:h}=t;if((!e||(p||(p=l[e.type]),l[e.type]===p))&&(u||(u=function(e){for(let t of e)if(t.length>2)return!0;return!1}(function*(e){if(e)switch(e.type){case"Point":yield e.coordinates;break;case"LineString":case"MultiPoint":yield*e.coordinates;break;case"MultiLineString":case"Polygon":for(let t of e.coordinates)yield*t;break;case"MultiPolygon":for(let t of e.coordinates)for(let e of t)yield*e}}(e))),f||(f=null!=h)&&(o=typeof h,d&&(c=Object.keys(d).filter(e=>d[e]===h))),d&&c&&f&&null!=h&&(c.length>1?c=c.filter(e=>d[e]===h):1===c.length&&(c=d[c[0]]===h?c:[])),!y&&d)){let e=!0;for(let t in d){if(i.has(t))continue;let o=d[t];if(null==o){e=!1,s.add(t);continue}let u=function(e){switch(typeof e){case"string":return(0,r.mu)(e)?"esriFieldTypeDate":"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}(o);if("unknown"===u){s.add(t);continue}s.delete(t),i.add(t);let l=(0,a.q6)(t);l&&n.push({name:l,alias:t,type:u})}y=e}}let h=(0,a.q6)(1===c?.length&&c[0]||null)??void 0;if(h){for(let e of n)if(e.name===h&&(0,a.H7)(e)){e.type="esriFieldTypeOID";break}}return{fields:n,geometryType:p,hasZ:u,objectIdFieldName:h,objectIdFieldType:o,unknownFields:Array.from(s)}}function F(e,t){return Array.from(function*(e,t={}){let{geometryType:n,objectIdField:r}=t;for(let i of e){let e;let{geometry:s,properties:a,id:c}=i;if(s&&l[s.type]!==n)continue;let d=a||{};r&&(e=d[r],null==c||e||(d[r]=e=c));let f=new o.u_(s?function(e,t,n){switch(t.type){case"LineString":case"MultiPoint":return m(e,t.coordinates,n),e;case"MultiLineString":return function(e,t,n){for(let r of t.coordinates)m(e,r,n);return e}(e,t,n);case"MultiPolygon":return function(e,t,n){for(let r of t.coordinates){y(e,r[0],n);for(let t=1;t<r.length;t++)h(e,r[t],n)}return e}(e,t,n);case"Point":return b(e,t.coordinates,n),e;case"Polygon":return function(e,t,n){let r=t.coordinates;y(e,r[0],n);for(let t=1;t<r.length;t++)h(e,r[t],n);return e}(e,t,n)}}(new u.Z,s,t):null,d,null,e??void 0);yield f}}(d(e),t))}},43859:function(e,t,n){n.d(t,{Dm:function(){return c},Hq:function(){return f},MS:function(){return p},bU:function(){return u}});var r=n(37180),i=n(61764),s=n(51733),o=n(8739);function u(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?o.I4:"esriGeometryPolyline"===e?o.ET:o.lF}}}let a=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/,l=1;function c(e,t){if((0,r.Z)("esri-csp-restrictions"))return()=>({[t]:null,...e});try{let n=`this${d(t)} = null;`;for(let t in e)n+=`this${d(t)} = ${JSON.stringify(e[t])};`;let r=Function(`
      return class AttributesClass$${l++} {
        constructor() {
          ${n};
        }
      }
    `)();return()=>new r}catch(n){return()=>({[t]:null,...e})}}function d(e){return a.test(e)?`.${e}`:`["${e}"]`}function f(e={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,i.d9)(e)}}]}function p(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:s.g,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}},75977:function(e,t,n){let r;n.d(t,{O0:function(){return p},av:function(){return l},b:function(){return m},d1:function(){return d},og:function(){return y}});var i=n(37966),s=n(62329),o=n(67009);class u{constructor(){this.code=null,this.description=null}}class a{constructor(e){this.error=new u,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=e}}function l(e){return new a(e)}class c{constructor(e){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=e}}function d(e){return new c(e)}let f=new Set;function p(e,t,n,r=!1){for(let s in f.clear(),n){let u=e.get(s);if(!u)continue;let a=function(e,t){let n=t;return(0,o.H7)(e)&&"string"==typeof t?n=parseFloat(t):(0,o.qN)(e)&&null!=t&&"string"!=typeof t?n=String(t):(0,o.y2)(e)&&"string"==typeof t&&(n=(0,i.sG)(t)),(0,o.Pz)(n)}(u,n[s]);if(f.add(u.name),u&&(r||u.editable)){let e=(0,o.Qc)(u,a);if(e)return l((0,o.vP)(e,u,a));t[u.name]=a}}for(let t of e?.requiredFields??[])if(!f.has(t.name))return l(`missing required field "${t.name}"`);return null}function y(e,t){if(!e||!(0,s.JY)(t))return e;if("rings"in e||"paths"in e){if(null==r)throw TypeError("geometry engine not loaded");return r.simplify(t,e)}return e}async function h(){return null==r&&(r=await Promise.all([n.e(58379),n.e(56362)]).then(n.bind(n,56362))),r}async function m(e,t){(0,s.JY)(e)&&("esriGeometryPolygon"===t||"esriGeometryPolyline"===t)&&await h()}},8739:function(e,t,n){n.d(t,{ET:function(){return o},I4:function(){return s},SQ:function(){return r},X1:function(){return i},eG:function(){return l},lF:function(){return u},lj:function(){return d},qP:function(){return a},wW:function(){return c}});let r=[252,146,31,255],i=[153,153,153,255],s={type:"esriSMS",style:"esriSMSCircle",size:6,color:r,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},o={type:"esriSLS",style:"esriSLSSolid",width:.75,color:r},u={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},a={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},l={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},c={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},d={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}}}]);