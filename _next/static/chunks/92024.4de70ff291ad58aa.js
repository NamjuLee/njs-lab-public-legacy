(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[92024],{15510:function(t){function e(t){return Promise.resolve().then(function(){var e=Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=function(){return[]},e.resolve=e,e.id=15510,t.exports=e},75410:function(){},48628:function(){},31601:function(){},67792:function(){},34977:function(){},75042:function(){},21322:function(t,e,i){"use strict";i.d(e,{P:function(){return r}});var s=i(88405);class r{predict1d(t){return t.mul(this.weights[0]).add(this.bias)}predict2d(t){return t.square().mul(this.weights[1]).add(t.mul(this.weights[0])).add(this.bias)}predict3d(t){return t.pow(s.scalar(3)).mul(this.weights[2]).add(t.square().mul(this.weights[1])).add(t.mul(this.weights[0])).add(this.bias)}predict4d(t){return t.pow(s.scalar(4)).mul(this.weights[3]).add(t.pow(s.scalar(3)).mul(this.weights[2])).add(t.square().mul(this.weights[1])).add(t.mul(this.weights[0])).add(this.bias)}predict5d(t){return t.pow(s.scalar(5)).mul(this.weights[4]).add(t.pow(s.scalar(4)).mul(this.weights[3])).add(t.pow(s.scalar(3)).mul(this.weights[2])).add(t.square().mul(this.weights[1])).add(t.mul(this.weights[0])).add(this.bias)}predict(t){return 5===this.dim?this.predict5d(t):4===this.dim?this.predict4d(t):3===this.dim?this.predict3d(t):2===this.dim?this.predict2d(t):(this.dim,this.predict1d(t))}loss(t,e){return t.sub(e).square().mean()}train(t,e){s.tidy(()=>{let i=s.tensor1d(t),r=s.tensor1d(e);this.optimizer.minimize(()=>this.loss(this.predict(i),r))})}constructor(t=0){this.weights=[],this.dim=3,this.leraningRate=.2,this.dim=t;for(let t=0;t<5;++t){let t=s.variable(s.scalar(2*Math.random()-1));t.print(),this.weights.push(t)}this.bias=s.variable(s.scalar(2*Math.random()-1)),this.optimizer=s.train.adam(this.leraningRate)}}},88876:function(t,e,i){"use strict";i.d(e,{NJSCORE:function(){return n},PolynomialRegression:function(){return o.P},RendererThree:function(){return s.T}});var s=i(14540),r=i(45169);i.o(r,"AStart")&&i.d(e,{AStart:function(){return r.AStart}}),i.o(r,"COLOR_BLENDING")&&i.d(e,{COLOR_BLENDING:function(){return r.COLOR_BLENDING}}),i.o(r,"Graph")&&i.d(e,{Graph:function(){return r.Graph}}),i.o(r,"KNN")&&i.d(e,{KNN:function(){return r.KNN}}),i.o(r,"LinearRegression")&&i.d(e,{LinearRegression:function(){return r.LinearRegression}}),i.o(r,"LinearRegressionGradientDescent")&&i.d(e,{LinearRegressionGradientDescent:function(){return r.LinearRegressionGradientDescent}}),i.o(r,"MercatorProjection")&&i.d(e,{MercatorProjection:function(){return r.MercatorProjection}}),i.o(r,"PolynomialRegression")&&i.d(e,{PolynomialRegression:function(){return r.PolynomialRegression}}),i.o(r,"RGBtoGray")&&i.d(e,{RGBtoGray:function(){return r.RGBtoGray}}),i.o(r,"RendererCanvas")&&i.d(e,{RendererCanvas:function(){return r.RendererCanvas}}),i.o(r,"RendererJSAPI")&&i.d(e,{RendererJSAPI:function(){return r.RendererJSAPI}}),i.o(r,"TypeDithering")&&i.d(e,{TypeDithering:function(){return r.TypeDithering}}),i.o(r,"Vector3")&&i.d(e,{Vector3:function(){return r.Vector3}}),i.o(r,"buildNetwork")&&i.d(e,{buildNetwork:function(){return r.buildNetwork}}),i.o(r,"crossProduct")&&i.d(e,{crossProduct:function(){return r.crossProduct}}),i.o(r,"deepCopy")&&i.d(e,{deepCopy:function(){return r.deepCopy}}),i.o(r,"distanceEuclidean")&&i.d(e,{distanceEuclidean:function(){return r.distanceEuclidean}}),i.o(r,"distanceTo")&&i.d(e,{distanceTo:function(){return r.distanceTo}}),i.o(r,"dithering4_4")&&i.d(e,{dithering4_4:function(){return r.dithering4_4}}),i.o(r,"ditheringFloydSteinberg")&&i.d(e,{ditheringFloydSteinberg:function(){return r.ditheringFloydSteinberg}}),i.o(r,"getArrayBinaryImgFromCtx")&&i.d(e,{getArrayBinaryImgFromCtx:function(){return r.getArrayBinaryImgFromCtx}}),i.o(r,"getCSVFromURL")&&i.d(e,{getCSVFromURL:function(){return r.getCSVFromURL}}),i.o(r,"getCheckBox")&&i.d(e,{getCheckBox:function(){return r.getCheckBox}}),i.o(r,"getImgFromURL")&&i.d(e,{getImgFromURL:function(){return r.getImgFromURL}}),i.o(r,"getJSONFromURL")&&i.d(e,{getJSONFromURL:function(){return r.getJSONFromURL}}),i.o(r,"getLineSeg")&&i.d(e,{getLineSeg:function(){return r.getLineSeg}}),i.o(r,"getRandomHex")&&i.d(e,{getRandomHex:function(){return r.getRandomHex}}),i.o(r,"getSlider")&&i.d(e,{getSlider:function(){return r.getSlider}}),i.o(r,"getUUID")&&i.d(e,{getUUID:function(){return r.getUUID}}),i.o(r,"hex2RGBA")&&i.d(e,{hex2RGBA:function(){return r.hex2RGBA}}),i.o(r,"isInsideOfVecs")&&i.d(e,{isInsideOfVecs:function(){return r.isInsideOfVecs}}),i.o(r,"normalize")&&i.d(e,{normalize:function(){return r.normalize}}),i.o(r,"reflect")&&i.d(e,{reflect:function(){return r.reflect}}),i.o(r,"remap")&&i.d(e,{remap:function(){return r.remap}}),i.o(r,"shuffleArray")&&i.d(e,{shuffleArray:function(){return r.shuffleArray}});var o=i(21322),n=i(8483)},14540:function(t,e,i){"use strict";i.d(e,{T:function(){return o}});var s=i(97776),r=i(78252);class o{initCanvas(){this.scene=new s.xsS,this.scene.background=new s.Ilk(0),this.scene.castShadow=!0,this.renderer=new s.CP7({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(this.hostDiv.clientWidth/this.hostDiv.clientHeight),this.renderer.domElement.id="Three",this.renderer.domElement.style.position="absolute",this.renderer.shadowMap.enabled=!0,this.renderer.setSize(this.hostDiv.clientWidth,this.hostDiv.clientHeight),this.hostDiv.appendChild(this.renderer.domElement),this.camera=new s.cPb(30,this.hostDiv.clientWidth/this.hostDiv.clientHeight,1,5e3),this.controls=new r.OrbitControls(this.camera,this.renderer.domElement),this.camera.position.set(0,0,5),this.controls.update(),this.canvas=this.renderer.domElement,this.init()}init(){this.eventBind()}eventBind(){this.renderer.domElement.onmousedown=t=>this.mouseDown(t),this.renderer.domElement.onmouseup=t=>this.mouseUp(t),this.renderer.domElement.onmousemove=t=>this.mouseMove(t),this.renderer.domElement.addEventListener("click",t=>this.mouseClick(t)),window.addEventListener("resize",()=>this.onWindowResize())}onWindowResize(){this.camera.aspect=this.hostDiv.clientWidth/this.hostDiv.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.hostDiv.clientWidth,this.hostDiv.clientHeight)}start(){this.loop()}mouseDown(t){}mouseUp(t){}mouseClick(t){}mouseDClick(t){}mouseMove(t){}mouseDrag(t){}update(t){}destroy(){for(window.removeEventListener("resize",()=>this.onWindowResize()),cancelAnimationFrame(this.requestFrame),this.requestFrame=void 0;this.hostDiv.lastChild;)this.hostDiv.removeChild(this.hostDiv.lastChild)}constructor(t){this.t=0,this.requestFrame=void 0,this.loop=()=>{this.requestFrame=requestAnimationFrame(this.loop),this.controls.update(),this.update(this.scene),this.renderer.render(this.scene,this.camera),this.t+=.01},this.hostDiv=document.getElementById(t),this.initCanvas()}}},70825:function(t,e,i){"use strict";i.r(e),i.d(e,{Renderer:function(){return y},Solution:function(){return C}});var s,r,o=i(88876);class n{translation(t,e){this.x=parseInt(this.dom.style.left)+t,this.y=parseInt(this.dom.style.top)+e,this.dom.style.left=this.x+"px",this.dom.style.top=this.y+"px"}move(t,e){this.x=t-.5*this.width,this.y=e-.5*this.height,this.dom.style.left=this.x+"px",this.dom.style.top=this.y+"px"}destroy(){this.dom.parentElement.removeChild(this.dom)}constructor(t,e,i,s){this.width=20,this.height=20,this.distort=t,this.id=e,this.x=i,this.y=s,this.dom=h(this.width,this.height,5),this.dom.style.pointerEvents="none",this.distort.hostDiv.appendChild(this.dom),this.move(i,s)}}let h=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#ffffff",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#CBDAE2",n=document.createElementNS("http://www.w3.org/2000/svg","rect");n.setAttribute("x","1"),n.setAttribute("y","1"),n.setAttribute("width","".concat(t)),n.setAttribute("height","".concat(e)),n.setAttribute("stroke-width","".concat(r)),n.setAttribute("rx","".concat(i)),n.setAttribute("fill","".concat(s)),n.setAttribute("stroke","".concat(o));let h=document.createElementNS("http://www.w3.org/2000/svg","svg");return h.appendChild(n),h.setAttribute("width","".concat(t+2*r)),h.setAttribute("height","".concat(e+2*r)),h.style.position="absolute",h};class d{distortPerspective(t){this.distort.Controllers[0].translation(t,0),this.distort.Controllers[1].translation(-t,0),this.distort.Controllers[2].translation(t,0),this.distort.Controllers[3].translation(-t,0)}renderDistortion(t,e){}constructor(){}}let a=(t,e,i,s)=>Math.sqrt((t-i)*(t-i)+(e-s)*(e-s));class l extends d{renderDistortion(t,e){let i=[],s=0,r=0;for(let t=0;t<this.distort.Controllers.length;++t){let e=(this.distort.Controllers[t].x-this.distort.domRect.x)*this.distort.domRect.width/this.distort.hostImg.width,o=(this.distort.Controllers[t].y-this.distort.domRect.y)*this.distort.domRect.height/this.distort.hostImg.height;s+=e,r+=o,i.push([e,o])}i.push([s/this.distort.Controllers.length,r/this.distort.Controllers.length]);let o=this.distort.hosCanvas.width,n=this.distort.hosCanvas.height;u(t,e,[0,0],[o/2,n/2],[0,n],i[0],i[4],i[3]),u(t,e,[0,0],[o/2,n/2],[o,0],i[0],i[4],i[1]),u(t,e,[o,0],[o/2,n/2],[o,n],i[1],i[4],i[2]),u(t,e,[0,n],[o/2,n/2],[o,n],i[3],i[4],i[2])}constructor(t){super(),this.distort=t}}let c=(t,e,i,s,r,o,n,h)=>{let d=f(i[0],i[1],o[0],s[0],s[1],n[0],r[0],r[1],h[0]),a=f(i[0],i[1],o[1],s[0],s[1],n[1],r[0],r[1],h[1]);t.save(),t.setTransform(d[0],a[0],d[1],a[1],d[2],a[2]),t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(s[0],s[1]),t.lineTo(r[0],r[1]),t.closePath(),t.clip(),t.drawImage(e,0,0,e.width,e.height),t.restore()},u=(t,e,i,s,r,o,n,h)=>{let[d,a,l]=g(o,n,h,.3),[u,m,p]=g(i,s,r,.3);c(t,e,u,m,p,d,a,l)},m=(t,e,i)=>{let s=t[0]-e[0],r=t[1]-e[1];return[s*i+e[0],r*i+e[1]]},g=(t,e,i,s)=>{let r=p(t,e,i),o=(r[2]+s)/r[2];return[m(t,r,o),m(e,r,o),m(i,r,o)]},p=(t,e,i)=>{let s=a(e[0],e[1],i[0],i[1]),r=a(i[0],i[1],t[0],t[1]),o=a(t[0],t[1],e[0],e[1]),n=s+r+o,h=n/2;return new Float32Array([(s*t[0]+r*e[0]+o*i[0])/n,(s*t[1]+r*e[1]+o*i[1])/n,Math.sqrt(h*(h-s)*(h-r)*(h-o))/h])},f=(t,e,i,s,r,o,n,h,d)=>{let a=((o-d)*(e-r)-(i-o)*(r-h))/((s-n)*(e-r)-(t-s)*(r-h)),l=((o-d)*(t-s)-(i-o)*(s-n))/((r-h)*(t-s)-(e-r)*(s-n));return[a,l,i-t*a-e*l]};class w extends d{renderDistortion(t,e){let i=[],s=0,r=0;for(let t=0;t<this.distort.Controllers.length;++t){let e=(this.distort.Controllers[t].x-this.distort.domRect.x)*this.distort.domRect.width/this.distort.hostImg.width,o=(this.distort.Controllers[t].y-this.distort.domRect.y)*this.distort.domRect.height/this.distort.hostImg.height;s+=e,r+=o,i.push([e,o])}i.push([s/this.distort.Controllers.length,r/this.distort.Controllers.length]),this.distort.hosCanvas.width,this.distort.hosCanvas.height}constructor(t){super(),this.distort=t}}(s=r||(r={})).Projection="projection",s.Subdivision="subdivision";class v{reset(){this.destroy(),this.init()}init(){let t=this.hostDiv.getBoundingClientRect();this.domRect=t,this.Controllers=[new n(this,0,t.x,t.y),new n(this,1,t.x+t.width,t.y),new n(this,2,t.x+t.width,t.y+t.height),new n(this,3,t.x,t.y+t.height)]}distortPerspective(t){this.projection.distortPerspective(t),this.renderForce()}updateCaptured(t,e){this.id=-1;for(let i=0;i<this.Controllers.length;++i)50>a(t+this.domRect.x,e+this.domRect.y,this.Controllers[i].x,this.Controllers[i].y)&&(this.id=this.Controllers[i].id)}mouseDown(t,e){this.updateCaptured(t,e),this.mPre=[t,e]}mouseUp(t,e){this.id=-1}mouseMove(t,e){if(this.id>-1){let i=t-this.mPre[0],s=e-this.mPre[1];this.Controllers[this.id].translation(i,s),this.mPre=[t,e]}}render(t){this.projection.renderDistortion(t,this.hostImg)}renderForce(){}destroy(){this.Controllers.forEach(t=>{t.destroy()})}constructor(t,e,i,s="subdivision"){this.Controllers=[],this.id=-1,this.mPre=[0,0],this.DISTORTION_TYPE=s,this.hostDiv=t,this.hosCanvas=i,this.hostImg=e,"projection"===this.DISTORTION_TYPE?this.projection=new w(this):this.projection=new l(this),this.init()}}class C{destroy(){for(this.renderer.destroy();this.divHost.lastElementChild;)this.divHost.removeChild(this.divHost.lastElementChild)}constructor(t){this.divHost=document.getElementById(t);let e=document.createElement("div");e.style.marginLeft="auto",e.style.marginRight="auto",e.style.backgroundColor="#555",e.style.width="1200px",e.style.height="1000px",this.divHost.appendChild(e),this.renderer=new y(e)}}class y extends o.RendererCanvas{render(t){this.ctx.save(),this.ctx.translate(.5*this.canvas.width,.5*this.canvas.height),this.ctx.rotate(this.rotation),this.img&&this.ctx.drawImage(this.img,-(.5*this.img.width),-(.5*this.img.height)),this.ctx.restore(),t.beginPath(),t.rect(this.x,this.y,this.width,this.height),t.closePath(),t.lineWidth=5,t.stroke(),t.beginPath(),t.arc(this.m[0],this.m[1],5,0,2*Math.PI),t.closePath(),t.lineWidth=5,t.stroke(),this.distort&&this.distort.render(t)}mouseDown(t,e){this.distort.mouseDown(t,e)}mouseUp(t,e){this.distort.mouseUp(t,e)}mouseDrag(t,e){}mouseClick(t,e){}mouseMove(t,e){this.m=[t,e],this.distort.mouseMove(t,e)}keyDown(t){}constructor(t){super(t),this.img=void 0,this.rotation=0,this.m=[0,0],(0,o.getImgFromURL)("https://raw.githubusercontent.com/NamjuLee/data/master/img/MITBuilding7_small.jpg").then(e=>{e&&(e.onload=()=>{this.img=e,this.x=100,this.y=100,this.width=e.width,this.height=e.height,this.distort=new v(t,e,this.canvas)})}),this.start()}}}}]);