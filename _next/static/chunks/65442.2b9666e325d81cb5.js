"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[65442],{99646:function(e,t,a){a.d(t,{BN:function(){return c},Yc:function(){return h},em:function(){return n},mx:function(){return u}});var l=a(39301);let n="arial-unicode-ms",i="woff2",o=new Map,s=new Set;class r{constructor(e,t){this.fontFace=e,this.promise=t}}async function u(e){let t=function(e){let t=m(e)+d(e);return(e.family||n)+(t.length>0?t:"-regular")}(e),a=h(e),u=o.get(t);if(u)return u.promise;let c=new FontFace(e.family,`url('${l.default.fontsUrl}/woff2/${a}.${i}') format('${i}')`,{style:e.style,weight:e.weight}),f=document.fonts;if(f.has(c)&&"loading"===c.status)return c.loaded;let p=c.load().then(()=>(f.add(c),c));return o.set(t,new r(c,p)),s.add(c),p}function c(e){if(!e)return n;let t=e.toLowerCase().split(" ").join("-");switch(t){case"serif":return"noto-serif";case"sans-serif":return"arial-unicode-ms";case"monospace":return"ubuntu-mono";case"fantasy":return"cabin-sketch";case"cursive":return"redressed";default:return t}}function h(e){let t=m(e)+d(e);return c(e.family)+(t.length>0?t:"-regular")}function m(e){if(!e.weight)return"";switch(e.weight.toLowerCase()){case"bold":case"bolder":return"-bold"}return""}function d(e){if(!e.style)return"";switch(e.style.toLowerCase()){case"italic":case"oblique":return"-italic"}return""}},65442:function(e,t,a){a.d(t,{previewSymbol2D:function(){return k}});var l=a(87585),n=a(45865),i=a(94605),o=a(99646),s=a(4392),r=a(35312),u=a(57294),c=a(94816),h=a(1192);let m="picture-fill",d=u.b_.size,f=u.b_.maxSize,p=u.b_.maxOutlineSize,y=u.b_.lineWidth,w=document.createElement("canvas");function g(e,t){let a=w.getContext("2d"),l=[];t&&(t.weight&&l.push(t.weight),t.size&&l.push(t.size+"px"),t.family&&l.push(t.family)),a.font=l.join(" ");let{width:n,actualBoundingBoxLeft:i,actualBoundingBoxRight:o,actualBoundingBoxAscent:s,actualBoundingBoxDescent:r}=a.measureText(e);return{width:Math.ceil(Math.max(n,i+o)),height:Math.ceil(s+r),x:Math.floor(i),y:Math.floor((s-r)/2)}}function b(e){let t=e?.size;return{width:null!=t&&"object"==typeof t&&"width"in t?(0,s.F2)(t.width):null,height:null!=t&&"object"==typeof t&&"height"in t?(0,s.F2)(t.height):null}}async function v(e,t){let a=t.fill,l=e.color;if("pattern"===a?.type&&l&&e.type!==m){let e=await (0,r.Od)(a.src,l.toCss(!0));a.src=e,t.fill=a}}async function x(e,t,a,l){if(!("font"in e)||!e.font||"text"!==t.shape.type)return;try{await (0,o.mx)(e.font)}catch{}let{width:n,height:i}=b(l);if(!/[\uE600-\uE6FF]/.test(t.shape.text)){let{width:o,height:s,x:r,y:u}=g(t.shape.text,{weight:t.font?.weight,size:t.font?.size,family:t.font?.family});a[0]=n??o,a[1]=i??s,t.shape.x=r,t.shape.y=u;let c=null!=l?.rotation?l.rotation:"angle"in e?e.angle:null;if(c){let e=Math.PI/180*c;a[1]=a[0]*Math.abs(Math.sin(e))+a[1]*Math.abs(Math.cos(e))}}}function M(e,t){return e>t?"dark":"light"}async function k(e,t){let{shapeDescriptor:a,size:o,renderOptions:w}=function(e,t){let a="number"==typeof t?.size?t?.size:null,i=null!=a?(0,s.F2)(a):null,o=null!=t?.maxSize?(0,s.F2)(t.maxSize):null,c=null!=t?.rotation?t.rotation:"angle"in e?e.angle:null,h=(0,r._M)(e),w=(0,r.mx)(e);"dark"!==function(e,t=225){let a=(0,r._M)(e),i=(0,r.mx)(e),o=!a||"type"in a?null:new l.Z(a),s=i?.color?new l.Z(i?.color):null,u=o?M((0,n.EX)(o),t):null,c=s?M((0,n.EX)(s),t):null;return c?u?u===c?u:t>=225?"light":"dark":c:u}(e,245)||t?.ignoreWhiteSymbols||(w={width:.75,...w,color:"#bdc3c7"});let v={shape:null,fill:h,stroke:w,offset:[0,0]};w?.width&&(w.width=Math.min(w.width,p));let x=w?.width||0,k=null!=t?.size&&(null==t?.scale||t?.scale),L=0,z=0,C=!1;switch(e.type){case"simple-marker":{let a=e.style,{width:l,height:n}=b(t),r=l===n&&null!=l?l:null!=i?i:Math.min((0,s.F2)(e.size),o||f);switch(L=r,z=r,a){case"circle":v.shape={type:"circle",cx:0,cy:0,r:.5*r},k||(L+=x,z+=x);break;case"cross":v.shape={type:"path",path:[{command:"M",values:[0,.5*z]},{command:"L",values:[L,.5*z]},{command:"M",values:[.5*L,0]},{command:"L",values:[.5*L,z]}]};break;case"diamond":v.shape={type:"path",path:[{command:"M",values:[0,.5*z]},{command:"L",values:[.5*L,0]},{command:"L",values:[L,.5*z]},{command:"L",values:[.5*L,z]},{command:"Z",values:[]}]},k||(L+=x,z+=x);break;case"square":v.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[L,0]},{command:"L",values:[L,z]},{command:"L",values:[0,z]},{command:"Z",values:[]}]},k||(L+=x,z+=x),c&&(C=!0);break;case"triangle":v.shape={type:"path",path:[{command:"M",values:[.5*L,0]},{command:"L",values:[L,z]},{command:"L",values:[0,z]},{command:"Z",values:[]}]},k||(L+=x,z+=x),c&&(C=!0);break;case"x":v.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[L,z]},{command:"M",values:[L,0]},{command:"L",values:[0,z]}]},c&&(C=!0);break;case"path":v.shape={type:"path",path:e.path||""},k||(L+=x,z+=x),c&&(C=!0),k=!0}break}case"simple-line":{let{width:e,height:a}=b(t),l=(0,r.iI)(w).reduce((e,t)=>e+t,0),n=a??i??x;w&&(w.width=n),L=e??(l*(l&&Math.ceil(y/l))||y),z=n,k=!0,v.shape={type:"path",path:[{command:"M",values:[n/2,z/2]},{command:"L",values:[L-n/2,z/2]}]};break}case m:case"simple-fill":{let e="object"==typeof t?.symbolConfig&&!!t?.symbolConfig?.isSquareFill,{width:a,height:l}=b(t);L=(e||a===l)&&null!=a?a:null!=i?i:d,z=(e||a===l)&&null!=l?l:L,k||(L+=x,z+=x),k=!0,v.shape=e?{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[L,0]},{command:"L",values:[L,z]},{command:"L",values:[0,z]},{command:"L",values:[0,0]},{command:"Z",values:[]}]}:u.JZ.fill[0];break}case"picture-marker":{let a=Math.min((0,s.F2)(e.width),o||f),l=Math.min((0,s.F2)(e.height),o||f),{width:n,height:r}=b(t),u=n===r&&null!=n?n:null!=i?i:Math.max(a,l),h=a/l;L=h<=1?Math.ceil(u*h):u,z=h<=1?u:Math.ceil(u/h),v.shape={type:"image",x:-Math.round(L/2),y:-Math.round(z/2),width:L,height:z,src:e.url||""},c&&(C=!0);break}case"text":{let a=t?.overrideText||e.text||"Aa",l=e.font,{width:n,height:r}=b(t),u=null!=r?r:null!=i?i:Math.min((0,s.F2)(l.size),o||f),{width:c,height:h}=g(a,{weight:l.weight,size:u,family:l.family}),m=/[\uE600-\uE6FF]/.test(a);L=n??(m?u:c),z=m?u:h;let d=.5*(m?u:h);m&&(d+=5),v.shape={type:"text",text:a,x:e.xoffset||0,y:e.yoffset||d,align:"middle",alignBaseline:e.verticalAlignment,decoration:l&&l.decoration,rotated:e.rotated,kerning:e.kerning},v.font=l&&{size:u,style:l.style,decoration:l.decoration,weight:l.weight,family:l.family}}}return{shapeDescriptor:v,size:[L,z],renderOptions:{node:t?.node,scale:k,opacity:t?.opacity,rotation:c,useRotationSize:C,effectView:t?.effectView,ariaLabel:t?.ariaLabel}}}(e,t);if(!a.shape)throw new i.Z("symbolPreview: renderPreviewHTML2D","symbol not supported.");await v(e,a),await x(e,a,o,t);let k=[[a]];if("object"==typeof t?.symbolConfig&&t?.symbolConfig?.applyColorModulation){let e=.6*o[0];k.unshift([{...a,offset:[-e,0],fill:(0,u.dc)(a.fill,-.3)}]),k.push([{...a,offset:[e,0],fill:(0,u.dc)(a.fill,.3)}]),o[0]+=2*e,w.scale=!1}return"text"===e.type&&function(e,t,a,l,n){if(null!=e.haloColor&&null!=e.haloSize){n.masking??=a.map(()=>[]);let i=(0,s.F2)(e.haloSize);l[0]+=i,l[1]+=i,a.unshift([{...t,fill:null,stroke:{color:e.haloColor,width:2*i,join:"round",cap:"round"}}]),n.masking.unshift([{shape:{type:"rect",x:0,y:0,width:l[0]+2*h.c9,height:l[1]+2*h.c9},fill:[255,255,255],stroke:null},{...t,fill:[0,0,0,0],stroke:null}])}null==e.backgroundColor&&null==e.borderLineColor||(l[0]+=2*h.c9,l[1]+=2*h.c9,a.unshift([{shape:{type:"rect",x:0,y:0,width:l[0],height:l[1]},fill:e.backgroundColor,stroke:{color:e.borderLineColor,width:(0,s.F2)(e.borderLineSize)}}]),n.masking?.unshift([]))}(e,a,k,o,w),(0,c.wh)(k,o,w)}}}]);