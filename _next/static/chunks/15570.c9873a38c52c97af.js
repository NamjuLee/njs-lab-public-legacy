"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[15570,51367],{30687:function(e,t,n){n.d(t,{Qn:function(){return h},iG:function(){return m}});var i,r=n(44340),s=n(22521),a=n(9450);(i||(i={})).TimeZoneNotRecognized="TimeZoneNotRecognized";let o={[i.TimeZoneNotRecognized]:"Timezone identifier has not been recognized."};class l extends Error{constructor(e,t){super((0,r.gx)(o[e],t)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,l)}}function u(e,t,n){return e<t?e-t:e>n?e-n:0}function c(e,t,n){return e<t?t:e>n?n:e}class m{constructor(e){this._date=e,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(e=0,t=1,n=1,i=0,r=0,s=0,o=0,l){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(r)||isNaN(s)||isNaN(o))return null;let f=a.ou.local(e,t).daysInMonth,d=a.ou.fromObject({day:c(n,1,f),year:e,month:c(t,1,12),hour:c(i,0,23),minute:c(r,0,59),second:c(s,0,59),millisecond:c(o,0,999)},{zone:h(l)});return new m(d=d.plus({months:u(t,1,12),days:u(n,1,f),hours:u(i,0,23),minutes:u(r,0,59),seconds:u(s,0,59),milliseconds:u(o,0,999)}))}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(e,t){let n=h(t);return e.isUnknownTimeZone||n===s.yV.instance?m.fromParts(e.year,e.monthJS+1,e.day,e.hour,e.minute,e.second,e.millisecond,n):new m(e._date.setZone(n))}static dateJSToArcadeDate(e){return new m(a.ou.fromJSDate(e,{zone:"system"}))}static dateJSAndZoneToArcadeDate(e,t="system"){let n=h(t);return new m(a.ou.fromJSDate(e,{zone:n}))}static unknownEpochToArcadeDate(e){return new m(a.ou.fromMillis(e,{zone:s.yV.instance}))}static unknownDateJSToArcadeDate(e){return new m(a.ou.fromMillis(e.getTime(),{zone:s.yV.instance}))}static epochToArcadeDate(e,t="system"){let n=h(t);return new m(a.ou.fromMillis(e,{zone:n}))}static dateTimeToArcadeDate(e){return new m(e)}clone(){return new m(this._date)}changeTimeZone(e){let t=h(e);return m.dateTimeToArcadeDate(this._date.setZone(t))}static dateTimeAndZoneToArcadeDate(e,t){let n=h(t);return e.zone===s.yV.instance||n===s.yV.instance?m.fromParts(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond,n):new m(e.setZone(n))}static nowToArcadeDate(e){let t=h(e);return new m(a.ou.fromJSDate(new Date,{zone:t}))}static nowUTCToArcadeDate(){return new m(a.ou.utc())}get isSystem(){return"system"===this.timeZone||this.timeZone===m.systemTimeZoneCanonicalName}equals(e){return this.isSystem&&e.isSystem?this.toNumber()===e.toNumber():this.isUnknownTimeZone===e.isUnknownTimeZone&&this._date.equals(e._date)}get isUnknownTimeZone(){return this._date.zone===s.yV.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let e=this._date.weekday;return e>6&&(e=0),e}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if("system"===this._date.zone.type)return"system";let e=this.zone;return"fixed"===e.type?0===e.fixed?"UTC":e.formatOffset(0,"short"):e.name}stringify(){return JSON.stringify(this.toJSDate())}plus(e){return new m(this._date.plus(e))}diff(e,t="milliseconds"){return this._date.diff(e._date,t)[t]}toISODate(){return this._date.toISODate()}toISOString(e){return e?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(e,t){return this._date.toISOTime({suppressMilliseconds:e,includeOffset:t&&!this.isUnknownTimeZone})}toFormat(e,t){return this.isUnknownTimeZone&&(e=e.replaceAll("Z","")),this._date.toFormat(e,t)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new m(this._date.toUTC())}toLocal(){return new m(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(e){return e?new m(a.ou.fromISO(e,{setZone:!0})):null}}function h(e,t=!0){if(e instanceof a.ld)return e;if("system"===e.toLowerCase())return"system";if("utc"===e.toLowerCase())return"UTC";if("unknown"===e.toLowerCase())return s.yV.instance;if(/^[+-]?[0-9]{1,2}([:][0-9]{2})?$/.test(e)){let t=a.Qf.parseSpecifier("UTC"+(e.startsWith("+")||e.startsWith("-")?"":"+")+e);if(t)return t}let n=a.vF.create(e);if(!n.isValid){if(t)throw new l(i.TimeZoneNotRecognized);return null}return n}},36670:function(e,t,n){n.d(t,{EI:function(){return r},Lz:function(){return a},SV:function(){return s},U:function(){return l},r1:function(){return o}});var i=n(9377);function r(e){if(null==e)return null;if("number"==typeof e)return e;let t=e.toLowerCase();switch(t=(t=t.replaceAll(/\s/g,"")).replaceAll("-","")){case"meters":case"meter":case"m":case"squaremeters":case"squaremeter":return 109404;case"miles":case"mile":case"squaremile":case"squaremiles":return 109439;case"kilometers":case"kilometer":case"squarekilometers":case"squarekilometer":case"km":return 109414;case"acres":case"acre":case"ac":return 109402;case"hectares":case"hectare":case"ha":return 109401;case"yard":case"yd":case"yards":case"squareyards":case"squareyard":return 109442;case"feet":case"ft":case"foot":case"squarefeet":case"squarefoot":return 109405;case"nmi":case"nauticalmile":case"nauticalmiles":case"squarenauticalmile":case"squarenauticalmiles":return 109409}return null}function s(e){if(null==e)return null;switch(e.type){case"polygon":case"multipoint":case"polyline":return e.extent;case"point":return new i.Z({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case"extent":return e}return null}function a(e){if(null==e)return null;if("number"==typeof e)return e;let t=e.toLowerCase();switch(t=(t=t.replaceAll(/\s/g,"")).replaceAll("-","")){case"meters":case"meter":case"m":case"squaremeters":case"squaremeter":return 9001;case"miles":case"mile":case"squaremile":case"squaremiles":return 9093;case"kilometers":case"kilometer":case"squarekilometers":case"squarekilometer":case"km":return 9036;case"yard":case"yd":case"yards":case"squareyards":case"squareyard":return 9096;case"feet":case"ft":case"foot":case"squarefeet":case"squarefoot":return 9002;case"nmi":case"nauticalmile":case"nauticalmiles":case"squarenauticalmile":case"squarenauticalmiles":return 9030}return null}function o(e){if(null==e)return null;let t=e.clone();return void 0!==e.cache._geVersion&&(t.cache._geVersion=e.cache._geVersion),t}function l(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}},11697:function(e,t,n){n.d(t,{u:function(){return o}});var i=n(30687),r=n(61210),s=n(9450);function a(e){e=e.replaceAll(/LTS|LT|L{1,4}|l{1,4}/g,"[$&]");let t="";for(let n of e.match(/(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|M{1,4}|Do|DDDo|D{1,4}|d{2,4}|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g)||[])switch(n){case"D":t+="d";break;case"DD":t+="dd";break;case"DDD":t+="o";break;case"d":t+="c";break;case"ddd":t+="ccc";break;case"dddd":t+="cccc";break;case"M":t+="L";break;case"MM":t+="LL";break;case"MMM":t+="LLL";break;case"MMMM":t+="LLLL";break;case"YY":t+="yy";break;case"Y":case"YYYY":t+="yyyy";break;case"Q":t+="q";break;case"X":case"x":t+=n;break;default:n.length>=2&&"["===n.slice(0,1)&&"]"===n.slice(-1)?t+=`'${n.slice(1,-1)}'`:t+=`'${n}'`}return t}class o{constructor(e,t,n){this._year=e,this._month=t,this._day=n,this.declaredRootClass="esri.core.sql.dateonly"}get month(){return this._month}get monthJS(){return this._month-1}get year(){return this._year}get day(){return this._day}get isValid(){return this.toDateTime("unknown").isValid}equals(e){return e instanceof o&&e.day===this.day&&e.month===this.month&&e.year===this.year}clone(){return new o(this._year,this._month,this._day)}toDateTime(e){return s.ou.fromObject({day:this.day,month:this.month,year:this.year},{zone:(0,i.Qn)(e)})}toDateTimeLuxon(e){return s.ou.fromObject({day:this.day,month:this.month,year:this.year},{zone:(0,i.Qn)(e)})}toString(){return`${this.year.toString().padStart(4,"0")}-${this.month.toString().padStart(2,"0")}-${this.day.toString().padStart(2,"0")}`}toFormat(e=null,t=!0){if(null===e||""===e)return this.toString();if(t&&(e=a(e)),!e)return"";let n=this.toDateTime("unknown");return i.iG.dateTimeToArcadeDate(n).toFormat(e,{locale:(0,r.Kd)(),numberingSystem:"latn"})}toArcadeDate(){let e=this.toDateTime("unknown");return i.iG.dateTimeToArcadeDate(e)}toNumber(){return this.toDateTime("unknown").toMillis()}toJSDate(){return this.toDateTime("unknown").toJSDate()}toStorageFormat(){return this.toFormat("yyyy-LL-dd",!1)}toSQLValue(){return this.toFormat("yyyy-LL-dd",!1)}toSQLWithKeyword(){return"date '"+this.toFormat("yyyy-LL-dd",!1)+"'"}plus(e,t){return o.fromDateTime(this.toUTCDateTime().plus({[e]:t}))}toUTCDateTime(){return s.ou.utc(this.year,this.month,this.day,0,0,0,0)}difference(e,t){switch(t.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(e.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return"M"===t?this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(e.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(e.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(e.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(e.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(e.toUTCDateTime(),"years").years}}static fromMilliseconds(e){let t=s.ou.fromMillis(e,{zone:s.Qf.utcInstance});return t.isValid?o.fromParts(t.year,t.month,t.day):null}static fromSeconds(e){let t=s.ou.fromSeconds(e,{zone:s.Qf.utcInstance});return t.isValid?o.fromParts(t.year,t.month,t.day):null}static fromReader(e){if(!e)return null;let t=e.split("-");return 3!==t.length?null:new o(parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10))}static fromParts(e,t,n){let i=new o(e,t,n);return!1===i.isValid?null:i}static fromDateJS(e){return o.fromParts(e.getFullYear(),e.getMonth()+1,e.getDay())}static fromDateTime(e){return o.fromParts(e.year,e.month,e.day)}static fromSqlTimeStampOffset(e){return this.fromDateTime(e.toDateTime())}static fromString(e,t=null){if(""===e||null===e)return null;let n=[];if(t)(t=a(t))&&n.push(t);else if(null===t||""===t){let t=s.ou.fromISO(e,{setZone:!0});return t.isValid?o.fromParts(t.year,t.month,t.day):null}for(let i of n){let n=s.ou.fromFormat(e,t??i);if(n.isValid)return new o(n.year,n.month,n.day)}return null}static fromNow(e="system"){let t=s.ou.fromJSDate(new Date).setZone((0,i.Qn)(e));return new o(t.year,t.month,t.day)}}},11693:function(e,t,n){n.d(t,{n:function(){return o}});var i=n(36670),r=n(61210),s=n(9450);function a(e){if(!e)return"";let t="";for(let n of e.match(/(a|A|hh?|HH?|mm?|ss?|SSS|S|.)/g)||[])switch(n){case"SSS":case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":t+=n;break;case"A":case"a":t+="a";break;default:t+=`'${n}'`}return t}class o{constructor(e,t,n,i){this._hour=e,this._minute=t,this._second=n,this._millisecond=i,this.declaredRootClass="esri.core.sql.timeonly"}get hour(){return this._hour}get minute(){return this._minute}get second(){return this._second}get millisecond(){return this._millisecond}equals(e){return e instanceof o&&e.hour===this.hour&&e.minute===this.minute&&e.second===this.second&&e.millisecond===this.millisecond}clone(){return new o(this.hour,this.minute,this.second,this.millisecond)}isValid(){return(0,i.U)(this.hour)&&(0,i.U)(this.minute)&&(0,i.U)(this.second)&&(0,i.U)(this.millisecond)&&this.hour>=0&&this.hour<24&&this.minute>=0&&this.minute<60&&this.second>=0&&this.second<60&&this.millisecond>=0&&this.millisecond<1e3}toString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`+(this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):"")}toSQLValue(){return this.toString()}toSQLWithKeyword(){return`time '${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}${this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):""}'`}toStorageString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`}toFormat(e=null){return null===e||""===e?this.toString():(e=a(e))?s.ou.local(1970,1,1,this._hour,this._minute,this._second,this._millisecond).toFormat(e,{locale:(0,r.Kd)(),numberingSystem:"latn"}):""}toNumber(){return this.millisecond+1e3*this.second+1e3*this.minute*60+60*this.hour*6e4}static fromParts(e,t,n,i){let r=new o(e,t,n,i);return r.isValid()?r:null}static fromReader(e){if(!e)return null;let t=e.split(":");return 3!==t.length?null:new o(parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10),0)}static fromMilliseconds(e){return e>864e5||e<0?null:new o(Math.floor(e/36e5%24),Math.floor(e/6e4%60),Math.floor(e/1e3%60),Math.floor(e%1e3))}static fromDateJS(e){return new o(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}static fromDateTime(e){return new o(e.hour,e.minute,e.second,e.millisecond)}static fromSqlTimeStampOffset(e){return this.fromDateTime(e.toDateTime())}static fromString(e,t=null){if(""===e||null===e)return null;let n=[];for(let i of(t?(t=a(t))&&n.push(t):null!==t&&""!==t||(n.push("HH:mm:ss"),n.push("HH:mm:ss.SSS"),n.push("hh:mm:ss a"),n.push("hh:mm:ss.SSS a"),n.push("HH:mm"),n.push("hh:mm a"),n.push("H:mm"),n.push("h:mm a"),n.push("H:mm:ss"),n.push("h:mm:ss a"),n.push("H:mm:ss.SSS"),n.push("h:mm:ss.SSS a")),n)){let t=s.ou.fromFormat(e,i);if(t.isValid)return new o(t.hour,t.minute,t.second,t.millisecond)}return null}plus(e,t){switch(e){case"days":case"years":case"months":return this.clone();case"hours":case"minutes":case"seconds":case"milliseconds":return o.fromDateTime(this.toUTCDateTime().plus({[e]:t}))}return null}toUTCDateTime(){return s.ou.utc(1970,1,1,this.hour,this.minute,this.second,this.millisecond)}difference(e,t){switch(t.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(e.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return"M"===t?this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(e.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(e.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(e.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(e.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(e.toUTCDateTime(),"years").years}}}},22521:function(e,t,n){n.d(t,{A4:function(){return s},L9:function(){return a},yV:function(){return r}});var i=n(9450);class r{}function s(e){return e instanceof i.ld?e===r.instance:"unknown"===e?.toString().toLowerCase()}function a(e){return s(e)?r.instance:e}r.instance=new i.vF("Etc/UTC")},2359:function(e,t,n){n.d(t,{N:function(){return i}});let i={convertToGEGeometry:function(e,t){return null==t?null:e.convertJSONToGeometry(t)},exportPoint:function(e,t,n){let i=new r(e.getPointX(t),e.getPointY(t),n),s=e.hasZ(t),a=e.hasM(t);return s&&(i.z=e.getPointZ(t)),a&&(i.m=e.getPointM(t)),i},exportPolygon:function(e,t,n){return new s(e.exportPaths(t),n,e.hasZ(t),e.hasM(t))},exportPolyline:function(e,t,n){return new a(e.exportPaths(t),n,e.hasZ(t),e.hasM(t))},exportMultipoint:function(e,t,n){return new o(e.exportPoints(t),n,e.hasZ(t),e.hasM(t))},exportExtent:function(e,t,n){let i=e.hasZ(t),r=e.hasM(t),s=new l(e.getXMin(t),e.getYMin(t),e.getXMax(t),e.getYMax(t),n);if(i){let n=e.getZExtent(t);s.zmin=n.vmin,s.zmax=n.vmax}if(r){let n=e.getMExtent(t);s.mmin=n.vmin,s.mmax=n.vmax}return s}};class r{constructor(e,t,n){this.x=e,this.y=t,this.spatialReference=n,this.z=void 0,this.m=void 0}}class s{constructor(e,t,n,i){this.rings=e,this.spatialReference=t,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),i&&(this.hasM=i)}}class a{constructor(e,t,n,i){this.paths=e,this.spatialReference=t,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),i&&(this.hasM=i)}}class o{constructor(e,t,n,i){this.points=e,this.spatialReference=t,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),i&&(this.hasM=i)}}class l{constructor(e,t,n,i,r){this.xmin=e,this.ymin=t,this.xmax=n,this.ymax=i,this.spatialReference=r,this.zmin=void 0,this.zmax=void 0,this.mmin=void 0,this.mmax=void 0}}},48932:function(e,t,n){function i(e){return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance,1,1]:[1,1,1,1],translate:null!=e.extent?[e.extent.xmin,e.extent.ymax,e.extent.zmin??0,e.extent.mmin??0]:[0,0,0,0]}:null}function r(e){if("lowerLeft"===e.originPosition&&4===e.scale.length&&4===e.translate.length)return e;let{originPosition:t,scale:n,translate:i}=e,r=n[0]??1,s=n[1]??1;return{originPosition:"lowerLeft",scale:[r,"lowerLeft"===t?s:-s,n[2]??1,n[3]??1],translate:[i[0]??0,i[1]??0,i[2]??0,i[3]??0]}}function s({scale:e,translate:t},n){return n*e[0]+t[0]}function a({scale:e,translate:t},n){return n*e[1]+t[1]}function o({scale:e,translate:t},n){return(n??0)*e[2]+t[2]}function l({scale:e,translate:t},n){return n?n*e[3]+t[3]:0}function u(e,t){return e&&t?f:e&&!t?m:!e&&t?h:c}n.d(t,{G6:function(){return T},Ie:function(){return S},J9:function(){return p},RF:function(){return y},U1:function(){return g},vY:function(){return i}}),n(5005);let c=(e,t)=>{let n=Array(t.length);if(!t.length)return n;let i=t[0],r=s(e,i[0]),o=a(e,i[1]);n[0]=[r,o];let{scale:l,originPosition:u}=e,c=l[0],m="lowerLeft"===u?l[1]:-l[1];for(let e=1;e<t.length;e++){let[i,s]=t[e];r+=c*i,o+=m*s,n[e]=[r,o]}return n},m=(e,t)=>{let n=Array(t.length);if(!t.length)return n;let i=t[0],r=s(e,i[0]),l=a(e,i[1]);n[0]=[r,l,o(e,i[2])];let{scale:u,originPosition:c}=e,m=u[0],h="lowerLeft"===c?u[1]:-u[1];for(let i=1;i<t.length;i++){let[s,a,u]=t[i];r+=m*s,l+=h*a,n[i]=[r,l,o(e,u)]}return n},h=(e,t)=>{let n=Array(t.length);if(!t.length)return n;let i=t[0],r=s(e,i[0]),o=a(e,i[1]);n[0]=[r,o,l(e,i[2])];let{scale:u,originPosition:c}=e,m=u[0],h="lowerLeft"===c?u[1]:-u[1];for(let i=1;i<t.length;i++){let[s,a,u]=t[i];r+=m*s,o+=h*a,n[i]=[r,o,l(e,u)]}return n},f=(e,t)=>{let n=Array(t.length);if(!t.length)return n;let i=t[0],r=s(e,i[0]),u=a(e,i[1]);n[0]=[r,u,o(e,i[2]),l(e,i[3])];let{scale:c,originPosition:m}=e,h=c[0],f="lowerLeft"===m?c[1]:-c[1];for(let i=1;i<t.length;i++){let[s,a,c,m]=t[i];r+=h*s,u+=f*a,n[i]=[r,u,o(e,c),l(e,m)]}return n};function d(e,t,n){let i=Array(n.length);for(let r=0;r<n.length;r++)i[r]=t(e,n[r]);return i}function y(e,t,n){let i=r(e);return t.x=function({scale:e,translate:t},n){return Math.round((n-t[0])/e[0])}(i,n.x),t.y=function({scale:e,translate:t},n){return Math.round((n-t[1])/e[1])}(i,n.y),null!=n.z&&(t.z=function({scale:e,translate:t},n){return Math.round(((n??0)-t[2])/e[2])}(i,n.z)),null!=n.m&&(t.m=function({scale:e,translate:t},n){return n?Math.round((n-t[3])/e[3]):0}(i,n.m)),t}function p(e,t,n,i=n?.hasZ??!1,s=n?.hasM??!1){if(null!=n){let a=r(e);t.points=u(i,s)(a,n.points),t.hasZ=i,t.hasM=s}return t}function g(e,t,n,i=null!=n?.z,u=null!=n?.m){if(null==n)return t;let c=r(e);return t.x=s(c,n.x),t.y=a(c,n.y),i&&(t.z=o(c,n.z)),u&&(t.m=l(c,n.m)),t}function S(e,t,n,i=n?.hasZ??!1,s=n?.hasM??!1){if(null!=n){let a=r(e);t.rings=d(a,u(i,s),n.rings),t.hasZ=i,t.hasM=s}return t}function T(e,t,n,i=n?.hasZ??!1,s=n?.hasM??!1){if(null!=n){let a=r(e);t.paths=d(a,u(i,s),n.paths),t.hasZ=i,t.hasM=s}return t}},36333:function(e,t,n){function i(e,t){return e?t?4:3:t?3:2}function r(e,t,n,r){if(!t?.lengths.length)return null;e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0);let s=e.coords,a=[],o=n?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:l,coords:u}=t,c=i(n,r),m=0;for(let e of l){let t=function(e,t,n,r,s,a){let o=i(s,a),l=n,u=n+o,c=0,m=0,h=0,f=0,d=0;for(let n=0,i=r-1;n<i;n++,l+=o,u+=o){let n=t[l],i=t[l+1],r=t[l+2],a=t[u],o=t[u+1],y=t[u+2],p=n*o-a*i;f+=p,c+=(n+a)*p,m+=(i+o)*p,s&&(p=n*y-a*r,h+=(r+y)*p,d+=p),n<e[0]&&(e[0]=n),n>e[1]&&(e[1]=n),i<e[2]&&(e[2]=i),i>e[3]&&(e[3]=i),s&&(r<e[4]&&(e[4]=r),r>e[5]&&(e[5]=r))}if(f>0&&(f*=-1),d>0&&(d*=-1),!f)return null;let y=[c,m,.5*f];return s&&(y[3]=h,y[4]=.5*d),y}(o,u,m,e,n,r);t&&a.push(t),m+=e*c}if(a.sort((e,t)=>{let i=e[2]-t[2];return 0===i&&n&&(i=e[4]-t[4]),i}),a.length){let e=6*a[0][2];s[0]=a[0][0]/e,s[1]=a[0][1]/e,n&&(e=6*a[0][4],s[2]=0!==e?a[0][3]/e:0),(s[0]<o[0]||s[0]>o[1]||s[1]<o[2]||s[1]>o[3]||n&&(s[2]<o[4]||s[2]>o[5]))&&(s.length=0)}if(!s.length){let e=t.lengths[0]?function(e,t,n,r,s){let a=i(r,s),o=0,l=0+a,u=0,c=0,m=0,h=0;for(let t=0,i=n-1;t<i;t++,o+=a,l+=a){let t=e[o],n=e[o+1],i=e[o+2],s=e[l],a=e[l+1],f=e[l+2],d=r?function(e,t,n,i,r,s){let a=i-e,o=r-t,l=s-n;return Math.sqrt(a*a+o*o+l*l)}(t,n,i,s,a,f):function(e,t,n,i){let r=n-e,s=i-t;return Math.sqrt(r*r+s*s)}(t,n,s,a);if(d){if(u+=d,r){let e=[t+.5*(s-t),n+.5*(a-n),i+.5*(f-i)];c+=d*e[0],m+=d*e[1],h+=d*e[2]}else{let e=[t+.5*(s-t),n+.5*(a-n)];c+=d*e[0],m+=d*e[1]}}}return u>0?r?[c/u,m/u,h/u]:[c/u,m/u]:n>0?r?[e[t],e[t+1],e[t+2]]:[e[t],e[t+1]]:null}(u,0,l[0],n,r):null;if(!e)return null;s[0]=e[0],s[1]=e[1],n&&e.length>2&&(s[2]=e[2])}return e}n.d(t,{Y:function(){return r}})},68144:function(e,t,n){n.d(t,{EG:function(){return u},Op:function(){return c},S2:function(){return m}});var i=n(83339),r=n(73503);let s=new r.Z,a=new r.Z,o=new r.Z,l={esriGeometryPoint:i.fQ,esriGeometryPolyline:i.J6,esriGeometryPolygon:i.eG,esriGeometryMultipoint:i.Iv};function u(e,t,n,r=e.hasZ,s=e.hasM){if(null==t)return null;let a=e.hasZ&&r,l=e.hasM&&s;if(n){let u=(0,i.Nh)(o,t,e.hasZ,e.hasM,"esriGeometryPoint",n,r,s);return(0,i.fQ)(u,a,l)}return(0,i.fQ)(t,a,l)}function c(e,t,n,r,u,c,m=t,h=n){let f=t&&m,d=n&&h,y=null!=r?"coords"in r?r:r.geometry:null;if(null==y)return null;if(u){let r=(0,i.zj)(a,y,t,n,e,u,m,h);return c&&(r=(0,i.Nh)(o,r,f,d,e,c)),l[e]?.(r,f,d)??null}if(c){let r=(0,i.Nh)(o,y,t,n,e,c,m,h);return l[e]?.(r,f,d)??null}return(0,i.hY)(s,y,t,n,m,h),l[e]?.(s,f,d)??null}function m(e){return e&&h in e?JSON.parse(JSON.stringify(e,f)):e}let h="_geVersion",f=(e,t)=>e!==h?t:void 0},26978:function(e,t,n){n.d(t,{_W:function(){return f},iV:function(){return p},oj:function(){return T}});var i=n(78628),r=n(31124),s=n(20928),a=n(2359),o=n(62329),l=n(56132);let u=[0,0];function c(e,t){if(!t)return null;if("x"in t){let n={x:0,y:0};return[n.x,n.y]=e(t.x,t.y,u),null!=t.z&&(n.z=t.z),null!=t.m&&(n.m=t.m),n}if("xmin"in t){let n={xmin:0,ymin:0,xmax:0,ymax:0};return[n.xmin,n.ymin]=e(t.xmin,t.ymin,u),[n.xmax,n.ymax]=e(t.xmax,t.ymax,u),t.hasZ&&(n.zmin=t.zmin,n.zmax=t.zmax,n.hasZ=!0),t.hasM&&(n.mmin=t.mmin,n.mmax=t.mmax,n.hasM=!0),n}return"rings"in t?{rings:m(t.rings,e),hasM:t.hasM,hasZ:t.hasZ}:"paths"in t?{paths:m(t.paths,e),hasM:t.hasM,hasZ:t.hasZ}:"points"in t?{points:h(t.points,e),hasM:t.hasM,hasZ:t.hasZ}:null}function m(e,t){let n=[];for(let i of e)n.push(h(i,t));return n}function h(e,t){let n=[];for(let i of e){let e=t(i[0],i[1],[0,0]);n.push(e),i.length>2&&e.push(i[2]),i.length>3&&e.push(i[3])}return n}async function f(e,t){if(!e||!t)return;let n=Array.isArray(e)?e.map(e=>null!=e.geometry?e.geometry.spatialReference:null).filter(i.pC):[e];await (0,s.initializeProjection)(n.map(e=>({source:e,dest:t})))}let d=c.bind(null,l.hG),y=c.bind(null,l.R6);function p(e,t,n,i){if(!e||(n||(n=t,t=e.spatialReference),!(0,o.JY)(t)||!(0,o.JY)(n)||(0,o.fS)(t,n)))return e;if((0,l.Q8)(t,n)){let t=(0,o.sS)(n)?d(e):y(e);return t.spatialReference=n,t}return(0,s.projectMany)(a.N,[e],t,n,null,i)[0]}class g{constructor(){this._jobs=[],this._timer=null,this._process=this._process.bind(this)}async push(e,t,n,i){if(!e?.length||!t||!n||(0,o.fS)(t,n))return e;let s={geometries:e,inSpatialReference:t,outSpatialReference:n,geographicTransformation:i,resolve:(0,r.hh)()};return this._jobs.push(s),this._timer??=setTimeout(this._process,10),s.resolve.promise}_process(){this._timer=null;let e=this._jobs.shift();if(!e)return;let{geometries:t,inSpatialReference:n,outSpatialReference:i,resolve:r,geographicTransformation:u}=e;r((0,l.Q8)(n,i)?(0,o.sS)(i)?t.map(d):t.map(y):(0,s.projectMany)(a.N,t,n,i,u,null)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}}let S=new g;function T(e,t,n,i){return S.push(e,t,n,i)}},39695:function(e,t,n){n.d(t,{Ti:function(){return h},Up:function(){return f},j6:function(){return d}});var i=n(740),r=n(9266),s=n(20928),a=n(223),o=n(5005),l=n(38028),u=n(62329),c=n(26978);let m=new i.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),h=Object.freeze({});async function f(e,t,n){let{outFields:i,orderByFields:r,groupByFieldsForStatistics:s,outStatistics:a}=e;if(i)for(let e=0;e<i.length;e++)i[e]=i[e].trim();if(r)for(let e=0;e<r.length;e++)r[e]=r[e].trim();if(s)for(let e=0;e<s.length;e++)s[e]=s[e].trim();if(a)for(let e=0;e<a.length;e++)a[e].onStatisticField&&(a[e].onStatisticField=a[e].onStatisticField.trim());return e.geometry&&!e.outSR&&(e.outSR=e.geometry.spatialReference),d(e,t,n)}async function d(e,t,n){if(!e)return null;let{where:i}=e;if(e.where=i=i?.trim(),(!i||/^1 *= *1$/.test(i)||t&&t===i)&&(e.where=null),!e.geometry)return e;let r=await p(e);if(e.distance=0,e.units=null,"esriSpatialRelEnvelopeIntersects"===e.spatialRel){let{spatialReference:t}=e.geometry;(r=(0,a.aO)(r)).spatialReference=t}if(r){await (0,c._W)(r.spatialReference,n),r=function(e,t){let n=e.spatialReference;return y(e,t)&&(0,o.YX)(e)?{spatialReference:n,rings:[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]}:e}(r,n);let t=(await (0,l.aX)((0,o.im)(r)))[0];if(null==t)throw h;let i="quantizationParameters"in e&&e.quantizationParameters?.tolerance||"maxAllowableOffset"in e&&e.maxAllowableOffset||0,s=i&&y(r,n)?{densificationStep:8*i}:void 0,a=t.toJSON(),u=(0,c.iV)(a,a.spatialReference,n,s);if(!u)throw h;u.spatialReference=n,e.geometry=u}return e}function y(e,t){if(!e)return!1;let n=e.spatialReference;return((0,o.YX)(e)||(0,o.oU)(e)||(0,o.l9)(e))&&!(0,u.fS)(n,t)&&!(0,s.canProjectWithoutEngine)(n,t)}async function p(e){let{distance:t,units:n}=e,i=e.geometry;if(null==t||"vertexAttributes"in i)return i;let s=i.spatialReference,a=n?m.fromJSON(n):(0,r.qE)(s),o=s&&((0,u.sT)(s)||(0,u.sS)(s))?i:await (0,c._W)(s,u.YU).then(()=>(0,c.iV)(i,u.YU));return(await g())(o.spatialReference,o,t,a)}async function g(){return(await Promise.all([n.e(58379),n.e(9042)]).then(n.bind(n,56362))).geodesicBuffer}},32826:function(e,t,n){n.d(t,{hN:function(){return T},P0:function(){return S},cW:function(){return g}});var i=n(94605),r=n(81475),s=n(66515),a=n(5005),o=n(62329);function l(e,t){return e?t?4:3:t?3:2}function u(e,t,n,i,r){if(!e)return!1;let s=l(t,n),{coords:a,lengths:o}=e,u=!1,c=0;for(let e of o)u=function(e,t,n,i,r,s,a){let o=e,l=i;for(let e=i,u=i+r*n;e<u;e+=n){(l=e+n)===u&&(l=i);let r=t[e],c=t[e+1],m=t[l],h=t[l+1];(c<a&&h>=a||h<a&&c>=a)&&r+(a-c)/(h-c)*(m-r)<s&&(o=!o)}return o}(u,a,s,c,e,i,r),c+=e*s;return u}var c=n(83339),m=n(73503),h=n(68144),f=n(26978);let d="unsupported-query",y={esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"intersects",esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:null},p={spatialRelationship:{esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},queryGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},layerGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1}};function g(e,t,i,o,f){if((0,a.oU)(t)&&"esriGeometryPoint"===i&&("esriSpatialRelIntersects"===e||"esriSpatialRelContains"===e)){let e=(0,c.Uy)(new m.Z,t,!1,!1);return Promise.resolve(t=>u(e,!1,!1,t.coords[0],t.coords[1]))}if((0,a.oU)(t)&&"esriGeometryMultipoint"===i){let n=(0,c.Uy)(new m.Z,t,!1,!1);if("esriSpatialRelContains"===e)return Promise.resolve(e=>(function(e,t,n,i,r,s){let a=l(r,s),{coords:o,lengths:c}=i;if(!c)return!1;for(let i=0,r=0;i<c.length;i++,r+=a)if(!u(e,t,n,o[r],o[r+1]))return!1;return!0})(n,!1,!1,e,o,f))}if((0,a.YX)(t)&&"esriGeometryPoint"===i&&("esriSpatialRelIntersects"===e||"esriSpatialRelContains"===e))return Promise.resolve(e=>(0,r.aV)(t,(0,h.Op)(i,o,f,e)));if((0,a.YX)(t)&&"esriGeometryMultipoint"===i&&"esriSpatialRelContains"===e)return Promise.resolve(e=>(0,r.lQ)(t,(0,h.Op)(i,o,f,e)));if((0,a.YX)(t)&&"esriSpatialRelIntersects"===e){let e="mesh"===i?s.h_:(0,s.IY)(i);return Promise.resolve(n=>e(t,(0,h.Op)(i,o,f,n)))}return Promise.all([n.e(58379),n.e(9042)]).then(n.bind(n,56362)).then(n=>{let r=n[y[e]].bind(null,t.spatialReference,t);return e=>r((0,h.Op)(i,o,f,e))})}async function S(e,t,n){let{spatialRel:r,geometry:s}=e;if(s){if(!(null!=r&&!0===p.spatialRelationship[r]))throw new i.Z(d,"Unsupported query spatial relationship",{query:e});if((0,o.JY)(s.spatialReference)&&(0,o.JY)(n)){if(!(null!=s&&!0===p.queryGeometry[(0,a.Ji)(s)]))throw new i.Z(d,"Unsupported query geometry type",{query:e});if(!(null!=t&&!0===p.layerGeometry[t]))throw new i.Z(d,"Unsupported layer geometry type",{query:e});if(e.outSR)return(0,f._W)(e.geometry?.spatialReference,e.outSR)}}}function T(e){if((0,a.YX)(e))return!0;if((0,a.oU)(e)){for(let t of e.rings)if(5!==t.length||t[0][0]!==t[1][0]||t[0][0]!==t[4][0]||t[2][0]!==t[3][0]||t[0][1]!==t[3][1]||t[0][1]!==t[4][1]||t[1][1]!==t[2][1])return!1;return!0}return!1}},93650:function(e,t,n){async function i(e,t){if(!e)return null;let n=t.featureAdapter,{startTimeField:i,endTimeField:r}=e,s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;if(i&&r)await t.forEach(e=>{let t=n.getAttribute(e,i),o=n.getAttribute(e,r);null==t||isNaN(t)||(s=Math.min(s,t)),null==o||isNaN(o)||(a=Math.max(a,o))});else{let e=i||r;await t.forEach(t=>{let i=n.getAttribute(t,e);null==i||isNaN(i)||(s=Math.min(s,i),a=Math.max(a,i))})}return{start:s,end:a}}function r(e,t,n){var i;if(!t||!e)return null;let{startTimeField:r,endTimeField:s}=e;if(!r&&!s)return null;let{start:a,end:o}=t;if(null===a&&null===o)return null;if(void 0===a&&void 0===o)return()=>!1;let l=n.getAttributeAsTimestamp?.bind(n)??n.getAttribute.bind(n);return r&&s?null!=a&&null!=o?e=>{let t=l(e,r),n=l(e,s);return(null==t||t<=o)&&(null==n||n>=a)}:null!=a?e=>{let t=l(e,s);return null==t||t>=a}:null!=o?e=>{let t=l(e,r);return null==t||t<=o}:void 0:(i=r||s,null!=a&&null!=o&&a===o?e=>l(e,i)===a:null!=a&&null!=o?e=>{let t=l(e,i);return null!=t&&t>=a&&t<=o}:null!=a?e=>{let t=l(e,i);return null!=t&&t>=a}:null!=o?e=>{let t=l(e,i);return null!=t&&t<=o}:void 0)}n.d(t,{R:function(){return i},y:function(){return r}})},32370:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(94605),r=n(689),s=n(65223),a=n(59528),o=n(22521),l=n(67009),u=n(46200),c=n(9450);let m=new Map;class h{static fromJSON(e){return new h(e.fields,e.timeZoneByFieldName)}static fromLayer(e){return new h(e.fields??[],p(e))}static fromLayerJSON(e){return new h(e.fields??[],p(e))}constructor(e=[],t){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=e||[],this._timeZoneByFieldName=t?new Map(t):null;let n=[];for(let e of this.fields){let t=e?.name,i=d(t);if(t&&i){let r=f(t);this._fieldsMap.set(t,e),this._fieldsMap.set(r,e),this._normalizedFieldsMap.set(i,e),n.push(`${r}:${e.type}:${this._timeZoneByFieldName?.get(t)}`),(0,l.y2)(e)?(this.dateFields.push(e),this._dateFieldsSet.add(e)):(0,l.H7)(e)&&(this._numericFieldsSet.add(e),this.numericFields.push(e)),(0,l.Dl)(e)||(0,l.Se)(e)||(e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable)}}n.sort(),this.uid=n.join()}get requiredFields(){if(!this._requiredFields)for(let e of(this._requiredFields=[],this.fields))(0,l.Dl)(e)||(0,l.Se)(e)||e.nullable||void 0!==(0,l.os)(e)||this._requiredFields.push(e);return this._requiredFields}equals(e){return this.uid===e?.uid}has(e){return null!=this.get(e)}get(e){if(!e)return;let t=this._fieldsMap.get(e);return t||((t=this._fieldsMap.get(f(e))??this._normalizedFieldsMap.get(d(e)))&&this._fieldsMap.set(e,t),t)}getTimeZone(e){let t=this.get(e&&"string"!=typeof e?e.name:e);return t?this._timeZoneByFieldName?this._timeZoneByFieldName.get(t.name):"date"===t.type||"esriFieldTypeDate"===t.type?(s.Z.getLogger("esri.layers.support.FieldsIndex").error(new i.Z("getTimeZone:no-timezone-information",`no time zone information for field '${t.name}'`)),u.pt):y.has(t.type)?u._4:null:null}getLuxonTimeZone(e){let t=this.getTimeZone(e);return t?t===u._4?o.yV.instance:t===u.pt?c.Qf.utcInstance:(0,a.s1)(m,t,()=>c.vF.create(t)):null}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isTimeOnlyField(e){return(0,l.sX)(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){return this.get(e)?.name??void 0}toJSON(){return{fields:this.fields.map(e=>(0,r.AK)(e)?e.toJSON():e),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function f(e){return e.trim().toLowerCase()}function d(e){return l.q6(e)?.toLowerCase()??""}let y=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function p(e){let t=new Map;if(!e.fields)return t;let n=!0===e.datesInUnknownTimezone,{timeInfo:i,editFieldsInfo:r}=e,s=(i?"startField"in i?i.startField:i.startTimeField:"")??"",a=(i?"endField"in i?i.endField:i.endTimeField:"")??"",o="dateFieldsTimeZone"in e?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?(0,u.Jv)(e.dateFieldsTimeReference):null,l=r?"timeZone"in r?r.timeZone??o:r.dateFieldsTimeReference?(0,u.Jv)(r.dateFieldsTimeReference):o??u.pt:null,c=i?"timeZone"in i?i.timeZone??o:i.timeReference?(0,u.Jv)(i.timeReference):o:null,m=new Map([[f(r?.creationDateField??""),l],[f(r?.editDateField??""),l],[f(s),c],[f(a),c]]);for(let{name:i,type:r}of e.fields)if(y.has(r))t.set(i,u._4);else if("date"!==r&&"esriFieldTypeDate"!==r)t.set(i,null);else if(n)t.set(i,u._4);else{let e=m.get(f(i??""))??o;t.set(i,e)}return t}}}]);