"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61049],{92353:function(e,t,r){r.d(t,{Q:function(){return c}});var n=r(92882),i=r(94605),a=r(68665);r(19324);var s,l=r(42656),o={exports:{}};s=function(){function e(t,r,n,i){var a=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(a,e.prototype),a.expected=r,a.found=n,a.location=i,a.name="SyntaxError",a}function t(e,t,r){return r=r||" ",e.length>t?e:(t-=e.length,e+(r+=r.repeat(t)).slice(0,t))}return function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(e,Error),e.prototype.format=function(e){var r="Error: "+this.message;if(this.location){var n,i=null;for(n=0;n<e.length;n++)if(e[n].source===this.location.source){i=e[n].text.split(/\r\n|\n|\r/g);break}var a=this.location.start,s=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(a):a,l=this.location.source+":"+s.line+":"+s.column;if(i){var o=this.location.end,u=t("",s.line.toString().length," "),c=i[a.line-1],p=(a.line===o.line?o.column:c.length+1)-a.column||1;r+="\n --> "+l+"\n"+u+" |\n"+s.line+" | "+c+"\n"+u+" | "+t("",a.column-1," ")+t("",p,"^")}else r+="\n at "+l}return r},e.buildMessage=function(e,t){var r={literal:function(e){return'"'+i(e.text)+'"'},class:function(e){var t=e.parts.map(function(e){return Array.isArray(e)?a(e[0])+"-"+a(e[1]):a(e)});return"["+(e.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function i(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+n(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+n(e)})}function a(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+n(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+n(e)})}function s(e){return r[e.type](e)}return"Expected "+function(e){var t,r,n=e.map(s);if(n.sort(),n.length>0){for(t=1,r=1;t<n.length;t++)n[t-1]!==n[t]&&(n[r]=n[t],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(e)+" but "+(t?'"'+i(t)+'"':"end of input")+" found."},{SyntaxError:e,parse:function(t,r){var n,i,a,s,l,o,u,c,p={},h=(r=void 0!==r?r:{}).grammarSource,d={start:ed},f=ed,y="none",m="grad",g="turn",v=/^[ \t\n\r]/,b=/^[a-z\-]/,w=/^[0-9a-fA-F]/,C=/^[+\-]/,A=/^[0-9]/,_=ec("none"),S=eo("none",!1),x=eo(")",!1),R=eo(",",!1),Z=ec("whitespace"),E=eu([" ","	","\n","\r"],!1,!1),L=ec("function"),O=eo("(",!1),V=ec("identifier"),F=eu([["a","z"],"-"],!1,!1),P=ec("percentage"),q=eo("%",!1),$=ec("length"),j=eo("px",!1),I=eo("cm",!1),T=eo("mm",!1),U=eo("in",!1),H=eo("pt",!1),N=eo("pc",!1),k=ec("angle"),M=eo("deg",!1),B=eo("rad",!1),D=eo("grad",!1),G=eo("turn",!1),X=ec("number"),Y=ec("color"),z=eo("#",!1),Q=eu([["0","9"],["a","f"],["A","F"]],!1,!1),W=eu(["+","-"],!1,!1),J=eu([["0","9"]],!1,!1),K=eo(".",!1),ee=eo("e",!1),et=0,er=0,en=[{line:1,column:1}],ei=0,ea=[],es=0;if("startRule"in r){if(!(r.startRule in d))throw Error("Can't start parsing from rule \""+r.startRule+'".');f=d[r.startRule]}function el(){return t.substring(er,et)}function eo(e,t){return{type:"literal",text:e,ignoreCase:t}}function eu(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function ec(e){return{type:"other",description:e}}function ep(e){var r,n=en[e];if(n)return n;for(r=e-1;!en[r];)r--;for(n={line:(n=en[r]).line,column:n.column};r<e;)10===t.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return en[e]=n,n}function eh(e){et<ei||(et>ei&&(ei=et,ea=[]),ea.push(e))}function ed(){var e,r,n;return es++,r=et,em(),t.substr(et,4)===y?(n=y,et+=4):(n=p,0===es&&eh(S)),n!==p?(em(),er=r,r=[]):(et=r,r=p),es--,r===p&&0===es&&eh(_),(e=r)===p&&(e=function(){var e,t;if(e=[],(t=ef())!==p)for(;t!==p;)e.push(t),t=ef();else e=p;return e}()),e}function ef(){var e,r,n,i,a,s,l;return e=et,em(),(es++,a=et,(s=eg())!==p?(40===t.charCodeAt(et)?(l="(",et++):(l=p,0===es&&eh(O)),l!==p?(er=a,a=s):(et=a,a=p)):(et=a,a=p),es--,a===p&&(s=p,0===es&&eh(L)),(r=a)!==p)?(em(),(n=function(){var e,r,n,i,a,s,l,o,u;if(e=et,(r=ey())!==p){for(n=[],i=et,a=em(),44===t.charCodeAt(et)?(s=",",et++):(s=p,0===es&&eh(R)),s===p&&(s=null),l=em(),(o=ey())!==p?i=a=[a,s,l,o]:(et=i,i=p);i!==p;)n.push(i),i=et,a=em(),44===t.charCodeAt(et)?(s=",",et++):(s=p,0===es&&eh(R)),s===p&&(s=null),l=em(),(o=ey())!==p?i=a=[a,s,l,o]:(et=i,i=p);er=e,e=n.length>0?(u=0,[r].concat(n.map(function(e){return e[3]}))):[r]}else et=e,e=p;return e}())===p&&(n=null),em(),41===t.charCodeAt(et)?(i=")",et++):(i=p,0===es&&eh(x)),i!==p?(em(),er=e,e={type:"function",name:r,parameters:n||[]}):(et=e,e=p)):(et=e,e=p),e}function ey(){var e,r,n,i,a,s,l,o,u,c,h,d,f,y,v;return e=et,es++,a=et,em(),(s=ev())!==p?(37===t.charCodeAt(et)?(l="%",et++):(l=p,0===es&&eh(q)),l!==p?(er=a,a={value:s,unit:"%"}):(et=a,a=p)):(et=a,a=p),es--,a===p&&0===es&&eh(P),(r=a)===p&&(es++,o=et,em(),(u=ev())!==p?("px"===t.substr(et,2)?(c="px",et+=2):(c=p,0===es&&eh(j)),c!==p?(er=o,o={value:u,unit:"px"}):(et=o,o=p)):(et=o,o=p),o===p&&(o=et,em(),(u=ev())!==p?("cm"===t.substr(et,2)?(c="cm",et+=2):(c=p,0===es&&eh(I)),c!==p?(er=o,o={value:u,unit:"cm"}):(et=o,o=p)):(et=o,o=p),o===p&&(o=et,em(),(u=ev())!==p?("mm"===t.substr(et,2)?(c="mm",et+=2):(c=p,0===es&&eh(T)),c!==p?(er=o,o={value:u,unit:"mm"}):(et=o,o=p)):(et=o,o=p),o===p&&(o=et,em(),(u=ev())!==p?("in"===t.substr(et,2)?(c="in",et+=2):(c=p,0===es&&eh(U)),c!==p?(er=o,o={value:u,unit:"in"}):(et=o,o=p)):(et=o,o=p),o===p&&(o=et,em(),(u=ev())!==p?("pt"===t.substr(et,2)?(c="pt",et+=2):(c=p,0===es&&eh(H)),c!==p?(er=o,o={value:u,unit:"pt"}):(et=o,o=p)):(et=o,o=p),o===p&&(o=et,em(),(u=ev())!==p?("pc"===t.substr(et,2)?(c="pc",et+=2):(c=p,0===es&&eh(N)),c!==p?(er=o,o={value:u,unit:"pc"}):(et=o,o=p)):(et=o,o=p)))))),es--,o===p&&0===es&&eh($),(r=o)===p)&&(es++,h=et,(d=ev())!==p?("deg"===t.substr(et,3)?(f="deg",et+=3):(f=p,0===es&&eh(M)),f!==p?(er=h,h={value:d,unit:"deg"}):(et=h,h=p)):(et=h,h=p),h===p&&(h=et,(d=ev())!==p?("rad"===t.substr(et,3)?(f="rad",et+=3):(f=p,0===es&&eh(B)),f!==p?(er=h,h={value:d,unit:"rad"}):(et=h,h=p)):(et=h,h=p),h===p&&(h=et,(d=ev())!==p?(t.substr(et,4)===m?(f=m,et+=4):(f=p,0===es&&eh(D)),f!==p?(er=h,h={value:d,unit:"grad"}):(et=h,h=p)):(et=h,h=p),h===p&&(h=et,(d=ev())!==p?(t.substr(et,4)===g?(f=g,et+=4):(f=p,0===es&&eh(G)),f!==p?(er=h,h={value:d,unit:"turn"}):(et=h,h=p)):(et=h,h=p)))),es--,h===p&&(d=p,0===es&&eh(k)),(r=h)===p)&&(es++,y=et,em(),(v=ev())!==p?(er=y,y={value:v,unit:null}):(et=y,y=p),es--,y===p&&0===es&&eh(X),r=y),r!==p&&(er=e,r={type:"quantity",value:(n=r).value,unit:n.unit}),(e=r)===p&&(e=et,(r=function(){var e,r,n,i;if(es++,e=et,35===t.charCodeAt(et)?(r="#",et++):(r=p,0===es&&eh(z)),r!==p){if(n=[],w.test(t.charAt(et))?(i=t.charAt(et),et++):(i=p,0===es&&eh(Q)),i!==p)for(;i!==p;)n.push(i),w.test(t.charAt(et))?(i=t.charAt(et),et++):(i=p,0===es&&eh(Q));else n=p;n!==p?(er=e,e={type:"hex",value:el()}):(et=e,e=p)}else et=e,e=p;return e===p&&(e=et,(r=ef())!==p&&(er=e,r={type:"function",value:r}),(e=r)===p&&(e=et,(r=eg())!==p&&(er=e,r={type:"named",value:el()}),e=r)),es--,e===p&&(r=p,0===es&&eh(Y)),e}())!==p&&(er=e,r={type:"color",colorType:(i=r).type,value:i.value}),e=r),e}function em(){var e,r;for(es++,e=[],v.test(t.charAt(et))?(r=t.charAt(et),et++):(r=p,0===es&&eh(E));r!==p;)e.push(r),v.test(t.charAt(et))?(r=t.charAt(et),et++):(r=p,0===es&&eh(E));return es--,r=p,0===es&&eh(Z),e}function eg(){var e,r,n;if(es++,e=et,r=[],b.test(t.charAt(et))?(n=t.charAt(et),et++):(n=p,0===es&&eh(F)),n!==p)for(;n!==p;)r.push(n),b.test(t.charAt(et))?(n=t.charAt(et),et++):(n=p,0===es&&eh(F));else r=p;return r!==p&&(er=e,r=el()),es--,(e=r)===p&&(r=p,0===es&&eh(V)),e}function ev(){var e,r,n,i,a,s,l;for(e=et,C.test(t.charAt(et))?(t.charAt(et),et++):0===es&&eh(W),r=et,n=[],A.test(t.charAt(et))?(i=t.charAt(et),et++):(i=p,0===es&&eh(J));i!==p;)n.push(i),A.test(t.charAt(et))?(i=t.charAt(et),et++):(i=p,0===es&&eh(J));if(46===t.charCodeAt(et)?(i=".",et++):(i=p,0===es&&eh(K)),i!==p){if(a=[],A.test(t.charAt(et))?(s=t.charAt(et),et++):(s=p,0===es&&eh(J)),s!==p)for(;s!==p;)a.push(s),A.test(t.charAt(et))?(s=t.charAt(et),et++):(s=p,0===es&&eh(J));else a=p;a!==p?r=n=[n,i,a]:(et=r,r=p)}else et=r,r=p;if(r===p){if(r=[],A.test(t.charAt(et))?(n=t.charAt(et),et++):(n=p,0===es&&eh(J)),n!==p)for(;n!==p;)r.push(n),A.test(t.charAt(et))?(n=t.charAt(et),et++):(n=p,0===es&&eh(J));else r=p}if(r!==p){if(n=et,101===t.charCodeAt(et)?(i="e",et++):(i=p,0===es&&eh(ee)),i!==p){if(C.test(t.charAt(et))?(a=t.charAt(et),et++):(a=p,0===es&&eh(W)),a===p&&(a=null),s=[],A.test(t.charAt(et))?(l=t.charAt(et),et++):(l=p,0===es&&eh(J)),l!==p)for(;l!==p;)s.push(l),A.test(t.charAt(et))?(l=t.charAt(et),et++):(l=p,0===es&&eh(J));else s=p;s!==p?n=i=[i,a,s]:(et=n,n=p)}else et=n,n=p;n===p&&(n=null),er=e,e=parseFloat(el())}else et=e,e=p;return e}if((c=f())!==p&&et===t.length)return c;throw c!==p&&et<t.length&&eh({type:"end"}),l=ea,o=ei<t.length?t.charAt(ei):null,n=ei,i=ei<t.length?ei+1:ei,a=ep(n),s=ep(i),u={source:h,start:{offset:n,line:a.line,column:a.column},end:{offset:i,line:s.line,column:s.column}},new e(e.buildMessage(l,o),l,o,u)}}},o.exports&&(o.exports=s());var u=o.exports;function c(e){if(!e||0===e.length)return null;if("string"==typeof e){let t=p(e);return t&&0!==t.length?t:null}let t=e.map(e=>{if(!Number.isFinite(e.scale)||e.scale<=0)throw new i.Z("effect:invalid-scale","scale must be finite and greater than 0",{stop:e});return{scale:e.scale,effects:p(e.value)}});t.sort((e,t)=>t.effects.length-e.effects.length);for(let e=0;e<t.length-1;e++){if(!(0,l.AS)(t[e].effects,t[e+1].effects))throw new i.Z("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[e].effects,b:t[e+1].effects});(0,l.uF)(t[e].effects,t[e+1].effects)}return t.sort((e,t)=>t.scale-e.scale),t}function p(e){let t;if(!e)return[];try{t=u.parse(e)}catch(t){throw new i.Z("effect:invalid-syntax","Invalid effect syntax",{value:e,error:t})}return t.map(e=>(function(e){try{var t;switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":let r;return r=1,h(e.parameters,1),1===e.parameters.length&&(r=g(e.parameters[0])),new a.GI(e.name,r);case"opacity":let s;return s=1,h(e.parameters,1),1===e.parameters.length&&(s=g(e.parameters[0])),new a.Zx(s);case"hue-rotate":let l;return l=0,h(e.parameters,1),1===e.parameters.length&&(t=e.parameters[0],function(e){if("quantity"!==e.type||!(0===e.value&&null===e.unit||e.unit&&null!=y[e.unit]))throw new i.Z("effect:type-error",`Expected <angle>, Actual: ${d(e)}`,{term:e})}(t),l=t.value*y[t.unit]||0),new a.Tq(l);case"blur":let o;return o=0,h(e.parameters,1),1===e.parameters.length&&f(o=v(e.parameters[0]),e.parameters[0]),new a.Tj(o);case"drop-shadow":return function(e){let t=[],r=null;for(let a of e.parameters)if("color"===a.type){if(t.length&&Object.freeze(t),r)throw new i.Z("effect:type-error","Accepts only one color",{});r=function(e){switch(e.colorType){case"hex":return(0,n.rW)(e.value);case"named":return b(e.value);case"function":return function(e){if(h(e.parameters,4),w.test(e.name))return[g(e.parameters[0]),g(e.parameters[1]),g(e.parameters[2]),e.parameters[3]?g(e.parameters[3]):1];if(C.test(e.name)){var t;return(0,n.B7)((function(e){if("quantity"!==e.type||null!==e.unit)throw new i.Z("effect:type-error",`Expected <double>, Actual: ${d(e)}`,{term:e})}(t=e.parameters[0]),f(t.value,t),t.value),g(e.parameters[1]),g(e.parameters[2]),e.parameters[3]?g(e.parameters[3]):1)}throw new i.Z("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}(e.value)}}(a)}else{let e=v(a);if(Object.isFrozen(t))throw new i.Z("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(e),3===t.length&&f(e,a)}if(t.length<2||t.length>3)throw new i.Z("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new a.CE(t[0],t[1],t[2]||0,r||b("black"))}(e);case"bloom":let u,c,p;return u=1,c=0,p=0,h(e.parameters,3),e.parameters[0]&&(u=g(e.parameters[0])),e.parameters[1]&&f(c=v(e.parameters[1]),e.parameters[1]),e.parameters[2]&&(p=g(e.parameters[2])),new a.rk(u,c,p)}}catch(t){throw t.details.filter=e,t}throw new i.Z("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})})(e))}function h(e,t){if(e.length>t)throw new i.Z("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function d(e){if("color"===e.type)return"<color>";if(e.unit){if(e.unit in m)return"<length>";if(e.unit in y)return"<angle>";if("%"===e.unit)return"<percentage>"}return"<double>"}function f(e,t){if(e<0)throw new i.Z("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}let y={deg:1,grad:.9,rad:180/Math.PI,turn:360},m={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function g(e){!function(e){if("quantity"!==e.type||null!==e.unit&&"%"!==e.unit)throw new i.Z("effect:type-error",`Expected <double> or <percentage>, Actual: ${d(e)}`,{term:e})}(e);let t=e.value;return f(t,e),"%"===e.unit?.01*t:t}function v(e){return function(e){if("quantity"!==e.type||!(0===e.value&&null===e.unit||e.unit&&null!=m[e.unit]))throw new i.Z("effect:type-error",`Expected <length>, Actual: ${d(e)}`,{term:e})}(e),e.value*m[e.unit]||0}function b(e){if(!(0,n.St)(e))throw new i.Z("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return(0,n.VL)(e)}let w=/^rgba?/i,C=/^hsla?/i},51720:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var n=r(86641),i=r(50973),a=r(65223);r(37180),r(3457),r(94605);var s=r(64186),l=r(50338),o=r(1662),u=r(31124),c=r(15963),p=r(89312);let h=Symbol(),d=e=>{let t=class extends e{constructor(){super(...arguments),this.layerViews=new i.Z,this._debouncedUpdate=(0,u.Ds)(async()=>{let{layer:e,parent:t}=this,r=t?.footprintLayerView,n=[],i=this._createQuery();if(i&&r){let{features:t}=await r.queryFeatures(i);this.suspended||(n=t.map(t=>e.acquireLayer(t)))}this.removeHandles(h),this.addHandles(n,h)})}get creatingLayerViews(){return this.view?.layerViewManager.isCreatingLayerViewsForLayer(this.layer)??!1}isUpdating(){return this.creatingLayerViews||this.layer.updating||this.layerViews.some(e=>e.updating)}enableLayerUpdates(){return(0,o.AL)([this._updatingHandles.addWhen(()=>!1===this.parent?.footprintLayerView?.dataUpdating,()=>this.updateLayers()),this._updatingHandles.add(()=>[this.layer.maximumVisibleSublayers,this.layer.parent?.orderBy,this.parent?.footprintLayerView?.filter,this.parent?.footprintLayerView?.timeExtent,this.suspended],()=>this.updateLayers()),(0,o.kB)(()=>this.removeHandles(h))])}updateLayers(){this.suspended?this.removeHandles(h):this._updatingHandles.addPromise((0,u.R8)(this._debouncedUpdate()).catch(e=>{a.Z.getLogger(this).error(e)}))}_createQuery(){let e=this.parent?.footprintLayerView,t=this.layer?.parent;if(!e||!t||t.destroyed)return null;let{layer:{maximumVisibleSublayers:r},view:{scale:n}}=this;if(!r)return null;let{itemTypeField:i,itemSourceField:a,itemNameField:s,minScaleField:l,maxScaleField:o,objectIdField:u,orderBy:p}=t,h=(0,c._)(`${l} IS NULL OR ${n} <= ${l} OR ${l} = 0`,`${o} IS NULL OR ${n} >= ${o}`),d=p?.find(e=>e.field&&!e.valueExpression),f=e.createQuery();if(f.returnGeometry=!1,f.num=r,f.outFields=[u,a,s],f.where=(0,c._)(f.where,h),null!=this.unsupportedItemTypes){let e=`${i} NOT IN (${this.unsupportedItemTypes.map(e=>`'${e}'`)})`;f.where=(0,c._)(f.where,e)}return d?.field&&(f.orderByFields=[`${d.field} ${"descending"===d.order?"DESC":"ASC"}`],f.outFields.push(d.field)),f}};return(0,n._)([(0,p.Cb)({readOnly:!0})],t.prototype,"creatingLayerViews",null),(0,n._)([(0,p.Cb)()],t.prototype,"layer",void 0),(0,n._)([(0,p.Cb)()],t.prototype,"layerViews",void 0),(0,n._)([(0,p.Cb)({readOnly:!0})],t.prototype,"unsupportedItemTypes",void 0),(0,n._)([(0,p.Cb)()],t.prototype,"parent",void 0),(0,n._)([(0,p.Cb)({readOnly:!0})],t.prototype,"isUpdating",null),t=(0,n._)([(0,s.j)("esri.views.layers.CatalogDynamicGroupLayerView")],t)};var f=r(1003);let y=class extends d((0,l.y)(f.Z)){constructor(){super(...arguments),this.unsupportedItemTypes=["Scene Service"],this.layerViews=new i.Z}attach(){this.addAttachHandles([this.layerViews.on("after-changes",()=>this._updateStageChildren()),this.enableLayerUpdates()])}detach(){this.container.removeAllChildren()}update(e){this.updateLayers()}viewChange(){}moveEnd(){this.requestUpdate()}_updateStageChildren(){this.container.removeAllChildren(),this.layerViews.forEach((e,t)=>this.container.addChildAt(e.container,t))}},m=y=(0,n._)([(0,s.j)("esri.views.2d.layers.CatalogDynamicGroupLayerView2D")],y)},50338:function(e,t,r){r.d(t,{y:function(){return C}});var n,i=r(86641),a=r(50973),s=r(4514),l=r(94605),o=r(20128),u=r(89312);r(37180),r(65223),r(3457);var c=r(64186),p=r(43390),h=r(25823),d=r(76457);let f=n=class extends d.Z{constructor(e){super(e),this.type="rect",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new n({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}commitVersionProperties(){this.commitProperty("left"),this.commitProperty("right"),this.commitProperty("top"),this.commitProperty("bottom")}};(0,i._)([(0,u.Cb)({type:[Number,String],json:{write:!0}})],f.prototype,"left",void 0),(0,i._)([(0,u.Cb)({type:[Number,String],json:{write:!0}})],f.prototype,"right",void 0),(0,i._)([(0,u.Cb)({type:[Number,String],json:{write:!0}})],f.prototype,"top",void 0),(0,i._)([(0,u.Cb)({type:[Number,String],json:{write:!0}})],f.prototype,"bottom",void 0);let y=f=n=(0,i._)([(0,c.j)("esri.views.layers.support.ClipRect")],f);var m=r(55485);let g=class extends d.Z{constructor(e){super(e),this.type="path",this.path=[]}commitVersionProperties(){this.commitProperty("path")}};(0,i._)([(0,u.Cb)({type:[[[Number]]],json:{write:!0}})],g.prototype,"path",void 0);let v=g=(0,i._)([(0,c.j)("esri.views.layers.support.Path")],g);var b=r(37864);let w=a.Z.ofType({key:"type",base:null,typeMap:{rect:y,path:v,geometry:m.Z}}),C=e=>{let t=class extends e{constructor(){super(...arguments),this.attached=!1,this.clips=new w,this.highlightOptions=null,this.lastUpdateId=-1,this.moving=!1,this.updateRequested=!1,this._visibleAtCurrentScale=!0}initialize(){let e=this.view?.spatialReferenceLocked??!0;this.view?.spatialReference&&e&&!this.spatialReferenceSupported?this.addResolvingPromise(Promise.reject(new l.Z("layerview:spatial-reference-incompatible","The spatial reference of this layer does not meet the requirements of the view",{layer:this.layer}))):(this.container||(this.container=new p.W),this.container.fadeTransitionEnabled=!0,this.container.visible=!1,this.container.endTransitions(),this.addHandles([(0,o.YP)(()=>this.suspended,e=>{this.container&&(this.container.visible=!e)},o.tX),(0,o.YP)(()=>this.updateSuspended,e=>{this.view&&!e&&this.updateRequested&&this.view.requestUpdate()},o.tX),(0,o.YP)(()=>this.layer?.opacity??1,e=>{this.container&&(this.container.opacity=e)},o.tX),(0,o.YP)(()=>this.layer&&"blendMode"in this.layer?this.layer.blendMode:"normal",e=>{this.container&&(this.container.blendMode=e)},o.tX),(0,o.YP)(()=>this.layer&&"effect"in this.layer?this.layer.effect:null,e=>{this.container&&(this.container.effect=e)},o.tX),(0,o.YP)(()=>this.highlightOptions,e=>this.container.highlightOptions=e,o.tX),(0,o.on)(()=>this.clips,"change",()=>{this.container&&(this.container.clips=this.clips)},o.tX),(0,o.YP)(()=>({scale:this.view?.scale,scaleRange:this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null}),({scale:e,scaleRange:t})=>{let r=(0,b.GB)(t,e);r!==this._visibleAtCurrentScale&&(this._visibleAtCurrentScale=r)},o.tX)],"constructor"),this.view?.whenLayerView?this.view.whenLayerView(this.layer).then(e=>{e===this&&this.processAttach()},()=>{}):this.when().then(()=>{this.processAttach()},()=>{}))}destroy(){this.processDetach(),this.updateRequested=!1}get spatialReferenceSupported(){let e=this.view?.spatialReference;return null==e||this.supportsSpatialReference(e)}get updating(){return this.spatialReferenceSupported&&(!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())||!!this._updatingHandles?.updating)}get visibleAtCurrentScale(){return this._visibleAtCurrentScale}processAttach(){this.isResolved()&&!this.attached&&!this.destroyed&&this.spatialReferenceSupported&&(this.attach(),this.attached=!0,this.requestUpdate())}processDetach(){this.attached&&(this.attached=!1,this.removeHandles("attach"),this.detach(),this.updateRequested=!1)}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.updateSuspended||this.view.requestUpdate())}processUpdate(e){!this.isFulfilled()||this.isResolved()?(this._set("updateParameters",e),this.updateRequested&&!this.updateSuspended&&(this.updateRequested=!1,this.update(e))):this.updateRequested=!1}hitTest(e,t){return Promise.resolve(null)}supportsSpatialReference(e){return!0}canResume(){return!!this.spatialReferenceSupported&&!!super.canResume()&&this.visibleAtCurrentScale}getSuspendInfo(){let e=super.getSuspendInfo(),t=!this.spatialReferenceSupported;return t&&(e.spatialReferenceNotSupported=t),e}addAttachHandles(e){this.addHandles(e,"attach")}};return(0,i._)([(0,u.Cb)()],t.prototype,"attached",void 0),(0,i._)([(0,u.Cb)({type:w,set(e){let t=(0,s.Z)(e,this._get("clips"),w);this._set("clips",t)}})],t.prototype,"clips",void 0),(0,i._)([(0,u.Cb)()],t.prototype,"container",void 0),(0,i._)([(0,u.Cb)({type:h.Z})],t.prototype,"highlightOptions",void 0),(0,i._)([(0,u.Cb)()],t.prototype,"moving",void 0),(0,i._)([(0,u.Cb)({readOnly:!0})],t.prototype,"spatialReferenceSupported",null),(0,i._)([(0,u.Cb)({readOnly:!0})],t.prototype,"updateParameters",void 0),(0,i._)([(0,u.Cb)()],t.prototype,"updateRequested",void 0),(0,i._)([(0,u.Cb)()],t.prototype,"updating",null),(0,i._)([(0,u.Cb)()],t.prototype,"view",void 0),(0,i._)([(0,u.Cb)()],t.prototype,"_visibleAtCurrentScale",void 0),(0,i._)([(0,u.Cb)({readOnly:!0})],t.prototype,"visibleAtCurrentScale",null),t=(0,i._)([(0,c.j)("esri.views.2d.layers.LayerView2D")],t)}},1003:function(e,t,r){r.d(t,{Z:function(){return y}});var n=r(86641),i=r(94761),a=r(60163),s=r(2090),l=r(65223),o=r(36152),u=r(31534),c=r(89312);r(37180),r(3457);var p=r(64186),h=r(66789),d=r(37864);let f=class extends(0,s.IG)((0,u.v)(a.Z.EventedMixin(i.Z))){constructor(e){super(e),this._updatingHandles=new h.R,this.layer=null,this.parent=null}initialize(){this.when().catch(e=>{if("layerview:create-error"!==e.name){let t=this.layer&&this.layer.id||"no id",r=this.layer?.title||"no title";l.Z.getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}})}destroy(){this._updatingHandles=(0,o.SC)(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome("visible",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){let e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){let e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&(0,d.Cy)(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){let e=this.parent?.suspended?this.parent.suspendInfo:{};this.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);let t=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return(0,d.Cy)(t)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};(0,n._)([(0,c.Cb)()],f.prototype,"view",void 0),(0,n._)([(0,c.Cb)()],f.prototype,"fullOpacity",null),(0,n._)([(0,c.Cb)()],f.prototype,"layer",void 0),(0,n._)([(0,c.Cb)()],f.prototype,"parent",void 0),(0,n._)([(0,c.Cb)({readOnly:!0})],f.prototype,"suspended",null),(0,n._)([(0,c.Cb)({readOnly:!0})],f.prototype,"suspendInfo",null),(0,n._)([(0,c.Cb)({readOnly:!0})],f.prototype,"legendEnabled",null),(0,n._)([(0,c.Cb)({type:Boolean,readOnly:!0})],f.prototype,"updating",null),(0,n._)([(0,c.Cb)({readOnly:!0})],f.prototype,"updatingProgress",null),(0,n._)([(0,c.Cb)()],f.prototype,"updateSuspended",null),(0,n._)([(0,c.Cb)()],f.prototype,"visible",null),(0,n._)([(0,c.Cb)({readOnly:!0})],f.prototype,"visibleAtCurrentScale",null),(0,n._)([(0,c.Cb)({readOnly:!0})],f.prototype,"visibleAtCurrentTimeExtent",null);let y=f=(0,n._)([(0,p.j)("esri.views.layers.LayerView")],f)},76457:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(86641),i=r(689),a=r(89312);r(37180),r(65223),r(3457);var s=r(64186);let l=class extends i.wq{get version(){return this.commitVersionProperties(),(this._get("version")||0)+1}};(0,n._)([(0,a.Cb)({readOnly:!0})],l.prototype,"version",null);let o=l=(0,n._)([(0,s.j)("esri.views.layers.support.ClipArea")],l)},55485:function(e,t,r){r.d(t,{Z:function(){return f}});var n,i=r(86641);r(55066);var a=r(89312);r(37180),r(65223),r(3457);var s=r(64186),l=r(90389),o=r(5005),u=r(76457),c=r(9377),p=r(54001);let h={base:l.Z,key:"type",typeMap:{extent:c.Z,polygon:p.Z}},d=n=class extends u.Z{constructor(e){super(e),this.type="geometry",this.geometry=null}clone(){return new n({geometry:this.geometry?.clone()??null})}commitVersionProperties(){this.commitProperty("geometry")}};(0,i._)([(0,a.Cb)({types:h,json:{read:o.im,write:!0}})],d.prototype,"geometry",void 0);let f=d=n=(0,i._)([(0,s.j)("esri.views.layers.support.Geometry")],d)},37864:function(e,t,r){function n(e){return e&&"function"==typeof e.highlight}function i(e,t){if(t&&e){let{minScale:r,maxScale:n}=e;if(null!=r&&r>0||null!=n&&n>0)return null==t||t>=n&&(0===r||t<=r)}return!0}function a(e){return!e?.minScale||!e.maxScale||e.minScale>=e.maxScale}r.d(t,{Cy:function(){return a},GB:function(){return i},tl:function(){return n}})}}]);