"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[48975],{48975:function(e,t,r){r.r(t),r.d(t,{Solution:function(){return l},WebGL1:function(){return n}});class o{loop(e){this.clear(e)}clear(e){e.clearColor(.5,1,1,1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}constructor(e){this.app=e,this.canvas=document.createElement("canvas"),this.app.divHost&&(this.app.divHost.appendChild(this.canvas),this.canvas.width=this.app.divHost.clientWidth,this.canvas.height=this.app.divHost.clientHeight);let t=this.canvas.getContext("webgl");t&&(this.gl=t),this.loop(this.gl)}}class a{static getShader(e,t,r){let o=e.createShader(t);return null===o?null:(e.shaderSource(o,r),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS))?o:(console.log("An error occurred compiling the shaders:"+e.getShaderInfoLog(o)),e.deleteShader(o),null)}static createProgram(e,t,r){let o=!(arguments.length>3)||void 0===arguments[3]||arguments[3],a=e.createProgram();return null===a?null:(e.attachShader(a,t),e.attachShader(a,r),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS))?o&&(e.validateProgram(a),!e.getProgramParameter(a,e.VALIDATE_STATUS))?(console.error("Failed to validate program",e.getProgramInfoLog(a)),e.deleteProgram(a),e.deleteShader(r),e.deleteShader(t),null):(e.deleteShader(r),e.deleteShader(t),a):(console.log("Failed to link program: "+e.getProgramInfoLog(a)),e.deleteProgram(a),e.deleteShader(r),e.deleteShader(t),null)}static createShader(e,t,r){let o=e.createShader(t);return null===o?null:(e.shaderSource(o,r),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS))?o:(console.log(e.getShaderInfoLog(o)),e.deleteShader(o),null)}static createShaderFromPath(e,t,r){let o=e.createShader(t);return null===o?null:(e.shaderSource(o,a.getSourceSynch(r)),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS))?o:(console.log(e.getShaderInfoLog(o)),e.deleteShader(o),null)}static getSourceSynch(e){let t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),200===t.status?t.responseText:null}static loadImage(e,t){let r=new Image;r.onload=function(){t(null,r)},r.src=e}}class i{initShader(e){let t=a.createShader(e,e.VERTEX_SHADER,this.v),r=a.createShader(e,e.FRAGMENT_SHADER,this.f);if(t&&r){this.vShader=t,this.fShader=r;let o=a.createProgram(e,this.vShader,this.fShader,!0);o&&(this.program=o,e.useProgram(this.program),this.aPositionLoc=e.getAttribLocation(this.program,"a_position"),this.uPointSizeLoc=e.getUniformLocation(this.program,"uPointSize"),e.useProgram(null),this.initGeo(e))}else console.error("vertex fragment shader error")}initGeo(e){let t=new Float32Array([0,.5,0,.5,-.5,0,-.5,-.5,0]),r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),e.useProgram(this.program),e.uniform1f(this.uPointSizeLoc,50),e.bindBuffer(e.ARRAY_BUFFER,r),e.enableVertexAttribArray(this.aPositionLoc),e.vertexAttribPointer(this.aPositionLoc,3,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,null),this.gl.drawArrays(e.TRIANGLES,0,3)}Dummy(){}constructor(e){this.v="\n        attribute vec3 a_position;\n        uniform float uPointSize;\n\n        varying vec4 v_color;\n\n        void main(void) {\n            gl_PointSize = uPointSize;\n            gl_Position = vec4(a_position, 1.0);\n            v_color = gl_Position;\n        }\n    ",this.f="\n        precision mediump float;\n\n        varying vec4 v_color;\n\n        void main(void) {\n            // finalColor = vec4(0.0, 0.0, 0.0, 1.0);\n            // gl_FragColor = finalColor;\n            gl_FragColor = v_color + 0.5;\n        }\n    ",this.gl=e,this.initShader(e)}}class n{static Init(e){new n(e)}constructor(e){let t=document.getElementById(e);t&&(this.divHost=t),this.coreWebgl=new o(this),new i(this.coreWebgl.gl).Dummy()}}class l{destroy(){if(this.divHost)try{for(;this.divHost.firstChild;)this.divHost.removeChild(this.divHost.firstChild)}catch(e){console.error("Error in destroy method:",e)}else console.warn("divHost is undefined in destroy method")}constructor(e){this.divHost=document.getElementById(e),n.Init(e)}}}}]);