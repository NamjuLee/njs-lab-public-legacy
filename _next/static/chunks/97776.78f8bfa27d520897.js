"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[97776],{28541:function(e,t,r){r.d(t,{R:function(){return C},w:function(){return _}});var o=r(86641),i=r(94761),s=r(36399),n=r(61764),a=r(39553);class l{constructor(){this._propertyOriginMap=new Map,this._originStores=Array(a.v8),this._values=new Map,this.multipleOriginsSupported=!0}clone(e){let t=new l,r=this._originStores[a.s3.DEFAULTS];r&&r.forEach((e,r)=>{t.set(r,(0,n.d9)(e),a.s3.DEFAULTS)});for(let r=a.s3.SERVICE;r<a.v8;r++){let o=this._originStores[r];o&&o.forEach((o,i)=>{e&&e.has(i)||t.set(i,(0,n.d9)(o),r)})}return t}get(e,t){let r=void 0===t?this._values:this._originStores[t];return r?r.get(e):void 0}keys(e){let t=null==e?this._values:this._originStores[e];return t?[...t.keys()]:[]}set(e,t,r=a.s3.USER){let o=this._originStores[r];if(o||(o=new Map,this._originStores[r]=o),o.set(e,t),!this._values.has(e)||this._propertyOriginMap.get(e)<=r){let o=this._values.get(e);return this._values.set(e,t),this._propertyOriginMap.set(e,r),o!==t}return!1}delete(e,t=a.s3.USER){let r=this._originStores[t];if(!r)return;let o=r.get(e);if(r.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===t){this._values.delete(e);for(let r=t-1;r>=0;r--){let t=this._originStores[r];if(t&&t.has(e)){this._values.set(e,t.get(e)),this._propertyOriginMap.set(e,r);break}}}return o}has(e,t){let r=void 0===t?this._values:this._originStores[t];return!!r&&r.has(e)}revert(e,t){for(;t>0&&!this.has(e,t);)--t;let r=this._originStores[t],o=r?.get(e),i=this._values.get(e);return this._values.set(e,o),this._propertyOriginMap.set(e,t),i!==o}originOf(e){return this._propertyOriginMap.get(e)||a.s3.DEFAULTS}forEach(e){this._values.forEach(e)}}var u=r(22819),p=r(56529),d=r(64186);let h=e=>{let t=class extends e{constructor(...e){super(...e);let t=(0,p.vw)(this),r=t.store,o=new l;t.store=o,(0,s.M)(t,r,o)}read(e,t){(0,u.i)(this,e,t)}getAtOrigin(e,t){let r=c(this),o=(0,a.M9)(t);if("string"==typeof e)return r.get(e,o);let i={};return e.forEach(e=>{i[e]=r.get(e,o)}),i}originOf(e){return(0,a.x3)(this.originIdOf(e))}originIdOf(e){return c(this).originOf(e)}revert(e,t){let r=c(this),o=(0,a.M9)(t),i=(0,p.vw)(this);("string"==typeof e?"*"===e?r.keys(o):[e]:e).forEach(e=>{i.invalidate(e),r.revert(e,o),i.commit(e)})}};return(0,o._)([(0,d.j)("esri.core.ReadOnlyMultiOriginJSONSupport")],t)};function c(e){return(0,p.vw)(e).store}let g=class extends h(i.Z){};g=(0,o._)([(0,d.j)("esri.core.ReadOnlyMultiOriginJSONSupport")],g);var y=r(15458),f=r(72491);let m=e=>{let t=class extends e{constructor(...e){super(...e)}clear(e,t="user"){return v(this).delete(e,(0,a.M9)(t))}write(e,t){return(0,f.c)(this,e=e||{},t),e}setAtOrigin(e,t,r){(0,p.vw)(this).setAtOrigin(e,t,(0,a.M9)(r))}removeOrigin(e){let t=v(this),r=(0,a.M9)(e);for(let e of t.keys(r))t.originOf(e)===r&&t.set(e,t.get(e,r),a.s3.USER)}updateOrigin(e,t){let r=v(this),o=(0,a.M9)(t),i=(0,y.U2)(this,e);for(let t=o+1;t<a.v8;++t)r.delete(e,t);r.set(e,i,o)}toJSON(e){return this.write({},e)}};return(t=(0,o._)([(0,d.j)("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],t)).prototype.toJSON.isDefaultToJSON=!0,t};function v(e){return(0,p.vw)(e).store}let C=e=>{let t=class extends m(h(e)){constructor(...e){super(...e)}};return(0,o._)([(0,d.j)("esri.core.MultiOriginJSONSupport")],t)},_=class extends C(i.Z){};_=(0,o._)([(0,d.j)("esri.core.MultiOriginJSONSupport")],_)},47977:function(e,t,r){r.d(t,{p:function(){return s}});var o=r(54748),i=r(56736);class s extends EventTarget{constructor(){super(...arguments),this._readyState=0,this._responseType="",this.timeout=0,this._withCredentials=!1,this.onabort=null,this.onerror=null,this.onload=null,this.onloadend=null,this.onloadstart=null,this.onprogress=null,this.ontimeout=null,this.onreadystatechange=null,this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this._abortController=null,this._error=null,this._options={},this._response=null,this._sendFlag=!1,this._url=""}get readyState(){return this._readyState}get response(){return""===this.responseType||"text"===this.responseType?this.responseText:this.readyState!==this.DONE||this._error||!this._response?null:this._response.data}get responseText(){return""!==this.responseType&&"text"!==this.responseType&&this._throwDOMException(),this.readyState!==this.DONE?"":this._response?this._response.data:null!=this._error?.raw?"string"==typeof this._error.raw?this._error.raw:JSON.stringify(this._error.raw):""}get responseType(){return this._responseType}set responseType(e){("document"!==e||globalThis instanceof Window)&&(this.readyState!==this.LOADING&&this.readyState!==this.DONE||this._throwDOMException(),this._responseType=e)}get responseURL(){return(this._response||this._error)?.url??""}get responseXML(){return""!==this.responseType&&"document"!==this.responseType&&this._throwDOMException(),this.readyState!==this.DONE?null:this._response?.data??null}get status(){return(this._response||this._error)?.httpStatus??0}get statusText(){return""}get upload(){return console.warn("upload not implemented"),null}get withCredentials(){return this._withCredentials}set withCredentials(e){this.readyState!==this.UNSENT&&this.readyState!==this.OPENED&&this._throwDOMException(),this._withCredentials=e}abort(){this.readyState===this.OPENED&&this._sendFlag||this.readyState===this.HEADERS_RECEIVED||this.readyState===this.LOADING?(this._sendFlag=!1,this._error=null,this._response=null,this._abortController?.abort(),this._updateReadyState(this.DONE),this._dispatchProgressEvent("abort"),this._dispatchProgressEvent("loadend")):this.readyState===this.DONE&&this._updateReadyState(this.UNSENT)}getAllResponseHeaders(){let e="",t=(this._response||this._error)?.getAllHeaders?.();if(t)for(let[r,o]of t)e+=`${r}: ${o}\r
`;return e}getResponseHeader(e){return(this._response||this._error)?.getHeader?.(e)??null}open(e,t){switch(this._sendFlag=!1,this._options={},e){case"GET":this._options.method="auto";break;case"POST":this._options.method="post";break;case"HEAD":this._options.method="head";break;case"DELETE":this._options.method="delete";break;case"PUT":this._options.method="put"}this._url=t,this._error=null,this._response=null,this._abortController=new AbortController,this._updateReadyState(this.OPENED)}overrideMimeType(e){throw Error("overrideMimeType not implemented")}send(e){(this.readyState!==this.OPENED||this._sendFlag)&&this._throwDOMException(),this._sendFlag=!0,this._updateReadyState(this.LOADING),this._dispatchProgressEvent("loadstart");let t=this._options;e instanceof URLSearchParams?t.body=e.toString():t.body=e,t.responseType=""===this.responseType?"text":"arraybuffer"===this.responseType?"array-buffer":this.responseType,t.signal=this._abortController?.signal,this.timeout&&(t.timeout=this.timeout),this.withCredentials&&(t.withCredentials=!0),(0,o.Z)(this._url,t).then(e=>{this._response=e,this._updateReadyState(this.DONE),this._dispatchProgressEvent("load")}).catch(e=>{this._sendFlag&&(this._error=e.details,this._updateReadyState(this.DONE),(0,i.q4)(e)?this._dispatchProgressEvent("timeout"):"AbortError"===e.name?this._dispatchProgressEvent("abort"):this._dispatchProgressEvent("error"))}).finally(()=>{this._sendFlag&&this._dispatchProgressEvent("loadend")})}setRequestHeader(e,t){(this.readyState!==this.OPENED||this._sendFlag)&&this._throwDOMException(),this._options.headers??={},this._options.headers[e]=t}_dispatchProgressEvent(e){let t=new ProgressEvent(e,{loaded:0,total:0});this.dispatchEvent(t),this[`on${e}`]?.(t)}_throwDOMException(){throw new DOMException("","InvalidStateError")}_updateReadyState(e){if(this._readyState!==e&&(this._readyState=e,e!==this.UNSENT)){let e=new Event("readystatechange");this.dispatchEvent(e),this.onreadystatechange?.(e)}}}s.UNSENT=0,s.OPENED=1,s.HEADERS_RECEIVED=2,s.LOADING=3,s.DONE=4},57111:function(e,t,r){r.d(t,{C:function(){return o}});let o=["operational-layers","basemap","ground"]},25607:function(e,t,r){function o(){return[1,0,0,0,1,0,0,0,1]}function i(e,t,r,o,i,s,n,a,l){return[e,t,r,o,i,s,n,a,l]}r.d(t,{Ue:function(){return o},Wd:function(){return s},al:function(){return i}});let s=o();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:function(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},create:o,createView:function(e,t){return new Float64Array(e,t,9)},fromValues:i},Symbol.toStringTag,{value:"Module"}))},10940:function(e,t,r){r.d(t,{rS:function(){return p},wY:function(){return u}});var o=r(4658),i=r(36502),s=r(62329);let n=new i.Z(o.kU),a=new i.Z(o.JL),l=new i.Z(o.mM),u=new i.Z(o.pn);function p(e){let t=d.get(e);if(t)return t;let r=n;if(e){if(e===a)r=a;else if(e===l)r=l;else{let t=e.wkid,o=e.latestWkid;if(null!=t||null!=o)(0,s.o$)(t)||(0,s.o$)(o)?r=a:((0,s.ME)(t)||(0,s.ME)(o))&&(r=l);else{let t=e.wkt2??e.wkt;if(t){let e=t.toUpperCase();e===h?r=a:e===c&&(r=l)}}}}return d.set(e,r),r}let d=new Map,h=a.wkt.toUpperCase(),c=l.wkt.toUpperCase()},14346:function(e,t,r){r.r(t),r.d(t,{default:function(){return V}});var o=r(86641);r(55066);var i=r(54748),s=r(94605),n=r(13507),a=r(28541),l=r(20128),u=r(89312);r(37180),r(65223),r(3457);var p=r(37647),d=r(64186),h=r(58144),c=r(36502),g=r(37109),y=r(14066),f=r(12261),m=r(89973),v=r(96922),C=r(78298),_=r(23427),E=r(689);let S=class extends(0,_.J)(E.wq){constructor(e){super(e),this.framerate=null,this.containerFormat=null,this.gop=null,this.aspectRatio=null,this.klv=null}};(0,o._)([(0,u.Cb)({type:String})],S.prototype,"framerate",void 0),(0,o._)([(0,u.Cb)({type:String})],S.prototype,"containerFormat",void 0),(0,o._)([(0,u.Cb)({type:Number})],S.prototype,"gop",void 0),(0,o._)([(0,u.Cb)({type:String})],S.prototype,"aspectRatio",void 0),(0,o._)([(0,u.Cb)({type:Object})],S.prototype,"klv",void 0);let b=S=(0,o._)([(0,d.j)("esri.layers.support.PlaybackInfo")],S);var O=r(86034),w=r(24949),P=r(28773),T=r(94761),L=r(50713),A=r(33876);let M=class extends T.Z{constructor(){super(...arguments),this.sourcePoint=null,this.mapPoint=null}};(0,o._)([(0,u.Cb)()],M.prototype,"sourcePoint",void 0),(0,o._)([(0,u.Cb)({type:A.Z})],M.prototype,"mapPoint",void 0),M=(0,o._)([(0,d.j)("esri.layers.support.VideoFrame.ControlPoint")],M);let F=class extends(0,_.J)(E.wq){constructor(e){super(e),this.frame=null,this.controlPoints=null}readControlPoints(e){return e.map(e=>({sourcePoint:{x:e.frameX,y:e.frameY},mapPoint:new A.Z(e.point)}))}writeControlPoints(e,t){var r;null!=e&&(r=e[0],null!=r?.sourcePoint&&null!=r.mapPoint)&&(t.controlPoints=e.map(e=>{let t=e.sourcePoint,r=e.mapPoint;return{frameX:t.x,frameY:t.y,point:r.toJSON()}}))}};(0,o._)([(0,u.Cb)({type:String})],F.prototype,"frame",void 0),(0,o._)([(0,u.Cb)({type:[M],json:{write:{allowNull:!1,isRequired:!0}}})],F.prototype,"controlPoints",void 0),(0,o._)([(0,p.r)("controlPoints")],F.prototype,"readControlPoints",null),(0,o._)([(0,L.c)("controlPoints")],F.prototype,"writeControlPoints",null);let R=F=(0,o._)([(0,d.j)("esri.layers.support.VideoFrame")],F);var N=r(31399),x=r(32016),D=r(54001),I=r(9377);let H=class extends(0,y.h7)((0,m.M)((0,a.R)((0,f.N)(g.Z)))){constructor(e){super(e),this._trailPoints=[],this.capabilities=null,this.connectionInfo=null,this.controller=new N.Z,this.copyright=null,this.coverage=null,this.created=null,this.description=null,this.elevationSource=null,this.frame=null,this.frameCount=null,this.fullExtent=null,this.initialExtent=null,this.layerId=null,this.playbackInfo=null,this.posterUrl=null,this.protocol="hls",this.qualities=null,this.serviceItemId=null,this.sourceJSON=null,this.sourceQuality=null,this.sourceType=null,this.spatialReference=c.Z.WGS84,this.telemetryDisplay=null,this.title=null,this.type="video",this.url=null,this.videoTimeExtent=null}initialize(){this.telemetryDisplay=new P.Z({frameCenter:!0,frameOutline:!0,lineOfSight:!0,sensorLocation:!0,sensorTrail:!0}),this.addHandles([(0,l.YP)(()=>this.metadata,()=>{this.notifyChange("telemetry"),this.notifyChange("groundControlPoints"),this.notifyChange("frameHorizonPoints")}),(0,l.YP)(()=>this.telemetry?.sensorLocation,e=>this._setSensorTrail(e),l.nn)])}load(e){let t=null!=e?e.signal:null;return this.addResolvingPromise(this._fetchService(t)),Promise.resolve(this)}get buffered(){return this.controller.buffered}readCapabilitiesFromService(e,t){return(0,O.j)(t)}readConnectionInfo(e,t){let r=t.connectionUrl;return this.controller.playerUrl=r&&this.protocol?r[this.protocol]:"",r}get currentTime(){return this.controller.currentTime}get duration(){return this.controller.duration}get ended(){return this.controller.ended}get frameHorizonPoints(){return(0,x.F8)(this.metadata)}get groundControlPoints(){return(0,x.Hi)(this.metadata)}get loop(){return this.controller.loop}set loop(e){this.controller.loop=e}get metadata(){return this.controller?.currentMetadata}get muted(){return this.controller.muted}set muted(e){this.controller.muted=e}get playbackRate(){return this.controller.rate}set playbackRate(e){this.controller.rate=e}get playerUrl(){return this.controller.playerUrl}get playing(){return this.controller.playing}get state(){return this.controller.state}get telemetry(){return(0,x.ME)(this.metadata)}get videoElement(){return this.controller?.element}get videoHeight(){return this.controller?.videoHeight}get videoWidth(){return this.controller?.videoWidth}get waiting(){return this.controller.waiting}play(){this.controller.play()}pause(){this.controller.pause()}reset(){this.controller.reset()}setCurrentTime(e){if(!this.duration)return;let t=(0,n.uZ)(e,0,this.duration);this.controller.setCurrentTime(t)}getCurrentFrame(){}toGround(e,t){return this.controller?.sensorModel?.metadataSupportsTransforms?this.controller.sensorModel.transformImageToGeo(e,t):null}toVideo(e){if(!this.controller?.sensorModel?.metadataSupportsTransforms)return null;let t=this.controller.sensorModel.transformGeoToImage(e.x,e.y,e.z);return{x:t[0],y:t[1]}}async _fetchService(e){if(this.sourceJSON)return void this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl});let t=(0,v.Qc)(this.parsedUrl?.path);if(null==t)throw new s.Z("arcgis-layers:url-mismatch","The url is not a valid arcgis resource");let r=null,{data:o,ssl:n}=await (0,i.Z)(t.url.path,{query:{f:"json",...this.parsedUrl.query,...this.customParameters},signal:e});if(this.url=t.url.path,n&&(this.url=this.url.replace(/^http:/i,"https:")),!o?.currentVersion)return o.currentVersion="11.2",this.sourceJSON=o,void this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl});let a=t?.sublayer;if(null==a&&o.layers?.length&&(a=o.layers[0].id),null==a)throw new s.Z("arcgis-layers:url-mismatch","The url is not a valid arcgis resource");this.url=`${t.url.path}/${a}`,r=await (0,i.Z)(this.url,{query:{f:"json",...this.customParameters},signal:e});let l={...o,...r.data};this.sourceJSON=l,this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl})}_setSensorTrail(e){if(!e)return;let t=(0,x.F7)(e,this._trailPoints);this._trailPoints=[...t];let r=this._trailPoints.map(e=>e.toArray()),o=new h.Z({hasZ:e.hasZ,paths:[r]});this.telemetry.sensorTrail=o.clone()}};(0,o._)([(0,u.Cb)({readOnly:!0})],H.prototype,"buffered",null),(0,o._)([(0,u.Cb)({readOnly:!0,json:{read:!1}})],H.prototype,"capabilities",void 0),(0,o._)([(0,p.r)("service","capabilities",["supportsAppend","supportsCoverageQuery","supportsExportClip","supportsExportFrameset","supportsMensuration","supportsUpdate"])],H.prototype,"readCapabilitiesFromService",null),(0,o._)([(0,u.Cb)({readOnly:!0})],H.prototype,"connectionInfo",void 0),(0,o._)([(0,p.r)("connectionInfo",["connectionUrl"])],H.prototype,"readConnectionInfo",null),(0,o._)([(0,u.Cb)()],H.prototype,"controller",void 0),(0,o._)([(0,u.Cb)({type:String})],H.prototype,"copyright",void 0),(0,o._)([(0,u.Cb)({type:D.Z})],H.prototype,"coverage",void 0),(0,o._)([(0,u.Cb)({type:Date})],H.prototype,"created",void 0),(0,o._)([(0,u.Cb)({type:Number})],H.prototype,"currentTime",null),(0,o._)([(0,u.Cb)({type:String})],H.prototype,"description",void 0),(0,o._)([(0,u.Cb)({type:Number})],H.prototype,"duration",null),(0,o._)([(0,u.Cb)({readOnly:!0})],H.prototype,"elevationSource",void 0),(0,o._)([(0,u.Cb)({type:Boolean})],H.prototype,"ended",null),(0,o._)([(0,u.Cb)({type:R})],H.prototype,"frame",void 0),(0,o._)([(0,u.Cb)({type:Number})],H.prototype,"frameCount",void 0),(0,o._)([(0,u.Cb)({type:I.Z})],H.prototype,"fullExtent",void 0),(0,o._)([(0,u.Cb)({readOnly:!0})],H.prototype,"frameHorizonPoints",null),(0,o._)([(0,u.Cb)({readOnly:!0})],H.prototype,"groundControlPoints",null),(0,o._)([(0,u.Cb)({type:I.Z})],H.prototype,"initialExtent",void 0),(0,o._)([(0,u.Cb)({readOnly:!0,json:{read:{source:"id"}}})],H.prototype,"layerId",void 0),(0,o._)([(0,u.Cb)({type:Boolean})],H.prototype,"loop",null),(0,o._)([(0,u.Cb)({readOnly:!0})],H.prototype,"metadata",null),(0,o._)([(0,u.Cb)({type:Boolean})],H.prototype,"muted",null),(0,o._)([(0,u.Cb)({type:b})],H.prototype,"playbackInfo",void 0),(0,o._)([(0,u.Cb)({type:Number})],H.prototype,"playbackRate",null),(0,o._)([(0,u.Cb)({type:String})],H.prototype,"playerUrl",null),(0,o._)([(0,u.Cb)({readOnly:!0})],H.prototype,"playing",null),(0,o._)([(0,u.Cb)({readOnly:!0,json:{read:{source:"poster"}}})],H.prototype,"posterUrl",void 0),(0,o._)([(0,u.Cb)({type:String})],H.prototype,"protocol",void 0),(0,o._)([(0,u.Cb)({readOnly:!0})],H.prototype,"qualities",void 0),(0,o._)([(0,u.Cb)({readOnly:!0})],H.prototype,"serviceItemId",void 0),(0,o._)([(0,u.Cb)()],H.prototype,"sourceJSON",void 0),(0,o._)([(0,u.Cb)()],H.prototype,"sourceQuality",void 0),(0,o._)([(0,u.Cb)({readOnly:!0,json:{name:"serviceType"}})],H.prototype,"sourceType",void 0),(0,o._)([(0,u.Cb)()],H.prototype,"spatialReference",void 0),(0,o._)([(0,u.Cb)({type:String})],H.prototype,"state",null),(0,o._)([(0,u.Cb)({type:w.Z})],H.prototype,"telemetry",null),(0,o._)([(0,u.Cb)({type:P.Z})],H.prototype,"telemetryDisplay",void 0),(0,o._)([(0,u.Cb)({readOnly:!1,json:{read:{source:"name"}}})],H.prototype,"title",void 0),(0,o._)([(0,u.Cb)({readOnly:!0})],H.prototype,"type",void 0),(0,o._)([(0,u.Cb)(C.HQ)],H.prototype,"url",void 0),(0,o._)([(0,u.Cb)({readOnly:!0})],H.prototype,"videoElement",null),(0,o._)([(0,u.Cb)({readOnly:!0})],H.prototype,"videoHeight",null),(0,o._)([(0,u.Cb)({readOnly:!0,nonNullable:!1,json:{read:{reader:x.VW,source:"time"}}})],H.prototype,"videoTimeExtent",void 0),(0,o._)([(0,u.Cb)({readOnly:!0})],H.prototype,"videoWidth",null),(0,o._)([(0,u.Cb)({readOnly:!0})],H.prototype,"waiting",null);let V=H=(0,o._)([(0,d.j)("esri.layers.VideoLayer")],H)},12261:function(e,t,r){r.d(t,{N:function(){return n}});var o=r(86641),i=r(89312);r(37180),r(65223),r(3457);var s=r(64186);let n=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return(0,o._)([(0,i.Cb)({type:Object,json:{write:{overridePolicy:e=>({enabled:!!(e&&Object.keys(e).length>0)})}}})],t.prototype,"customParameters",void 0),t=(0,o._)([(0,s.j)("esri.layers.mixins.CustomParametersMixin")],t)}},24949:function(e,t,r){r.d(t,{Z:function(){return h}});var o=r(86641);r(55066);var i=r(23427),s=r(689),n=r(89312);r(37180),r(65223),r(3457);var a=r(64186),l=r(33876),u=r(54001),p=r(58144);let d=class extends(0,i.J)(s.wq){constructor(e){super(e),this.frameCenter=null,this.frameOutline=null,this.lineOfSight=null,this.sensorLocation=null,this.sensorTrail=null}};(0,o._)([(0,n.Cb)({type:l.Z})],d.prototype,"frameCenter",void 0),(0,o._)([(0,n.Cb)({type:u.Z})],d.prototype,"frameOutline",void 0),(0,o._)([(0,n.Cb)({type:p.Z})],d.prototype,"lineOfSight",void 0),(0,o._)([(0,n.Cb)({type:l.Z})],d.prototype,"sensorLocation",void 0),(0,o._)([(0,n.Cb)({type:p.Z})],d.prototype,"sensorTrail",void 0);let h=d=(0,o._)([(0,a.j)("esri.layers.support.TelemetryData")],d)},28773:function(e,t,r){r.d(t,{Z:function(){return u}});var o=r(86641),i=r(23427),s=r(689),n=r(89312);r(37180),r(65223),r(3457);var a=r(64186);let l=class extends(0,i.J)(s.wq){constructor(e){super(e),this.frameCenter=null,this.frameOutline=null,this.lineOfSight=null,this.sensorLocation=null,this.sensorTrail=null}};(0,o._)([(0,n.Cb)({type:Boolean})],l.prototype,"frameCenter",void 0),(0,o._)([(0,n.Cb)({type:Boolean})],l.prototype,"frameOutline",void 0),(0,o._)([(0,n.Cb)({type:Boolean})],l.prototype,"lineOfSight",void 0),(0,o._)([(0,n.Cb)({type:Boolean})],l.prototype,"sensorLocation",void 0),(0,o._)([(0,n.Cb)({type:Boolean})],l.prototype,"sensorTrail",void 0);let u=l=(0,o._)([(0,a.j)("esri.layers.support.TelemetryDisplay")],l)},78298:function(e,t,r){r.d(t,{C_:function(){return p},HQ:function(){return h},Lx:function(){return y},Oh:function(){return m},PV:function(){return g},YI:function(){return u},bT:function(){return v},iR:function(){return d},id:function(){return _},rO:function(){return E},rT:function(){return b},rn:function(){return c},u1:function(){return S},vg:function(){return C}});var o=r(57111),i=r(9377),s=r(36502),n=r(37144),a=r(81961),l=r(60536);let u={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:o.C}}},p={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,r){t[r]=!e}}}},d={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:o.C}}},h={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:n.w}}},c={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:o.C}}},g={value:null,type:a.Z,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:o.C}}};function y(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}let f={write:{enabled:!0,layerContainerTypes:o.C},read:!0},m={type:Number,json:{origins:{"web-document":f,"portal-item":{write:!0}}}},v={...m,json:{...m.json,origins:{"web-document":{...f,write:{enabled:!0,layerContainerTypes:o.C,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,r)=>r&&"service"!==r.origin||!t.drawingInfo||void 0===t.drawingInfo.transparency?t.layerDefinition?.drawingInfo&&void 0!==t.layerDefinition.drawingInfo.transparency?(0,l.b)(t.layerDefinition.drawingInfo.transparency):void 0:(0,l.b)(t.drawingInfo.transparency)}}},C={type:i.Z,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{let r=i.Z.fromJSON(e);return null!=t.spatialReference&&"object"==typeof t.spatialReference&&(r.spatialReference=s.Z.fromJSON(t.spatialReference)),r}}}},read:!1}},_={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},E={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.minScale",write:{enabled:!0,layerContainerTypes:o.C}}},name:"layerDefinition.minScale",write:!0}},S={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.maxScale",write:{enabled:!0,layerContainerTypes:o.C}}},name:"layerDefinition.maxScale",write:!0}},b={json:{write:{ignoreOrigin:!0,layerContainerTypes:o.C},origins:{"web-map":{read:!1,write:!1}}}}},86034:function(e,t,r){r.d(t,{h:function(){return u},j:function(){return p}});var o=r(37180),i=r(96922);function s(e,t,r){return!!n(e,t,r)}function n(e,t,r){return e&&e.hasOwnProperty(t)?e[t]:r}let a={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function l(e,t){let r=e?.supportedOperationsWithCacheHint?.map(e=>e.toLowerCase());return!!r?.includes(t.toLowerCase())}function u(e,t){return{analytics:{supportsCacheHint:l(e.advancedQueryCapabilities,"queryAnalytics")},attachment:function(e){let t=e.attachmentProperties,r={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:l(e.advancedQueryCapabilities,"queryAttachments"),supportsResize:s(e,"supportsAttachmentsResizing",!1)};return t&&Array.isArray(t)&&t.forEach(e=>{let t=a[e.name];t&&(r[t]=!!e.isEnabled)}),r}(e),data:{isVersioned:s(e,"isDataVersioned",!1),supportsAttachment:s(e,"hasAttachments",!1),supportsM:s(e,"hasM",!1),supportsZ:s(e,"hasZ",!1)},metadata:{supportsAdvancedFieldProperties:s(e,"supportsFieldDescriptionProperty",!1)},operations:function(e,t,r){let o=e?e.toLowerCase().split(",").map(e=>e.trim()):[],n=r?(0,i.Qc)(r):null,a=o.includes(null!=n&&"MapServer"===n.serverType?"data":"query"),l=o.includes("editing")&&!t.datesInUnknownTimezone,u=l&&o.includes("create"),p=l&&o.includes("delete"),d=l&&o.includes("update"),h=o.includes("changetracking"),c=t.advancedQueryCapabilities;return l&&!(u||p||d)&&(u=p=d=!0),{supportsCalculate:s(t,"supportsCalculate",!1),supportsTruncate:s(t,"supportsTruncate",!1),supportsValidateSql:s(t,"supportsValidateSql",!1),supportsAdd:u,supportsDelete:p,supportsEditing:l,supportsChangeTracking:h,supportsQuery:a,supportsQueryAnalytics:s(c,"supportsQueryAnalytic",!1),supportsQueryAttachments:s(c,"supportsQueryAttachments",!1),supportsQueryTopFeatures:s(c,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:s(t,"supportsAttachmentsResizing",!1),supportsSync:o.includes("sync"),supportsUpdate:d,supportsExceedsLimitStatistics:s(t,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:s(t,"supportsAsyncConvert3D",!1)}}(e.capabilities,e,t),query:function(e,t){let r=e.advancedQueryCapabilities,a=e.ownershipBasedAccessControlForFeatures,u=e.archivingInfo,p=e.currentVersion,d=!t?.includes("MapServer")||p>=(0,o.Z)("mapserver-pbf-version-support"),h=(0,i.M8)(t),c=new Set((e.supportedQueryFormats??"").split(",").map(e=>e.toLowerCase().trim()));return{maxRecordCount:n(e,"maxRecordCount",void 0),maxRecordCountFactor:n(e,"maxRecordCountFactor",void 0),standardMaxRecordCount:n(e,"standardMaxRecordCount",void 0),supportedSpatialAggregationStatistics:function(e){let t=e?.supportedSpatialAggregationStatistics?.map(e=>e.toLowerCase());return{envelope:!!t?.includes("envelopeaggregate"),centroid:!!t?.includes("centroidaggregate"),convexHull:!!t?.includes("convexhullaggregate")}}(r),supportsCacheHint:s(r,"supportsQueryWithCacheHint",!1)||l(r,"query"),supportsCentroid:s(r,"supportsReturningGeometryCentroid",!1),supportsCompactGeometry:h,supportsDefaultSpatialReference:s(r,"supportsDefaultSR",!1),supportsDisjointSpatialRelationship:s(r,"supportsDisjointSpatialRel",!1),supportsDistance:s(r,"supportsQueryWithDistance",!1),supportsDistinct:s(r,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:s(r,"supportsReturningQueryExtent",!1),supportsFormatPBF:d&&c.has("pbf"),supportsFullTextSearch:s(r,"supportsFullTextSearch",!1),supportsGeometryProperties:s(r,"supportsReturningGeometryProperties",!1),supportsHavingClause:s(r,"supportsHavingClause",!1),supportsHistoricMoment:s(u,"supportsQueryWithHistoricMoment",!1),supportsMaxRecordCountFactor:s(r,"supportsMaxRecordCountFactor",!1),supportsOrderBy:s(r,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:s(r,"supportsPagination",!1),supportsPercentileStatistics:s(r,"supportsPercentileStatistics",!1),supportsQuantization:s(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:s(e,"supportsQuantizationEditMode",!1),supportsQueryByAnonymous:s(a,"allowAnonymousToQuery",!0),supportsQueryByOthers:s(a,"allowOthersToQuery",!0),supportsQueryGeometry:s(e,"supportsReturningQueryGeometry",!1),supportsResultType:s(r,"supportsQueryWithResultType",!1),supportsSpatialAggregationStatistics:s(r,"supportsSpatialAggregationStatistics",!1),supportsSqlExpression:s(r,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:s(e,"useStandardizedQueries",!1),supportsStatistics:s(r,"supportsStatistics",e.supportsStatistics),supportsTopFeaturesQuery:s(r,"supportsTopFeaturesQuery",!1),tileMaxRecordCount:n(e,"tileMaxRecordCount",void 0)}}(e,t),queryRelated:function(e){let t=e.advancedQueryCapabilities,r=s(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:s(t,"supportsQueryRelatedPagination",!1),supportsCount:r,supportsOrderBy:r,supportsCacheHint:l(t,"queryRelated")}}(e),queryTopFeatures:{supportsCacheHint:l(e.advancedQueryCapabilities,"queryTopFilter")},editing:function(e){let t=e.ownershipBasedAccessControlForFeatures,r=e?e.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:s(e,"allowGeometryUpdates",!0),supportsGlobalId:s(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:s(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:s(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:s(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:s(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:s(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:s(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:s(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:s(t,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:s(r,"supportsAsyncApplyEdits",!1),zDefault:n(e,"zDefault",void 0)}}(e)}}function p(e){return{operations:{supportsAppend:s(e,"supportsAppend",!1),supportsExportClip:s(e,"supportsExportClip",!1),supportsExportFrameset:s(e,"supportsExportFrameset",!1),supportsMensuration:s(e,"supportsMensuration",!1),supportsUpdate:s(e,"supportsUpdate",!1)},query:{supportsCoverageQuery:e?.playbackInfo?.klv["0601"]??!1}}}},96497:function(e,t,r){r.d(t,{Z:function(){return C}});var o=r(86641),i=r(94761),s=r(89312);r(37180),r(65223),r(3457);var n=r(64186),a=r(25607),l=r(82955),u=r(15514),p=r(60964),d=r(33876),h=r(36502),c=r(10940),g=r(40011),y=r(9397),f=r(32016);let m=Math.PI/180,v=class extends i.Z{constructor(e){super(),this.averageElevation=0,this.imageHeight=0,this.imageWidth=0,this.metadataSupportsTransforms=!1,this.platformHeadingAngle=0,this.platformPitchAngle=0,this.platformRollAngle=0,this.sensorHeadingAngle=0,this.sensorAltitude=0,this.sensorHorizontalFieldOfView=0,this.sensorLatitude=0,this.sensorLongitude=0,this.sensorPitchAngle=0,this.sensorRollAngle=0,this.sensorVerticalFieldOfView=0,this.vttMetadata=new Map,this._createMat3FromValues=e=>{let t=e[0],r=e[1],o=e[2];return(0,a.al)(t[0],r[0],o[0],t[1],r[1],o[1],t[2],r[2],o[2])},this._multiplyMat3=(e,t)=>{let r=(0,a.Ue)();return(0,u.Jp)(r,e,t),r},this._transposeMat3=e=>{let t=(0,a.Ue)();return(0,u.p4)(t,e),t},this._calculateCameraFovForward=()=>this._createMat3FromValues([[0,0,1],[Math.tan(.5*this.sensorHorizontalFieldOfView*m),0,0],[0,Math.tan(.5*this.sensorVerticalFieldOfView*m),0]]),this._calculateCameraFovReverse=()=>this._createMat3FromValues([[0,1/Math.tan(.5*this.sensorHorizontalFieldOfView*m),0],[0,0,1/Math.tan(.5*this.sensorVerticalFieldOfView*m)],[1,0,0]]),this._calculateCameraLook=()=>this._getRotationMatrixZYX(this.sensorHeadingAngle*m,this.sensorPitchAngle*m,this.sensorRollAngle*m),this._calculateImageDimensionsForward=()=>this._createMat3FromValues([[2/this.imageWidth,0,-1],[0,-2/this.imageHeight,-1],[0,0,1]]),this._calculateImageDimensionsReverse=()=>this._createMat3FromValues([[this.imageWidth/2,0,this.imageWidth/2],[0,-this.imageHeight/2,-this.imageHeight/2],[0,0,1]]),this._calculatePlatformPositionMatrix=()=>{let e=Math.sin(this.sensorLatitude*m),t=Math.cos(this.sensorLatitude*m),r=Math.sin(this.sensorLongitude*m),o=Math.cos(this.sensorLongitude*m);return this._createMat3FromValues([[-e*o,-r,-t*o],[-e*r,o,-t*r],[t,0,-e]])},this._calculatePlatformOrientation=()=>this._getRotationMatrixZYX(this.platformHeadingAngle*m,this.platformPitchAngle*m,this.platformRollAngle*m),this._extractValues=e=>{this.imageWidth=e.get(f.Eu.EsriVideoWidth)?.value,this.imageHeight=e.get(f.Eu.EsriVideoHeight)?.value;let t=e.get(f.Eu.SensorEllipsoidHeight)?.value;this.sensorAltitude=t??e.get(f.Eu.SensorTrueAltitude)?.value,this.sensorLatitude=e.get(f.Eu.SensorLatitude)?.value,this.sensorLongitude=e.get(f.Eu.SensorLongitude)?.value,this.sensorHeadingAngle=e.get(f.Eu.SensorAzimuthAngle)?.value,this.sensorPitchAngle=e.get(f.Eu.SensorElevationAngle)?.value,this.sensorRollAngle=e.get(f.Eu.SensorRollAngle)?.value,this.sensorHorizontalFieldOfView=e.get(f.Eu.SensorHorizontalFOV)?.value,this.sensorVerticalFieldOfView=e.get(f.Eu.SensorVerticalFOV)?.value,this.platformHeadingAngle=e.get(f.Eu.PlatformHeadingAngle)?.value,this.platformPitchAngle=e.get(f.Eu.PlatformPitchAngle)?.value,this.platformRollAngle=e.get(f.Eu.PlatformRollAngle)?.value,this.averageElevation=e.get(f.Eu.FrameCenterElevation)?.value||0},this._getRotationMatrixZYX=(e,t,r)=>{let o=Math.cos(e),i=Math.sin(e),s=Math.cos(t),n=Math.sin(t),a=Math.cos(r),l=Math.sin(r);return this._createMat3FromValues([[o*s,o*n*l-a*i,i*l+o*a*n],[s*i,o*a+i*n*l,a*i*n-o*l],[-n,s*l,s*a]])},this._initCameraSensor=()=>{let e=this._calculateCameraFovForward(),t=this._calculateCameraFovReverse(),r=this._calculateCameraLook(),o=this._calculateImageDimensionsForward(),i=this._calculateImageDimensionsReverse(),s=this._calculatePlatformPositionMatrix(),n=this._calculatePlatformOrientation(),a=this._multiplyMat3(this._multiplyMat3(s,n),r);this._imageToEarthTransform=this._multiplyMat3(this._multiplyMat3(a,e),o);let l=this._multiplyMat3(i,t);this._earthToImageTransform=this._multiplyMat3(l,this._transposeMat3(a)),this._platformPositionEcef=this._projectPointToECEF(this.sensorLongitude,this.sensorLatitude,this.sensorAltitude||this.averageElevation)},this._metadataSupportsTransforms=e=>{if(!e?.size)return!1;let t=e.get(f.Eu.EsriVideoWidth)?.value??0,r=e.get(f.Eu.EsriVideoHeight)?.value??0;if(t<=0||r<=0)return!1;let o=e.get(f.Eu.SensorEllipsoidHeight)?.value,i=e.get(f.Eu.SensorTrueAltitude)?.value,s=e.get(f.Eu.SensorLatitude)?.value,n=e.get(f.Eu.SensorLongitude)?.value;if(null==o&&null==i||null==s||null==n)return!1;let a=e.get(f.Eu.PlatformHeadingAngle)?.value,l=e.get(f.Eu.PlatformPitchAngle)?.value,u=e.get(f.Eu.PlatformRollAngle)?.value;if(null==a||null==l||null==u)return!1;let p=e.get(f.Eu.SensorHorizontalFOV)?.value,d=e.get(f.Eu.SensorVerticalFOV)?.value;if(null==p||null==d)return!1;let h=e.get(f.Eu.SensorAzimuthAngle)?.value,c=e.get(f.Eu.SensorElevationAngle)?.value,g=e.get(f.Eu.SensorRollAngle)?.value;return null!=h&&null!=c&&null!=g},this._projectPointToECEF=(e,t,r)=>{let o=[];return(0,g.projectBuffer)([e,t,r],h.Z.WGS84,0,o,c.wY,0,1),new d.Z({x:o[0],y:o[1],z:o[2],spatialReference:c.wY})},this._projectImageVectorToEllipsoid=(e,t)=>{let r=y.sv.semiMajorAxis+t,o=y.sv.semiMinorAxis+t,{x:i,y:s,z:n}=this._platformPositionEcef,a=n??this.averageElevation,u=(0,l.al)(i,s,r/o*a),d=(0,p.m)(e,e),h=(0,p.m)(e,u),c=(-h-Math.sqrt(h*h-d*((0,p.m)(u,u)-r*r)))/d;if(c<0)return[NaN,NaN,NaN];let g=(0,l.Ue)();return(0,p.r)(g,u,e,c),g[2]=g[2]*(o/r),g};let t=e?.videoMetadata;this._set("metadataSupportsTransforms",this._metadataSupportsTransforms(t)),this.metadataSupportsTransforms&&(this._extractValues(t),this._initCameraSensor())}transformGeoToImage(e,t,r){let o=this._platformPositionEcef;if(!o)return[0,0];let{x:i,y:s,z:n}=o,a=(0,l.al)(i,s,n),u=this._projectPointToECEF(e,t,r||this.averageElevation),d=(0,l.Ue)(),h=(0,l.al)(u.x,u.y,u.z);(0,p.f)(d,h,a),(0,p.t)(d,d,this._earthToImageTransform);let c=d[0],g=d[1],y=d[2],f=(0,l.al)(NaN,NaN,NaN);return isNaN(y)||(f=(0,l.al)(c/y,g/y,y/y)),[f[0],f[1]]}transformImageToGeo(e,t){let r;let o=(0,l.al)(e,t,1),i=(0,l.Ue)();(0,p.t)(i,o,this._imageToEarthTransform);let s=this._projectImageVectorToEllipsoid(i,this.averageElevation);if(!isNaN(s[0])){let e=[];(0,g.projectBuffer)([s[0],s[1],s[2]],c.wY,0,e,h.Z.WGS84,0,1),r=new d.Z({x:e[0],y:e[1],z:e[2],spatialReference:h.Z.WGS84})}return r}};(0,o._)([(0,s.Cb)()],v.prototype,"averageElevation",void 0),(0,o._)([(0,s.Cb)()],v.prototype,"imageHeight",void 0),(0,o._)([(0,s.Cb)()],v.prototype,"imageWidth",void 0),(0,o._)([(0,s.Cb)({readOnly:!0})],v.prototype,"metadataSupportsTransforms",void 0),(0,o._)([(0,s.Cb)()],v.prototype,"platformHeadingAngle",void 0),(0,o._)([(0,s.Cb)()],v.prototype,"platformPitchAngle",void 0),(0,o._)([(0,s.Cb)()],v.prototype,"platformRollAngle",void 0),(0,o._)([(0,s.Cb)()],v.prototype,"sensorHeadingAngle",void 0),(0,o._)([(0,s.Cb)()],v.prototype,"sensorAltitude",void 0),(0,o._)([(0,s.Cb)()],v.prototype,"sensorHorizontalFieldOfView",void 0),(0,o._)([(0,s.Cb)()],v.prototype,"sensorLatitude",void 0),(0,o._)([(0,s.Cb)()],v.prototype,"sensorLongitude",void 0),(0,o._)([(0,s.Cb)()],v.prototype,"sensorPitchAngle",void 0),(0,o._)([(0,s.Cb)()],v.prototype,"sensorRollAngle",void 0),(0,o._)([(0,s.Cb)()],v.prototype,"sensorVerticalFieldOfView",void 0),(0,o._)([(0,s.Cb)()],v.prototype,"vttMetadata",void 0);let C=v=(0,o._)([(0,n.j)("esri.layers.video.VideoCameraSensorModel")],v)},32016:function(e,t,r){r.d(t,{F8:function(){return E},Hi:function(){return _},F7:function(){return v},ME:function(){return C},VW:function(){return m},Eu:function(){return f}});var o=r(33876),i=r(54001),s=r(58144),n=r(24949),a=r(86641),l=r(23427),u=r(689),p=r(89312);r(37180),r(65223),r(3457);var d=r(37647),h=r(64186),c=r(50713);let g=class extends(0,l.J)(u.wq){constructor(e){super(e),this.duration=null,this.end=null,this.start=null,this.timezone="UTC"}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}};(0,a._)([(0,p.Cb)({type:Number,json:{write:{allowNull:!0}}})],g.prototype,"duration",void 0),(0,a._)([(0,p.Cb)({type:Date,json:{write:{allowNull:!0}}})],g.prototype,"end",void 0),(0,a._)([(0,d.r)("end")],g.prototype,"readEnd",null),(0,a._)([(0,c.c)("end")],g.prototype,"writeEnd",null),(0,a._)([(0,p.Cb)({type:Date,json:{write:{allowNull:!0}}})],g.prototype,"start",void 0),(0,a._)([(0,d.r)("start")],g.prototype,"readStart",null),(0,a._)([(0,c.c)("start")],g.prototype,"writeStart",null),(0,a._)([(0,p.Cb)({type:String})],g.prototype,"timezone",void 0);let y=g=(0,a._)([(0,h.j)("esri.layers.support.VideoTimeExtent")],g),f={UASDatalinkLocalSet:1e4,PrecisionTimeStamp:10002,MissionId:10003,PlatformTailNumber:10004,PlatformHeadingAngle:10005,PlatformPitchAngle:10006,PlatformRollAngle:10007,PlatformTrueAirspeed:10008,PlatformIndicatedAirspeed:10009,PlatformDesignation:10010,ImageSourceSensor:10011,ImageCoordinateSystem:10012,SensorLatitude:10013,SensorLongitude:10014,SensorTrueAltitude:10015,SensorHorizontalFOV:10016,SensorVerticalFOV:10017,SensorAzimuthAngle:10018,SensorElevationAngle:10019,SensorRollAngle:10020,PlatformSlantRange:10021,TargetWidth:10022,FrameCenterLatitude:10023,FrameCenterLongitude:10024,FrameCenterElevation:10025,OffsetCorner1Latitude:10026,OffsetCorner1Longitude:10027,OffsetCorner2Latitude:10028,OffsetCorner2Longitude:10029,OffsetCorner3Latitude:10030,OffsetCorner3Longitude:10031,OffsetCorner4Latitude:10032,OffsetCorner4Longitude:10033,TargetLocationLatitude:10040,TargetLocationLongitude:10041,TargetLocationElevation:10042,TargetTrackGateWidth:10043,TargetTrackGateHeight:10044,TargetErrorEstimateHorizontal:10045,TargetErrorEstimateLateral:10046,GenericFlagData:10047,PlatformGroundSpeed:10056,PlatformGroundRange:10057,PlatformRemainingFuel:10058,PlatformCallSign:10059,SensorFOVName:10063,PlatformMagneticHeading:10064,LDSVersionNumber:10065,AlternatePlatformName:10070,EventStartTimeUTC:10072,VMTIDataSet:10074,SensorEllipsoidHeight:10075,OperationalMode:10077,CornerLatitudePoint1:10082,CornerLongitudePoint1:10083,CornerLatitudePoint2:10084,CornerLongitudePoint2:10085,CornerLatitudePoint3:10086,CornerLongitudePoint3:10087,CornerLatitudePoint4:10088,CornerLongitudePoint4:10089,SARMotionImageryMetadata:10095,SecurityClassification:20001,SecurityClassifyingAuthority:20002,SecurityClassifyingCountry:20003,SecuritySCI:20004,SecurityCaveats:20005,SecurityReleaseInstructions:20006,SecurityLDSVersion:20022,EsriVideoWidth:90001,EsriVideoHeight:90002,EsriFrameCenterLatitude:90050,EsriFrameCenterLongitude:90051,EsriCornerLatitudePt1:90052,EsriCornerLongitudePt1:90053,EsriCornerLatitudePt2:90054,EsriCornerLongitudePt2:90055,EsriCornerLatitudePt3:90056,EsriCornerLongitudePt3:90057,EsriCornerLatitudePt4:90058,EsriCornerLongitudePt4:90059,EsriFrameOutline:90060,EsriSensorPosition:90061,EsriHorizonPixelPack:90063,EsriGroundControlPoints:90064};function m(e){let{duration:t,end:r,start:o,timezone:i="UTC"}=e||{};return"number"!=typeof t?null:new y({duration:t||null,end:"number"==typeof r?new Date(r):null,start:"number"==typeof o?new Date(o):null,timezone:i})}function v(e,t){let r=[...t],o=r.findIndex(t=>t.equals(e));return o>-1&&r.splice(o),r.push(e),r}function C(e){if(!e?.size)return new n.Z;let t=function(e){if(!e?.size)return null;if(e.has(f.EsriSensorPosition)){let t=e.get(f.EsriSensorPosition)?.value;if(t)return o.Z.fromJSON(t.geometry)}return e.has(f.SensorLongitude)&&e.has(f.SensorLatitude)&&e.has(f.SensorTrueAltitude)?new o.Z({x:e.get(f.SensorLongitude)?.value,y:e.get(f.SensorLatitude)?.value,z:e.get(f.SensorTrueAltitude)?.value}):null}(e),r=(e&&e.has(f.EsriFrameCenterLatitude)&&e.has(f.EsriFrameCenterLongitude)?new o.Z({x:e.get(f.EsriFrameCenterLongitude).value,y:e.get(f.EsriFrameCenterLatitude).value,z:e.get(f.FrameCenterElevation).value}):null)??(e&&e.has(f.FrameCenterLatitude)&&e.has(f.FrameCenterLongitude)?new o.Z({x:e.get(f.FrameCenterLongitude)?.value,y:e.get(f.FrameCenterLatitude)?.value,z:e.get(f.FrameCenterElevation)?.value}):null),a=function(e){if(!e)return null;let t=e.get(f.EsriFrameOutline)?.value;return t?i.Z.fromJSON(t.geometry):function(e){if(!(e.has(f.EsriCornerLatitudePt1)&&e.has(f.EsriCornerLongitudePt1)&&e.has(f.EsriCornerLatitudePt2)&&e.has(f.EsriCornerLongitudePt2)&&e.has(f.EsriCornerLatitudePt3)&&e.has(f.EsriCornerLongitudePt3)&&e.has(f.EsriCornerLatitudePt4)&&e.has(f.EsriCornerLongitudePt4)))return null;let t=[e.get(f.EsriCornerLongitudePt1)?.value,e.get(f.EsriCornerLatitudePt1)?.value],r=[e.get(f.EsriCornerLongitudePt2)?.value,e.get(f.EsriCornerLatitudePt2)?.value],o=[e.get(f.EsriCornerLongitudePt3)?.value,e.get(f.EsriCornerLatitudePt3)?.value],s=[e.get(f.EsriCornerLongitudePt4)?.value,e.get(f.EsriCornerLatitudePt4)?.value];return new i.Z({rings:[[t,r,o,s]]})}(e)??function(e){if(!(e.has(f.OffsetCorner1Latitude)&&e.has(f.OffsetCorner1Longitude)&&e.has(f.OffsetCorner2Latitude)&&e.has(f.OffsetCorner2Longitude)&&e.has(f.OffsetCorner3Latitude)&&e.has(f.OffsetCorner3Longitude)&&e.has(f.OffsetCorner4Latitude)&&e.has(f.OffsetCorner4Longitude)&&e.has(f.FrameCenterLatitude)&&e.has(f.FrameCenterLongitude)))return null;let t=e.get(f.FrameCenterLatitude)?.value,r=e.get(f.FrameCenterLongitude)?.value,o=t+e.get(f.OffsetCorner1Latitude)?.value,s=r+e.get(f.OffsetCorner1Longitude)?.value,n=t+e.get(f.OffsetCorner2Latitude)?.value,a=r+e.get(f.OffsetCorner2Longitude)?.value,l=t+e.get(f.OffsetCorner3Latitude)?.value,u=r+e.get(f.OffsetCorner3Longitude)?.value,p=t+e.get(f.OffsetCorner4Latitude)?.value,d=r+e.get(f.OffsetCorner4Longitude)?.value;return new i.Z({rings:[[[s,o],[a,n],[u,l],[d,p]]]})}(e)}(e),l=function(e,t){if(!e||!t)return null;let r=[e.x,e.y,e.z],o=[t.x,t.y,t.z];return new s.Z({paths:[[r,o]]})}(t,r);return new n.Z({frameCenter:r,frameOutline:a,lineOfSight:l,sensorLocation:t})}function _(e){return e?.size?e.get(f.EsriGroundControlPoints)?.value??null??null:null}function E(e){return e?.size?e.get(f.EsriHorizonPixelPack)?.value??null:null}}}]);