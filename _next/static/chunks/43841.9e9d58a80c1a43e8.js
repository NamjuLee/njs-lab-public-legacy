"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[43841,23957,24089,76402,77127],{24089:function(t,s,e){e.r(s),e.d(s,{Canvas:function(){return i}});class i{loop(){this.clear(this.gl),requestAnimationFrame(()=>{this.loop()}),this.app.renderer.render()}clear(t){t.cullFace(t.BACK),t.frontFace(t.CCW),t.enable(t.DEPTH_TEST),t.enable(t.CULL_FACE),t.depthFunc(t.LEQUAL),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.clearColor(1,1,1,1)}constructor(t){this.app=t,this.canvas=document.createElement("canvas"),this.app.host&&(this.app.host.appendChild(this.canvas),this.canvas.width=this.app.host.clientWidth,this.canvas.height=this.app.host.clientHeight);let s=this.canvas.getContext("webgl2");null!==s&&(this.gl=s,this.gl.cullFace(s.BACK),this.gl.frontFace(s.CCW),this.gl.enable(s.DEPTH_TEST),this.gl.enable(s.CULL_FACE),this.gl.depthFunc(s.LEQUAL),this.gl.blendFunc(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA)),this.loop()}}},76402:function(t,s,e){e.r(s),e.d(s,{Renderer:function(){return i}});class i{render(){this.app.camera&&this.app.camera.updateViewMatrix(),this.app.scene.geometries.forEach(t=>{t.render()})}constructor(t){this.app=t}}},77127:function(t,s,e){e.r(s),e.d(s,{Scene:function(){return i}});class i{add(t){this.geometries.push(t)}constructor(t){this.geometries=[],this.NGL3dApp=t}}},8980:function(t,s,e){e.r(s),e.d(s,{Texture:function(){return a},uvGrid:function(){return r}});var i=e(77470);let r=e(23957);class a{async UploadTexture(t){return this.LoadTexture(t).then(t=>{let s=i.ShaderUtility.LoadTexture(this.app.canvas.gl,t,!1);s&&(this.uvGridWebGLTexture=s)})}async LoadTexture(t){return new Promise((s,e)=>{let i=new Image;i.onload=()=>s(i),i.onerror=e,i.src=t})}constructor(t){this.app=t}}},40211:function(t,s,e){e.r(s),e.d(s,{GridAxis:function(){return A}});var i=e(30464),r=e(24278),a=e(77470),n=e(90512);class o extends a.Shader{renderModel(t){return this.setModelMatrix(t.transform.getViewMatrix()),this.gl.bindVertexArray(t.vao.vao),t.vao.indexCount?this.gl.drawElements(t.vao.drawMode,t.vao.indexCount,this.gl.UNSIGNED_SHORT,0):this.gl.drawArrays(t.vao.drawMode,0,t.vao.vertexCount),this.gl.bindVertexArray(null),this}constructor(t,s,e,i,r){if(super(t,s,e),this.program){this.setPerspective(r),t.useProgram(this.program);let s=t.getUniformLocation(this.program,"uColor");t.uniform3fv(s,i)}}}class A extends n.GeometryBase{GetVAO(){let t,s=!(arguments.length>0)||void 0===arguments[0]||arguments[0],e=[];for(let s=0;s<=10;s++)t=-.9+.18*s,e.push(t),e.push(0),e.push(.9),e.push(0),e.push(t),e.push(0),e.push(-.9),e.push(0),t=.9-.18*s,e.push(-.9),e.push(0),e.push(t),e.push(0),e.push(.9),e.push(0),e.push(t),e.push(0);s&&(e.push(-1.1),e.push(0),e.push(0),e.push(1),e.push(1.1),e.push(0),e.push(0),e.push(1),e.push(0),e.push(-1.1),e.push(0),e.push(2),e.push(0),e.push(1.1),e.push(0),e.push(2),e.push(0),e.push(0),e.push(-1.1),e.push(3),e.push(0),e.push(0),e.push(1.1),e.push(3)),this.vao=new i.VAO(this.gl,"grid",e),this.vao.drawMode=this.gl.LINES,this.vao.vao=this.gl.createVertexArray(),this.vao.vertexComponentLen=4,this.vao.vertexCount=e.length/this.vao.vertexComponentLen;let r=Float32Array.BYTES_PER_ELEMENT*this.vao.vertexComponentLen;return this.vao.bufVertices=this.gl.createBuffer(),this.gl.bindVertexArray(this.vao.vao),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vao.bufVertices),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(e),this.gl.STATIC_DRAW),this.gl.enableVertexAttribArray(a.ATTR.ATTR_POSITION_LOC),this.gl.enableVertexAttribArray(a.ATTR.ATTR_COLOR_LOC),this.gl.vertexAttribPointer(a.ATTR.ATTR_POSITION_LOC,3,this.gl.FLOAT,!1,r,0),this.gl.vertexAttribPointer(a.ATTR.ATTR_COLOR_LOC,1,this.gl.FLOAT,!1,r,3*Float32Array.BYTES_PER_ELEMENT),this.gl.bindVertexArray(null),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.vao}initShader(t){this.shader=new o(t,this.v,this.f,[.8,.8,.8,1,0,0,0,1,0,0,0,1],this.app.camera.projectionMatrix),this.vao=this.GetVAO(),this.model=new r.Model(this.vao)}render(){this.shader.activate().setCameraMatrix(this.app.camera.viewMatrix).renderModel(this.model.preRender()),this.t=.01}constructor(t){super(t.scene),this.v="#version 300 es\n    in vec3 a_position;	//Standard position data.\n    layout(location=4) in float a_color;	//Will hold the 4th custom position of the custom position buffer.\n\n    uniform mat4 uPMatrix;\n    uniform mat4 uMVMatrix;\n    uniform mat4 uCameraMatrix;\n\n    uniform vec3 uColor[4];	//Color Array\n\n    out lowp vec4 color;	//Color to send to fragment shader.\n\n    void main(void) {\n        color = vec4(uColor[ int(a_color) ],1.0); //Using the 4th float as a color index.\n        gl_Position = uPMatrix * uCameraMatrix * uMVMatrix * vec4(a_position, 1.0);\n    }\n    ",this.f="#version 300 es\n    precision mediump float;\n\n    in vec4 color;\n    out vec4 finalColor;\n\n    void main(void) { finalColor = color; }\n    ",this.ro=0,this.t=0,this.app=t,this.gl=t.canvas.gl,this.initShader(this.gl)}}},70511:function(t,s,e){e.r(s),e.d(s,{CAMERA_MODE:function(){return r},Camera:function(){return o},CameraController:function(){return A}});var i,r,a=e(33913),n=e(53066);(i=r||(r={}))[i.FREE=0]="FREE",i[i.ORBIT=1]="ORBIT";class o{panX(t){1!==this.mode&&(this.updateViewMatrix(),this.transform.position.x+=this.transform.right[0]*t,this.transform.position.y+=this.transform.right[1]*t,this.transform.position.z+=this.transform.right[2]*t)}panY(t){this.updateViewMatrix(),this.transform.position.y+=this.transform.up[1]*t,1!==this.mode&&(this.transform.position.x+=this.transform.up[0]*t,this.transform.position.z+=this.transform.up[2]*t)}panZ(t){this.updateViewMatrix(),1===this.mode?this.transform.position.z+=t:(this.transform.position.x+=this.transform.forward[0]*t,this.transform.position.y+=this.transform.forward[1]*t,this.transform.position.z+=this.transform.forward[2]*t)}updateViewMatrix(){return 0===this.mode?this.transform.matView.reset().vtranslate(this.transform.position).rotateX(this.transform.rotation.x*n.Transform.deg2Rad).rotateY(this.transform.rotation.y*n.Transform.deg2Rad):this.transform.matView.reset().rotateX(this.transform.rotation.x*n.Transform.deg2Rad).rotateY(this.transform.rotation.y*n.Transform.deg2Rad).vtranslate(this.transform.position),this.transform.updateDirection(),a.Matrix4.invert(this.viewMatrix,this.transform.matView.raw),this.viewMatrix}constructor(t,s=45,e=.1,i=100){this.projectionMatrix=new Float32Array(16);var r=t.canvas.width/t.canvas.height;a.Matrix4.perspective(this.projectionMatrix,s||45,r,e||.1,i||100),this.transform=new n.Transform,this.viewMatrix=new Float32Array(16),this.mode=1}}class A{getMouseVec2(t){return{x:t.pageX-this.offsetX,y:t.pageY-this.offsetY}}onMouseDown(t){this.initX=this.prevX=t.pageX-this.offsetX,this.initY=this.prevY=t.pageY-this.offsetY,this.canvas.addEventListener("mouseup",this.onUpHandler),this.canvas.addEventListener("mousemove",this.onMoveHandler)}onMouseUp(t){this.canvas.removeEventListener("mouseup",this.onUpHandler),this.canvas.removeEventListener("mousemove",this.onMoveHandler)}onMouseWheel(t){var s=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail));this.camera.panZ(this.zoomRate/this.canvas.height*s)}onMouseMove(t){var s=t.pageX-this.offsetX,e=t.pageY-this.offsetY,i=s-this.prevX,r=e-this.prevY;t.shiftKey?(this.camera.panX(-(this.panRate/this.canvas.width*i)),this.camera.panY(this.panRate/this.canvas.height*r)):(this.camera.transform.rotation.y+=this.rotateRate/this.canvas.width*i,this.camera.transform.rotation.x+=this.rotateRate/this.canvas.height*r),this.prevX=s,this.prevY=e}constructor(t,s){this.canvas=t.canvas,this.camera=s,this.rotateRate=-300,this.panRate=5,this.zoomRate=200,this.offsetX=10,this.offsetY=10,this.initX=0,this.initY=0,this.prevX=0,this.prevY=0,this.onUpHandler=t=>this.onMouseUp(t),this.onMoveHandler=t=>{this.onMouseMove(t)},this.canvas.addEventListener("mousedown",t=>{this.onMouseDown(t)}),this.canvas.addEventListener("mousewheel",t=>{this.onMouseWheel(t)})}}},43841:function(t,s,e){e.r(s),e.d(s,{NGL3dApp:function(){return u}});var i=e(24089),r=e(76402),a=e(77127),n=e(70511),o=e(8980),A=e(40211),h=e(845);class u{Init(){new A.GridAxis(this),new h.Quad(this)}constructor(t){console.log("id: "+t+", NGL3dApp 08 Init!!!!!");let s=document.getElementById(t);s&&(this.host=s),this.scene=new a.Scene(this),this.renderer=new r.Renderer(this),this.canvas=new i.Canvas(this),this.texture=new o.Texture(this),this.texture.UploadTexture(o.uvGrid).then(()=>{this.camera=new n.Camera(this.canvas.gl),this.camera.transform.position.set(0,1,3),this.cameraCtrl=new n.CameraController(this.canvas.gl,this.camera),this.Init()})}}},23957:function(t,s,e){e.r(s),s.default={src:"/njs-lab-public-legacy//_next/static/media/UV_Grid_Lrg.b6c21853.jpg",height:1024,width:1024,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAH/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGA/8QAFRABAQAAAAAAAAAAAAAAAAAAADT/2gAIAQEAAQUCpf/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABYQAAMAAAAAAAAAAAAAAAAAAAASUv/aAAgBAQAGPwKVP//EABcQAAMBAAAAAAAAAAAAAAAAAAARIfD/2gAIAQEAAT8h0rP/2gAMAwEAAgADAAAAEAP/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oACAEDAQE/EH//xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oACAECAQE/EH//xAAYEAACAwAAAAAAAAAAAAAAAAAAkRFRgf/aAAgBAQABPxDUzFR//9k=",blurWidth:8,blurHeight:8}}}]);