"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[60709],{92353:function(e,t,r){r.d(t,{Q:function(){return c}});var i=r(92882),n=r(94605),s=r(68665);r(19324);var a,l=r(42656),o={exports:{}};a=function(){function e(t,r,i,n){var s=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(s,e.prototype),s.expected=r,s.found=i,s.location=n,s.name="SyntaxError",s}function t(e,t,r){return r=r||" ",e.length>t?e:(t-=e.length,e+(r+=r.repeat(t)).slice(0,t))}return function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(e,Error),e.prototype.format=function(e){var r="Error: "+this.message;if(this.location){var i,n=null;for(i=0;i<e.length;i++)if(e[i].source===this.location.source){n=e[i].text.split(/\r\n|\n|\r/g);break}var s=this.location.start,a=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(s):s,l=this.location.source+":"+a.line+":"+a.column;if(n){var o=this.location.end,u=t("",a.line.toString().length," "),c=n[s.line-1],p=(s.line===o.line?o.column:c.length+1)-s.column||1;r+="\n --> "+l+"\n"+u+" |\n"+a.line+" | "+c+"\n"+u+" | "+t("",s.column-1," ")+t("",p,"^")}else r+="\n at "+l}return r},e.buildMessage=function(e,t){var r={literal:function(e){return'"'+n(e.text)+'"'},class:function(e){var t=e.parts.map(function(e){return Array.isArray(e)?s(e[0])+"-"+s(e[1]):s(e)});return"["+(e.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function i(e){return e.charCodeAt(0).toString(16).toUpperCase()}function n(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+i(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+i(e)})}function s(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+i(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+i(e)})}function a(e){return r[e.type](e)}return"Expected "+function(e){var t,r,i=e.map(a);if(i.sort(),i.length>0){for(t=1,r=1;t<i.length;t++)i[t-1]!==i[t]&&(i[r]=i[t],r++);i.length=r}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(e)+" but "+(t?'"'+n(t)+'"':"end of input")+" found."},{SyntaxError:e,parse:function(t,r){var i,n,s,a,l,o,u,c,p={},h=(r=void 0!==r?r:{}).grammarSource,d={start:ed},y=ed,f="none",v="grad",g="turn",m=/^[ \t\n\r]/,b=/^[a-z\-]/,w=/^[0-9a-fA-F]/,_=/^[+\-]/,C=/^[0-9]/,A=ec("none"),x=eo("none",!1),V=eo(")",!1),S=eo(",",!1),R=ec("whitespace"),Z=eu([" ","	","\n","\r"],!1,!1),E=ec("function"),P=eo("(",!1),O=ec("identifier"),L=eu([["a","z"],"-"],!1,!1),q=ec("percentage"),F=eo("%",!1),j=ec("length"),H=eo("px",!1),I=eo("cm",!1),T=eo("mm",!1),M=eo("in",!1),$=eo("pt",!1),k=eo("pc",!1),N=ec("angle"),U=eo("deg",!1),Y=eo("rad",!1),X=eo("grad",!1),z=eo("turn",!1),G=ec("number"),B=ec("color"),D=eo("#",!1),W=eu([["0","9"],["a","f"],["A","F"]],!1,!1),Q=eu(["+","-"],!1,!1),J=eu([["0","9"]],!1,!1),K=eo(".",!1),ee=eo("e",!1),et=0,er=0,ei=[{line:1,column:1}],en=0,es=[],ea=0;if("startRule"in r){if(!(r.startRule in d))throw Error("Can't start parsing from rule \""+r.startRule+'".');y=d[r.startRule]}function el(){return t.substring(er,et)}function eo(e,t){return{type:"literal",text:e,ignoreCase:t}}function eu(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function ec(e){return{type:"other",description:e}}function ep(e){var r,i=ei[e];if(i)return i;for(r=e-1;!ei[r];)r--;for(i={line:(i=ei[r]).line,column:i.column};r<e;)10===t.charCodeAt(r)?(i.line++,i.column=1):i.column++,r++;return ei[e]=i,i}function eh(e){et<en||(et>en&&(en=et,es=[]),es.push(e))}function ed(){var e,r,i;return ea++,r=et,ev(),t.substr(et,4)===f?(i=f,et+=4):(i=p,0===ea&&eh(x)),i!==p?(ev(),er=r,r=[]):(et=r,r=p),ea--,r===p&&0===ea&&eh(A),(e=r)===p&&(e=function(){var e,t;if(e=[],(t=ey())!==p)for(;t!==p;)e.push(t),t=ey();else e=p;return e}()),e}function ey(){var e,r,i,n,s,a,l;return e=et,ev(),(ea++,s=et,(a=eg())!==p?(40===t.charCodeAt(et)?(l="(",et++):(l=p,0===ea&&eh(P)),l!==p?(er=s,s=a):(et=s,s=p)):(et=s,s=p),ea--,s===p&&(a=p,0===ea&&eh(E)),(r=s)!==p)?(ev(),(i=function(){var e,r,i,n,s,a,l,o,u;if(e=et,(r=ef())!==p){for(i=[],n=et,s=ev(),44===t.charCodeAt(et)?(a=",",et++):(a=p,0===ea&&eh(S)),a===p&&(a=null),l=ev(),(o=ef())!==p?n=s=[s,a,l,o]:(et=n,n=p);n!==p;)i.push(n),n=et,s=ev(),44===t.charCodeAt(et)?(a=",",et++):(a=p,0===ea&&eh(S)),a===p&&(a=null),l=ev(),(o=ef())!==p?n=s=[s,a,l,o]:(et=n,n=p);er=e,e=i.length>0?(u=0,[r].concat(i.map(function(e){return e[3]}))):[r]}else et=e,e=p;return e}())===p&&(i=null),ev(),41===t.charCodeAt(et)?(n=")",et++):(n=p,0===ea&&eh(V)),n!==p?(ev(),er=e,e={type:"function",name:r,parameters:i||[]}):(et=e,e=p)):(et=e,e=p),e}function ef(){var e,r,i,n,s,a,l,o,u,c,h,d,y,f,m;return e=et,ea++,s=et,ev(),(a=em())!==p?(37===t.charCodeAt(et)?(l="%",et++):(l=p,0===ea&&eh(F)),l!==p?(er=s,s={value:a,unit:"%"}):(et=s,s=p)):(et=s,s=p),ea--,s===p&&0===ea&&eh(q),(r=s)===p&&(ea++,o=et,ev(),(u=em())!==p?("px"===t.substr(et,2)?(c="px",et+=2):(c=p,0===ea&&eh(H)),c!==p?(er=o,o={value:u,unit:"px"}):(et=o,o=p)):(et=o,o=p),o===p&&(o=et,ev(),(u=em())!==p?("cm"===t.substr(et,2)?(c="cm",et+=2):(c=p,0===ea&&eh(I)),c!==p?(er=o,o={value:u,unit:"cm"}):(et=o,o=p)):(et=o,o=p),o===p&&(o=et,ev(),(u=em())!==p?("mm"===t.substr(et,2)?(c="mm",et+=2):(c=p,0===ea&&eh(T)),c!==p?(er=o,o={value:u,unit:"mm"}):(et=o,o=p)):(et=o,o=p),o===p&&(o=et,ev(),(u=em())!==p?("in"===t.substr(et,2)?(c="in",et+=2):(c=p,0===ea&&eh(M)),c!==p?(er=o,o={value:u,unit:"in"}):(et=o,o=p)):(et=o,o=p),o===p&&(o=et,ev(),(u=em())!==p?("pt"===t.substr(et,2)?(c="pt",et+=2):(c=p,0===ea&&eh($)),c!==p?(er=o,o={value:u,unit:"pt"}):(et=o,o=p)):(et=o,o=p),o===p&&(o=et,ev(),(u=em())!==p?("pc"===t.substr(et,2)?(c="pc",et+=2):(c=p,0===ea&&eh(k)),c!==p?(er=o,o={value:u,unit:"pc"}):(et=o,o=p)):(et=o,o=p)))))),ea--,o===p&&0===ea&&eh(j),(r=o)===p)&&(ea++,h=et,(d=em())!==p?("deg"===t.substr(et,3)?(y="deg",et+=3):(y=p,0===ea&&eh(U)),y!==p?(er=h,h={value:d,unit:"deg"}):(et=h,h=p)):(et=h,h=p),h===p&&(h=et,(d=em())!==p?("rad"===t.substr(et,3)?(y="rad",et+=3):(y=p,0===ea&&eh(Y)),y!==p?(er=h,h={value:d,unit:"rad"}):(et=h,h=p)):(et=h,h=p),h===p&&(h=et,(d=em())!==p?(t.substr(et,4)===v?(y=v,et+=4):(y=p,0===ea&&eh(X)),y!==p?(er=h,h={value:d,unit:"grad"}):(et=h,h=p)):(et=h,h=p),h===p&&(h=et,(d=em())!==p?(t.substr(et,4)===g?(y=g,et+=4):(y=p,0===ea&&eh(z)),y!==p?(er=h,h={value:d,unit:"turn"}):(et=h,h=p)):(et=h,h=p)))),ea--,h===p&&(d=p,0===ea&&eh(N)),(r=h)===p)&&(ea++,f=et,ev(),(m=em())!==p?(er=f,f={value:m,unit:null}):(et=f,f=p),ea--,f===p&&0===ea&&eh(G),r=f),r!==p&&(er=e,r={type:"quantity",value:(i=r).value,unit:i.unit}),(e=r)===p&&(e=et,(r=function(){var e,r,i,n;if(ea++,e=et,35===t.charCodeAt(et)?(r="#",et++):(r=p,0===ea&&eh(D)),r!==p){if(i=[],w.test(t.charAt(et))?(n=t.charAt(et),et++):(n=p,0===ea&&eh(W)),n!==p)for(;n!==p;)i.push(n),w.test(t.charAt(et))?(n=t.charAt(et),et++):(n=p,0===ea&&eh(W));else i=p;i!==p?(er=e,e={type:"hex",value:el()}):(et=e,e=p)}else et=e,e=p;return e===p&&(e=et,(r=ey())!==p&&(er=e,r={type:"function",value:r}),(e=r)===p&&(e=et,(r=eg())!==p&&(er=e,r={type:"named",value:el()}),e=r)),ea--,e===p&&(r=p,0===ea&&eh(B)),e}())!==p&&(er=e,r={type:"color",colorType:(n=r).type,value:n.value}),e=r),e}function ev(){var e,r;for(ea++,e=[],m.test(t.charAt(et))?(r=t.charAt(et),et++):(r=p,0===ea&&eh(Z));r!==p;)e.push(r),m.test(t.charAt(et))?(r=t.charAt(et),et++):(r=p,0===ea&&eh(Z));return ea--,r=p,0===ea&&eh(R),e}function eg(){var e,r,i;if(ea++,e=et,r=[],b.test(t.charAt(et))?(i=t.charAt(et),et++):(i=p,0===ea&&eh(L)),i!==p)for(;i!==p;)r.push(i),b.test(t.charAt(et))?(i=t.charAt(et),et++):(i=p,0===ea&&eh(L));else r=p;return r!==p&&(er=e,r=el()),ea--,(e=r)===p&&(r=p,0===ea&&eh(O)),e}function em(){var e,r,i,n,s,a,l;for(e=et,_.test(t.charAt(et))?(t.charAt(et),et++):0===ea&&eh(Q),r=et,i=[],C.test(t.charAt(et))?(n=t.charAt(et),et++):(n=p,0===ea&&eh(J));n!==p;)i.push(n),C.test(t.charAt(et))?(n=t.charAt(et),et++):(n=p,0===ea&&eh(J));if(46===t.charCodeAt(et)?(n=".",et++):(n=p,0===ea&&eh(K)),n!==p){if(s=[],C.test(t.charAt(et))?(a=t.charAt(et),et++):(a=p,0===ea&&eh(J)),a!==p)for(;a!==p;)s.push(a),C.test(t.charAt(et))?(a=t.charAt(et),et++):(a=p,0===ea&&eh(J));else s=p;s!==p?r=i=[i,n,s]:(et=r,r=p)}else et=r,r=p;if(r===p){if(r=[],C.test(t.charAt(et))?(i=t.charAt(et),et++):(i=p,0===ea&&eh(J)),i!==p)for(;i!==p;)r.push(i),C.test(t.charAt(et))?(i=t.charAt(et),et++):(i=p,0===ea&&eh(J));else r=p}if(r!==p){if(i=et,101===t.charCodeAt(et)?(n="e",et++):(n=p,0===ea&&eh(ee)),n!==p){if(_.test(t.charAt(et))?(s=t.charAt(et),et++):(s=p,0===ea&&eh(Q)),s===p&&(s=null),a=[],C.test(t.charAt(et))?(l=t.charAt(et),et++):(l=p,0===ea&&eh(J)),l!==p)for(;l!==p;)a.push(l),C.test(t.charAt(et))?(l=t.charAt(et),et++):(l=p,0===ea&&eh(J));else a=p;a!==p?i=n=[n,s,a]:(et=i,i=p)}else et=i,i=p;i===p&&(i=null),er=e,e=parseFloat(el())}else et=e,e=p;return e}if((c=y())!==p&&et===t.length)return c;throw c!==p&&et<t.length&&eh({type:"end"}),l=es,o=en<t.length?t.charAt(en):null,i=en,n=en<t.length?en+1:en,s=ep(i),a=ep(n),u={source:h,start:{offset:i,line:s.line,column:s.column},end:{offset:n,line:a.line,column:a.column}},new e(e.buildMessage(l,o),l,o,u)}}},o.exports&&(o.exports=a());var u=o.exports;function c(e){if(!e||0===e.length)return null;if("string"==typeof e){let t=p(e);return t&&0!==t.length?t:null}let t=e.map(e=>{if(!Number.isFinite(e.scale)||e.scale<=0)throw new n.Z("effect:invalid-scale","scale must be finite and greater than 0",{stop:e});return{scale:e.scale,effects:p(e.value)}});t.sort((e,t)=>t.effects.length-e.effects.length);for(let e=0;e<t.length-1;e++){if(!(0,l.AS)(t[e].effects,t[e+1].effects))throw new n.Z("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[e].effects,b:t[e+1].effects});(0,l.uF)(t[e].effects,t[e+1].effects)}return t.sort((e,t)=>t.scale-e.scale),t}function p(e){let t;if(!e)return[];try{t=u.parse(e)}catch(t){throw new n.Z("effect:invalid-syntax","Invalid effect syntax",{value:e,error:t})}return t.map(e=>(function(e){try{var t;switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":let r;return r=1,h(e.parameters,1),1===e.parameters.length&&(r=g(e.parameters[0])),new s.GI(e.name,r);case"opacity":let a;return a=1,h(e.parameters,1),1===e.parameters.length&&(a=g(e.parameters[0])),new s.Zx(a);case"hue-rotate":let l;return l=0,h(e.parameters,1),1===e.parameters.length&&(t=e.parameters[0],function(e){if("quantity"!==e.type||!(0===e.value&&null===e.unit||e.unit&&null!=f[e.unit]))throw new n.Z("effect:type-error",`Expected <angle>, Actual: ${d(e)}`,{term:e})}(t),l=t.value*f[t.unit]||0),new s.Tq(l);case"blur":let o;return o=0,h(e.parameters,1),1===e.parameters.length&&y(o=m(e.parameters[0]),e.parameters[0]),new s.Tj(o);case"drop-shadow":return function(e){let t=[],r=null;for(let s of e.parameters)if("color"===s.type){if(t.length&&Object.freeze(t),r)throw new n.Z("effect:type-error","Accepts only one color",{});r=function(e){switch(e.colorType){case"hex":return(0,i.rW)(e.value);case"named":return b(e.value);case"function":return function(e){if(h(e.parameters,4),w.test(e.name))return[g(e.parameters[0]),g(e.parameters[1]),g(e.parameters[2]),e.parameters[3]?g(e.parameters[3]):1];if(_.test(e.name)){var t;return(0,i.B7)((function(e){if("quantity"!==e.type||null!==e.unit)throw new n.Z("effect:type-error",`Expected <double>, Actual: ${d(e)}`,{term:e})}(t=e.parameters[0]),y(t.value,t),t.value),g(e.parameters[1]),g(e.parameters[2]),e.parameters[3]?g(e.parameters[3]):1)}throw new n.Z("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}(e.value)}}(s)}else{let e=m(s);if(Object.isFrozen(t))throw new n.Z("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(e),3===t.length&&y(e,s)}if(t.length<2||t.length>3)throw new n.Z("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new s.CE(t[0],t[1],t[2]||0,r||b("black"))}(e);case"bloom":let u,c,p;return u=1,c=0,p=0,h(e.parameters,3),e.parameters[0]&&(u=g(e.parameters[0])),e.parameters[1]&&y(c=m(e.parameters[1]),e.parameters[1]),e.parameters[2]&&(p=g(e.parameters[2])),new s.rk(u,c,p)}}catch(t){throw t.details.filter=e,t}throw new n.Z("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})})(e))}function h(e,t){if(e.length>t)throw new n.Z("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function d(e){if("color"===e.type)return"<color>";if(e.unit){if(e.unit in v)return"<length>";if(e.unit in f)return"<angle>";if("%"===e.unit)return"<percentage>"}return"<double>"}function y(e,t){if(e<0)throw new n.Z("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}let f={deg:1,grad:.9,rad:180/Math.PI,turn:360},v={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function g(e){!function(e){if("quantity"!==e.type||null!==e.unit&&"%"!==e.unit)throw new n.Z("effect:type-error",`Expected <double> or <percentage>, Actual: ${d(e)}`,{term:e})}(e);let t=e.value;return y(t,e),"%"===e.unit?.01*t:t}function m(e){return function(e){if("quantity"!==e.type||!(0===e.value&&null===e.unit||e.unit&&null!=v[e.unit]))throw new n.Z("effect:type-error",`Expected <length>, Actual: ${d(e)}`,{term:e})}(e),e.value*v[e.unit]||0}function b(e){if(!(0,i.St)(e))throw new n.Z("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return(0,i.VL)(e)}let w=/^rgba?/i,_=/^hsla?/i},70998:function(e,t,r){r.r(t),r.d(t,{default:function(){return y}});var i=r(86641);r(65223),r(37180),r(3457),r(94605);var n=r(64186),s=r(50338),a=r(50973),l=r(4514),o=r(20128),u=r(89312),c=r(1003);let p=class extends c.Z{constructor(e){super(e),this.type="group",this.layerViews=new a.Z}destroy(){this.layerViews.length=0}_allLayerViewVisibility(e){this.layerViews.forEach(t=>{t.visible=e})}initialize(){this.addHandles([this.layerViews.on("change",e=>this._layerViewsChangeHandler(e)),(0,o.YP)(()=>this.layer?.visibilityMode,()=>{this.layer&&this._applyVisibility(()=>this._allLayerViewVisibility(this.visible),()=>this._applyExclusiveVisibility(null))},o.Z_),(0,o.YP)(()=>this.visible,e=>{this._applyVisibility(()=>this._allLayerViewVisibility(e),()=>{})},o.Z_)],"grouplayerview"),this._layerViewsChangeHandler({target:null,added:this.layerViews.toArray(),removed:[],moved:[]})}get creatingLayerViews(){return this.view?.layerViewManager?.isCreatingLayerViewsForLayer(this.layer)??!1}set layerViews(e){this._set("layerViews",(0,l.Z)(e,this._get("layerViews")))}get updatingProgress(){return 0===this.layerViews.length?1:this.layerViews.reduce((e,t)=>e+t.updatingProgress,0)/this.layerViews.length}isUpdating(){return this.creatingLayerViews||this.layerViews.some(e=>e.updating)}_hasLayerViewVisibleOverrides(){return this.layerViews.some(e=>e._isOverridden("visible"))}_findLayerViewForLayer(e){return e&&this.layerViews.find(t=>t.layer===e)}_firstVisibleOnLayerOrder(){let e=this.layer.layers.find(e=>{let t=this._findLayerViewForLayer(e);return!!t?.visible});return e&&this._findLayerViewForLayer(e)}_applyExclusiveVisibility(e){null==e&&null==(e=this._firstVisibleOnLayerOrder())&&this.layerViews.length>0&&(e=this._findLayerViewForLayer(this.layer.layers.at(0))),this.layerViews.forEach(t=>{t.visible=t===e})}_layerViewsChangeHandler(e){this.removeHandles("grouplayerview:visible"),this.addHandles(this.layerViews.map(e=>(0,o.YP)(()=>e.visible,t=>this._applyVisibility(()=>{t!==this.visible&&(e.visible=this.visible)},()=>this._applyExclusiveVisibility(t?e:null)),o.Z_)).toArray(),"grouplayerview:visible");let t=e.added[e.added.length-1];this._applyVisibility(()=>this._allLayerViewVisibility(this.visible),()=>this._applyExclusiveVisibility(t?.visible?t:null))}_applyVisibility(e,t){this._hasLayerViewVisibleOverrides()&&("inherited"===this.layer?.visibilityMode?e():"exclusive"===this.layer?.visibilityMode&&t())}};(0,i._)([(0,u.Cb)({readOnly:!0})],p.prototype,"creatingLayerViews",null),(0,i._)([(0,u.Cb)({cast:l.R})],p.prototype,"layerViews",null),(0,i._)([(0,u.Cb)({readOnly:!0})],p.prototype,"updatingProgress",null),(0,i._)([(0,u.Cb)()],p.prototype,"view",void 0);let h=p=(0,i._)([(0,n.j)("esri.views.layers.GroupLayerView")],p),d=class extends(0,s.y)(h){attach(){this._updateStageChildren(),this.addAttachHandles(this.layerViews.on("after-changes",()=>this._updateStageChildren()))}detach(){this.container.removeAllChildren()}update(e){}viewChange(){}moveEnd(){}_updateStageChildren(){this.container.removeAllChildren(),this.layerViews.forEach((e,t)=>this.container.addChildAt(e.container,t))}},y=d=(0,i._)([(0,n.j)("esri.views.2d.layers.GroupLayerView2D")],d)},50338:function(e,t,r){r.d(t,{y:function(){return _}});var i,n=r(86641),s=r(50973),a=r(4514),l=r(94605),o=r(20128),u=r(89312);r(37180),r(65223),r(3457);var c=r(64186),p=r(43390),h=r(25823),d=r(76457);let y=i=class extends d.Z{constructor(e){super(e),this.type="rect",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new i({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}commitVersionProperties(){this.commitProperty("left"),this.commitProperty("right"),this.commitProperty("top"),this.commitProperty("bottom")}};(0,n._)([(0,u.Cb)({type:[Number,String],json:{write:!0}})],y.prototype,"left",void 0),(0,n._)([(0,u.Cb)({type:[Number,String],json:{write:!0}})],y.prototype,"right",void 0),(0,n._)([(0,u.Cb)({type:[Number,String],json:{write:!0}})],y.prototype,"top",void 0),(0,n._)([(0,u.Cb)({type:[Number,String],json:{write:!0}})],y.prototype,"bottom",void 0);let f=y=i=(0,n._)([(0,c.j)("esri.views.layers.support.ClipRect")],y);var v=r(55485);let g=class extends d.Z{constructor(e){super(e),this.type="path",this.path=[]}commitVersionProperties(){this.commitProperty("path")}};(0,n._)([(0,u.Cb)({type:[[[Number]]],json:{write:!0}})],g.prototype,"path",void 0);let m=g=(0,n._)([(0,c.j)("esri.views.layers.support.Path")],g);var b=r(37864);let w=s.Z.ofType({key:"type",base:null,typeMap:{rect:f,path:m,geometry:v.Z}}),_=e=>{let t=class extends e{constructor(){super(...arguments),this.attached=!1,this.clips=new w,this.highlightOptions=null,this.lastUpdateId=-1,this.moving=!1,this.updateRequested=!1,this._visibleAtCurrentScale=!0}initialize(){let e=this.view?.spatialReferenceLocked??!0;this.view?.spatialReference&&e&&!this.spatialReferenceSupported?this.addResolvingPromise(Promise.reject(new l.Z("layerview:spatial-reference-incompatible","The spatial reference of this layer does not meet the requirements of the view",{layer:this.layer}))):(this.container||(this.container=new p.W),this.container.fadeTransitionEnabled=!0,this.container.visible=!1,this.container.endTransitions(),this.addHandles([(0,o.YP)(()=>this.suspended,e=>{this.container&&(this.container.visible=!e)},o.tX),(0,o.YP)(()=>this.updateSuspended,e=>{this.view&&!e&&this.updateRequested&&this.view.requestUpdate()},o.tX),(0,o.YP)(()=>this.layer?.opacity??1,e=>{this.container&&(this.container.opacity=e)},o.tX),(0,o.YP)(()=>this.layer&&"blendMode"in this.layer?this.layer.blendMode:"normal",e=>{this.container&&(this.container.blendMode=e)},o.tX),(0,o.YP)(()=>this.layer&&"effect"in this.layer?this.layer.effect:null,e=>{this.container&&(this.container.effect=e)},o.tX),(0,o.YP)(()=>this.highlightOptions,e=>this.container.highlightOptions=e,o.tX),(0,o.on)(()=>this.clips,"change",()=>{this.container&&(this.container.clips=this.clips)},o.tX),(0,o.YP)(()=>({scale:this.view?.scale,scaleRange:this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null}),({scale:e,scaleRange:t})=>{let r=(0,b.GB)(t,e);r!==this._visibleAtCurrentScale&&(this._visibleAtCurrentScale=r)},o.tX)],"constructor"),this.view?.whenLayerView?this.view.whenLayerView(this.layer).then(e=>{e===this&&this.processAttach()},()=>{}):this.when().then(()=>{this.processAttach()},()=>{}))}destroy(){this.processDetach(),this.updateRequested=!1}get spatialReferenceSupported(){let e=this.view?.spatialReference;return null==e||this.supportsSpatialReference(e)}get updating(){return this.spatialReferenceSupported&&(!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())||!!this._updatingHandles?.updating)}get visibleAtCurrentScale(){return this._visibleAtCurrentScale}processAttach(){this.isResolved()&&!this.attached&&!this.destroyed&&this.spatialReferenceSupported&&(this.attach(),this.attached=!0,this.requestUpdate())}processDetach(){this.attached&&(this.attached=!1,this.removeHandles("attach"),this.detach(),this.updateRequested=!1)}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.updateSuspended||this.view.requestUpdate())}processUpdate(e){!this.isFulfilled()||this.isResolved()?(this._set("updateParameters",e),this.updateRequested&&!this.updateSuspended&&(this.updateRequested=!1,this.update(e))):this.updateRequested=!1}hitTest(e,t){return Promise.resolve(null)}supportsSpatialReference(e){return!0}canResume(){return!!this.spatialReferenceSupported&&!!super.canResume()&&this.visibleAtCurrentScale}getSuspendInfo(){let e=super.getSuspendInfo(),t=!this.spatialReferenceSupported;return t&&(e.spatialReferenceNotSupported=t),e}addAttachHandles(e){this.addHandles(e,"attach")}};return(0,n._)([(0,u.Cb)()],t.prototype,"attached",void 0),(0,n._)([(0,u.Cb)({type:w,set(e){let t=(0,a.Z)(e,this._get("clips"),w);this._set("clips",t)}})],t.prototype,"clips",void 0),(0,n._)([(0,u.Cb)()],t.prototype,"container",void 0),(0,n._)([(0,u.Cb)({type:h.Z})],t.prototype,"highlightOptions",void 0),(0,n._)([(0,u.Cb)()],t.prototype,"moving",void 0),(0,n._)([(0,u.Cb)({readOnly:!0})],t.prototype,"spatialReferenceSupported",null),(0,n._)([(0,u.Cb)({readOnly:!0})],t.prototype,"updateParameters",void 0),(0,n._)([(0,u.Cb)()],t.prototype,"updateRequested",void 0),(0,n._)([(0,u.Cb)()],t.prototype,"updating",null),(0,n._)([(0,u.Cb)()],t.prototype,"view",void 0),(0,n._)([(0,u.Cb)()],t.prototype,"_visibleAtCurrentScale",void 0),(0,n._)([(0,u.Cb)({readOnly:!0})],t.prototype,"visibleAtCurrentScale",null),t=(0,n._)([(0,c.j)("esri.views.2d.layers.LayerView2D")],t)}},1003:function(e,t,r){r.d(t,{Z:function(){return f}});var i=r(86641),n=r(94761),s=r(60163),a=r(2090),l=r(65223),o=r(36152),u=r(31534),c=r(89312);r(37180),r(3457);var p=r(64186),h=r(66789),d=r(37864);let y=class extends(0,a.IG)((0,u.v)(s.Z.EventedMixin(n.Z))){constructor(e){super(e),this._updatingHandles=new h.R,this.layer=null,this.parent=null}initialize(){this.when().catch(e=>{if("layerview:create-error"!==e.name){let t=this.layer&&this.layer.id||"no id",r=this.layer?.title||"no title";l.Z.getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}})}destroy(){this._updatingHandles=(0,o.SC)(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome("visible",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){let e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){let e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&(0,d.Cy)(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){let e=this.parent?.suspended?this.parent.suspendInfo:{};this.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);let t=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return(0,d.Cy)(t)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};(0,i._)([(0,c.Cb)()],y.prototype,"view",void 0),(0,i._)([(0,c.Cb)()],y.prototype,"fullOpacity",null),(0,i._)([(0,c.Cb)()],y.prototype,"layer",void 0),(0,i._)([(0,c.Cb)()],y.prototype,"parent",void 0),(0,i._)([(0,c.Cb)({readOnly:!0})],y.prototype,"suspended",null),(0,i._)([(0,c.Cb)({readOnly:!0})],y.prototype,"suspendInfo",null),(0,i._)([(0,c.Cb)({readOnly:!0})],y.prototype,"legendEnabled",null),(0,i._)([(0,c.Cb)({type:Boolean,readOnly:!0})],y.prototype,"updating",null),(0,i._)([(0,c.Cb)({readOnly:!0})],y.prototype,"updatingProgress",null),(0,i._)([(0,c.Cb)()],y.prototype,"updateSuspended",null),(0,i._)([(0,c.Cb)()],y.prototype,"visible",null),(0,i._)([(0,c.Cb)({readOnly:!0})],y.prototype,"visibleAtCurrentScale",null),(0,i._)([(0,c.Cb)({readOnly:!0})],y.prototype,"visibleAtCurrentTimeExtent",null);let f=y=(0,i._)([(0,p.j)("esri.views.layers.LayerView")],y)},76457:function(e,t,r){r.d(t,{Z:function(){return o}});var i=r(86641),n=r(689),s=r(89312);r(37180),r(65223),r(3457);var a=r(64186);let l=class extends n.wq{get version(){return this.commitVersionProperties(),(this._get("version")||0)+1}};(0,i._)([(0,s.Cb)({readOnly:!0})],l.prototype,"version",null);let o=l=(0,i._)([(0,a.j)("esri.views.layers.support.ClipArea")],l)},55485:function(e,t,r){r.d(t,{Z:function(){return y}});var i,n=r(86641);r(55066);var s=r(89312);r(37180),r(65223),r(3457);var a=r(64186),l=r(90389),o=r(5005),u=r(76457),c=r(9377),p=r(54001);let h={base:l.Z,key:"type",typeMap:{extent:c.Z,polygon:p.Z}},d=i=class extends u.Z{constructor(e){super(e),this.type="geometry",this.geometry=null}clone(){return new i({geometry:this.geometry?.clone()??null})}commitVersionProperties(){this.commitProperty("geometry")}};(0,n._)([(0,s.Cb)({types:h,json:{read:o.im,write:!0}})],d.prototype,"geometry",void 0);let y=d=i=(0,n._)([(0,a.j)("esri.views.layers.support.Geometry")],d)},37864:function(e,t,r){function i(e){return e&&"function"==typeof e.highlight}function n(e,t){if(t&&e){let{minScale:r,maxScale:i}=e;if(null!=r&&r>0||null!=i&&i>0)return null==t||t>=i&&(0===r||t<=r)}return!0}function s(e){return!e?.minScale||!e.maxScale||e.minScale>=e.maxScale}r.d(t,{Cy:function(){return s},GB:function(){return n},tl:function(){return i}})}}]);