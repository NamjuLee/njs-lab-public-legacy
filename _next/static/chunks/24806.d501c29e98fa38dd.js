"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[24806],{81342:function(e,t,s){s.d(t,{u4:function(){return o},gt:function(){return r},P:function(){return i}});class i{constructor(e,t,s){this.x=0,this.y=0,this.z=0,this.x=e,this.y=t,this.z=s}}var h=s(97776),n=s(8989);class o{destroy(){n.ZP.app.scene.remove(this.mesh)}onClick(e){this.update()}update(){this.mesh.position.set(this.vec.x,this.vec.y,this.vec.z)}init(){this.material=new h.vBJ({color:16777215}),this.geometry=new h.xo$(this.radius,20,20),this.mesh=new h.Kj0(this.geometry,this.material),this.mesh.position.set(this.vec.x,this.vec.y,this.vec.z),this.mesh.userData=this,n.ZP.app.scene.add(this.mesh)}constructor(e,t=.1){this.radius=.5,this.vec=e,this.radius=t,this.init()}}class r{onClick(){console.log("Curve")}update(){this.vs.forEach((e,t)=>{this.geometry.attributes.position.setXYZ(t,e.x,e.y,e.z)}),this.geometry.attributes.position.needsUpdate=!0}init(){let e=this.vs.map(e=>new h.Pa4(e.x,e.y,e.z)),t=new h.YT8(e).getPoints(this.divisions);this.geometry=new h.u9r().setFromPoints(t),this.material=new h.nls({color:16711680}),this.mesh=new h.x12(this.geometry,this.material),this.mesh.userData=this,n.ZP.app.scene.add(this.mesh)}constructor(e,t=30){this.vs=[],this.divisions=30,this.vs=e,this.divisions=t,this.init()}}},8989:function(e,t,s){s.d(t,{u4:function(){return d.u4},ZP:function(){return m}});var i=s(97776),h=s(78252);class n{initCanvas(){this.scene=new i.xsS,this.setBG(0),this.scene.castShadow=!0,i.Tme.DEFAULT_UP.set(0,0,1),this.renderer=new i.CP7({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(this.hostDiv.clientWidth/this.hostDiv.clientHeight),this.renderer.domElement.id="Three",this.renderer.domElement.style.position="absolute",this.renderer.shadowMap.enabled=!0,this.renderer.setSize(this.hostDiv.clientWidth,this.hostDiv.clientHeight),this.hostDiv.appendChild(this.renderer.domElement),this.camera=new i.cPb(30,this.hostDiv.clientWidth/this.hostDiv.clientHeight,1,5e3),this.controls=new h.OrbitControls(this.camera,this.renderer.domElement),this.camera.position.set(20,-20,20),this.controls.update(),this.canvas=this.renderer.domElement,this.init()}setBG(e){this.scene.background=new i.Ilk(e)}init(){this.eventBind()}eventBind(){this.renderer.domElement.onmousedown=e=>this.mouseDownPre(e),this.renderer.domElement.onmouseup=e=>this.mouseUpPre(e),this.renderer.domElement.onmousemove=e=>this.mouseMovePre(e),this.renderer.domElement.addEventListener("click",e=>this.mouseClickPre(e)),window.addEventListener("resize",()=>this.onWindowResize())}onWindowResize(){this.camera.aspect=this.hostDiv.clientWidth/this.hostDiv.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.hostDiv.clientWidth,this.hostDiv.clientHeight)}start(){this.loop()}mouseDownPre(e){}mouseUpPre(e){}mouseClickPre(e){}mouseDClickPre(e){}mouseMovePre(e){}mouseDragPre(e){}update(e){}destroy(){for(window.removeEventListener("resize",()=>this.onWindowResize()),cancelAnimationFrame(this.requestFrame),this.requestFrame=void 0;this.hostDiv.lastChild;)this.hostDiv.removeChild(this.hostDiv.lastChild)}constructor(e){this.t=0,this.loop=()=>{this.requestFrame=requestAnimationFrame(this.loop),this.controls.update(),this.update(this.scene),this.renderer.render(this.scene,this.camera),this.t+=.01},this.hostDiv=document.getElementById(e),this.initCanvas()}}class o extends n{initPost(){let e=new i.Mig(5592405);this.scene.add(e),this.pointLight=new i.cek(16777215,100),this.pointLight.position.x=10,this.pointLight.castShadow=!0,this.scene.add(this.pointLight),this.axis=new i.y8_(5),this.axis.position.z=.001,this.scene.add(this.axis),this.grid=new i.VLJ(50,100,4473924,3289650),this.grid.rotation.x=-Math.PI/2,this.scene.add(this.grid);let t=new i._12(50,50),s=new i.vBJ({color:65793,side:i.ehD,transparent:!0,opacity:0});this.ground=new i.Kj0(t,s),this.scene.add(this.ground);let h=new i.vBJ({color:65280}),n=new i.xo$(.05,50,50),o=new i.Kj0(n,h);o.translateX(1),this.sphere=o,this.scene.add(o)}reset(){}set showGrid(e){this.grid.visible=e}set showAxis(e){this.axis.visible=e}picking(e,t){this.mouse.x=e.offsetX/this.renderer.domElement.clientWidth*2-1,this.mouse.y=-(e.offsetY/this.renderer.domElement.clientHeight*2)+1,this.rayCaster.setFromCamera(this.mouse,this.camera);let s=this.rayCaster.intersectObjects([...t]);if(s.length>0)return this.m.set(s[0].point.x,s[0].point.y,s[0].point.z),s[0].object!==this.sphere&&this.sphere.position.set(s[0].point.x,s[0].point.y,s[0].point.z),{intersects:s,ground:void 0};let i=this.rayCaster.intersectObjects([this.ground]);if(i.length>0)return this.m.set(i[0].point.x,i[0].point.y,i[0].point.z),this.sphere.position.set(i[0].point.x,i[0].point.y,i[0].point.z),{intersects:void 0,ground:i}}update(e){this.updatePost(e);let t=new i.yGw;t.makeRotationY(.011*Math.PI),this.pointLight.position.applyMatrix4(t)}mouseClickPre(e){let t=this.picking(e,this.sandboxVector.scene.mesh);t.intersects&&t.intersects[0]&&t.intersects[0].object.userData.onClick(t.intersects[0])}constructor(e,t="main",s="#000"){super(t),this.rayCaster=new i.iMs,this.mouse=new i.FM8,this.m=new i.Pa4,this.updatePost=e=>{},this.onMouseClick=e=>{},this.onMouseMove=e=>{},this.mouseMovePre=e=>{let t=this.picking(e,this.sandboxVector.scene.mesh);this.onMouseMove({e,intersect:t})},i.Tme.DEFAULT_UP.set(0,1,0),this.sandboxVector=e,this.setBG(s),this.initPost(),this.start()}}class r{reset(){for(let e=this.mesh.length-1;e>=0;e--){let t=this.mesh[e];this.scene.remove(t)}}add(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];this.scene.add(e),t&&this.mesh.push(e)}remove(e){this.scene.remove(e),this.mesh.splice(this.mesh.indexOf(e),1)}constructor(e){this.mesh=[],this.sandboxVector=e,this.scene=e.renderer.scene}}class a{pick(){}constructor(e){this.app=e}}var d=s(81342);class c{destroy(){this.renderer.destroy()}initRenderer(){this.renderer=new o(this,this.id,this.themeColor),this.renderer.updatePost=e=>this.updateBinding(),this.renderer.onMouseMove=e=>this.onMouseMove(e),this.renderer.onMouseClick=e=>this.onMouseClick(e),this.scene=new r(this),this.common=new a(this)}set showAxis(e){this.renderer.showAxis=e}set showGrid(e){this.renderer.showGrid=e}reset(){this.renderer.reset(),this.scene.reset(),this.start()}start(){}updateBinding(){}onMouseMove(e){}onMouseClick(e){}constructor(e,t="#222"){this.themeColor="#222",c.app=this,this.id=e,this.themeColor=t,this.initRenderer()}}var m=c}}]);