(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[29004,45045],{15510:function(t){function e(t){return Promise.resolve().then(function(){var e=Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=function(){return[]},e.resolve=e,e.id=15510,t.exports=e},75410:function(){},48628:function(){},31601:function(){},67792:function(){},34977:function(){},75042:function(){},55879:function(t,e,a){"use strict";a.r(e),a.d(e,{NFaceCam:function(){return h}});var i=a(88405),n=a(14962),s=a(45169),o=a(50374);class h{async init(t,e){await d(t,e,this.mobile,this.imgMask)}constructor(t){this.mobile=!1,this.mobile=(0,o.isMobile)(),this.host=document.getElementById(t),(0,s.getImgFromURL)("https://raw.githubusercontent.com/NamjuLee/data/master/img/smile.png").then(t=>{t&&(this.imgMask=t,(0,s.getImgFromURL)("https://raw.githubusercontent.com/NamjuLee/data/master/img/person/Haram_small.jpg").then(t=>{if(!t)return;let e=document.createElement("div");e.style.padding="5px",e.style.display="flex",this.host.append(e);let a=document.createElement("canvas");e.append(a);let i=a.getContext("2d"),n=document.createElement("canvas");e.append(n),n.id="canvas-out";let s=n.getContext("2d");t.onload=()=>{t.style.width="50%",a.width=t.width,a.height=t.height,n.width=t.width,n.height=t.height,i.drawImage(t,0,0),this.init(s,t)}}),(0,s.getImgFromURL)("https://raw.githubusercontent.com/NamjuLee/data/master/img/person/HaminHaram_01_small.jpg").then(t=>{if(!t)return;let e=document.createElement("div");e.style.display="flex",e.style.padding="5px",this.host.append(e);let a=document.createElement("canvas");e.append(a);let i=a.getContext("2d"),n=document.createElement("canvas");e.append(n),n.id="canvas-out";let s=n.getContext("2d");t.onload=()=>{t.style.width="50%",a.width=t.width,a.height=t.height,n.width=t.width,n.height=t.height,i.drawImage(t,0,0),this.init(s,t)}}))})}}let d=async(t,e,a,s)=>{await i.setBackend("webgl"),l(await n.z({maxFaces:200}),t,e,s)},l=async(t,e,a,i)=>{let n=await t.estimateFaces(a,!1);n[0]&&(e.drawImage(a,0,0,a.width,a.height,0,0,e.canvas.width,e.canvas.height),n.length>0&&n.forEach(t=>{let a=t.scaledMesh;e.fillStyle="#ff0000";let n=a[159][0],s=a[145][1]+(a[159][1]-a[145][1])*.5,o=a[386][0],h=a[374][1]+(a[386][1]-a[374][1])*.5,d=a[13][0],l=a[13][1]+(a[14][1]-a[13][1])*.5,c=r(n,s,o,h);e.save(),e.translate(d,l-(l-h)*.6),e.rotate(-c-.5*Math.PI),e.scale((o-n)/130,(s-l)/130),void 0!==i&&e.drawImage(i,-150,-150),e.lineWidth=1,e.beginPath(),e.rect(-150,-150,300,300),e.closePath(),e.beginPath(),e.arc(0,0,100,0,2*Math.PI),e.restore()}))},r=(t,e,a,i)=>Math.atan2(a-t,i-e)},84746:function(t,e,a){"use strict";a.r(e),a.d(e,{Solution:function(){return n}});var i=a(55879);a(53844);class n{destroy(){try{for(;this.divHost&&this.divHost.lastElementChild;){let t=this.divHost.lastElementChild;this.divHost.removeChild(t)}}catch(t){}}constructor(t){this.divHost=document.getElementById(t);let e=document.createElement("div");this.divHost.appendChild(e),e.id="container-video",e.style.alignItems="center",e.style.marginTop="80px",e.style.marginLeft="auto",e.style.marginRight="auto",e.style.width="70%",e.style.height="600px",new i.NFaceCam(e.id)}}}}]);