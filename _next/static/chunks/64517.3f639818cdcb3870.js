(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[64517],{15510:function(e){function t(e){return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=15510,e.exports=t},75410:function(){},48628:function(){},31601:function(){},67792:function(){},34977:function(){},75042:function(){},21322:function(e,t,i){"use strict";i.d(t,{P:function(){return n}});var r=i(88405);class n{predict1d(e){return e.mul(this.weights[0]).add(this.bias)}predict2d(e){return e.square().mul(this.weights[1]).add(e.mul(this.weights[0])).add(this.bias)}predict3d(e){return e.pow(r.scalar(3)).mul(this.weights[2]).add(e.square().mul(this.weights[1])).add(e.mul(this.weights[0])).add(this.bias)}predict4d(e){return e.pow(r.scalar(4)).mul(this.weights[3]).add(e.pow(r.scalar(3)).mul(this.weights[2])).add(e.square().mul(this.weights[1])).add(e.mul(this.weights[0])).add(this.bias)}predict5d(e){return e.pow(r.scalar(5)).mul(this.weights[4]).add(e.pow(r.scalar(4)).mul(this.weights[3])).add(e.pow(r.scalar(3)).mul(this.weights[2])).add(e.square().mul(this.weights[1])).add(e.mul(this.weights[0])).add(this.bias)}predict(e){return 5===this.dim?this.predict5d(e):4===this.dim?this.predict4d(e):3===this.dim?this.predict3d(e):2===this.dim?this.predict2d(e):(this.dim,this.predict1d(e))}loss(e,t){return e.sub(t).square().mean()}train(e,t){r.tidy(()=>{let i=r.tensor1d(e),n=r.tensor1d(t);this.optimizer.minimize(()=>this.loss(this.predict(i),n))})}constructor(e=0){this.weights=[],this.dim=3,this.leraningRate=.2,this.dim=e;for(let e=0;e<5;++e){let e=r.variable(r.scalar(2*Math.random()-1));e.print(),this.weights.push(e)}this.bias=r.variable(r.scalar(2*Math.random()-1)),this.optimizer=r.train.adam(this.leraningRate)}}},88876:function(e,t,i){"use strict";i.d(t,{NJSCORE:function(){return o},PolynomialRegression:function(){return s.P},RendererThree:function(){return r.T}});var r=i(14540),n=i(45169);i.o(n,"AStart")&&i.d(t,{AStart:function(){return n.AStart}}),i.o(n,"COLOR_BLENDING")&&i.d(t,{COLOR_BLENDING:function(){return n.COLOR_BLENDING}}),i.o(n,"Graph")&&i.d(t,{Graph:function(){return n.Graph}}),i.o(n,"KNN")&&i.d(t,{KNN:function(){return n.KNN}}),i.o(n,"LinearRegression")&&i.d(t,{LinearRegression:function(){return n.LinearRegression}}),i.o(n,"LinearRegressionGradientDescent")&&i.d(t,{LinearRegressionGradientDescent:function(){return n.LinearRegressionGradientDescent}}),i.o(n,"MercatorProjection")&&i.d(t,{MercatorProjection:function(){return n.MercatorProjection}}),i.o(n,"PolynomialRegression")&&i.d(t,{PolynomialRegression:function(){return n.PolynomialRegression}}),i.o(n,"RGBtoGray")&&i.d(t,{RGBtoGray:function(){return n.RGBtoGray}}),i.o(n,"RendererCanvas")&&i.d(t,{RendererCanvas:function(){return n.RendererCanvas}}),i.o(n,"RendererJSAPI")&&i.d(t,{RendererJSAPI:function(){return n.RendererJSAPI}}),i.o(n,"TypeDithering")&&i.d(t,{TypeDithering:function(){return n.TypeDithering}}),i.o(n,"Vector3")&&i.d(t,{Vector3:function(){return n.Vector3}}),i.o(n,"buildNetwork")&&i.d(t,{buildNetwork:function(){return n.buildNetwork}}),i.o(n,"crossProduct")&&i.d(t,{crossProduct:function(){return n.crossProduct}}),i.o(n,"deepCopy")&&i.d(t,{deepCopy:function(){return n.deepCopy}}),i.o(n,"distanceEuclidean")&&i.d(t,{distanceEuclidean:function(){return n.distanceEuclidean}}),i.o(n,"distanceTo")&&i.d(t,{distanceTo:function(){return n.distanceTo}}),i.o(n,"dithering4_4")&&i.d(t,{dithering4_4:function(){return n.dithering4_4}}),i.o(n,"ditheringFloydSteinberg")&&i.d(t,{ditheringFloydSteinberg:function(){return n.ditheringFloydSteinberg}}),i.o(n,"getArrayBinaryImgFromCtx")&&i.d(t,{getArrayBinaryImgFromCtx:function(){return n.getArrayBinaryImgFromCtx}}),i.o(n,"getCSVFromURL")&&i.d(t,{getCSVFromURL:function(){return n.getCSVFromURL}}),i.o(n,"getCheckBox")&&i.d(t,{getCheckBox:function(){return n.getCheckBox}}),i.o(n,"getImgFromURL")&&i.d(t,{getImgFromURL:function(){return n.getImgFromURL}}),i.o(n,"getJSONFromURL")&&i.d(t,{getJSONFromURL:function(){return n.getJSONFromURL}}),i.o(n,"getLineSeg")&&i.d(t,{getLineSeg:function(){return n.getLineSeg}}),i.o(n,"getRandomHex")&&i.d(t,{getRandomHex:function(){return n.getRandomHex}}),i.o(n,"getSlider")&&i.d(t,{getSlider:function(){return n.getSlider}}),i.o(n,"getUUID")&&i.d(t,{getUUID:function(){return n.getUUID}}),i.o(n,"hex2RGBA")&&i.d(t,{hex2RGBA:function(){return n.hex2RGBA}}),i.o(n,"isInsideOfVecs")&&i.d(t,{isInsideOfVecs:function(){return n.isInsideOfVecs}}),i.o(n,"normalize")&&i.d(t,{normalize:function(){return n.normalize}}),i.o(n,"reflect")&&i.d(t,{reflect:function(){return n.reflect}}),i.o(n,"remap")&&i.d(t,{remap:function(){return n.remap}}),i.o(n,"shuffleArray")&&i.d(t,{shuffleArray:function(){return n.shuffleArray}});var s=i(21322),o=i(8483)},14540:function(e,t,i){"use strict";i.d(t,{T:function(){return s}});var r=i(97776),n=i(78252);class s{initCanvas(){this.scene=new r.xsS,this.scene.background=new r.Ilk(0),this.scene.castShadow=!0,this.renderer=new r.CP7({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(this.hostDiv.clientWidth/this.hostDiv.clientHeight),this.renderer.domElement.id="Three",this.renderer.domElement.style.position="absolute",this.renderer.shadowMap.enabled=!0,this.renderer.setSize(this.hostDiv.clientWidth,this.hostDiv.clientHeight),this.hostDiv.appendChild(this.renderer.domElement),this.camera=new r.cPb(30,this.hostDiv.clientWidth/this.hostDiv.clientHeight,1,5e3),this.controls=new n.OrbitControls(this.camera,this.renderer.domElement),this.camera.position.set(0,0,5),this.controls.update(),this.canvas=this.renderer.domElement,this.init()}init(){this.eventBind()}eventBind(){this.renderer.domElement.onmousedown=e=>this.mouseDown(e),this.renderer.domElement.onmouseup=e=>this.mouseUp(e),this.renderer.domElement.onmousemove=e=>this.mouseMove(e),this.renderer.domElement.addEventListener("click",e=>this.mouseClick(e)),window.addEventListener("resize",()=>this.onWindowResize())}onWindowResize(){this.camera.aspect=this.hostDiv.clientWidth/this.hostDiv.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.hostDiv.clientWidth,this.hostDiv.clientHeight)}start(){this.loop()}mouseDown(e){}mouseUp(e){}mouseClick(e){}mouseDClick(e){}mouseMove(e){}mouseDrag(e){}update(e){}destroy(){for(window.removeEventListener("resize",()=>this.onWindowResize()),cancelAnimationFrame(this.requestFrame),this.requestFrame=void 0;this.hostDiv.lastChild;)this.hostDiv.removeChild(this.hostDiv.lastChild)}constructor(e){this.t=0,this.requestFrame=void 0,this.loop=()=>{this.requestFrame=requestAnimationFrame(this.loop),this.controls.update(),this.update(this.scene),this.renderer.render(this.scene,this.camera),this.t+=.01},this.hostDiv=document.getElementById(e),this.initCanvas()}}},79654:function(e,t,i){"use strict";i.r(t),i.d(t,{Renderer:function(){return s},Solution:function(){return n},checkIntersection:function(){return l},pointOnSegment2D:function(){return c}});var r=i(88876);class n{destroy(){this.renderer.destroy();try{for(;this.divHost&&this.divHost.lastElementChild;){let e=this.divHost.lastElementChild;this.divHost.removeChild(e)}}catch(e){console.error("Error removing child elements:",e)}}constructor(e){this.divHost=document.getElementById(e),this.divHost.style.display="flex",this.divHost.style.alignItems="center";let t=document.createElement("div");t.style.marginLeft="auto",t.style.marginRight="auto",t.style.backgroundColor="#000",t.style.width="1000px",t.style.height="600px",this.divHost.appendChild(t),this.renderer=new s(t);let i=document.createElement("div");i.style.paddingTop="5px",i.style.paddingBottom="5px",t.appendChild(i),i.textContent="Click twice in different locations to build a wall";let r=u("bounces",2,200);t.appendChild(r.div),r.slider.oninput=()=>{this.renderer.updateIter(+r.slider.value)};let n=p("Ray Direction");t.appendChild(n.div),n.checkBox.checked=!1,n.checkBox.onchange=()=>{!0===n.checkBox.checked?this.renderer.isRayDirection=!0:this.renderer.isRayDirection=!1};let o=p("Line");t.appendChild(o.div),o.checkBox.checked=!0,o.checkBox.onchange=()=>{!0===o.checkBox.checked?this.renderer.isLineRenderer=!0:this.renderer.isLineRenderer=!1,this.renderer.updateIter(this.renderer.iter)}}}class s extends r.RendererCanvas{mouseClick(e,t){if(this.p0){this.walls.push(new a(this.p0.x,this.p0.y,e,t)),this.p0=void 0,this.updateIter(this.iter);return}if(void 0===this.p0){this.p0=new r.Vector3(e,t);return}}mouseMove(e,t){this.isRayDirection&&(this.sun.updateDirection(e,t),this.isStatic=!1,this.loop(this.ctx))}updateIter(e){this.iter=e,this.isStatic=!1,this.loop(this.ctx)}render(e){this.t+=.01,this.update(e),e.globalCompositeOperation="source-over",e.strokeStyle="#ffffff",this.walls.forEach(t=>{t.draw(e)}),this.sun.draw(e,this.t),this.isStatic=!0}update(e){let t=o(this.sun.getSunLine(),this.walls,this.iter);e.lineWidth=.5;for(let i=0;i<t.length;++i){let r=t[i];e.beginPath(),e.arc(r.x,r.y,5,0,2*Math.PI),e.closePath(),e.stroke()}if(e.globalCompositeOperation="multiply",this.isLineRenderer){if(e.lineWidth=10,t.length>0){e.strokeStyle="rgba(255, 0, 0, ".concat(1,")"),e.beginPath(),e.moveTo(this.sun.v.x,this.sun.v.y),e.lineTo(t[0].x,t[0].y),e.stroke();for(let i=0;i<t.length-1;i++){let r=1-i/t.length;e.strokeStyle="rgba(255, 0, 0, ".concat(r,")"),e.beginPath(),e.moveTo(t[i].x,t[i].y),e.lineTo(t[i+1].x,t[i+1].y),e.stroke()}}}else if(t.length>0){let i=[];i.push(...h(this.sun.v,t[0],20));for(let e=0;e<t.length-1;e++)i.push(...h(t[e],t[1+e],20));for(let t=0;t<i.length;++t){let r=i[t],n=1-t/i.length;e.fillStyle="rgba(255, 0, 0, ".concat(n,")"),e.beginPath(),e.arc(r.x,r.y,5,0,2*Math.PI),e.closePath(),e.fill()}}}constructor(e){super(e),this.walls=[],this.t=0,this.iter=10,this.isRayDirection=!1,this.isLineRenderer=!0,this.p0=void 0,this.canvas.style.position="relative",this.canvas.style.width="100%",this.canvas.style.height="100%",this.sun=new d(new r.Vector3(300,100,0)),this.walls.push(new a(50,200,400,500)),this.walls.push(new a(100,500,500,600)),this.walls.push(new a(500,100,400,400)),this.walls.push(new a(50,100,600,50)),this.walls.push(new a(500,600,600,50)),this.walls.push(new a(50,100,50,300)),this.walls.push(new a(50,300,100,500)),this.start()}}let o=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,n=[];for(let s=0;s<i;++s){let i,s,o=1e4;for(let n=0;n<t.length;++n){let h=t[n],d=l(e.p0.x,e.p0.y,e.p1.x,e.p1.y,h.p0.x,h.p0.y,h.p1.x,h.p1.y);if(void 0!==d){let t=(0,r.distanceEuclidean)(e.p0.x,e.p0.y,0,d.x,d.y,0);t>10&&t<o&&(i=d,s=h,o=t)}}if(void 0!==i){let t=new r.Vector3(e.p1.x-e.p0.x,e.p1.y-e.p0.y,0),o=(0,r.reflect)(t,s.nVec);e={p0:i,p1:{x:i.x+o.x,y:i.y+o.y}},n.push(i)}}return n},h=(e,t,i)=>{let n=t.x-e.x,s=t.y-e.y,o=t.z-e.z,h=new r.Vector3(n,s,o),d=h.length()/i;h.normalize();let a=[];for(let t=0;t<d;++t){let n=new r.Vector3(e.x+h.x*i*t,e.y+h.y*i*t,e.z+h.z*i*t);a.push(n)}return a};class d{draw(e,t){e.lineWidth=.1,e.beginPath(),e.moveTo(this.v.x,this.v.y),e.lineTo(this.target.x,this.target.y),e.stroke(),e.lineWidth=.5,e.beginPath(),e.moveTo(this.v.x,this.v.y),e.lineTo(this.v.x+50*this.rayVec.x,this.v.y+50*this.rayVec.y),e.stroke(),e.fillStyle="#FDB813",e.beginPath(),e.arc(this.v.x,this.v.y,Math.sin(20*t)+12,0,2*Math.PI),e.fill()}updateDirection(e,t){this.target.x=e,this.target.y=t,this.rayVec.x=this.v.x+this.target.x,this.rayVec.y=this.v.y+this.target.y,this.rayVec.x=this.target.x-this.v.x,this.rayVec.y=this.target.y-this.v.y}getSunLine(){return{p0:this.v,p1:new r.Vector3(this.v.x+1e3*this.rayVec.x,this.v.y+1e3*this.rayVec.y)}}constructor(e){this.target=new r.Vector3(0,0,0),this.rayVec=new r.Vector3(0,0,0),this.v=e,this.updateDirection(300,300)}}class a{draw(e){e.lineWidth=5,e.strokeStyle="#ffffff",e.beginPath(),e.moveTo(this.p0.x,this.p0.y),e.lineTo(this.p1.x,this.p1.y),e.stroke()}computeNormal(){let e=new r.Vector3(this.p1.x-this.p0.x,this.p1.y-this.p0.y,0);this.nVec=(0,r.crossProduct)(e,new r.Vector3(0,0,1)),this.nVec=(0,r.normalize)(this.nVec)}constructor(e,t,i,n){this.p0=new r.Vector3(e,t),this.p1=new r.Vector3(i,n),this.computeNormal()}}let c=(e,t,i,r,n,s)=>{if(i!==n){if(i<=e&&e<=n||i>=e&&e>=n)return!0}else if(r<=t&&t<=s||r>=t&&t>=s)return!0;return!1},l=(e,t,i,r,n,s,o,h)=>{let d=(h-s)*(i-e)-(o-n)*(r-t);if(0===d)return;let a=((o-n)*(t-s)-(h-s)*(e-n))/d,c=((i-e)*(t-s)-(r-t)*(e-n))/d;if(a>=0&&a<=1&&c>=0&&c<=1)return{x:e+a*(i-e),y:t+a*(r-t),z:0}},u=(e,t,i)=>{let r=document.createElement("div");r.style.display="flex";let n=document.createElement("input");n.type="range",n.min="".concat(t),n.max="".concat(i);let s=document.createElement("div");return s.textContent=e,s.style.color="#aaa",r.appendChild(n),r.appendChild(s),{div:r,slider:n}},p=e=>{let t=document.createElement("div");t.style.display="flex";let i=document.createElement("input");i.type="checkbox",i.defaultChecked=!1;let r=document.createElement("div");return r.textContent=e,r.style.color="#aaa",t.appendChild(i),t.appendChild(r),{div:t,checkBox:i}}}}]);