"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[70326],{70326:function(t,e,s){s.r(e),s.d(e,{AppThreeGlobeNetwork:function(){return l},Solution:function(){return c}});var i=s(97776);class h{InitCanvas(t){let e=document.getElementById(t);e&&(this.host=e),this.scene=new i.xsS,this.scene.background=new i.Ilk(0,0,0),this.scene.castShadow=!0,this.camera=new i.cPb(30,window.innerWidth/window.innerHeight,1,5e3),this.camera.position.set(0,0,this.radius);let s=new i.Mig(13421772,.4);s.castShadow=!0,this.scene.add(s);let h=new i.cek(16777215,.8);h.castShadow=!0,this.scene.add(h),this.renderer=new i.CP7({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(this.host.clientWidth/this.host.clientHeight),this.renderer.domElement.id="Three",this.renderer.setSize(this.host.clientWidth,this.host.clientHeight),this.host.appendChild(this.renderer.domElement),this.Init()}Init(){this.EventBind(),this.Loop()}EventBind(){this.renderer.domElement.onmousedown=t=>this.MouseDown(t),this.renderer.domElement.onmouseup=t=>this.MouseUp(t),this.renderer.domElement.onmousemove=t=>this.MouseMove(t)}MouseDown(t){}MouseUp(t){}MouseMove(t){}Loop(){requestAnimationFrame(()=>{this.Loop()}),this.Render(),this.renderer.render(this.scene,this.camera),this.t+=.01}Render(){}constructor(t){this.t=0,this.radius=5,this.angle=0,this.InitCanvas(t)}}var o=s(8483);class n{Init(){this.InitVec();let t=this.InitNode();this.InitBuffer(t[0],t[1],t[2]),this.InitGeometry(),this.InitMaterial(),this.InitMesh(),this.Add()}InitVec(){this.nVecs=o.m3.GetSpherecVecs3dRandomWithThicknessOffset(1500,1,.15),this.vecs=[];for(let t=0;t<this.nVecs.length;++t)this.vecs.push(new i.Pa4(this.nVecs[t].x,this.nVecs[t].y,this.nVecs[t].z))}InitNode(){let t=[],e=[],s=[];this.nodes=[];for(let i=0;i<this.vecs.length;++i){t.push(this.vecs[i].x,this.vecs[i].y,this.vecs[i].z);let h=o.mK.GetRandomColorByLightness(this.DOT_COLOR,.2+.7*Math.random());e.push(h[0]/255,h[1]/255,h[2]/255,h[3]);let n=1e-4*i;s.push(n);let a=new r(this,i,this.vecs[i],h,n);this.nodes.push(a)}return[t,e,s]}InitBuffer(t,e,s){this.attributePositions=new i.TlE(new Float32Array(t),3),this.attributeColors=new i.TlE(new Float32Array(e),4),this.attributeSize=new i.TlE(new Float32Array(s),1)}async InitGeometry(){this.globe=new i.ZAu,this.geometry=new i.u9r,this.geometry.setAttribute("position",this.attributePositions),this.geometry.setAttribute("customColor",this.attributeColors),this.geometry.setAttribute("size",this.attributeSize);let t=new i.jyz({uniforms:{color:{value:new i.Ilk(16777215)},texture:{value:new i.dpR().load("njslabSandboxStatic/three/img/".concat("dotTexture.png"))}},vertexShader:this.shaderVert,fragmentShader:this.shaderFrag,alphaTest:.9});t.transparent=!0,this.mesh=new i.woe(this.geometry,t),this.geometryCoreWrapper.threeCore.scene.add(this.mesh),this.lineSegGeo=new i.u9r;let e=new i.nls({color:16777215,transparent:!0,opacity:.3}),s=[];this.edges=[];let h=0,o=[];for(let t=0;t<this.nodes.length-1;++t)for(let e=t;e<this.nodes.length;++e).15>this.vecs[t].distanceTo(this.vecs[e])&&(s.push(this.vecs[t],this.vecs[e]),o.push(this.vecs[t].x,this.vecs[t].y,this.vecs[t].z),o.push(this.vecs[e].x,this.vecs[e].y,this.vecs[e].z),this.edges.push(new a(this,h,this.nodes[t],this.nodes[e],.01)),h++);this.lineSegGeo.setAttribute("position",new i.TlE(new Float32Array(o),3)),this.lineSegments=new i.ejS(this.lineSegGeo,e),this.globe.add(this.lineSegments),this.geometryCoreWrapper.threeCore.scene.add(this.lineSegments)}InitMaterial(){this.material=new i.RSm}InitMesh(){}Add(){this.uuid=this.mesh.uuid,this.mesh.geo=this}Update(){this.t+=.1,this.UpdatePost()}UpdatePost(){for(let t=0;t<this.nodes.length;++t)this.nodes[t].Update(this.t);for(let t=0;t<this.edges.length;++t)this.edges[t].Update(this.t);this.attributePositions.needsUpdate=!0,this.attributeSize.needsUpdate=!0,this.globe.setRotationFromAxisAngle(new i.Pa4(0,1,1),1),this.globe.rotation.z+=this.SPEED_ROTATION,this.UpdateDotAnimation()}UpdateDotAnimation(){let t=0;for(let e=0;e<this.nodes.length;e+=this.I_STEP_ANI){let s=this.nodes[e].seedRandom-.5,i=this.t*s;t%3==0?this.nodes[e].Translate(.005*Math.sin(i)*s,.005*Math.cos(i)*s,.005*Math.sin(i)*s):t%3==1?this.nodes[e].Translate(.005*Math.sin(i)*s,.005*Math.cos(i)*s,.005*Math.cos(i)*s):this.nodes[e].Translate(.005*Math.cos(i)*s,.005*Math.sin(i)*s,.005*Math.sin(i)*s),t++}}Raycast(t,e){}MouseDown(t){}MouseMove(t){}constructor(t){this.shaderVert="\n    attribute float size;\n    attribute vec3 customColor;\n    varying vec3 vColor;\n\n    void main() {\n        vColor = customColor;\n        vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n        gl_PointSize = size * ( 300.0 / -mvPosition.z );\n        gl_Position = projectionMatrix * mvPosition;\n    }\n    ",this.shaderFrag="\n    uniform vec3 color;\n    uniform sampler2D texture;\n    varying vec3 vColor;\n\n	void main() {\n        gl_FragColor = vec4(color * vColor, 1.0);\n        // gl_FragColor = gl_FragColor * texture2D(texture, gl_PointCoord);\n        // if (gl_FragColor.a < ALPHATEST) discard;\n    }\n    ",this.t=0,this.I_STEP_ANI=10,this.isHover=!1,this.isLeave=!1,this.isSelected=!1,this.isDrag=!1,this.isMove=!1,this.hasPopup=!1,this.vec=new o.h9(0,0,0),this.scale=new o.h9(1,1,1),this.tOver=0,this.tDown1=0,this.tDown2=0,this.tUp=0,this.geometryCoreWrapper=t,this.vec=new o.h9(0,0,0),this.scale=new o.h9(1,1,1),this.currentHex="0xff0000",this.DOT_COLOR=o.mK.GetRandomHex(),this.PARTICLE_SIZE=.105,this.I_STEP_ANI=2*Math.floor(2*Math.random()),this.SPEED_ROTATION=5e-4+.1*Math.random(),this.mouse=new i.FM8,this.Init()}}class r{Translate(t,e,s){this.v.setX(this.parent.attributePositions.getX(this.id)),this.v.setY(this.parent.attributePositions.getY(this.id)),this.v.setZ(this.parent.attributePositions.getZ(this.id)),this.parent.attributePositions.setXYZ(this.id,this.v.x+t,this.v.y+e,this.v.z+s)}Scale(t){this.size=this.parent.attributeSize.getX(this.id),this.parent.attributeSize.setX(this.id,this.size+t)}ScalebyValue(t){this.size=this.parent.attributeSize.getX(this.id),this.parent.attributeSize.setX(this.id,t)}SetScale(t){this.parent.attributeSize.setX(this.id,t),this.needUpdate=!0,this.tForR=0,this.t=0}Update(t){this.needUpdate&&(this.t+=.019,this.ScalebyValue(o.aX.easeOutElastic2(this.tForR)*this.seedRandom),this.tForR+=.01,this.t>1&&(this.needUpdate=!1,this.SetScale(.1)))}constructor(t,e,s,i,h){this.parent=t,this.t=0,this.v=s,this.id=e,this.col=i,this.size=h,this.tForR=0,this.seedRandom=Math.random()}}class a{Update(t){}constructor(t,e,s,i,h){this.parent=t,this.id=e,this.n0=s,this.n1=i,this.size=h,this.seedRandom=Math.random()}}class d{Render(){this.globeNetworkAThree.Update()}MouseDown(t){}MouseUp(t){}MouseMove(t){}MouseDrag(t){}constructor(t){this.boxMeshes=[],this.threeCore=t,this.globeNetworkAThree=new n(this)}}class l{BindEvent(){this.threeCore.MouseDown=t=>this.core.MouseDown(t),this.threeCore.MouseMove=t=>this.core.MouseMove(t),this.threeCore.MouseUp=t=>this.core.MouseUp(t)}BindRenderer(){this.threeCore.Render=()=>this.core.Render()}constructor(t="SandBox"){this.threeCore=new h(t),this.core=new d(this.threeCore),this.BindEvent(),this.BindRenderer()}}class c{destroy(){if(this.divHost)try{for(;this.divHost.firstChild;)this.divHost.removeChild(this.divHost.firstChild)}catch(t){console.error("Error in destroy method:",t)}else console.warn("divHost is undefined in destroy method")}constructor(t){this.divHost=document.getElementById(t),new l(t)}}}}]);