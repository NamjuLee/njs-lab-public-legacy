(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4223,3955,99473],{75410:function(){},48628:function(){},31601:function(){},67792:function(){},34977:function(){},75042:function(){},3955:function(e,t,i){"use strict";i.r(t),i.d(t,{DefinitionIndeCanvasCore:function(){return s}});var n=i(79309);class s{InitIndeCanvas(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:650,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:350;this.scene.implementation.app.needUI?this.indeCanvas=new n.D(this.scene.implementation.app.viewController.NUIWrapper.NUI.independentPanelWrapper,50,50,e,t,!0):this.indeCanvas=new n.D(this.scene.implementation.app.viewController.NUIWrapper.NUI.independentPanelWrapper,1,-25,e,t,!0),this.indeCanvas.title="TF Env",this.indeCanvas.btnHam.isHidden=!0,this.indeCanvas.btnMini.isHidden=!0,this.indeCanvas.RenderIndependentCanvas=e=>this.RenderIndependentCanvas(e)}get width(){return this.indeCanvas.canvas.width}get height(){return this.indeCanvas.canvas.height}Init(e){}RenderIndependentCanvas(e){}MouseMove(e,t){}MouseMovePre(e,t){this.indeCanvas.IsMouseInsidePanel(e,t)&&this.MouseMove(e-this.indeCanvas.vec.x+this.mOffX,t-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseDown(e,t){}MouseDownPre(e,t){this.indeCanvas.IsMouseInsidePanel(e,t)&&this.MouseDown(e-this.indeCanvas.vec.x+this.mOffX,t-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseUp(e,t){}MouseUpPre(e,t){this.indeCanvas.IsMouseInsidePanel(e,t)&&this.MouseUp(e-this.indeCanvas.vec.x+this.mOffX,t-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseDrag(e,t){}MouseDragPre(e,t){this.indeCanvas.IsMouseInsidePanel(e,t)&&this.MouseDrag(e-this.indeCanvas.vec.x+this.mOffX,t-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseLeftClick(e,t){}MouseLeftClickPre(e,t){this.indeCanvas.IsMouseInsidePanel(e,t)&&this.MouseLeftClick(e-this.indeCanvas.vec.x+this.mOffX,t-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseMiddleClick(e,t){}MouseMiddleClickPre(e,t){this.indeCanvas.IsMouseInsidePanel(e,t)&&this.MouseMiddleClick(e-this.indeCanvas.vec.x+this.mOffX,t-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseRightClick(e,t){}MouseRightClickPre(e,t){this.indeCanvas.IsMouseInsidePanel(e,t)&&this.MouseRightClick(e-this.indeCanvas.vec.x+this.mOffX,t-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseDoubleClick(e,t){}MouseDoubleClickPre(e,t){this.indeCanvas.IsMouseInsidePanel(e,t)&&this.MouseDoubleClick(e-this.indeCanvas.vec.x+this.mOffX,t-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)}MouseWheel(e,t,i){}MouseWheelPre(e,t,i){this.indeCanvas.IsMouseInsidePanel(e,t)&&this.MouseWheel(e-this.indeCanvas.vec.x+this.mOffX,t-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY,i)}constructor(e,t=650,i=350){this.mOffX=-12,this.mOffY=-12,this.scene=e,this.scene.definitions.push(this),this.InitIndeCanvas(t,i)}}},64554:function(e,t,i){"use strict";i.r(t),i.d(t,{TFModel02XOR:function(){return h}});var n=i(88405),s=i(3955),a=i(99473);class h extends s.DefinitionIndeCanvasCore{InitUI(){let e=document.createElement("div");e.style.position="absolute",e.style.left="10px",e.style.color="#ffffff";let t=document.createElement("p");t.textContent="ref: Coding Challenge #106: XOR Problem with TensorFlow.js by The Cording Train",t.style.fontSize="11px",e.append(t);let i=document.getElementById("indePanel");i&&i.append(e)}Init(){this.tfModel=new o;let e=[];for(let t=0;t<=10;++t)for(let i=0;i<=10;++i)e.push([.1*i,.1*t]);this.xPredict=n.tensor2d(e)}MouseDown(e,t){let i=new a.NVector3(this.MapX(e),this.MapY(t));for(let e=0;e<this.vs.length;++e)if(.05>a.NVector3.Distance(i,this.vs[e])){this.selVec=this.vs[e];return}this.vs.push(new a.NVector3(this.MapX(e),this.MapY(t)))}MouseMove(e,t){let i;let n=new a.NVector3(this.MapX(e),this.MapY(t));for(let e=0;e<this.vs.length;++e).05>a.NVector3.Distance(n,this.vs[e])&&(i=this.vs[e]);i?this.selVec=i:this.selVec=void 0}MouseDrag(e,t){this.selVec&&(this.selVec.x=this.MapX(e),this.selVec.y=this.MapY(t))}MouseUp(){this.selVec=void 0}MapX(e){return a.MathUtility.Remap(e,0,this.width,-1,1)}MapY(e){return a.MathUtility.Remap(e,0,this.height,1,-1)}RenderIndependentCanvas(e){n.tidy(()=>{let t=this.tfModel.model.predict(this.xPredict).dataSync();e.fillStyle="#000000",e.beginPath(),e.rect(0,0,e.canvas.width,e.canvas.height),e.closePath(),e.fill();let i=0;for(let n=0;n<=10;n++)for(let s=0;s<=10;s++){this.inputs.push(n);let a=42*n,h=42*s,o=t[i];e.fillStyle="rgba(".concat(255*o,",",0,",",0,",1)"),e.beginPath(),e.rect(a,h,42,42),e.closePath(),e.fill(),i++}})}constructor(e,t=650,i=350){super(e,t,i),this.xpos=100,this.ypos=100,this.xspeed=10,this.yspeed=10,this.xdirection=1,this.ydirection=1,this.rad=50,this.vs=[],this.selVec=void 0,this.inputs=[],this.indeCanvas.title="TF XOR",this.Init(),this.InitUI()}}class o{trainLoop(){this.train().then(e=>{setTimeout(()=>this.trainLoop(),1)})}async train(){return await this.model.fit(this.xTrain,this.yTrain,{epochs:10,shuffle:!0})}constructor(){this.xTrain=n.tensor2d([[0,0],[1,0],[0,1],[1,1]]),this.yTrain=n.tensor2d([[0],[1],[1],[0]]),this.model=n.sequential();let e=n.layers.dense({inputShape:[2],units:16,activation:"sigmoid"}),t=n.layers.dense({units:1,activation:"sigmoid"});this.model.add(e),this.model.add(t),this.model.compile({optimizer:n.train.adam(.05),loss:n.losses.meanSquaredError}),this.trainLoop()}}},99473:function(e,t,i){"use strict";i.r(t),i.d(t,{ACTION_TYPE:function(){return n.KW},ACTIVECOMMAND_MODE:function(){return n.AG},ActiveCommandBase:function(){return n.wm},AppAccessibility:function(){return n.Wv},AppProperties:function(){return n.gj},ArrayUtility:function(){return n.R3},BrowserUtility:function(){return n.R7},CLICK_TYPE:function(){return n.uh},CLOGTYPE:function(){return n.g6},COMPILE_MODE:function(){return n.Iq},ColorUtility:function(){return n.mK},Deltatime:function(){return n.gk},EVENT_LISTENER_TYPE:function(){return n.GZ},FHTYPE:function(){return n.OH},GTYPE:function(){return n.OB},GeometryBase:function(){return n.bx},INTERACTION_MODE:function(){return n.WU},LINECAP:function(){return n.EQ},MathUtility:function(){return n.$H},NDataUtility:function(){return n.eu},NUI:function(){return n.Fc},NVector3:function(){return n.h9},NumericalMotion:function(){return n.aX},OPTIMIZER:function(){return n.sg},PRESS_TYPE:function(){return n.dc},TEXTALIGN:function(){return n.mH},TEXTBOX:function(){return n.SE},TOUCH_TYPE:function(){return n.KV},UNIT:function(){return n.iI}});var n=i(8483)}}]);