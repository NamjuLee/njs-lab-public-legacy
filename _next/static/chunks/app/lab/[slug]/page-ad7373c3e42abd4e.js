(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[97738,93696,50161,25065,23957,25973],{19546:function(e,t,n){Promise.resolve().then(n.t.bind(n,81450,23)),Promise.resolve().then(n.t.bind(n,44664,23)),Promise.resolve().then(n.t.bind(n,16039,23)),Promise.resolve().then(n.t.bind(n,2677,23)),Promise.resolve().then(n.t.bind(n,55329,23)),Promise.resolve().then(n.t.bind(n,67e3,23)),Promise.resolve().then(n.t.bind(n,21563,23)),Promise.resolve().then(n.t.bind(n,71934,23)),Promise.resolve().then(n.t.bind(n,89691,23)),Promise.resolve().then(n.t.bind(n,13611,23)),Promise.resolve().then(n.t.bind(n,67840,23)),Promise.resolve().then(n.t.bind(n,38470,23)),Promise.resolve().then(n.t.bind(n,14633,23)),Promise.resolve().then(n.t.bind(n,54058,23)),Promise.resolve().then(n.t.bind(n,13668,23)),Promise.resolve().then(n.t.bind(n,49665,23)),Promise.resolve().then(n.t.bind(n,46035,23)),Promise.resolve().then(n.t.bind(n,12649,23)),Promise.resolve().then(n.t.bind(n,75222,23)),Promise.resolve().then(n.t.bind(n,79469,23)),Promise.resolve().then(n.t.bind(n,84193,23)),Promise.resolve().then(n.t.bind(n,96112,23)),Promise.resolve().then(n.t.bind(n,28431,23)),Promise.resolve().then(n.t.bind(n,29311,23)),Promise.resolve().then(n.t.bind(n,56225,23)),Promise.resolve().then(n.t.bind(n,2625,23)),Promise.resolve().then(n.t.bind(n,85265,23)),Promise.resolve().then(n.t.bind(n,18023,23)),Promise.resolve().then(n.t.bind(n,73168,23)),Promise.resolve().then(n.t.bind(n,90469,23)),Promise.resolve().then(n.t.bind(n,95774,23)),Promise.resolve().then(n.t.bind(n,16818,23)),Promise.resolve().then(n.t.bind(n,45906,23)),Promise.resolve().then(n.t.bind(n,46207,23)),Promise.resolve().then(n.t.bind(n,54865,23)),Promise.resolve().then(n.t.bind(n,92120,23)),Promise.resolve().then(n.t.bind(n,28893,23)),Promise.resolve().then(n.t.bind(n,43926,23)),Promise.resolve().then(n.t.bind(n,83669,23)),Promise.resolve().then(n.t.bind(n,11599,23)),Promise.resolve().then(n.t.bind(n,4791,23)),Promise.resolve().then(n.t.bind(n,88887,23)),Promise.resolve().then(n.t.bind(n,3305,23)),Promise.resolve().then(n.t.bind(n,18076,23)),Promise.resolve().then(n.t.bind(n,93175,23)),Promise.resolve().then(n.t.bind(n,59418,23)),Promise.resolve().then(n.t.bind(n,40554,23)),Promise.resolve().then(n.t.bind(n,35386,23)),Promise.resolve().then(n.t.bind(n,75667,23)),Promise.resolve().then(n.t.bind(n,9043,23)),Promise.resolve().then(n.t.bind(n,15993,23)),Promise.resolve().then(n.t.bind(n,231,23)),Promise.resolve().then(n.bind(n,57369)),Promise.resolve().then(n.bind(n,23957)),Promise.resolve().then(n.bind(n,25973)),Promise.resolve().then(n.bind(n,32168)),Promise.resolve().then(n.bind(n,25065)),Promise.resolve().then(n.bind(n,50161)),Promise.resolve().then(n.bind(n,93696)),Promise.resolve().then(n.t.bind(n,54225,23))},57369:function(e,t,n){"use strict";var i=n(57437),o=n(2265),A=n(9724);t.default=e=>((0,o.useEffect)(()=>{let t;let n=(0,A.Qe)().menuSetFlat[e.idSolution];return n.load().then(i=>{let{Solution:o}=i;return t=n.param?new o(e.idContainer,n.param):new o(e.idContainer)}),()=>{try{t.destroy()}catch(e){console.error(e)}}},[]),(0,i.jsx)("div",{id:e.idContainer,style:{width:"100%",height:"100%"}}))},32168:function(e,t,n){"use strict";n.r(t),n.d(t,{Solution:function(){return m}});var i=n(34040),o=n(57437),A=n(77719),r=n.n(A);n(89360);var s=n(2265);class l{onAdd(e,t){this.map=e;let n=t.createShader(t.VERTEX_SHADER);t.shaderSource(n,this.vertexSource),t.compileShader(n);let i=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(i,this.fragmentSource),t.compileShader(i),this.program=t.createProgram(),t.attachShader(this.program,n),t.attachShader(this.program,i),t.linkProgram(this.program),this.aPos=t.getAttribLocation(this.program,"aPos"),this.buffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,this.data,t.STATIC_DRAW)}render(e,t){e.useProgram(this.program),e.uniform1f(e.getUniformLocation(this.program,"u_size"),5*Math.pow(2,this.map.transform.zoom)),e.uniform4fv(e.getUniformLocation(this.program,"u_color"),[1,1,0,1]),e.uniform4fv(e.getUniformLocation(this.program,"u_stroke"),[1,0,0,1]),e.uniformMatrix4fv(e.getUniformLocation(this.program,"u_matrix"),!1,t),e.bindBuffer(e.ARRAY_BUFFER,this.buffer),e.enableVertexAttribArray(this.aPos),e.vertexAttribPointer(this.aPos,2,e.FLOAT,!1,0,0),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.drawArrays(e.POINTS,0,.5*this.data.length)}constructor(e="custom",t){this.type="custom",this.vertexSource="\n    precision highp float;\n    uniform mat4 u_matrix;\n    uniform float u_size;\n    attribute vec2 aPos;\n\n    varying vec2 position;\n    \n    void main() {\n        gl_Position = u_matrix * vec4(aPos, 0.0, 1.0);\n        gl_PointSize = u_size; \n        position = vec2(aPos.xy);\n    }",this.fragmentSource="\n    precision mediump float;\n\n    uniform vec4 u_color;\n    uniform vec4 u_stroke;\n\n    varying vec2 position;\n\n    void main() {\n        \n        float aRadius = 2.0;\n        float dist = distance(position, gl_FragCoord.xy);\n\n        // https://stackoverflow.com/questions/7237086/opengl-es-2-0-equivalent-for-es-1-0-circles-using-gl-point-smooth\n        float len = length(gl_PointCoord - vec2(0.5)) * 1.0;\n        float radius = 0.3;\n        float strokeWidth = 0.2;\n\n        if (len < radius) {\n            gl_FragColor = u_color;\n        } else if (len < radius + strokeWidth) {\n            gl_FragColor = u_stroke;\n        } else {\n            discard;\n        }\n    }",this.id=e,this.data=t}}class a{onAdd(e,t){let n=t.createShader(t.VERTEX_SHADER);t.shaderSource(n,this.vertexSource),t.compileShader(n);let i=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(i,this.fragmentSource),t.compileShader(i),this.program=t.createProgram(),t.attachShader(this.program,n),t.attachShader(this.program,i),t.linkProgram(this.program),this.aPos=t.getAttribLocation(this.program,"aPos");let o=r().MercatorCoordinate.fromLngLat({lng:25.004,lat:60.239}),A=r().MercatorCoordinate.fromLngLat({lng:13.403,lat:52.562}),s=r().MercatorCoordinate.fromLngLat({lng:30.498,lat:50.541});this.buffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array([o.x,o.y,A.x,A.y,s.x,s.y]),t.STATIC_DRAW)}render(e,t){e.useProgram(this.program),e.uniformMatrix4fv(e.getUniformLocation(this.program,"u_matrix"),!1,t),e.uniform4fv(e.getUniformLocation(this.program,"u_color"),[1,0,0,1]),e.bindBuffer(e.ARRAY_BUFFER,this.buffer),e.enableVertexAttribArray(this.aPos),e.vertexAttribPointer(this.aPos,2,e.FLOAT,!1,0,0),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.drawArrays(e.TRIANGLES,0,3)}constructor(e="custom"){this.type="custom",this.vertexSource="\n    uniform mat4 u_matrix;\n    attribute vec2 aPos;\n    \n    uniform vec4 u_color;\n    // out vec4 vertexColor;\n\n    void main() {\n        gl_Position = u_matrix * vec4(aPos, 0.0, 1.0);\n        gl_PointSize = 5.0; \n    }",this.fragmentSource="\n    \n    // uniform vec4 u_color;\n\n    void main() {\n        gl_FragColor = vec4(1.0, 1.0, 0.0, 0.25);\n    }",this.id=e}}class c{init(){this.map.addLayer(new a("custom-01"),"building");let e=this.toMercators([25.004,60.239,0,0,1,1,2,2,3,3]);this.map.addLayer(new l("custom-02",e),"building"),this.map.on("click",e=>{let t=this.map.queryRenderedFeatures(e.point,{layers:["custom-01"]});t.length>0&&console.log(t[0].properties)})}dispose(){}toMercator(e,t){return r().MercatorCoordinate.fromLngLat({lng:e,lat:t})}toMercators(e){let t=new Float32Array(e.length);for(let n=0;n<e.length;n+=2){let i=this.toMercator(e[n],e[n+1]);t[n]=i.x,t[n+1]=i.y}return t}constructor(e){this.map=e}}var d=n(99846),u=n.n(d),h=()=>{let e=(0,s.useRef)(null),t=(0,s.useRef)(null),n=(0,s.useRef)(null),i=()=>{t.current||(r().accessToken="pk.eyJ1IjoiZGVzaWduanUiLCJhIjoiY2xhNGU0YWo4MDlhYzNwdHBwenVvang4eiJ9.P3sX4l_3KjdPeRRbVS1VVg",t.current=new(r()).Map({container:e.current,style:"mapbox://styles/mapbox/dark-v11",center:[0,38],projection:"mercator",zoom:2,attributionControl:!1}),n.current=new c(t.current),t.current.on("load",()=>{n.current.init()}),t.current.on("move",()=>{}))};return(0,s.useEffect)(()=>(i(),()=>{n.current.dispose()}),[]),(0,o.jsx)("div",{ref:e,className:u().mapContainer})};class m{destroy(){for(;this.divHost.lastElementChild;)this.divHost.removeChild(this.divHost.lastElementChild)}constructor(e){this.divHost=document.getElementById(e);let t=document.createElement("div");t.style.height="100%",this.divHost.appendChild(t),i.createRoot(t).render(s.createElement(h,{}))}}},50161:function(e,t,n){"use strict";n.r(t),n.d(t,{Solution:function(){return u}});var i=n(34040),o=n(57437),A=n(77719),r=n.n(A),s=n(9931),l=n(2265),a=()=>{let e="my-layer",t={id:e,type:"line",layout:{"line-join":"round","line-cap":"round",visibility:"visible"},paint:{"line-color":"#4E3FC8","line-width":4}},n={...t,id:e+"-fill",type:"fill",source:e,layout:{visibility:"visible"},paint:{"fill-color":"#f00","fill-opacity":.1}};return(0,o.jsxs)(s.Hw,{id:e,type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{coordinates:[[[-91.44397295553597,37.421743437936485],[-91.44397295553597,32.49285288096823],[-83.28687772065805,32.49285288096823],[-83.28687772065805,37.421743437936485],[-91.44397295553597,37.421743437936485]]],type:"Polygon"}}]},children:[(0,o.jsx)(s.mh,{...t}),(0,o.jsx)(s.mh,{...n})]})};n(89360);var c=n(20357),d=()=>{let e=(0,l.useRef)();(0,l.useRef)();let[t,n]=(0,l.useState)(null),i=(0,l.useCallback)(e=>{let t=e.features&&e.features[0];n({longitude:e.lngLat.lng,latitude:e.lngLat.lat,countyName:t&&t.properties.COUNTY})},[]),A=(0,l.useCallback)(e=>{console.log(e.target.queryRenderedFeatures(e.point))},[]),[d,u]=(0,l.useState)(null);return(0,o.jsx)(l.Suspense,{children:(0,o.jsxs)(s.ZP,{mapLib:r(),ref:e,initialViewState:{longitude:-100,latitude:40,zoom:3.5},style:{width:"100%",height:"100%",position:"relative",top:0,left:0,right:0,bottom:0,zIndex:0,flex:1},mapStyle:"mapbox://styles/mapbox/dark-v10",mapboxAccessToken:"pk.eyJ1IjoiZGVzaWduanUiLCJhIjoiY2xhNGU0YWo4MDlhYzNwdHBwenVvang4eiJ9.P3sX4l_3KjdPeRRbVS1VVg",dragRotate:!1,onMouseMove:i,onClick:A,children:[(0,o.jsxs)(s.Jx,{latitude:37.7577,longitude:-122.4376,anchor:"bottom",children:[(0,o.jsx)("img",{src:c.env.PUBLIC_URL+"/logo180.png",alt:"img",width:24,height:24}),(0,o.jsx)("div",{children:"Marker Content"})]}),(0,o.jsx)(a,{})]})})};class u{destroy(){for(;this.divHost.lastElementChild;)this.divHost.removeChild(this.divHost.lastElementChild)}constructor(e){this.divHost=document.getElementById(e);let t=document.createElement("div");t.style.height="100%",this.divHost.appendChild(t),i.createRoot(t).render(l.createElement(d,{}))}}},25065:function(e,t,n){"use strict";n.r(t),n.d(t,{Solution:function(){return l}});var i=n(34040),o=n(57437),A=n(2265);let r=()=>{let[e,t]=(0,A.useState)(0);return console.log("Count"),(0,A.useEffect)(()=>(console.log("render done!",e),()=>{console.log("cleanup!!!!",e)}),[e]),(0,o.jsxs)("div",{children:[(0,o.jsxs)("p",{children:["Count:",(0,o.jsx)("b",{children:e})]}),(0,o.jsx)("button",{onClick:()=>t(e+1),children:"+1"}),(0,o.jsx)("button",{onClick:()=>t(e-1),children:"-1"})]})};var s=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{children:"Hello World"}),(0,o.jsx)(r,{})]});class l{destroy(){for(;this.divHost.lastElementChild;)this.divHost.removeChild(this.divHost.lastElementChild)}constructor(e){this.divHost=document.getElementById(e);let t=document.createElement("div");this.divHost.appendChild(t),i.createRoot(t).render(A.createElement(s,{}))}}},93696:function(e,t,n){"use strict";n.r(t),n.d(t,{Solution:function(){return g}});var i=n(34040),o=n(57437),A=n(77719),r=n.n(A),s=n(9931),l=n(2265),a=()=>{let e="my-layer",t={id:e,type:"line",layout:{"line-join":"round","line-cap":"round",visibility:"visible"},paint:{"line-color":"#4E3FC8","line-width":4}},n={...t,id:e+"-fill",type:"fill",source:e,layout:{visibility:"visible"},paint:{"fill-color":"#f00","fill-opacity":.1}};return(0,o.jsxs)(s.Hw,{id:e,type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{coordinates:[[[-91.44397295553597,37.421743437936485],[-91.44397295553597,32.49285288096823],[-83.28687772065805,32.49285288096823],[-83.28687772065805,37.421743437936485],[-91.44397295553597,37.421743437936485]]],type:"Polygon"}}]},children:[(0,o.jsx)(s.mh,{...t}),(0,o.jsx)(s.mh,{...n})]})},c=n(69200);let d=e=>new Promise(function(t,n){e.once("render",function(){t(e.getCanvas().toDataURL())}),e.setBearing(e.getBearing())});var u=e=>{let{mapRef:t}=e;return(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{children:"menu"}),(0,o.jsx)(c.ZP,{type:"text",onClick:e=>{let n=t.getCanvas();d(t).then(e=>{let t=new Image;t.width=n.width,t.height=n.height,t.src=e;let i=document.createElement("a");i.download="fileName.png",i.href=e,i.click()})},children:"capture"})]})};n(89360);var h=n(50351),m=n.n(h),f=()=>{let e=(0,l.useRef)();(0,l.useRef)();let[t,n]=(0,l.useState)(null),i=(0,l.useCallback)(e=>{let t=e.features&&e.features[0];n({longitude:e.lngLat.lng,latitude:e.lngLat.lat,countyName:t&&t.properties.COUNTY})},[]),A=(0,l.useCallback)(e=>{e.target.queryRenderedFeatures(e.point)},[]);return(0,o.jsxs)("div",{className:m().mapContainer,children:[(0,o.jsx)("div",{className:m().menu,children:(0,o.jsx)(u,{mapRef:e.current})}),(0,o.jsx)(l.Suspense,{children:(0,o.jsx)(s.ZP,{mapLib:r(),ref:e,initialViewState:{longitude:-100,latitude:40,zoom:3.5},style:{width:"100%",height:"100%",position:"relative",top:0,left:0,right:0,bottom:0,zIndex:0,flex:1},mapStyle:"mapbox://styles/mapbox/dark-v10",mapboxAccessToken:"pk.eyJ1IjoiZGVzaWduanUiLCJhIjoiY2xhNGU0YWo4MDlhYzNwdHBwenVvang4eiJ9.P3sX4l_3KjdPeRRbVS1VVg",dragRotate:!1,onMouseMove:i,onClick:A,children:(0,o.jsx)(a,{})})})]})};class g{destroy(){try{for(;this.divHost&&this.divHost.lastElementChild;){let e=this.divHost.lastElementChild;this.divHost.removeChild(e)}}catch(e){console.error("Error removing child elements:",e)}}constructor(e){this.divHost=document.getElementById(e);let t=document.createElement("div");t.style.height="100%",t.style.width="100%",this.divHost.appendChild(t),i.createRoot(t).render(l.createElement(f,{}))}}},95774:function(){},44664:function(){},28893:function(){},85265:function(){},43926:function(){},16818:function(){},4791:function(){},56225:function(){},59418:function(){},11599:function(){},40554:function(){},18023:function(){},71934:function(){},83669:function(){},88887:function(){},2677:function(){},90469:function(){},73168:function(){},3305:function(){},18076:function(){},54865:function(){},9043:function(){},93175:function(){},55329:function(){},29311:function(){},89691:function(){},13611:function(){},67840:function(){},38470:function(){},14633:function(){},67e3:function(){},54058:function(){},13668:function(){},21563:function(){},49665:function(){},46035:function(){},12649:function(){},75222:function(){},79469:function(){},84193:function(){},96112:function(){},28431:function(){},16039:function(){},75667:function(){},35386:function(){},2625:function(){},15993:function(){},46207:function(){},81450:function(){},45906:function(){},92120:function(){},99846:function(e){e.exports={mapContainer:"style_mapContainer__HF3qx"}},50351:function(e){e.exports={mapContainer:"style_mapContainer__S7vlm",menu:"style_menu___JHC3"}},54225:function(e){e.exports={middle:"style_middle__2_txr"}},23957:function(e,t,n){"use strict";n.r(t),t.default={src:"/njs-lab-public-legacy//_next/static/media/UV_Grid_Lrg.b6c21853.jpg",height:1024,width:1024,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAH/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGA/8QAFRABAQAAAAAAAAAAAAAAAAAAADT/2gAIAQEAAQUCpf/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABYQAAMAAAAAAAAAAAAAAAAAAAASUv/aAAgBAQAGPwKVP//EABcQAAMBAAAAAAAAAAAAAAAAAAARIfD/2gAIAQEAAT8h0rP/2gAMAwEAAgADAAAAEAP/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oACAEDAQE/EH//xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oACAECAQE/EH//xAAYEAACAwAAAAAAAAAAAAAAAAAAkRFRgf/aAAgBAQABPxDUzFR//9k=",blurWidth:8,blurHeight:8}},25973:function(e,t,n){"use strict";n.r(t),t.default={src:"/njs-lab-public-legacy//_next/static/media/UV_Grid_Lrg.b6c21853.jpg",height:1024,width:1024,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAH/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGA/8QAFRABAQAAAAAAAAAAAAAAAAAAADT/2gAIAQEAAQUCpf/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABYQAAMAAAAAAAAAAAAAAAAAAAASUv/aAAgBAQAGPwKVP//EABcQAAMBAAAAAAAAAAAAAAAAAAARIfD/2gAIAQEAAT8h0rP/2gAMAwEAAgADAAAAEAP/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oACAEDAQE/EH//xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oACAECAQE/EH//xAAYEAACAwAAAAAAAAAAAAAAAAAAkRFRgf/aAAgBAQABPxDUzFR//9k=",blurWidth:8,blurHeight:8}}},function(e){e.O(0,[68431,93332,83472,24518,13415,96689,23577,2021,231,44768,69200,85959,9724,92971,47023,1744],function(){return e(e.s=19546)}),_N_E=e.O()}]);