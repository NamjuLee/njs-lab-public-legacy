"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[20793],{20793:function(t,s,e){e.r(s),e.d(s,{AppRigidBodyDynamics:function(){return l},Solution:function(){return u}});class i{InitCanvas(t){let s=document.createElement("canvas"),e=document.getElementById(t);if(e&&(e.appendChild(s),this.host=e),s){this.canvas=s,this.canvas.width=400,this.canvas.height=400;let t=this.canvas.getContext("2d");t&&(this.ctx=t,this.Init())}}Init(){this.EventBind(),this.Loop()}EventBind(){this.canvas.onmousedown=t=>{this.MouseDown(t)},this.canvas.onmouseup=t=>{this.MouseUp(t)},this.canvas.onmousemove=t=>{this.MouseMove(t)},window.onresize=t=>this.Resize(t)}Resize(t){this.canvas.width=this.host.clientWidth,this.canvas.height=this.host.clientHeight}Loop(){requestAnimationFrame(()=>{this.Loop()}),this.ctx.clearRect(-10,-10,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.fillStyle="#dddddd",this.ctx.beginPath(),this.ctx.rect(-500,-500,1e3,1e3),this.ctx.closePath(),this.ctx.fill(),this.Render(this.ctx)}Render(t){}MouseDown(t){}MouseUp(t){}MouseMove(t){}constructor(t){this.t=0,this.InitCanvas(t)}}class h{Render(t){t.fillStyle="#eeeeee",t.beginPath(),t.rect(0,0,t.canvas.width,t.canvas.height),t.fill();for(let s=0;s<this.pos.length;++s)this.pos[s][1]+=7*this.pos[s][3],this.pos[s][1]>t.canvas.height&&(this.pos[s][1]=0),t.fillStyle="rgba(".concat(this.col[s][0],",").concat(this.col[s][1],",").concat(this.col[s][2],", ").concat(this.col[s][3],")"),t.beginPath(),t.arc(this.pos[s][0],this.pos[s][1],10,0,2*Math.PI),t.closePath(),t.fill()}MouseDown(t){}MouseUp(t){}MouseMove(t){}MouseDrag(t){}constructor(t){this.pos=[],this.col=[],this.canvasCore=t;for(let t=0;t<300;++t){let t=Math.random()*this.canvasCore.canvas.height;this.pos.push([Math.random()*this.canvasCore.canvas.width,t,t,Math.random()]),this.col.push([100+250*Math.random(),0,0,Math.random()])}}}e(74087);var n=e(8483);class o{AddNode(t,s,e){let i=new r(t,s,e);return this.nodes.push(i),i}AddEdge(t,s){let e=new a(t,s);return this.edges.push(e),e}UpdateCollision(t){for(let s=0;s<t.length;++s)t[s]}Move(t,s){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-.3,i=arguments.length>3?arguments[3]:void 0;for(let h=0;h<this.nodes.length;++h){let o=this.nodes[h];o.f.x*=e,o.f.y*=e;let a=new n.h9(t.x-o.v.x,t.y-o.v.y,t.z-o.v.z),r=a.Length();a.Unitize(),o.f.x=a.x*Math.exp(-.001*r*r)*.1,o.f.y=a.y*Math.exp(-.001*r*r)*.1,o.Move(i,s)}for(let t=0;t<this.edges.length;++t)this.edges[t].ApplySpringForce();for(let t=0;t<this.nodes.length;++t)this.nodes[t].Move(i,s)}Render(t){t.lineWidth=.2;for(let s=0;s<4;++s)t.beginPath(),t.moveTo(this.edges[s].n0.v.x,this.edges[s].n0.v.y),t.lineTo(this.edges[s].n1.v.x,this.edges[s].n1.v.y),t.stroke();for(let s=0;s<this.nodes.length;++s){let e=this.nodes[s];t.beginPath(),t.arc(e.v.x,e.v.y,.2*e.m,0,2*Math.PI),t.closePath(),t.stroke()}}constructor(t){this.nodes=[],this.edges=[],this.nodes.push(new r(new n.h9(t.x,t.y,t.z),n.h9.Origin(),1)),this.nodes.push(new r(new n.h9(t.x-2,t.y+2,t.z),n.h9.Origin(),1)),this.nodes.push(new r(new n.h9(t.x+2,t.y+2,t.z),n.h9.Origin(),1)),this.nodes.push(new r(new n.h9(t.x+2,t.y-2,t.z),n.h9.Origin(),1)),this.nodes.push(new r(new n.h9(t.x-2,t.y-2,t.z),n.h9.Origin(),1)),this.edges.push(new a(this.nodes[1],this.nodes[2])),this.edges.push(new a(this.nodes[2],this.nodes[3])),this.edges.push(new a(this.nodes[3],this.nodes[4])),this.edges.push(new a(this.nodes[4],this.nodes[1])),this.edges.push(new a(this.nodes[0],this.nodes[1])),this.edges.push(new a(this.nodes[0],this.nodes[2])),this.edges.push(new a(this.nodes[0],this.nodes[3])),this.edges.push(new a(this.nodes[0],this.nodes[4]))}}class a{ApplySpringForce(){let t=new n.h9(this.n1.v.x-this.n0.v.x,this.n1.v.y-this.n0.v.y,this.n1.v.z-this.n0.v.z),s=t.Length();t.Unitize(),this.n0.f.x+=t.x*(s-this.targetLength)*this.SpringConstant,this.n0.f.y+=t.y*(s-this.targetLength)*this.SpringConstant,this.n1.f.x-=t.x*(s-this.targetLength)*this.SpringConstant,this.n1.f.y-=t.y*(s-this.targetLength)*this.SpringConstant}constructor(t,s){this.targetLength=1.05,this.SpringConstant=.8,this.n0=t,this.n1=s,this.targetLength=this.n0.v.Distance(this.n1.v)}}class r{Move(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.99;!this.fixed&&(this.u.x*=s,this.u.y*=s,this.u.x+=this.f.x*(t/this.m),this.u.y+=this.f.y*(t/this.m),this.v.x+=this.u.x*t,this.v.y+=this.u.y*t,this.v.y<0&&(this.v.y=0,this.u.y<0&&(this.u.y=-this.u.y)))}constructor(t,s,e=1){this.fixed=!1,this.m=1,this.v=t,this.u=s,this.f=n.h9.Origin(),this.m=e}}class d{Render(t){this.boundingBox=t.canvas.getBoundingClientRect();for(let s=0;s<this.particles.length;++s)this.particles[s].Move(this.m,.9,-1.5,this.t),this.particles[s].Render(t);t.fillStyle="#ff0000",t.beginPath(),t.arc(this.m.x,this.m.y,.5,0,2*Math.PI),t.closePath(),t.fill()}MouseDown(t){}MouseUp(t){}MouseMove(t){this.m.x=t.x-this.boundingBox.left,this.m.y=t.y-this.boundingBox.top}constructor(){this.particles=[],this.t=.6,this.m=new n.h9(10,10,10),this.particles.push(new o(new n.h9(0,0,0))),this.particles.push(new o(new n.h9(10,10,0)))}}class c{Render(t){this.particleSystemC&&this.particleSystemC.Render(t)}MouseDown(t){this.particleSystemC&&this.particleSystemC.MouseDown(t)}MouseUp(t){this.particleSystemC&&this.particleSystemC.MouseUp(t)}MouseMove(t){this.particleSystemC&&this.particleSystemC.MouseMove(t)}constructor(){this.particleSystemC=new d}}class l{static Init(t){new l(t).Dummy()}Dummy(){}BindEvent(){this.canvasCore.MouseDown=t=>this.implementation.MouseDown(t),this.canvasCore.MouseMove=t=>this.implementation.MouseMove(t),this.canvasCore.MouseUp=t=>this.implementation.MouseUp(t)}BindRenderer(){this.canvasCore.Render=t=>this.implementation.Render(t)}constructor(t="SandBox"){this.canvasCore=new i(t),this.core=new h(this.canvasCore),this.implementation=new c,this.BindEvent(),this.BindRenderer()}}class u{destroy(){if(this.divHost)try{for(;this.divHost.firstChild;)this.divHost.removeChild(this.divHost.firstChild)}catch(t){console.error("Error in destroy method:",t)}else console.warn("divHost is undefined in destroy method")}constructor(t){this.divHost=document.getElementById(t),l.Init(t)}}}}]);