"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[89603],{45865:function(t,r,e){e.d(r,{EX:function(){return v},Y3:function(){return S},_Y:function(){return g},jQ:function(){return l},sJ:function(){return x},xr:function(){return b}});var n,o,i=e(87585);function l(t){return"r"in t&&"g"in t&&"b"in t}function s(t){return"h"in t&&"s"in t&&"v"in t}function a(t){return"l"in t&&"a"in t&&"b"in t}function u(t){return"l"in t&&"c"in t&&"h"in t}e(91870),e(40465);let c=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],f=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function m(t,r){let e,n;let o=[];if(t[0].length!==r.length)throw Error("dimensions do not match");let i=t.length,l=t[0].length,s=0;for(e=0;e<i;e++){for(s=0,n=0;n<l;n++)s+=t[e][n]*r[n];o.push(s)}return o}function p(t){let r=m(c,[t.r/255,t.g/255,t.b/255].map(t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4));return{x:100*r[0],y:100*r[1],z:100*r[2]}}function h(t){let r=m(f,[t.x/100,t.y/100,t.z/100]).map(t=>Math.min(1,Math.max(t<=.0031308?12.92*t:1.055*t**(1/2.4)-.055,0)));return{r:Math.round(255*r[0]),g:Math.round(255*r[1]),b:Math.round(255*r[2])}}function d(t){let r=[t.x/95.047,t.y/100,t.z/108.883].map(t=>t>(6/29)**3?t**(1/3):1/3*(29/6)**2*t+4/29);return{l:116*r[1]-16,a:500*(r[0]-r[1]),b:200*(r[1]-r[2])}}function y(t){let r=t.l,e=[(r+16)/116+t.a/500,(r+16)/116,(r+16)/116-t.b/200].map(t=>t>6/29?t**3:3*(6/29)**2*(t-4/29));return{x:95.047*e[0],y:100*e[1],z:108.883*e[2]}}function b(t){return l(t)?t:u(t)?h(y(function(t){let r=t.l,e=t.c,n=t.h;return{l:r,a:e*Math.cos(n),b:e*Math.sin(n)}}(t))):a(t)?h(y(t)):"x"in t&&"y"in t&&"z"in t?h(t):s(t)?function(t){let r;let e=(t.h+360)%360/60,n=t.s/100,o=t.v/100*255,i=o*n,l=i*(1-Math.abs(e%2-1));switch(Math.floor(e)){case 0:r={r:i,g:l,b:0};break;case 1:r={r:l,g:i,b:0};break;case 2:r={r:0,g:i,b:l};break;case 3:r={r:0,g:l,b:i};break;case 4:r={r:l,g:0,b:i};break;case 5:case 6:r={r:i,g:0,b:l};break;default:r={r:0,g:0,b:0}}return r.r=Math.round(r.r+o-i),r.g=Math.round(r.g+o-i),r.b=Math.round(r.b+o-i),r}(t):t}function g(t){return s(t)?t:function(t){let r=t.r,e=t.g,n=t.b,o=Math.max(r,e,n),i=o-Math.min(r,e,n),l=o,s=0===i?0:o===r?(e-n)/i%6:o===e?(n-r)/i+2:(r-e)/i+4,a=0===i?0:i/l;return s<0&&(s+=6),{h:s*=60,s:a*=100,v:l*=100/255}}(b(t))}function S(t){return a(t)?t:d(p(b(t)))}function x(t){return u(t)?t:function(t){let r=t.l,e=t.a,n=t.b,o=Math.atan2(n,e);return{l:r,c:Math.sqrt(e*e+n*n),h:o=o>0?o:o+2*Math.PI}}(d(p(b(t))))}function v(t,r){let{r:e,g:n,b:o}=r?.ignoreAlpha?t:function(t){let{r,g:e,b:n,a:o}=t;return o<1&&(r=Math.round(o*r+255*(1-o)),e=Math.round(o*e+255*(1-o)),n=Math.round(o*n+255*(1-o))),new i.Z({r,g:e,b:n})}(t);return .2126*e+.7152*n+.0722*o}(n=o||(o={}))[n.Low=160]="Low",n[n.High=225]="High"},91380:function(t,r,e){e.r(r),e.d(r,{default:function(){return k}}),e(55066);var n,o=e(83027),i=e(53568),l=e(356),s=e(92477),a=e(44159),u=e(40845),c=e(54292),f=e(70813),m=e(43935),p=e(86641);e(65223),e(37180),e(3457),e(94605);var h=e(28305),d=e(64186),y=e(69934);let b=n=class extends y.Z{constructor(){super(...arguments),this.type="identity"}clone(){return new n}};(0,p._)([(0,h.J)({IdentityXform:"identity"})],b.prototype,"type",void 0);let g=b=n=(0,p._)([(0,d.j)("esri.layers.support.rasterTransforms.IdentityTransform")],b);var S=e(3280);let x={GCSShiftXform:m.Z,IdentityXform:g,PolynomialXform:S.Z};Object.keys(x);var v=e(86448),O=e(24738),Z=e(9377),J=e(33876);class k{convertVectorFieldData(t){let r=i.Z.fromJSON(t.pixelBlock),e=(0,f.KC)(r,t.type);return Promise.resolve(null!=e?e.toJSON():null)}computeStatisticsHistograms(t){let r=i.Z.fromJSON(t.pixelBlock);return Promise.resolve((0,c.js)(r))}async decode(t){let r=await (0,l.J)(t.data,t.options);return r&&r.toJSON()}symbolize(t){t.pixelBlock=i.Z.fromJSON(t.pixelBlock),t.extent=t.extent?Z.Z.fromJSON(t.extent):null;let r=this.symbolizer.symbolize(t);return Promise.resolve(null!=r?r.toJSON():null)}async updateSymbolizer(t){this.symbolizer=v.Z.fromJSON(t.symbolizerJSON),t.histograms&&"rasterStretch"===this.symbolizer?.rendererJSON.type&&(this.symbolizer.rendererJSON.histograms=t.histograms)}async updateRasterFunction(t){this.rasterFunction=(0,a.Ue)(t.rasterFunctionJSON)}async process(t){let r=this.rasterFunction.process({extent:Z.Z.fromJSON(t.extent),primaryPixelBlocks:t.primaryPixelBlocks.map(t=>null!=t?i.Z.fromJSON(t):null),primaryPixelSizes:t.primaryPixelSizes?.map(t=>null!=t?J.Z.fromJSON(t):null),primaryRasterIds:t.primaryRasterIds});return null!=r?r.toJSON():null}stretch(t){let r=this.symbolizer.simpleStretch(i.Z.fromJSON(t.srcPixelBlock),t.stretchParams);return Promise.resolve(r?.toJSON())}estimateStatisticsHistograms(t){return Promise.resolve((0,c.Hv)(i.Z.fromJSON(t.srcPixelBlock)))}split(t){let r=(0,s.Vl)(i.Z.fromJSON(t.srcPixelBlock),t.tileSize,t.maximumPyramidLevel??0,!1===t.useBilinear);return r&&r.forEach((t,e)=>{r.set(e,t?.toJSON())}),Promise.resolve(r)}clipTile(t){let r=i.Z.fromJSON(t.pixelBlock),e=(0,s.Uu)({...t,pixelBlock:r});return Promise.resolve(e?.toJSON())}async mosaicAndTransform(t){let r=t.srcPixelBlocks.map(t=>t?new i.Z(t):null),e=(0,s.us)(r,t.srcMosaicSize,{blockWidths:t.blockWidths,alignmentInfo:t.alignmentInfo,clipOffset:t.clipOffset,clipSize:t.clipSize}),n,o=e;return t.coefs&&(o=(0,s.Uk)(e,t.destDimension,t.coefs,t.sampleSpacing,t.interpolation)),t.projectDirections&&t.gcsGrid&&(n=(0,s.Qh)(t.destDimension,t.gcsGrid),o=(0,f.xQ)(o,t.isUV?"vector-uv":"vector-magdir",n)),{pixelBlock:o?.toJSON(),localNorthDirections:n}}async createFlowMesh(t,r){let e={data:new Float32Array(t.flowData.buffer),mask:new Uint8Array(t.flowData.maskBuffer),width:t.flowData.width,height:t.flowData.height},{vertexData:n,indexData:o}=await (0,O.GE)(t.meshType,t.simulationSettings,e,r.signal);return{result:{vertexBuffer:n.buffer,indexBuffer:o.buffer},transferList:[n.buffer,o.buffer]}}async getProjectionOffsetGrid(t){let r=Z.Z.fromJSON(t.projectedExtent),e=Z.Z.fromJSON(t.srcBufferExtent),n=null;t.datumTransformationSteps&&(n=new o.Z({steps:t.datumTransformationSteps})),(t.includeGCSGrid||(0,u.Mk)(r.spatialReference,e.spatialReference,n))&&await (0,u.zD)();let i=t.rasterTransform?function(t){if(!t?.type)return null;let r=x[t?.type];if(r){let e=new r;return e.read(t),e}return null}(t.rasterTransform):null;return(0,u.Qp)({...t,projectedExtent:r,srcBufferExtent:e,datumTransformation:n,rasterTransform:i})}}},3537:function(t,r,e){e.d(r,{Z:function(){return p}});var n,o=e(86641),i=e(87585),l=e(61764),s=e(89312),a=e(61733),u=e(28305),c=e(64186),f=e(75755);let m=n=class extends f.Z{constructor(t){super(t),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new n({fromColor:(0,l.d9)(this.fromColor),toColor:(0,l.d9)(this.toColor),algorithm:this.algorithm})}};(0,o._)([(0,u.J)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],m.prototype,"algorithm",void 0),(0,o._)([(0,s.Cb)({type:i.Z,json:{type:[a.z8],write:!0}})],m.prototype,"fromColor",void 0),(0,o._)([(0,s.Cb)({type:i.Z,json:{type:[a.z8],write:!0}})],m.prototype,"toColor",void 0),(0,o._)([(0,s.Cb)({type:["algorithmic"]})],m.prototype,"type",void 0);let p=m=n=(0,o._)([(0,c.j)("esri.rest.support.AlgorithmicColorRamp")],m)},75755:function(t,r,e){e.d(r,{Z:function(){return a}});var n=e(86641),o=e(689),i=e(89312);e(37180),e(65223),e(3457);var l=e(64186);let s=class extends o.wq{constructor(t){super(t),this.type=null}};(0,n._)([(0,i.Cb)({readOnly:!0,json:{read:!1,write:!0}})],s.prototype,"type",void 0);let a=s=(0,n._)([(0,l.j)("esri.rest.support.ColorRamp")],s)},1310:function(t,r,e){e.d(r,{Z:function(){return f}});var n,o=e(86641),i=e(61764),l=e(89312);e(37180),e(65223);var s=e(64186),a=e(3537),u=e(75755);let c=n=class extends u.Z{constructor(t){super(t),this.colorRamps=null,this.type="multipart"}clone(){return new n({colorRamps:(0,i.d9)(this.colorRamps)})}};(0,o._)([(0,l.Cb)({type:[a.Z],json:{write:!0}})],c.prototype,"colorRamps",void 0),(0,o._)([(0,l.Cb)({type:["multipart"]})],c.prototype,"type",void 0);let f=c=n=(0,o._)([(0,s.j)("esri.rest.support.MultipartColorRamp")],c)},49971:function(t,r,e){e.d(r,{V:function(){return l},i:function(){return s}});var n=e(3537),o=e(75755),i=e(1310);let l={key:"type",base:o.Z,typeMap:{algorithmic:n.Z,multipart:i.Z}};function s(t){return t?.type?"algorithmic"===t.type?n.Z.fromJSON(t):"multipart"===t.type?i.Z.fromJSON(t):null:null}}}]);