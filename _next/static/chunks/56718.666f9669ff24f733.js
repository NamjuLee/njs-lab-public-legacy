"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[56718],{21234:function(e,t,i){i.d(t,{Z:function(){return c}});var r=i(86641),n=i(23427),l=i(689),s=i(942),o=i(89312);i(37180),i(65223),i(3457);var a=i(28305),u=i(64186),p=i(28903);let d=class extends(0,n.J)(l.wq){constructor(e){super(e),this.unit="milliseconds",this.value=0}toMilliseconds(){return(0,s.rJ)(this.value,this.unit,"milliseconds")}};(0,r._)([(0,a.J)(p.v,{nonNullable:!0})],d.prototype,"unit",void 0),(0,r._)([(0,o.Cb)({type:Number,json:{write:!0},nonNullable:!0})],d.prototype,"value",void 0);let c=d=(0,r._)([(0,u.j)("esri.TimeInterval")],d)},98646:function(e,t,i){i.d(t,{F:function(){return p},M:function(){return r}});let r={Base64:0,Hex:1,String:2,Raw:3};function n(e,t){let i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function l(e,t,i,r,l,s){var o;return n((o=n(n(t,e),n(r,s)))<<l|o>>>32-l,i)}function s(e,t,i,r,n,s,o){return l(t&i|~t&r,e,t,n,s,o)}function o(e,t,i,r,n,s,o){return l(t&r|i&~r,e,t,n,s,o)}function a(e,t,i,r,n,s,o){return l(t^i^r,e,t,n,s,o)}function u(e,t,i,r,n,s,o){return l(i^(t|~r),e,t,n,s,o)}function p(e,t=r.Hex){let i=t||r.Base64,l=function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let i=1732584193,r=-271733879,l=-1732584194,p=271733878;for(let t=0;t<e.length;t+=16){let d=i,c=r,f=l,y=p;i=s(i,r,l,p,e[t],7,-680876936),p=s(p,i,r,l,e[t+1],12,-389564586),l=s(l,p,i,r,e[t+2],17,606105819),r=s(r,l,p,i,e[t+3],22,-1044525330),i=s(i,r,l,p,e[t+4],7,-176418897),p=s(p,i,r,l,e[t+5],12,1200080426),l=s(l,p,i,r,e[t+6],17,-1473231341),r=s(r,l,p,i,e[t+7],22,-45705983),i=s(i,r,l,p,e[t+8],7,1770035416),p=s(p,i,r,l,e[t+9],12,-1958414417),l=s(l,p,i,r,e[t+10],17,-42063),r=s(r,l,p,i,e[t+11],22,-1990404162),i=s(i,r,l,p,e[t+12],7,1804603682),p=s(p,i,r,l,e[t+13],12,-40341101),l=s(l,p,i,r,e[t+14],17,-1502002290),r=s(r,l,p,i,e[t+15],22,1236535329),i=o(i,r,l,p,e[t+1],5,-165796510),p=o(p,i,r,l,e[t+6],9,-1069501632),l=o(l,p,i,r,e[t+11],14,643717713),r=o(r,l,p,i,e[t],20,-373897302),i=o(i,r,l,p,e[t+5],5,-701558691),p=o(p,i,r,l,e[t+10],9,38016083),l=o(l,p,i,r,e[t+15],14,-660478335),r=o(r,l,p,i,e[t+4],20,-405537848),i=o(i,r,l,p,e[t+9],5,568446438),p=o(p,i,r,l,e[t+14],9,-1019803690),l=o(l,p,i,r,e[t+3],14,-187363961),r=o(r,l,p,i,e[t+8],20,1163531501),i=o(i,r,l,p,e[t+13],5,-1444681467),p=o(p,i,r,l,e[t+2],9,-51403784),l=o(l,p,i,r,e[t+7],14,1735328473),r=o(r,l,p,i,e[t+12],20,-1926607734),i=a(i,r,l,p,e[t+5],4,-378558),p=a(p,i,r,l,e[t+8],11,-2022574463),l=a(l,p,i,r,e[t+11],16,1839030562),r=a(r,l,p,i,e[t+14],23,-35309556),i=a(i,r,l,p,e[t+1],4,-1530992060),p=a(p,i,r,l,e[t+4],11,1272893353),l=a(l,p,i,r,e[t+7],16,-155497632),r=a(r,l,p,i,e[t+10],23,-1094730640),i=a(i,r,l,p,e[t+13],4,681279174),p=a(p,i,r,l,e[t],11,-358537222),l=a(l,p,i,r,e[t+3],16,-722521979),r=a(r,l,p,i,e[t+6],23,76029189),i=a(i,r,l,p,e[t+9],4,-640364487),p=a(p,i,r,l,e[t+12],11,-421815835),l=a(l,p,i,r,e[t+15],16,530742520),r=a(r,l,p,i,e[t+2],23,-995338651),i=u(i,r,l,p,e[t],6,-198630844),p=u(p,i,r,l,e[t+7],10,1126891415),l=u(l,p,i,r,e[t+14],15,-1416354905),r=u(r,l,p,i,e[t+5],21,-57434055),i=u(i,r,l,p,e[t+12],6,1700485571),p=u(p,i,r,l,e[t+3],10,-1894986606),l=u(l,p,i,r,e[t+10],15,-1051523),r=u(r,l,p,i,e[t+1],21,-2054922799),i=u(i,r,l,p,e[t+8],6,1873313359),p=u(p,i,r,l,e[t+15],10,-30611744),l=u(l,p,i,r,e[t+6],15,-1560198380),r=u(r,l,p,i,e[t+13],21,1309151649),i=u(i,r,l,p,e[t+4],6,-145523070),p=u(p,i,r,l,e[t+11],10,-1120210379),l=u(l,p,i,r,e[t+2],15,718787259),r=u(r,l,p,i,e[t+9],21,-343485551),i=n(i,d),r=n(r,c),l=n(l,f),p=n(p,y)}return[i,r,l,p]}(function(e){let t=[];for(let i=0,r=8*e.length;i<r;i+=8)t[i>>5]|=(255&e.charCodeAt(i/8))<<i%32;return t}(e),8*e.length);switch(i){case r.Raw:return l;case r.Hex:return function(e){let t="0123456789abcdef",i=[];for(let r=0,n=4*e.length;r<n;r++)i.push(t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15));return i.join("")}(l);case r.String:return function(e){let t=[];for(let i=0,r=32*e.length;i<r;i+=8)t.push(String.fromCharCode(e[i>>5]>>>i%32&255));return t.join("")}(l);case r.Base64:return function(e){let t=[];for(let i=0,r=4*e.length;i<r;i+=3){let r=(e[i>>2]>>i%4*8&255)<<16|(e[i+1>>2]>>(i+1)%4*8&255)<<8|e[i+2>>2]>>(i+2)%4*8&255;for(let n=0;n<4;n++)8*i+6*n>32*e.length?t.push("="):t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>6*(3-n)&63))}return t.join("")}(l)}}},18891:function(e,t,i){i.d(t,{b:function(){return u},d:function(){return a}});var r=i(86641),n=i(89312);i(37180),i(65223),i(3457);var l=i(64186),s=i(31389);let o={write:{allowNull:!0}},a={type:s.Z,json:{origins:{"web-map":o,"portal-item":o}}},u=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return(0,r._)([(0,n.Cb)(a)],t.prototype,"featureEffect",void 0),t=(0,r._)([(0,l.j)("esri.layers.mixins.FeatureEffectLayer")],t)}},43825:function(e,t,i){i.d(t,{M:function(){return j}});var r=i(86641);i(97278),i(79073),i(92494),i(57489),i(54844),i(21153);var n=i(1406);i(94267),i(90071);var l=i(65223),s=i(20128),o=i(89312),a=i(37180);i(3457);var u=i(64186),p=i(86645),d=i(85959),c=i(39144),f=i(40070);i(21161);var y=i(94605),m=i(98646),b=i(13108),h=i(17223),v=i(96938);let w=()=>l.Z.getLogger("esri.views.2d.layers.support.clusterUtils");a.Z.add("esri-cluster-arcade-enabled",!0);let _=(0,a.Z)("esri-cluster-arcade-enabled"),g=new Set(["simple-line","simple-fill","picture-fill"]);function x(e,t){let i=t.clone();if(!C(i))return i;if(t.getSymbols().some(e=>g.has(e.type))&&(i=new n.Z({symbol:new v.Z})),i.authoringInfo||(i.authoringInfo=new h.Z),i.authoringInfo.isAutoGenerated=!0,"visualVariables"in i){let t=(i.visualVariables||[]).filter(e=>"$view.scale"!==e.valueExpression);t.forEach(t=>{"rotation"===t.type?t.field?t.field=I(e,t.field,"avg_angle","number"):t.valueExpression&&(t.field=E(e,t.valueExpression,"avg_angle","number"),t.valueExpression=null):t.normalizationField?(t.field=I(e,t.field,"avg_norm","number",t.normalizationField),t.normalizationField=null):t.field?t.field=I(e,t.field,"avg","number"):t.valueExpression&&(t.field=E(e,t.valueExpression,"avg","number"),t.valueExpression=null)}),i.visualVariables=t}switch(i.type){case"simple":break;case"pie-chart":for(let t of i.attributes)t.field?t.field=I(e,t.field,"sum","number"):t.valueExpression&&(t.field=E(e,t.valueExpression,"sum","number"),t.valueExpression=null);break;case"unique-value":i.field?i.field=I(e,i.field,"mode","string"):i.valueExpression&&(i.field=E(e,i.valueExpression,"mode","string"),i.valueExpression=null);break;case"class-breaks":i.normalizationField?(i.field=I(e,i.field,"avg_norm","number",i.normalizationField),i.normalizationField=null):i.field?i.field=I(e,i.field,"avg","number"):i.valueExpression&&(i.field=E(e,i.valueExpression,"avg","number"),i.valueExpression=null)}return i}let C=e=>{let t=t=>w().error(new y.Z("Unsupported-renderer",t,{renderer:e}));if(!e)return!1;switch(e.type){case"unique-value":if(e.field2||e.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(e.normalizationField){let i=e.normalizationType;if("field"!==i)return t(`FeatureReductionCluster does not support a normalizationType of ${i}`),!1}break;case"simple":case"pie-chart":break;default:return t(`FeatureReductionCluster does not support renderers of type ${e.type}`),!1}if(!_){if("valueExpression"in e&&e.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in e&&e.visualVariables||[]).some(e=>!(!("valueExpression"in e)||!e.valueExpression)))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function E(e,t,i,r){let n=(0,m.F)(t),l="mode"===i?`cluster_type_${n}`:"sum"===i?`cluster_sum_${n}`:`cluster_avg_${n}`;return e.some(e=>e.name===l)||e.push(new p.Z({name:l,isAutoGenerated:!0,onStatisticExpression:new b.Z({expression:t,returnType:r}),statisticType:i})),l}function I(e,t,i,r,n){if("cluster_count"===t||e.some(e=>e.name===t))return t;let l=function(e,t,i){switch(e){case"sum":return`cluster_sum_${t}`;case"avg":case"avg_angle":return`cluster_avg_${t}`;case"mode":return`cluster_type_${t}`;case"avg_norm":{let e=t.toLowerCase()+",norm:field,"+i.toLowerCase();return"cluster_avg_"+(0,m.F)(e)}}}(i,t,n);return e.some(e=>e.name===l)||("avg_norm"===i?e.push(new p.Z({name:l,isAutoGenerated:!0,onStatisticExpression:new b.Z({expression:`$feature.${t} / $feature.${n}`,returnType:r}),statisticType:"avg"})):e.push(new p.Z({name:l,isAutoGenerated:!0,onStatisticField:t,statisticType:i}))),l}let j=e=>{let t=class extends e{constructor(...e){super(...e),this.addHandles((0,s.YP)(()=>this.renderer,()=>{if(this.featureReduction){let e=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",e)}},s.Z_))}set featureReduction(e){let t=this._normalizeFeatureReduction(e);this._set("featureReduction",t)}set renderer(e){}_withClusterVariable(e,t,i){let r=e.clone();return"visualVariables"in r&&(r.visualVariables||(r.visualVariables=[]),r.visualVariables.some(e=>"size"===e.type)||r.visualVariables.push(new c.Z({field:"cluster_count",stops:[new f.Z({value:1}),new f.Z({useMinValue:!0,size:t}),new f.Z({useMaxValue:!0,size:i})]}))),r}_normalizeFeatureReduction(e){if("cluster"!==e?.type)return e;let t=e.clone(),i=[new p.Z({name:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],r=(t.fields??[]).filter(e=>!e.isAutoGenerated),l=e.renderer&&!e.renderer.authoringInfo?.isAutoGenerated,{clusterMinSize:s,clusterMaxSize:o}=t;if(l){t.fields=[...i,...r];let e=this._withClusterVariable(t.renderer,s,o);return t.effectiveFeatureRenderer=e,t.effectiveClusterRenderer=e,t}if(e.symbol){if(t.fields=[...i,...r],t.renderer=null,!this.renderer)return t.effectiveFeatureRenderer=null,t.effectiveClusterRenderer=null,t;let l=x(i,this.renderer),a=this._withClusterVariable(l,s,o),u="visualVariables"in a&&a.visualVariables?a.visualVariables:[],p=new n.Z({symbol:e.symbol,visualVariables:u});return t.fields=[...i,...r],t.effectiveFeatureRenderer=a,t.effectiveClusterRenderer=p,t}if(!this.renderer)return e;let a=x(i,this.renderer);t.fields=[...i,...r],t.renderer=a;let u=this._withClusterVariable(a,s,o);return t.effectiveFeatureRenderer=u,t.effectiveClusterRenderer=u,t}};return(0,r._)([(0,o.Cb)(d.d)],t.prototype,"featureReduction",null),t=(0,r._)([(0,u.j)("esri.layers.mixins.FeatureReductionLayer")],t)}},81124:function(e,t,i){i.d(t,{I:function(){return f},n:function(){return y}});var r=i(86641),n=i(14627),l=i(21234),s=i(89312);i(37180),i(65223),i(3457);var o=i(37647),a=i(64186),u=i(57111),p=i(67009),d=i(82200),c=i(28903);let f={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:u.C}}},y=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(e,t){let i=t.timeInfo.exportOptions;if(!i)return null;let r=i.timeOffset,n=c.v.fromJSON(i.timeOffsetUnits);return r&&n?new l.Z({value:r,unit:n}):null}set timeInfo(e){(0,p.UF)(e,this.fieldsIndex),this._set("timeInfo",e)}};return(0,r._)([(0,s.Cb)({type:n.Z,json:{write:!1}})],t.prototype,"timeExtent",void 0),(0,r._)([(0,s.Cb)({type:l.Z})],t.prototype,"timeOffset",void 0),(0,r._)([(0,o.r)("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),(0,r._)([(0,s.Cb)({value:null,type:d.Z,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),(0,r._)([(0,s.Cb)(f)],t.prototype,"useViewTime",void 0),t=(0,r._)([(0,a.j)("esri.layers.mixins.TemporalLayer")],t)}},86645:function(e,t,i){i.d(t,{Z:function(){return d}});var r,n=i(86641),l=i(689),s=i(61764),o=i(89312);i(37180),i(65223);var a=i(64186),u=i(13108);let p=r=class extends l.wq{constructor(e){super(e),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new r({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:(0,s.d9)(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};(0,n._)([(0,o.Cb)({type:Boolean,json:{write:!0}})],p.prototype,"isAutoGenerated",void 0),(0,n._)([(0,o.Cb)({type:String,json:{write:!0}})],p.prototype,"name",void 0),(0,n._)([(0,o.Cb)({type:String,json:{write:!0}})],p.prototype,"alias",void 0),(0,n._)([(0,o.Cb)({type:String,json:{write:!0}})],p.prototype,"onStatisticField",void 0),(0,n._)([(0,o.Cb)({type:u.Z,json:{write:!0}})],p.prototype,"onStatisticExpression",void 0),(0,n._)([(0,o.Cb)({type:String,json:{write:!0}})],p.prototype,"statisticType",void 0);let d=p=r=(0,n._)([(0,a.j)("esri.layers.support.AggregateField")],p)},13108:function(e,t,i){i.d(t,{Z:function(){return u}});var r=i(86641),n=i(23427),l=i(689),s=i(89312);i(37180),i(65223),i(3457);var o=i(64186);let a=class extends(0,n.J)(l.wq){constructor(e){super(e),this.expression=null,this.title=null,this.returnType=null}};(0,r._)([(0,s.Cb)({type:String,json:{write:!0}})],a.prototype,"expression",void 0),(0,r._)([(0,s.Cb)({type:String,json:{write:!0}})],a.prototype,"title",void 0),(0,r._)([(0,s.Cb)({type:String,json:{write:!0}})],a.prototype,"returnType",void 0);let u=a=(0,r._)([(0,o.j)("esri.layers.support.ExpressionInfo")],a)},31389:function(e,t,i){i.d(t,{Z:function(){return b}});var r,n=i(86641),l=i(94605),s=i(689),o=i(49119),a=i(89312);i(37180),i(65223),i(3457);var u=i(64186),p=i(3112),d=i(8282);let c={read:{reader:p.ij},write:{writer:p.cW,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},f={read:{reader:p.ij},write:{writer:p.cW,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},y={name:"showExcludedLabels",default:!0},m=r=class extends s.wq{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){let i=super.write(e,t);if(t?.origin){if(i.filter){let e=Object.keys(i.filter);if(e.length>1||"where"!==e[0])return t.messages?.push(new l.Z("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in i)return t.messages?.push(new l.Z("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return i}clone(){return new r({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};(0,n._)([(0,a.Cb)({type:d.Z,json:{write:{allowNull:!0,writer(e,t,i,r){let n=e?.write({},r);n&&0!==Object.keys(n).length?(0,o.RB)(i,n,t):(0,o.RB)(i,null,t)}}}})],m.prototype,"filter",void 0),(0,n._)([(0,a.Cb)({json:{read:p.ij,write:{writer:p.cW,allowNull:!0},origins:{"web-map":c,"portal-item":c}}})],m.prototype,"includedEffect",void 0),(0,n._)([(0,a.Cb)({json:{read:p.ij,write:{writer:p.cW,allowNull:!0},origins:{"web-map":f,"portal-item":f}}})],m.prototype,"excludedEffect",void 0),(0,n._)([(0,a.Cb)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":y,"portal-item":y}}})],m.prototype,"excludedLabelsVisible",void 0);let b=m=r=(0,n._)([(0,u.j)("esri.layers.support.FeatureEffect")],m)},8282:function(e,t,i){i.d(t,{Z:function(){return b}});var r,n=i(86641),l=i(55066),s=i(14627),o=i(740),a=i(689),u=i(61764),p=i(89312);i(37180),i(65223);var d=i(64186),c=i(68468);let f=new o.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),y=new o.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),m=r=class extends a.wq{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){let{where:t,geometry:i,spatialRelationship:r,timeExtent:n,objectIds:l,units:s,distance:o}=this;return new c.Z({geometry:(0,u.d9)(i),objectIds:(0,u.d9)(l),spatialRelationship:r,timeExtent:(0,u.d9)(n),where:t,units:s,distance:o,...e})}clone(){let{where:e,geometry:t,spatialRelationship:i,timeExtent:n,objectIds:l,units:s,distance:o}=this;return new r({geometry:(0,u.d9)(t),objectIds:(0,u.d9)(l),spatialRelationship:i,timeExtent:(0,u.d9)(n),where:e,units:s,distance:o})}};(0,n._)([(0,p.Cb)({type:String,json:{write:!0}})],m.prototype,"where",void 0),(0,n._)([(0,p.Cb)({types:l.qM,json:{write:!0}})],m.prototype,"geometry",void 0),(0,n._)([(0,p.Cb)({type:f.apiValues,json:{name:"spatialRel",read:{reader:f.read},write:{allowNull:!1,writer:f.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],m.prototype,"spatialRelationship",void 0),(0,n._)([(0,p.Cb)({type:Number,json:{write:{overridePolicy(e){return{enabled:null!=e&&null!=this.geometry}}}}})],m.prototype,"distance",void 0),(0,n._)([(0,p.Cb)({type:[Number],json:{write:!0}})],m.prototype,"objectIds",void 0),(0,n._)([(0,p.Cb)({type:y.apiValues,json:{read:y.read,write:{writer:y.write,overridePolicy(e){return{enabled:null!=e&&null!=this.geometry}}}}})],m.prototype,"units",void 0),(0,n._)([(0,p.Cb)({type:s.Z,json:{write:!0}})],m.prototype,"timeExtent",void 0);let b=m=r=(0,n._)([(0,d.j)("esri.layers.support.FeatureFilter")],m)},79658:function(e,t,i){i.d(t,{B:function(){return o}});var r=i(86641),n=i(689),l=i(89312);i(37180),i(65223),i(3457);var s=i(64186);let o=class extends n.wq{constructor(){super(...arguments),this.type=null}};(0,r._)([(0,l.Cb)({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],o.prototype,"type",void 0),o=(0,r._)([(0,s.j)("esri.layers.support.FeatureReduction")],o)},35262:function(e,t,i){i.d(t,{Z:function(){return u}});var r,n=i(86641),l=i(89312);i(37180),i(65223),i(3457);var s=i(64186),o=i(79658);let a=r=class extends o.B{constructor(e){super(e),this.type="selection"}clone(){return new r}};(0,n._)([(0,l.Cb)({type:["selection"]})],a.prototype,"type",void 0);let u=a=r=(0,n._)([(0,s.j)("esri.layers.support.FeatureReductionSelection")],a)},82200:function(e,t,i){i.d(t,{Z:function(){return m}});var r=i(86641),n=i(14627),l=i(21234),s=i(23427),o=i(689),a=i(89312);i(37180),i(65223),i(3457);var u=i(37647),p=i(64186),d=i(50713),c=i(46200);function f(e,t){return l.Z.fromJSON({value:e,unit:t})}let y=class extends(0,s.J)(o.wq){constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(e,t){return t.timeExtent&&Array.isArray(t.timeExtent)&&2===t.timeExtent.length?n.Z.fromArray(t.timeExtent):null}writeFullTimeExtent(e,t){null!=e?.start&&null!=e.end?t.timeExtent=e.toArray():t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?f(t.timeInterval,t.timeIntervalUnits):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?f(t.defaultTimeInterval,t.defaultTimeIntervalUnits):null}writeInterval(e,t){t.timeInterval=e?.toJSON().value??null,t.timeIntervalUnits=e?.toJSON().unit??null}};(0,r._)([(0,a.Cb)({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],y.prototype,"cumulative",void 0),(0,r._)([(0,a.Cb)({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],y.prototype,"endField",void 0),(0,r._)([(0,a.Cb)({type:n.Z,json:{write:{enabled:!0,allowNull:!0}}})],y.prototype,"fullTimeExtent",void 0),(0,r._)([(0,u.r)("fullTimeExtent",["timeExtent"])],y.prototype,"readFullTimeExtent",null),(0,r._)([(0,d.c)("fullTimeExtent")],y.prototype,"writeFullTimeExtent",null),(0,r._)([(0,a.Cb)({type:Boolean,json:{write:!0}})],y.prototype,"hasLiveData",void 0),(0,r._)([(0,a.Cb)({type:l.Z,json:{write:{enabled:!0,allowNull:!0}}})],y.prototype,"interval",void 0),(0,r._)([(0,u.r)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],y.prototype,"readInterval",null),(0,r._)([(0,d.c)("interval")],y.prototype,"writeInterval",null),(0,r._)([(0,a.Cb)({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],y.prototype,"startField",void 0),(0,r._)([(0,a.Cb)((0,c.mi)("timeReference",!0))],y.prototype,"timeZone",void 0),(0,r._)([(0,a.Cb)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],y.prototype,"trackIdField",void 0),(0,r._)([(0,a.Cb)({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],y.prototype,"useTime",void 0),(0,r._)([(0,a.Cb)({type:[Date],json:{read:!1}})],y.prototype,"stops",void 0);let m=y=(0,r._)([(0,p.j)("esri.layers.support.TimeInfo")],y)},85959:function(e,t,i){i.d(t,{d:function(){return V}});var r,n,l=i(57111),s=i(79658),o=i(86641),a=i(23504);i(97278),i(79073),i(92494),i(57489),i(54844),i(21153);var u=i(1406);i(94267);var p=i(90071),d=i(13676),c=i(61764),f=i(49119),y=i(4392),m=i(89312);i(37180),i(65223);var b=i(28305),h=i(37647),v=i(64186),w=i(50713),_=i(86645),g=i(78298),x=i(10119),C=i(32901);let E=r=class extends s.B{constructor(e){super(e),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=(0,y.t_)("12px"),this.fields=[],this.renderer=null}writeFields(e,t,i){let r=e.filter(e=>"avg_angle"!==e.statisticType).map(e=>e.toJSON());(0,f.RB)(i,r,t)}readRenderer(e,t,i){let r=t.drawingInfo?.renderer;return r?(0,p.a)(r,t,i)??void 0:(0,x.Ob)(t,i)}clone(){return new r({fields:(0,c.d9)(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:(0,c.d9)(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:(0,c.d9)(this.popupTemplate),renderer:(0,c.d9)(this.renderer),binType:(0,c.d9)(this.binType),size:this.size})}};(0,o._)([(0,b.J)({binning:"binning"})],E.prototype,"type",void 0),(0,o._)([(0,b.J)({geohash:"geohash",square:"square"}),(0,m.Cb)({type:["geohash","square"]})],E.prototype,"binType",void 0),(0,o._)([(0,m.Cb)({type:Number,json:{write:!0}})],E.prototype,"fixedBinLevel",void 0),(0,o._)([(0,m.Cb)({type:[C.Z],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],E.prototype,"labelingInfo",void 0),(0,o._)([(0,m.Cb)(g.iR)],E.prototype,"labelsVisible",void 0),(0,o._)([(0,m.Cb)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],E.prototype,"maxScale",void 0),(0,o._)([(0,m.Cb)(g.C_)],E.prototype,"popupEnabled",void 0),(0,o._)([(0,m.Cb)({type:a.Z,json:{name:"popupInfo",write:!0}})],E.prototype,"popupTemplate",void 0),(0,o._)([(0,m.Cb)({type:Number,cast:e=>"auto"===e?e:(0,y.t_)(e)})],E.prototype,"size",void 0),(0,o._)([(0,m.Cb)({type:[_.Z],json:{write:!0}})],E.prototype,"fields",void 0),(0,o._)([(0,w.c)("fields")],E.prototype,"writeFields",null),(0,o._)([(0,m.Cb)({types:d.A,json:{write:{target:"drawingInfo.renderer"}}})],E.prototype,"renderer",void 0),(0,o._)([(0,h.r)("renderer",["drawingInfo.renderer"])],E.prototype,"readRenderer",null);let I=E=r=(0,o._)([(0,v.j)("esri.layers.support.FeatureReductionBinning")],E);var j=i(21161),S=i(689);function R(e){return"simple"===e.type&&!e.visualVariables?.length}let T=n=class extends S.wq{constructor(e){super(e),this.type="cluster",this.clusterRadius=(0,y.t_)("80px"),this.clusterMinSize=(0,y.t_)("12px"),this.clusterMaxSize=(0,y.t_)("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(e,t,i){let r=t.drawingInfo?.renderer;return r?.authoringInfo?.isAutoGenerated?null:r?R(r)?null:(0,p.a)(r,t,i)??void 0:(0,x.Ob)(t,i)}readSymbol(e,t,i){let r=t.drawingInfo?.renderer;if(r?.authoringInfo?.isAutoGenerated)return null;if(r&&R(r)){let e=(0,p.a)(r,t,i);return e?.symbol}return null}writeSymbol(e,t,i,r){let n=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||n){let i=new u.Z({symbol:e});t.drawingInfo={renderer:i.write({},r)}}}writeFields(e,t,i){let r=e.filter(e=>"avg_angle"!==e.statisticType).map(e=>e.toJSON());(0,f.RB)(i,r,t)}readFields(e,t,i){return e.filter(e=>!e.isAutoGenerated).map(e=>_.Z.fromJSON(e))}clone(){return new n({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:(0,c.d9)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:(0,c.d9)(this.fields),maxScale:this.maxScale,renderer:(0,c.d9)(this.renderer),symbol:(0,c.d9)(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:(0,c.d9)(this.popupTemplate)})}};(0,o._)([(0,m.Cb)({type:["cluster"],readOnly:!0,json:{write:!0}})],T.prototype,"type",void 0),(0,o._)([(0,m.Cb)({type:Number,cast:e=>"auto"===e?e:(0,y.t_)(e),json:{write:!0}})],T.prototype,"clusterRadius",void 0),(0,o._)([(0,m.Cb)({type:Number,cast:y.t_,json:{write:!0}})],T.prototype,"clusterMinSize",void 0),(0,o._)([(0,m.Cb)({type:Number,cast:y.t_,json:{write:!0}})],T.prototype,"clusterMaxSize",void 0),(0,o._)([(0,m.Cb)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],T.prototype,"maxScale",void 0),(0,o._)([(0,m.Cb)(g.C_)],T.prototype,"popupEnabled",void 0),(0,o._)([(0,m.Cb)({type:a.Z,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],T.prototype,"popupTemplate",void 0),(0,o._)([(0,m.Cb)({types:d.A,json:{write:{target:"drawingInfo.renderer"}}})],T.prototype,"renderer",void 0),(0,o._)([(0,h.r)("renderer",["drawingInfo.renderer"])],T.prototype,"readRenderer",null),(0,o._)([(0,m.Cb)({types:j.AH})],T.prototype,"symbol",void 0),(0,o._)([(0,h.r)("symbol",["drawingInfo.renderer"])],T.prototype,"readSymbol",null),(0,o._)([(0,w.c)("symbol")],T.prototype,"writeSymbol",null),(0,o._)([(0,m.Cb)({type:[C.Z],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],T.prototype,"labelingInfo",void 0),(0,o._)([(0,m.Cb)(g.iR)],T.prototype,"labelsVisible",void 0),(0,o._)([(0,m.Cb)({type:[_.Z],json:{write:!0}})],T.prototype,"fields",void 0),(0,o._)([(0,w.c)("fields")],T.prototype,"writeFields",null),(0,o._)([(0,h.r)("fields")],T.prototype,"readFields",null);let F=T=n=(0,o._)([(0,v.j)("esri.layers.support.FeatureReductionCluster")],T);var Z=i(35262);let N={key:"type",base:s.B,typeMap:{cluster:F,binning:I}},V={types:{key:"type",base:s.B,typeMap:{selection:Z.Z,cluster:F,binning:I}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:N},"portal-item":{types:N},"web-scene":{types:{key:"type",base:s.B,typeMap:{selection:Z.Z}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:l.C}}}}}},70286:function(e,t,i){i.d(t,{v:function(){return a}});var r=i(37180),n=i(65223),l=i(40041),s=i(32370),o=i(67009);function a(){return{fields:{type:[l.Z],value:null,set:function(e){if(e&&(0,r.Z)("big-integer-warning-enabled")){let t=e.filter(e=>"big-integer"===e.type||"oid"===e.type&&(e.length||0)>=8);if(t.length){let e=t.map(e=>`'${e.name}'`).join(", ");n.Z.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${e}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",e)}},fieldsIndex:{readOnly:!0,get(){return s.Z.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){let e=this._userOutFields;if(!e?.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(let t of e)this.fieldsIndex?.has(t)||n.Z.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${t} found in outFields`,{layer:this,outFields:e});return(0,o.Q0)(this.fieldsIndex,e)}}}}},28903:function(e,t,i){i.d(t,{v:function(){return r}});let r=(0,i(740).w)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})}}]);