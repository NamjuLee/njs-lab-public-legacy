(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3724],{15510:function(t){function e(t){return Promise.resolve().then(function(){var e=Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=function(){return[]},e.resolve=e,e.id=15510,t.exports=e},96321:function(t,e,s){"use strict";s.d(e,{G:function(){return n}});var i=s(45169),o=s(20357);class h{Offset(t){}wheel(t){t.deltaY<0?this.scale+=.25*this.scale:this.scale-=.25*this.scale,this.scale=this.scale<.012?.012:this.scale}mouseMove(t,e){this.m[0]=t,this.m[1]=e}render(t){let e=-1*this.m[0]+this.ctx.canvas.width,s=this.data[this.id[this.index]];if(void 0===s)return;l(t,s,this.scale,this.day,this.margin);let i=a(s,this.dataSampling);t.lineWidth=4,t.strokeStyle="#000",this.vizData(t,s,i,this.scale,this.day,this.dataSampling,this.margin,e),t.lineWidth=.5,t.beginPath(),t.moveTo(e,0),t.lineTo(e,this.ctx.canvas.height),t.stroke(),t.beginPath(),t.arc(e,this.m[1],1,0,2*Math.PI),t.fill(),t.fillStyle="#f00",t.beginPath(),t.arc(e,this.selVal,7,0,2*Math.PI),t.fill()}constructor(t,e=0){this.data={},this.day=24,this.scale=.25,this.dataSampling=4,this.margin=25,this.m=[0,0],this.selVal=0,this.selID=0,this.dataRaw=[],this.index=0,this.id=["mass_concentration_of_blue_green_algae_in_sea_water_rfu (RFU)","chlorophyll_fluorescence (RFU)","sea_water_turbidity (1)","sea_water_temperature (K)","sea_water_ph_reported_on_total_scale (1)"],this.vizData=(t,e,s,o,h,a,l,n)=>{let r=t.canvas.height-l;t.beginPath();let c=l,d=(0,i.remap)(e[0],s[0],s[1],r,l);n=Math.floor((n-l)/o),t.moveTo(c,d);for(let h=1;h<e.length;h+=a){let d=l+(c+=1)*o*a,v=0+l,u=0;{let o=!1;for(let t=0;t<a;++t){let s=h+t;s===n&&(o=!0,this.selID=s),u<e[s]&&(u=e[s])}v=(0,i.remap)(u,s[0],s[1],r,l),o&&(this.selVal=v),t.lineTo(d,v)}}t.stroke(),t.save(),t.scale(-1,1),t.fillText(this.dataRaw[this.selID].split(",")[0],10,10),t.restore()},this.ctx=t,this.index=e,document.onkeydown=t=>{this.dataSampling++},(0,i.getCSVFromURL)(o.env.PUBLIC_URL+"/static/data/Watabot/obs_104_1928_d047_15c7.csv").then(t=>{let s=t.split(/\r\n|\r|\n/g);this.dataRaw=s;let i=s[0].split(","),o={},h=!0;for(let t=0;t<i.length;++t)h&&"time (UTC)"===i[t]?(o[i[t]]=[],h=!1):o[i[t]]=new Float32Array(s.length-1);for(let t=1;t<s.length;++t){let e=s[t].split(",");for(let s=0;s<i.length;++s){let h=i.indexOf(i[s]);-1!==h&&(o[i[s]][t-1]=e[h])}}this.data=o;let a=document.createElement("div");a.style.zIndex="1",a.style.color="#000",a.style.fontSize="11px",a.style.position="absolute",a.style.left="10px",a.style.top="5px",a.textContent=this.id[e],this.ctx.canvas.parentElement.appendChild(a),this.render(this.ctx)})}}let a=(t,e)=>{let s=Number.MAX_VALUE,i=Number.MIN_VALUE;for(let o=1;o<t.length;o+=e){let h=t[o];for(let t=0;t<e;++t)s=s>h?h:s,i=i<h?h:i}return[s,i]},l=(t,e,s,i,o)=>{t.setLineDash([2,2]),t.lineWidth=1;for(let h=0;h<e.length;h++){if(t.strokeStyle="rgba(200, 200, 200, 0.8)",s>.1&&h%(12*i)==0){let e=o+h*s;t.beginPath(),t.moveTo(e,o),t.lineTo(e,t.canvas.height-o),t.stroke()}if(t.strokeStyle="rgba(0, 0, 255, 0.8)",s>.02&&h%(12*i*7)==0){let e=o+h*s;t.beginPath(),t.moveTo(e,o),t.lineTo(e,t.canvas.height-o),t.stroke()}if(t.strokeStyle="rgba(0, 255, 0, 0.8)",h%(12*i*30)==0){let e=o+h*s;t.beginPath(),t.moveTo(e,o),t.lineTo(e,t.canvas.height-o),t.stroke()}}t.setLineDash([])};class n{start(){this.loop(this.ctx)}destroy(){window.removeEventListener("resize",this.resize),this.isStatic=!0;try{for(;this.divHost&&this.divHost.lastElementChild;){let t=this.divHost.lastElementChild;this.divHost.removeChild(t)}}catch(t){console.error("Error removing child elements:",t)}}renderUpdate(t){t.clearRect(0,0,t.canvas.width,t.canvas.height),this.render(t)}loop(t){this.isStatic||requestAnimationFrame(()=>{this.renderUpdate(t)})}render(t){this.waterQualityInspector.render(this.ctx)}mouseClick(t,e){this.debugMode&&console.log("click")}mouseDoubleClick(t,e){this.debugMode&&console.log("d-click")}mouseDown(t,e){this.debugMode&&console.log("down")}mouseUp(t,e){this.debugMode&&console.log("up")}mouseMove(t,e){this.debugMode&&console.log("move"),this.waterQualityInspector.mouseMove(t,e),this.loop(this.ctx)}mouseDrag(t,e){this.debugMode&&console.log("drag")}mouseWheel(t){this.debugMode&&console.log("wheel",t)}constructor(t,e=3){this.isDown=!1,this.debugMode=!1,this.isStatic=!1,this.prevent=!1,this.delay=250,this.isDrag=!1,this.resize=()=>{let t=this.divHost.getBoundingClientRect();this.canvas.width=t.width,this.canvas.height=t.height,this.loop(this.ctx)},this.divHost=t;let s=this.divHost.getBoundingClientRect();this.canvas=document.createElement("canvas"),this.canvas.style.position="relative",this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.background="rgba(255, 255, 255, 1.0)",this.canvas.style.borderRadius="15px",this.canvas.width=s.width,this.canvas.height=s.height,this.divHost.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.scale(-1,1),this.ctx.translate(-this.ctx.canvas.width,0),this.canvas.onclick=t=>{this.timer=setTimeout(()=>{this.prevent||this.mouseClick(t.offsetX,t.offsetY),this.isDrag=!1,this.prevent=!1},this.delay),this.loop(this.ctx)},this.canvas.ondblclick=t=>{clearTimeout(this.timer),this.prevent=!0,this.mouseDoubleClick(t.offsetX,t.offsetY),this.loop(this.ctx)},this.canvas.onmousedown=t=>{this.isDown=!0,this.mouseDown(t.offsetX,t.offsetY),this.loop(this.ctx)},this.canvas.onmouseup=t=>{this.isDown=!1,this.isDrag=!1,this.mouseUp(t.offsetX,t.offsetY),this.loop(this.ctx)},this.canvas.onmousemove=t=>{this.isDown?(this.isDrag=!0,this.prevent=!0,this.mouseDrag(t.offsetX,t.offsetY)):this.mouseMove(t.offsetX,t.offsetY)},this.canvas.onwheel=t=>{this.waterQualityInspector.wheel(t),this.loop(this.ctx)},this.waterQualityInspector=new h(this.ctx,e),window.addEventListener("resize",this.resize),this.start()}}},32563:function(t,e,s){"use strict";s.r(e),s.d(e,{Solution:function(){return o}});var i=s(96321);class o{destroy(){this.chartVizWater.destroy();try{for(;this.divHost&&this.divHost.lastElementChild;){let t=this.divHost.lastElementChild;this.divHost.removeChild(t)}}catch(t){console.error("Error removing child elements:",t)}}constructor(t){this.divHost=document.getElementById(t),this.divHost.style.display="flex",this.divHost.style.alignItems="center";let e=document.createElement("div");e.style.marginLeft="auto",e.style.marginRight="auto",e.style.width="900px",e.style.height="500px",this.divHost.appendChild(e),this.chartVizWater=new i.G(e)}}}}]);