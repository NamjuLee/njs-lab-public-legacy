"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[29664,87496,42585,74555],{29664:function(r,e,t){t.r(e),t.d(e,{PointShader:function(){return o}});var a=t(74555);class o extends a.Shader{set(r,e){return this.gl.uniform1f(this.uniformLoc.uPointSize,r),this.gl.uniform1f(this.uniformLoc.uAngle,e),this}constructor(r,e,t){super(r,e,t),this.program&&(this.uniformLoc.uPointSize=r.getUniformLocation(this.program,"uPointSize"),this.uniformLoc.uAngle=r.getUniformLocation(this.program,"uAngle")),r.useProgram(null)}}},87496:function(r,e,t){t.r(e),t.d(e,{GLShaderCommon:function(){return a}});class a{static getShaderProgram(r,e,t){let o=!(arguments.length>3)||void 0===arguments[3]||arguments[3],n=a.createShader(r,r.VERTEX_SHADER,e),i=a.createShader(r,r.FRAGMENT_SHADER,t);return n&&i&&a.createProgram(r,n,i,o)||(console.error("vertex fragment shader error"),null)}static getShader(r,e,t){let a=r.createShader(e);return null===a?null:(r.shaderSource(a,t),r.compileShader(a),r.getShaderParameter(a,r.COMPILE_STATUS))?a:(console.log("An error occurred compiling the shaders:"+r.getShaderInfoLog(a)),r.deleteShader(a),null)}static createProgram(r,e,t){let a=!(arguments.length>3)||void 0===arguments[3]||arguments[3],o=r.createProgram();return null===o?null:(r.attachShader(o,e),r.attachShader(o,t),r.linkProgram(o),r.getProgramParameter(o,r.LINK_STATUS))?a&&(r.validateProgram(o),!r.getProgramParameter(o,r.VALIDATE_STATUS))?(console.error("Failed to validate program",r.getProgramInfoLog(o)),r.deleteProgram(o),r.deleteShader(t),r.deleteShader(e),null):(r.deleteShader(t),r.deleteShader(e),o):(console.log("Failed to link program: "+r.getProgramInfoLog(o)),r.deleteProgram(o),r.deleteShader(t),r.deleteShader(e),null)}static createShader(r,e,t){let a=r.createShader(e);return null===a?null:(r.shaderSource(a,t),r.compileShader(a),r.getShaderParameter(a,r.COMPILE_STATUS))?a:(console.log(r.getShaderInfoLog(a)),r.deleteShader(a),null)}static createShaderFromPath(r,e,t){let o=r.createShader(e);return null===o?null:(r.shaderSource(o,a.getSourceSynch(t)),r.compileShader(o),r.getShaderParameter(o,r.COMPILE_STATUS))?o:(console.log(r.getShaderInfoLog(o)),r.deleteShader(o),null)}static getSourceSynch(r){let e=new XMLHttpRequest;return e.open("GET",r,!1),e.send(null),200===e.status?e.responseText:null}static loadImage(r,e){let t=new Image;t.onload=function(){e(null,t)},t.src=r}}},42585:function(r,e,t){var a,o;t.r(e),t.d(e,{ATTR:function(){return a},AttribLocations:function(){return n},UniformLocations:function(){return i}}),(o=a||(a={})).ATTR_POSITION_NAME="a_position",o[o.ATTR_POSITION_LOC=0]="ATTR_POSITION_LOC",o.ATTR_NORMAL_NAME="a_norm",o[o.ATTR_NORMAL_LOC=1]="ATTR_NORMAL_LOC",o.ATTR_UV_NAME="a_uv",o[o.ATTR_UV_LOC=2]="ATTR_UV_LOC",o[o.ATTR_COLOR_LOC=4]="ATTR_COLOR_LOC",o.ATTR_COLOR_NAME="a_color";class n{constructor(r,e){this.position=r.getAttribLocation(e,"a_norm"),this.normal=r.getAttribLocation(e,"a_norm"),this.uv=r.getAttribLocation(e,"a_uv")}}class i{constructor(r,e){this.perspective=r.getUniformLocation(e,"uPMatrix"),this.modalMatrix=r.getUniformLocation(e,"uMVMatrix"),this.cameraMatrix=r.getUniformLocation(e,"uCameraMatrix"),this.mainTexture=r.getUniformLocation(e,"uMainTex")}}},74555:function(r,e,t){t.r(e),t.d(e,{Shader:function(){return n}});var a=t(87496),o=t(42585);class n{activate(){return this.gl.useProgram(this.program),this}deactivate(){return this.gl.useProgram(null),this}dispose(){this.gl.getParameter(this.gl.CURRENT_PROGRAM)===this.program&&this.gl.useProgram(null),this.gl.deleteProgram(this.program)}setPerspective(r){return this.gl.uniformMatrix4fv(this.uniformLoc.perspective,!1,r),this}setModalMatrix(r){return this.gl.uniformMatrix4fv(this.uniformLoc.modalMatrix,!1,r),this}setCameraMatrix(r){return this.gl.uniformMatrix4fv(this.uniformLoc.cameraMatrix,!1,r),this}preRender(){}renderModal(r){return this.gl.bindVertexArray(r.mesh.vao),r.mesh.indexCount?this.gl.drawElements(r.mesh.drawMode,r.mesh.indexCount,this.gl.UNSIGNED_SHORT,0):this.gl.drawArrays(r.mesh.drawMode,0,r.mesh.vertexCount),this.gl.bindVertexArray(null),this}constructor(r,e,t){this.program=a.GLShaderCommon.getShaderProgram(r,e,t,!0),null!=this.program&&(this.gl=r,r.useProgram(this.program),this.attribLoc=new o.AttribLocations(r,this.program),this.uniformLoc=new o.UniformLocations(r,this.program))}}}}]);