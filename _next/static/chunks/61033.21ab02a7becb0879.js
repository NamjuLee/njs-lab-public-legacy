(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61033],{15510:function(e){function t(e){return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=15510,e.exports=t},75410:function(){},48628:function(){},31601:function(){},67792:function(){},34977:function(){},75042:function(){},21322:function(e,t,n){"use strict";n.d(t,{P:function(){return r}});var i=n(88405);class r{predict1d(e){return e.mul(this.weights[0]).add(this.bias)}predict2d(e){return e.square().mul(this.weights[1]).add(e.mul(this.weights[0])).add(this.bias)}predict3d(e){return e.pow(i.scalar(3)).mul(this.weights[2]).add(e.square().mul(this.weights[1])).add(e.mul(this.weights[0])).add(this.bias)}predict4d(e){return e.pow(i.scalar(4)).mul(this.weights[3]).add(e.pow(i.scalar(3)).mul(this.weights[2])).add(e.square().mul(this.weights[1])).add(e.mul(this.weights[0])).add(this.bias)}predict5d(e){return e.pow(i.scalar(5)).mul(this.weights[4]).add(e.pow(i.scalar(4)).mul(this.weights[3])).add(e.pow(i.scalar(3)).mul(this.weights[2])).add(e.square().mul(this.weights[1])).add(e.mul(this.weights[0])).add(this.bias)}predict(e){return 5===this.dim?this.predict5d(e):4===this.dim?this.predict4d(e):3===this.dim?this.predict3d(e):2===this.dim?this.predict2d(e):(this.dim,this.predict1d(e))}loss(e,t){return e.sub(t).square().mean()}train(e,t){i.tidy(()=>{let n=i.tensor1d(e),r=i.tensor1d(t);this.optimizer.minimize(()=>this.loss(this.predict(n),r))})}constructor(e=0){this.weights=[],this.dim=3,this.leraningRate=.2,this.dim=e;for(let e=0;e<5;++e){let e=i.variable(i.scalar(2*Math.random()-1));e.print(),this.weights.push(e)}this.bias=i.variable(i.scalar(2*Math.random()-1)),this.optimizer=i.train.adam(this.leraningRate)}}},88876:function(e,t,n){"use strict";n.d(t,{NJSCORE:function(){return s},PolynomialRegression:function(){return o.P},RendererThree:function(){return i.T}});var i=n(14540),r=n(45169);n.o(r,"AStart")&&n.d(t,{AStart:function(){return r.AStart}}),n.o(r,"COLOR_BLENDING")&&n.d(t,{COLOR_BLENDING:function(){return r.COLOR_BLENDING}}),n.o(r,"Graph")&&n.d(t,{Graph:function(){return r.Graph}}),n.o(r,"KNN")&&n.d(t,{KNN:function(){return r.KNN}}),n.o(r,"LinearRegression")&&n.d(t,{LinearRegression:function(){return r.LinearRegression}}),n.o(r,"LinearRegressionGradientDescent")&&n.d(t,{LinearRegressionGradientDescent:function(){return r.LinearRegressionGradientDescent}}),n.o(r,"MercatorProjection")&&n.d(t,{MercatorProjection:function(){return r.MercatorProjection}}),n.o(r,"PolynomialRegression")&&n.d(t,{PolynomialRegression:function(){return r.PolynomialRegression}}),n.o(r,"RGBtoGray")&&n.d(t,{RGBtoGray:function(){return r.RGBtoGray}}),n.o(r,"RendererCanvas")&&n.d(t,{RendererCanvas:function(){return r.RendererCanvas}}),n.o(r,"RendererJSAPI")&&n.d(t,{RendererJSAPI:function(){return r.RendererJSAPI}}),n.o(r,"TypeDithering")&&n.d(t,{TypeDithering:function(){return r.TypeDithering}}),n.o(r,"Vector3")&&n.d(t,{Vector3:function(){return r.Vector3}}),n.o(r,"buildNetwork")&&n.d(t,{buildNetwork:function(){return r.buildNetwork}}),n.o(r,"crossProduct")&&n.d(t,{crossProduct:function(){return r.crossProduct}}),n.o(r,"deepCopy")&&n.d(t,{deepCopy:function(){return r.deepCopy}}),n.o(r,"distanceEuclidean")&&n.d(t,{distanceEuclidean:function(){return r.distanceEuclidean}}),n.o(r,"distanceTo")&&n.d(t,{distanceTo:function(){return r.distanceTo}}),n.o(r,"dithering4_4")&&n.d(t,{dithering4_4:function(){return r.dithering4_4}}),n.o(r,"ditheringFloydSteinberg")&&n.d(t,{ditheringFloydSteinberg:function(){return r.ditheringFloydSteinberg}}),n.o(r,"getArrayBinaryImgFromCtx")&&n.d(t,{getArrayBinaryImgFromCtx:function(){return r.getArrayBinaryImgFromCtx}}),n.o(r,"getCSVFromURL")&&n.d(t,{getCSVFromURL:function(){return r.getCSVFromURL}}),n.o(r,"getCheckBox")&&n.d(t,{getCheckBox:function(){return r.getCheckBox}}),n.o(r,"getImgFromURL")&&n.d(t,{getImgFromURL:function(){return r.getImgFromURL}}),n.o(r,"getJSONFromURL")&&n.d(t,{getJSONFromURL:function(){return r.getJSONFromURL}}),n.o(r,"getLineSeg")&&n.d(t,{getLineSeg:function(){return r.getLineSeg}}),n.o(r,"getRandomHex")&&n.d(t,{getRandomHex:function(){return r.getRandomHex}}),n.o(r,"getSlider")&&n.d(t,{getSlider:function(){return r.getSlider}}),n.o(r,"getUUID")&&n.d(t,{getUUID:function(){return r.getUUID}}),n.o(r,"hex2RGBA")&&n.d(t,{hex2RGBA:function(){return r.hex2RGBA}}),n.o(r,"isInsideOfVecs")&&n.d(t,{isInsideOfVecs:function(){return r.isInsideOfVecs}}),n.o(r,"normalize")&&n.d(t,{normalize:function(){return r.normalize}}),n.o(r,"reflect")&&n.d(t,{reflect:function(){return r.reflect}}),n.o(r,"remap")&&n.d(t,{remap:function(){return r.remap}}),n.o(r,"shuffleArray")&&n.d(t,{shuffleArray:function(){return r.shuffleArray}});var o=n(21322),s=n(8483)},14540:function(e,t,n){"use strict";n.d(t,{T:function(){return o}});var i=n(97776),r=n(78252);class o{initCanvas(){this.scene=new i.xsS,this.scene.background=new i.Ilk(0),this.scene.castShadow=!0,this.renderer=new i.CP7({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(this.hostDiv.clientWidth/this.hostDiv.clientHeight),this.renderer.domElement.id="Three",this.renderer.domElement.style.position="absolute",this.renderer.shadowMap.enabled=!0,this.renderer.setSize(this.hostDiv.clientWidth,this.hostDiv.clientHeight),this.hostDiv.appendChild(this.renderer.domElement),this.camera=new i.cPb(30,this.hostDiv.clientWidth/this.hostDiv.clientHeight,1,5e3),this.controls=new r.OrbitControls(this.camera,this.renderer.domElement),this.camera.position.set(0,0,5),this.controls.update(),this.canvas=this.renderer.domElement,this.init()}init(){this.eventBind()}eventBind(){this.renderer.domElement.onmousedown=e=>this.mouseDown(e),this.renderer.domElement.onmouseup=e=>this.mouseUp(e),this.renderer.domElement.onmousemove=e=>this.mouseMove(e),this.renderer.domElement.addEventListener("click",e=>this.mouseClick(e)),window.addEventListener("resize",()=>this.onWindowResize())}onWindowResize(){this.camera.aspect=this.hostDiv.clientWidth/this.hostDiv.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.hostDiv.clientWidth,this.hostDiv.clientHeight)}start(){this.loop()}mouseDown(e){}mouseUp(e){}mouseClick(e){}mouseDClick(e){}mouseMove(e){}mouseDrag(e){}update(e){}destroy(){for(window.removeEventListener("resize",()=>this.onWindowResize()),cancelAnimationFrame(this.requestFrame),this.requestFrame=void 0;this.hostDiv.lastChild;)this.hostDiv.removeChild(this.hostDiv.lastChild)}constructor(e){this.t=0,this.requestFrame=void 0,this.loop=()=>{this.requestFrame=requestAnimationFrame(this.loop),this.controls.update(),this.update(this.scene),this.renderer.render(this.scene,this.camera),this.t+=.01},this.hostDiv=document.getElementById(e),this.initCanvas()}}},74887:function(e,t,n){"use strict";n.r(t),n.d(t,{Renderer:function(){return g},Solution:function(){return m}});var i=n(76320),r=n(94976);/**
    * @license
    * Copyright 2023 Google LLC. All Rights Reserved.
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    * http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    * =============================================================================
    *//**
    * @license
    * Copyright 2023 Google LLC. All Rights Reserved.
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    * http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    * =============================================================================
    *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function o(e,t,n,i){return new(n||(n=Promise))(function(r,o){function s(e){try{d(i.next(e))}catch(e){o(e)}}function a(e){try{d(i.throw(e))}catch(e){o(e)}}function d(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}d((i=i.apply(e,t||[])).next())})}function s(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var a={ADE20K:[[0,0,0],[120,120,120],[180,120,120],[6,230,230],[80,50,50],[4,200,3],[120,120,80],[140,140,140],[204,5,255],[230,230,230],[4,250,7],[224,5,255],[235,255,7],[150,5,61],[120,120,70],[8,255,51],[255,6,82],[143,255,140],[204,255,4],[255,51,7],[204,70,3],[0,102,200],[61,230,250],[255,6,51],[11,102,255],[255,7,71],[255,9,224],[9,7,230],[220,220,220],[255,9,92],[112,9,255],[8,255,214],[7,255,224],[255,184,6],[10,255,71],[255,41,10],[7,255,255],[224,255,8],[102,8,255],[255,61,6],[255,194,7],[255,122,8],[0,255,20],[255,8,41],[255,5,153],[6,51,255],[235,12,255],[160,150,20],[0,163,255],[140,140,140],[250,10,15],[20,255,0],[31,255,0],[255,31,0],[255,224,0],[153,255,0],[0,0,255],[255,71,0],[0,235,255],[0,173,255],[31,0,255],[11,200,200],[255,82,0],[0,255,245],[0,61,255],[0,255,112],[0,255,133],[255,0,0],[255,163,0],[255,102,0],[194,255,0],[0,143,255],[51,255,0],[0,82,255],[0,255,41],[0,255,173],[10,0,255],[173,255,0],[0,255,153],[255,92,0],[255,0,255],[255,0,245],[255,0,102],[255,173,0],[255,0,20],[255,184,184],[0,31,255],[0,255,61],[0,71,255],[255,0,204],[0,255,194],[0,255,82],[0,10,255],[0,112,255],[51,0,255],[0,194,255],[0,122,255],[0,255,163],[255,153,0],[0,255,10],[255,112,0],[143,255,0],[82,0,255],[163,255,0],[255,235,0],[8,184,170],[133,0,255],[0,255,92],[184,0,255],[255,0,31],[0,184,255],[0,214,255],[255,0,112],[92,255,0],[0,224,255],[112,224,255],[70,184,160],[163,0,255],[153,0,255],[71,255,0],[255,0,163],[255,204,0],[255,0,143],[0,255,235],[133,255,0],[255,0,235],[245,0,255],[255,0,122],[255,245,0],[10,190,212],[214,255,0],[0,204,255],[20,0,255],[255,255,0],[0,153,255],[0,41,255],[0,255,204],[41,0,255],[41,255,0],[173,0,255],[0,245,255],[71,0,255],[122,0,255],[0,255,184],[0,92,255],[184,255,0],[0,133,255],[255,214,0],[25,194,194],[102,255,0],[92,0,255]],CITYSCAPES:[[128,64,128],[244,35,232],[70,70,70],[102,102,156],[190,153,153],[153,153,153],[250,170,30],[220,220,0],[107,142,35],[152,251,152],[70,130,180],[220,20,60],[255,0,0],[0,0,142],[0,0,70],[0,60,100],[0,80,100],[0,0,230],[119,11,32]],PASCAL:[[0,0,0],[128,0,0],[0,128,0],[128,128,0],[0,0,128],[128,0,128],[0,128,128],[128,128,128],[64,0,0],[192,0,0],[64,128,0],[192,128,0],[64,0,128],[192,0,128],[64,128,128],[192,128,128],[0,64,0],[128,64,0],[0,192,0],[128,192,0],[0,64,128],[128,64,128],[0,192,128],[128,192,128],[64,64,0],[192,64,0],[64,192,0],[192,192,0],[64,64,128],[192,64,128],[64,192,128],[192,192,128],[0,0,64],[128,0,64],[0,128,64],[128,128,64],[0,0,192],[128,0,192],[0,128,192],[128,128,192],[64,0,64],[192,0,64],[64,128,64],[192,128,64],[64,0,192],[192,0,192],[64,128,192],[192,128,192],[0,64,64],[128,64,64],[0,192,64],[128,192,64],[0,64,192],[128,64,192],[0,192,192],[128,192,192],[64,64,64],[192,64,64],[64,192,64],[192,192,64],[64,64,192],[192,64,192],[64,192,192],[192,192,192],[32,0,0],[160,0,0],[32,128,0],[160,128,0],[32,0,128],[160,0,128],[32,128,128],[160,128,128],[96,0,0],[224,0,0],[96,128,0],[224,128,0],[96,0,128],[224,0,128],[96,128,128],[224,128,128],[32,64,0],[160,64,0],[32,192,0],[160,192,0],[32,64,128],[160,64,128],[32,192,128],[160,192,128],[96,64,0],[224,64,0],[96,192,0],[224,192,0],[96,64,128],[224,64,128],[96,192,128],[224,192,128],[32,0,64],[160,0,64],[32,128,64],[160,128,64],[32,0,192],[160,0,192],[32,128,192],[160,128,192],[96,0,64],[224,0,64],[96,128,64],[224,128,64],[96,0,192],[224,0,192],[96,128,192],[224,128,192],[32,64,64],[160,64,64],[32,192,64],[160,192,64],[32,64,192],[160,64,192],[32,192,192],[160,192,192],[96,64,64],[224,64,64],[96,192,64],[224,192,64],[96,64,192],[224,64,192],[96,192,192],[224,192,192],[0,32,0],[128,32,0],[0,160,0],[128,160,0],[0,32,128],[128,32,128],[0,160,128],[128,160,128],[64,32,0],[192,32,0],[64,160,0],[192,160,0],[64,32,128],[192,32,128],[64,160,128],[192,160,128],[0,96,0],[128,96,0],[0,224,0],[128,224,0],[0,96,128],[128,96,128],[0,224,128],[128,224,128],[64,96,0],[192,96,0],[64,224,0],[192,224,0],[64,96,128],[192,96,128],[64,224,128],[192,224,128],[0,32,64],[128,32,64],[0,160,64],[128,160,64],[0,32,192],[128,32,192],[0,160,192],[128,160,192],[64,32,64],[192,32,64],[64,160,64],[192,160,64],[64,32,192],[192,32,192],[64,160,192],[192,160,192],[0,96,64],[128,96,64],[0,224,64],[128,224,64],[0,96,192],[128,96,192],[0,224,192],[128,224,192],[64,96,64],[192,96,64],[64,224,64],[192,224,64],[64,96,192],[192,96,192],[64,224,192],[192,224,192],[32,32,0],[160,32,0],[32,160,0],[160,160,0],[32,32,128],[160,32,128],[32,160,128],[160,160,128],[96,32,0],[224,32,0],[96,160,0],[224,160,0],[96,32,128],[224,32,128],[96,160,128],[224,160,128],[32,96,0],[160,96,0],[32,224,0],[160,224,0],[32,96,128],[160,96,128],[32,224,128],[160,224,128],[96,96,0],[224,96,0],[96,224,0],[224,224,0],[96,96,128],[224,96,128],[96,224,128],[224,224,128],[32,32,64],[160,32,64],[32,160,64],[160,160,64],[32,32,192],[160,32,192],[32,160,192],[160,160,192],[96,32,64],[224,32,64],[96,160,64],[224,160,64],[96,32,192],[224,32,192],[96,160,192],[224,160,192],[32,96,64],[160,96,64],[32,224,64],[160,224,64],[32,96,192],[160,96,192],[32,224,192],[160,224,192],[96,96,64],[224,96,64],[96,224,64],[224,224,64],[96,96,192],[224,96,192],[96,224,192],[224,224,192]]},d={PASCAL:["background","aeroplane","bicycle","bird","boat","bottle","bus","car","cat","chair","cow","dining table","dog","horse","motorbike","person","potted plant","sheep","sofa","train","TV"],CITYSCAPES:["road","sidewalk","building","wall","fence","pole","traffic light","traffic sign","vegetation","terrain","sky","person","rider","car","truck","bus","train","motorcycle","bicycle"],ADE20K:["background","wall","building","sky","floor","tree","ceiling","road","bed","windowpane","grass","cabinet","sidewalk","person","earth","door","table","mountain","plant","curtain","chair","car","water","painting","sofa","shelf","house","sea","mirror","rug","field","armchair","seat","fence","desk","rock","wardrobe","lamp","bathtub","railing","cushion","base","box","column","signboard","chest","counter","sand","sink","skyscraper","fireplace","refrigerator","grandstand","path","stairs","runway","case","pool","pillow","screen","stairway","river","bridge","bookcase","blind","coffee","toilet","flower","book","hill","bench","countertop","stove","palm","kitchen","computer","swivel","boat","bar","arcade","hovel","bus","towel","light","truck","tower","chandelier","awning","streetlight","booth","television","airplane","dirt","apparel","pole","land","bannister","escalator","ottoman","bottle","buffet","poster","stage","van","ship","fountain","conveyer","canopy","washer","plaything","swimming","stool","barrel","basket","waterfall","tent","bag","minibike","cradle","oven","ball","food","step","tank","trade","microwave","pot","animal","bicycle","lake","dishwasher","screen","blanket","sculpture","hood","sconce","vase","traffic","tray","ashcan","fan","pier","screen","plate","monitor","bulletin","shower","radiator","glass","clock","flag"]};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c(e,t){return"https://tfhub.dev/tensorflow/tfjs-model/deeplab/"+(4===t?e+"/1/default/1/model.json":e+"/1/quantized/"+t+"/1/model.json")+"?tfjs-format=file"}var h=function(){function e(e,t){this.model=e,this.base=t}return e.prototype.predict=function(e){var t=this;return(0,r.tidy)(function(){var n=(0,r.cast)((0,r.tidy)(function(){var t=e instanceof r.Tensor?e:r.browser.fromPixels(e),n=t.shape,i=n[0],o=n[1],s=513/Math.max(o,i);return(0,r.expandDims)(r.image.resizeBilinear(t,[Math.round(i*s),Math.round(o*s)]))}),"int32");return(0,r.squeeze)(t.model.execute(n))})},e.prototype.segment=function(e,t){return void 0===t&&(t={}),o(this,void 0,void 0,function(){var n,i,c,h,l,u,m,f,p,g,b=this;return s(this,function(w){switch(w.label){case 0:if(!(t.colormap&&t.labels||this.base))throw Error("Calling the 'segment' method requires either the 'base' attribute to be defined (e.g. 'pascal', 'cityscapes' or'ade20k'), or 'colormap' and 'labels' options to be set. Aborting, since neither has been provided.");return t.colormap&&t.labels||(t.colormap=function(e){if("pascal"===e)return a.PASCAL;if("ade20k"===e)return a.ADE20K;if("cityscapes"===e)return a.CITYSCAPES;throw Error("SemanticSegmentation cannot be constructed with an invalid base model "+e+". Try one of 'pascal', 'cityscapes' and 'ade20k'.")}(this.base),t.labels=function(e){if("pascal"===e)return d.PASCAL;if("ade20k"===e)return d.ADE20K;if("cityscapes"===e)return d.CITYSCAPES;throw Error("SemanticSegmentation cannot be constructed with an invalid base model "+e+". Try one of 'pascal', 'cityscapes' and 'ade20k'.")}(this.base)),n=t.colormap,i=t.labels,c=t.canvas,u=(l=(h=(0,r.tidy)(function(){return b.predict(e)})).shape)[0],m=l[1],[4,function(e,t,n,i){return o(this,void 0,void 0,function(){var o,a,d,c,h,l,u,m,f,p,g,b,w,v;return s(this,function(s){switch(s.label){case 0:if(e.length<t.length)throw Error("The colormap must be expansive enough to encode each label. Aborting, since the given colormap has length "+e.length+", but there are "+t.length+" labels.");return a=(o=n.shape)[0],d=o[1],c=(0,r.buffer)([a,d,3],"int32"),[4,n.array()];case 1:for(h=s.sent(),l=new Set,u=0;u<a;++u)for(m=0;m<d;++m)v=h[u][m],l.add(v),c.set(e[v][0],u,m,0),c.set(e[v][1],u,m,1),c.set(e[v][2],u,m,2);return f=c.toTensor(),[4,r.browser.toPixels(f,i)];case 2:for(p=s.sent(),(0,r.dispose)(f),g={},b=0,w=Array.from(l);b<w.length;b++)g[t[v=w[b]]]=e[v];return[2,{legend:g,segmentationMap:p}]}})})}(n,i,h,c)];case 1:return p=(f=w.sent()).legend,g=f.segmentationMap,(0,r.dispose)(h),[2,{legend:p,height:u,width:m,segmentationMap:g}]}})})},e.prototype.dispose=function(){return o(this,void 0,void 0,function(){return s(this,function(e){return this.model&&this.model.dispose(),[2]})})},e}(),l=n(88876);n(53844);let u=void 0;class m{destroy(){this.renderer.destroy();try{for(;this.divHost&&this.divHost.lastElementChild;){let e=this.divHost.lastElementChild;this.divHost.removeChild(e)}}catch(e){console.error("Error removing child elements:",e)}}constructor(e){this.divHost=document.getElementById(e);let t=document.createElement("div");this.divHost.appendChild(t),this.renderer=new g(t)}}let f=async()=>await /**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){return void 0===e&&(e={base:"pascal",quantizationBytes:2}),o(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:if(null==r)throw Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this model.");if(e.base){if(-1===["pascal","cityscapes","ade20k"].indexOf(e.base))throw Error("SemanticSegmentation cannot be constructed with an invalid base model "+e.base+". Try one of 'pascal', 'cityscapes' and 'ade20k'.");if(-1===[1,2,4].indexOf(e.quantizationBytes))throw Error("Only quantization to 1, 2 or 4 bytes is supported.")}else if(!e.modelUrl)throw Error("SemanticSegmentation can be constructed either by passing the weights URL or one of the supported base model names from 'pascal', 'cityscapes' and 'ade20k',together with the degree of quantization (either 1, 2 or 4).Aborting, since neither has been provided.");return[4,(0,i.YL)(e.modelUrl||c(e.base,e.quantizationBytes))];case 1:return[2,new h(t.sent(),e.base)]}})})}({base:"ade20k",quantizationBytes:2}),p=async()=>{let e=c("pascal",2);return new h(await i.YL(e))};class g extends l.RendererCanvas{async init(){(null==u?void 0:u.url)?this.loadImg(null==u?void 0:u.url):this.loadImg()}async loadImg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://raw.githubusercontent.com/NamjuLee/data/master/img/bg/zoom-James-River-Kayaking.jpg";(0,l.getImgFromURL)(e).then(e=>{e&&(this.divHost.insertBefore(e,this.canvas),f().then(t=>{t.segment(e).then(e=>{let{legend:t,height:n,width:i,segmentationMap:r}=e,o=new ImageData(r,i,n);this.canvas.width=i,this.canvas.height=n,this.ctx.putImageData(o,0,0);let s=document.createElement("div");s.textContent=JSON.stringify(t),this.divHost.appendChild(s)})}),p().then(()=>{}))}),this.isStatic=!0}constructor(e){super(e),this.accList=[],this.lossList=[],this.init()}}}}]);