(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[22183],{15510:function(t){function e(t){return Promise.resolve().then(function(){var e=Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=function(){return[]},e.resolve=e,e.id=15510,t.exports=e},75410:function(){},48628:function(){},31601:function(){},67792:function(){},34977:function(){},75042:function(){},21322:function(t,e,i){"use strict";i.d(e,{P:function(){return r}});var s=i(88405);class r{predict1d(t){return t.mul(this.weights[0]).add(this.bias)}predict2d(t){return t.square().mul(this.weights[1]).add(t.mul(this.weights[0])).add(this.bias)}predict3d(t){return t.pow(s.scalar(3)).mul(this.weights[2]).add(t.square().mul(this.weights[1])).add(t.mul(this.weights[0])).add(this.bias)}predict4d(t){return t.pow(s.scalar(4)).mul(this.weights[3]).add(t.pow(s.scalar(3)).mul(this.weights[2])).add(t.square().mul(this.weights[1])).add(t.mul(this.weights[0])).add(this.bias)}predict5d(t){return t.pow(s.scalar(5)).mul(this.weights[4]).add(t.pow(s.scalar(4)).mul(this.weights[3])).add(t.pow(s.scalar(3)).mul(this.weights[2])).add(t.square().mul(this.weights[1])).add(t.mul(this.weights[0])).add(this.bias)}predict(t){return 5===this.dim?this.predict5d(t):4===this.dim?this.predict4d(t):3===this.dim?this.predict3d(t):2===this.dim?this.predict2d(t):(this.dim,this.predict1d(t))}loss(t,e){return t.sub(e).square().mean()}train(t,e){s.tidy(()=>{let i=s.tensor1d(t),r=s.tensor1d(e);this.optimizer.minimize(()=>this.loss(this.predict(i),r))})}constructor(t=0){this.weights=[],this.dim=3,this.leraningRate=.2,this.dim=t;for(let t=0;t<5;++t){let t=s.variable(s.scalar(2*Math.random()-1));t.print(),this.weights.push(t)}this.bias=s.variable(s.scalar(2*Math.random()-1)),this.optimizer=s.train.adam(this.leraningRate)}}},88876:function(t,e,i){"use strict";i.d(e,{NJSCORE:function(){return n},PolynomialRegression:function(){return h.P},RendererThree:function(){return s.T}});var s=i(14540),r=i(45169);i.o(r,"AStart")&&i.d(e,{AStart:function(){return r.AStart}}),i.o(r,"COLOR_BLENDING")&&i.d(e,{COLOR_BLENDING:function(){return r.COLOR_BLENDING}}),i.o(r,"Graph")&&i.d(e,{Graph:function(){return r.Graph}}),i.o(r,"KNN")&&i.d(e,{KNN:function(){return r.KNN}}),i.o(r,"LinearRegression")&&i.d(e,{LinearRegression:function(){return r.LinearRegression}}),i.o(r,"LinearRegressionGradientDescent")&&i.d(e,{LinearRegressionGradientDescent:function(){return r.LinearRegressionGradientDescent}}),i.o(r,"MercatorProjection")&&i.d(e,{MercatorProjection:function(){return r.MercatorProjection}}),i.o(r,"PolynomialRegression")&&i.d(e,{PolynomialRegression:function(){return r.PolynomialRegression}}),i.o(r,"RGBtoGray")&&i.d(e,{RGBtoGray:function(){return r.RGBtoGray}}),i.o(r,"RendererCanvas")&&i.d(e,{RendererCanvas:function(){return r.RendererCanvas}}),i.o(r,"RendererJSAPI")&&i.d(e,{RendererJSAPI:function(){return r.RendererJSAPI}}),i.o(r,"TypeDithering")&&i.d(e,{TypeDithering:function(){return r.TypeDithering}}),i.o(r,"Vector3")&&i.d(e,{Vector3:function(){return r.Vector3}}),i.o(r,"buildNetwork")&&i.d(e,{buildNetwork:function(){return r.buildNetwork}}),i.o(r,"crossProduct")&&i.d(e,{crossProduct:function(){return r.crossProduct}}),i.o(r,"deepCopy")&&i.d(e,{deepCopy:function(){return r.deepCopy}}),i.o(r,"distanceEuclidean")&&i.d(e,{distanceEuclidean:function(){return r.distanceEuclidean}}),i.o(r,"distanceTo")&&i.d(e,{distanceTo:function(){return r.distanceTo}}),i.o(r,"dithering4_4")&&i.d(e,{dithering4_4:function(){return r.dithering4_4}}),i.o(r,"ditheringFloydSteinberg")&&i.d(e,{ditheringFloydSteinberg:function(){return r.ditheringFloydSteinberg}}),i.o(r,"getArrayBinaryImgFromCtx")&&i.d(e,{getArrayBinaryImgFromCtx:function(){return r.getArrayBinaryImgFromCtx}}),i.o(r,"getCSVFromURL")&&i.d(e,{getCSVFromURL:function(){return r.getCSVFromURL}}),i.o(r,"getCheckBox")&&i.d(e,{getCheckBox:function(){return r.getCheckBox}}),i.o(r,"getImgFromURL")&&i.d(e,{getImgFromURL:function(){return r.getImgFromURL}}),i.o(r,"getJSONFromURL")&&i.d(e,{getJSONFromURL:function(){return r.getJSONFromURL}}),i.o(r,"getLineSeg")&&i.d(e,{getLineSeg:function(){return r.getLineSeg}}),i.o(r,"getRandomHex")&&i.d(e,{getRandomHex:function(){return r.getRandomHex}}),i.o(r,"getSlider")&&i.d(e,{getSlider:function(){return r.getSlider}}),i.o(r,"getUUID")&&i.d(e,{getUUID:function(){return r.getUUID}}),i.o(r,"hex2RGBA")&&i.d(e,{hex2RGBA:function(){return r.hex2RGBA}}),i.o(r,"isInsideOfVecs")&&i.d(e,{isInsideOfVecs:function(){return r.isInsideOfVecs}}),i.o(r,"normalize")&&i.d(e,{normalize:function(){return r.normalize}}),i.o(r,"reflect")&&i.d(e,{reflect:function(){return r.reflect}}),i.o(r,"remap")&&i.d(e,{remap:function(){return r.remap}}),i.o(r,"shuffleArray")&&i.d(e,{shuffleArray:function(){return r.shuffleArray}});var h=i(21322),n=i(8483)},14540:function(t,e,i){"use strict";i.d(e,{T:function(){return h}});var s=i(97776),r=i(78252);class h{initCanvas(){this.scene=new s.xsS,this.scene.background=new s.Ilk(0),this.scene.castShadow=!0,this.renderer=new s.CP7({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(this.hostDiv.clientWidth/this.hostDiv.clientHeight),this.renderer.domElement.id="Three",this.renderer.domElement.style.position="absolute",this.renderer.shadowMap.enabled=!0,this.renderer.setSize(this.hostDiv.clientWidth,this.hostDiv.clientHeight),this.hostDiv.appendChild(this.renderer.domElement),this.camera=new s.cPb(30,this.hostDiv.clientWidth/this.hostDiv.clientHeight,1,5e3),this.controls=new r.OrbitControls(this.camera,this.renderer.domElement),this.camera.position.set(0,0,5),this.controls.update(),this.canvas=this.renderer.domElement,this.init()}init(){this.eventBind()}eventBind(){this.renderer.domElement.onmousedown=t=>this.mouseDown(t),this.renderer.domElement.onmouseup=t=>this.mouseUp(t),this.renderer.domElement.onmousemove=t=>this.mouseMove(t),this.renderer.domElement.addEventListener("click",t=>this.mouseClick(t)),window.addEventListener("resize",()=>this.onWindowResize())}onWindowResize(){this.camera.aspect=this.hostDiv.clientWidth/this.hostDiv.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.hostDiv.clientWidth,this.hostDiv.clientHeight)}start(){this.loop()}mouseDown(t){}mouseUp(t){}mouseClick(t){}mouseDClick(t){}mouseMove(t){}mouseDrag(t){}update(t){}destroy(){for(window.removeEventListener("resize",()=>this.onWindowResize()),cancelAnimationFrame(this.requestFrame),this.requestFrame=void 0;this.hostDiv.lastChild;)this.hostDiv.removeChild(this.hostDiv.lastChild)}constructor(t){this.t=0,this.requestFrame=void 0,this.loop=()=>{this.requestFrame=requestAnimationFrame(this.loop),this.controls.update(),this.update(this.scene),this.renderer.render(this.scene,this.camera),this.t+=.01},this.hostDiv=document.getElementById(t),this.initCanvas()}}},37239:function(t,e,i){"use strict";i.r(e),i.d(e,{CanvasDrawing:function(){return c},CustomDynamicBinSystem:function(){return n},Pixel:function(){return o},Solution:function(){return h}});var s=i(88876),r=i(45169);class h extends s.RendererJSAPI{initPost(){this.mView.on("drag",t=>{t.stopPropagation()}),this.mView.navigation.mouseWheelZoomEnabled=!1,(0,r.getCSVFromURL)("/static/data/Primary_Street_Trees_Public.csv").then(t=>{let e=0,i=0,s=0,h=t.split(/\r\n|\r|\n/g);for(let t=1;t<h.length;++t){let r=h[t].split(","),n=+r[13],o=+r[14];isNaN(n)||isNaN(o)||0===n||0===o||(this.pts.push([n,o]),e++,i+=o,s+=n)}this.center(s/e,i/e),this.zoom(12),this.pixelMap=new n(new r.Vector3(100,100,0),new r.Vector3(500,500,0)),this.pixelMap.mode=2,this.pixelMap.Init()})}render(t){if(this.pixelMap){t.globalCompositeOperation="color-dodge";for(let t=0;t<this.pts.length;++t);this.pixelMap.RenderPixel(t),this.pixelMap.RenderCorner(t),this.pixelMap.RenderSelPixel(t)}}mouseDown(t,e){this.pixelMap&&(this.captureVec=this.pixelMap.IsHover(t,e))}mouseMove(t,e){this.pixelMap&&(this.pixelMap.MoveInspection(t,e),!this.pixelMap.selPixel&&this.captureVec&&this.pixelMap.DragControlPoint(t,e))}mouseUp(t,e){this.captureVec=void 0}constructor(t){super(t),this.pts=[]}}class n{IsHover(t,e){this.m.x=t,this.m.y=e;let i=this.pts[0][0];return 8>r.Vector3.distanceTo(this.m,i)?i:(i=this.pts[0][this.pts[0].length-1],8>r.Vector3.distanceTo(this.m,i))?i:(i=this.pts[this.pts.length-1][this.pts[0].length-1],8>r.Vector3.distanceTo(this.m,i))?i:(i=this.pts[this.pts.length-1][0],8>r.Vector3.distanceTo(this.m,i))?i:void 0}Move(t,e){this.MoveInspection(t,e)}MoveInspection(t,e){this.m.x=t,this.m.y=e;for(let t=0;t<this.listPixels.length;++t){if((0,r.isInsideOfVecs)(this.m,this.listPixels[t].recVec)){this.selPixel=this.listPixels[t];return}this.selPixel=void 0}}DragControlPoint(t,e){this.m.x=t,this.m.y=e;let i=this.pts[0][0];60>r.Vector3.distanceTo(this.m,i)&&(this.v0.x=t,this.v0.y=e),i=this.pts[0][this.pts[0].length-1],60>r.Vector3.distanceTo(this.m,i)&&(this.v1.x=t,this.v0.y=e),i=this.pts[this.pts.length-1][this.pts[0].length-1],60>r.Vector3.distanceTo(this.m,i)&&(this.v1.x=t,this.v1.y=e),i=this.pts[this.pts.length-1][0],60>r.Vector3.distanceTo(this.m,i)&&(this.v0.x=t,this.v1.y=e),this.Init()}Init(){switch(this.ddx=(this.v1.x-this.v0.x)/(this.rx-1),this.ddy=(this.v1.y-this.v0.y)/(this.ry-1),this.pts=[],this.ptList=[],this.listPixels=[],this.InitGrid(),this.mode){case 0:this.ComputeRec();break;case 1:this.ComputeTriA();break;case 2:this.ComputeTriB();break;case 3:this.ComputeDia();break;case 4:this.ComputeLShape();break;default:this.ComputeHex()}}UpdateData(t){for(let t=0;t<this.listPixels.length;++t)this.listPixels[t].data.num=0;for(let e=0;e<t.length;++e){let i=t[e];for(let t=0;t<this.listPixels.length;++t)(0,r.isInsideOfVecs)(i,this.listPixels[t].recVec)&&(this.listPixels[t].data.num+=i.z)}}InitGrid(){this.pts=[];for(let t=0;t<this.ry;++t){let e=this.v0.y+t*this.ddy,i=[];for(let t=0;t<this.rx;++t){let s=this.v0.x+t*this.ddx,h=new r.Vector3(s,e,0);i.push(h),this.ptList.push(h)}this.pts.push(i)}}ComputeRec(){this.listPixels=[];for(let t=0;t<this.ry;t+=1)for(let e=0;e<this.rx;e+=1)if(e<this.rx-1&&t<this.ry-1){let i=new o(this);i.recVec.push(this.pts[t][e]),i.recVec.push(this.pts[t][e+1]),i.recVec.push(this.pts[t+1][e+1]),i.recVec.push(this.pts[t+1][e]),this.listPixels.push(i)}}ComputeTriA(){this.listPixels=[];for(let t=0;t<this.ry;t+=1)for(let e=0;e<this.rx;e+=1)if(e<this.rx-1&&t<this.ry-1){let i=new o(this);i.recVec.push(this.pts[t][e]),i.recVec.push(this.pts[t][e+1]),i.recVec.push(this.pts[t+1][e]),this.listPixels.push(i),(i=new o(this)).recVec.push(this.pts[t][e+1]),i.recVec.push(this.pts[t+1][e+1]),i.recVec.push(this.pts[t+1][e]),this.listPixels.push(i)}}ComputeDia(){this.listPixels=[];for(let t=0;t<this.ry;t+=1)for(let e=0;e<this.rx;e+=1)if(e<this.rx-2&&t<this.ry-1){let i=new o(this);i.recVec.push(this.pts[t][e]),i.recVec.push(this.pts[t][e+1]),i.recVec.push(this.pts[t+1][e+2]),i.recVec.push(this.pts[t+1][e+1]),this.listPixels.push(i)}}ComputeLShape(){this.listPixels=[];for(let t=0;t<this.ry;t+=3)for(let e=0;e<this.rx;e+=2)if(e<this.rx-2&&t<this.ry-2){let i=new o(this);i.recVec.push(this.pts[t][e]),i.recVec.push(this.pts[t][e+2]),i.recVec.push(this.pts[t+1][e+2]),i.recVec.push(this.pts[t+1][e+1]),i.recVec.push(this.pts[t+2][e+1]),i.recVec.push(this.pts[t+2][e]),this.listPixels.push(i),(i=new o(this)).recVec.push(this.pts[t+2][e]),i.recVec.push(this.pts[t+3][e]),i.recVec.push(this.pts[t+3][e+2]),i.recVec.push(this.pts[t+1][e+2]),i.recVec.push(this.pts[t+1][e+1]),i.recVec.push(this.pts[t+2][e+1]),this.listPixels.push(i)}}ComputeTriB(){this.listPixels=[];for(let t=0;t<this.ry;t+=1)for(let e=0;e<this.rx;e+=1)if(e<this.rx-1&&t<this.ry-1){let i=new o(this);i.recVec.push(this.pts[t][e]),i.recVec.push(this.pts[t][e+1]),i.recVec.push(this.pts[t+1][e+1]),this.listPixels.push(i),(i=new o(this)).recVec.push(this.pts[t][e]),i.recVec.push(this.pts[t+1][e+1]),i.recVec.push(this.pts[t+1][e]),this.listPixels.push(i)}}ComputeHex(){this.listPixels=[];let t=!0;for(let e=0;e<this.ry;e+=2){for(let i=0;i<this.rx;i+=2)if(t){if(i%2==0&&i<this.rx-2&&e%2==0&&e<this.ry-2){let t=new o(this);t.recVec.push(this.pts[e][i+1]),t.recVec.push(this.pts[e+1][i+2]),t.recVec.push(this.pts[e+2][i+2]),t.recVec.push(this.pts[e+3][i+1]),t.recVec.push(this.pts[e+2][i]),t.recVec.push(this.pts[e+1][i]),this.listPixels.push(t)}}else if(i%2==0&&i<this.rx-2&&e%2==0&&e<this.ry-2){let t=new o(this);t.recVec.push(this.pts[e][i+2]),t.recVec.push(this.pts[e+1][i+3]),t.recVec.push(this.pts[e+2][i+3]),t.recVec.push(this.pts[e+3][i+2]),t.recVec.push(this.pts[e+2][i+1]),t.recVec.push(this.pts[e+1][i+1]),this.listPixels.push(t)}t=!t}}RenderPixel(t){for(let e=0;e<this.listPixels.length;++e)this.listPixels[e].Render(t)}RenderCorner(t){let e=this.pts[0][0];c.PointByNVecAni(t,e,7,this.t,"rgba(255, 0, 0, 1)"),t.stroke(),e=this.pts[0][this.pts[0].length-1],c.PointByNVecAni(t,e,7,this.t,"rgba(255, 0, 0, 1)"),t.stroke(),e=this.pts[this.pts.length-1][this.pts[0].length-1],c.PointByNVecAni(t,e,7,this.t,"rgba(255, 0, 0, 1)"),t.stroke(),e=this.pts[this.pts.length-1][0],c.PointByNVecAni(t,e,7,this.t,"rgba(255, 0, 0, 1)"),t.stroke(),this.t+=.07}RenderSelPixel(t){if(this.selPixel){t.lineWidth=3,t.strokeStyle="#ffffff",t.beginPath(),t.moveTo(this.selPixel.recVec[0].x,this.selPixel.recVec[0].y);for(let e=1;e<this.selPixel.recVec.length;++e)t.lineTo(this.selPixel.recVec[e].x,this.selPixel.recVec[e].y);t.closePath(),t.stroke()}}constructor(t,e){this.pts=[],this.ptList=[],this.listPixels=[],this.t=0,this.mode=0,this.selPixel=void 0,this.v0=t,this.v1=e,this.rx=10,this.ry=10,this.ddx=0,this.ddy=0,this.m=new r.Vector3(0,0),this.Init()}}class o{static GetID(){return o.ID++}ToString(){return"Pixel"+this.id}Update(){}Render(t){t.lineWidth=1,t.strokeStyle="#000000",t.fillStyle="rgba(255, 0, 255, ".concat(.05*this.data.num," )"),t.beginPath(),t.moveTo(this.recVec[0].x,this.recVec[0].y);for(let e=1;e<this.recVec.length;++e)t.lineTo(this.recVec[e].x,this.recVec[e].y);t.closePath(),t.fill(),t.stroke()}constructor(t,e=new r.Vector3(0,0,0)){this.nPix=[],this.i=-1,this.j=-1,this.k=-1,this.u=-1,this.v=-1,this.color=[],this.map=t,this.vec=e,this.nPix=[],this.recVec=[],this.i=-1,this.j=-1,this.k=-1,this.id=o.GetID(),this.data={}}}o.ID=0;class c{static LineByVecs(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#ff0000";t.strokeStyle=r,t.lineWidth=s,t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.closePath(),t.stroke()}static Line(t,e,i,s,r){let h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"#ff0000";t.strokeStyle=n,t.lineWidth=h,t.beginPath(),t.moveTo(e,i),t.lineTo(s,r),t.closePath(),t.stroke()}static Point(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#ff0000";t.fillStyle=r,t.beginPath(),t.arc(e,i,s,0,2*Math.PI),t.closePath(),t.fill()}static PointByNVec(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#ff0000";t.fillStyle=s,t.beginPath(),t.arc(e.x,e.y,i,0,2*Math.PI),t.closePath(),t.fill()}static PointByNVecAni(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,s=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#ff0000";t.fillStyle=r,t.beginPath(),t.arc(e.x,e.y,i+(1+Math.sin(s))*2,0,2*Math.PI),t.closePath(),t.fill()}static GridLineOrigin(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,h=-(e*s*.5),n=-(i*r*.5);t.lineWidth=.1;for(let o=0;o<=i;++o)t.beginPath(),t.moveTo(h,n+r*o),t.lineTo(e*s*.5,n+r*o),t.closePath(),t.stroke(),t.beginPath(),t.moveTo(h+s*o,n),t.lineTo(n+r*o,i*r*.5),t.closePath(),t.stroke()}static GridPointOrigin(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,h=-(e*s*.5),n=-(i*r*.5);t.lineWidth=.1;for(let o=0;o<=i;++o)for(let i=0;i<=e;++i)t.beginPath(),t.arc(h+s*i,n+r*o,1,0,2*Math.PI),t.closePath(),t.fill()}constructor(){}}}}]);