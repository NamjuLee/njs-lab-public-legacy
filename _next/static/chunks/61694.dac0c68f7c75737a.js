"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61694],{25607:function(t,e,n){function r(){return[1,0,0,0,1,0,0,0,1]}function u(t,e,n,r,u,i,o,a,s){return[t,e,n,r,u,i,o,a,s]}n.d(e,{Ue:function(){return r},Wd:function(){return i},al:function(){return u}});let i=r();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},create:r,createView:function(t,e){return new Float64Array(t,e,9)},fromValues:u},Symbol.toStringTag,{value:"Module"}))},77244:function(t,e,n){function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function u(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}n.d(e,{Ue:function(){return r},Wd:function(){return i},d9:function(){return u}});let i=r();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:u,create:r,createView:function(t,e){return new Float64Array(t,e,16)},fromValues:function(t,e,n,r,u,i,o,a,s,l,c,f,h,M,E,p){return[t,e,n,r,u,i,o,a,s,l,c,f,h,M,E,p]}},Symbol.toStringTag,{value:"Module"}))},57079:function(t,e,n){function r(){return[0,0,0,1]}function u(t){return[t[0],t[1],t[2],t[3]]}n.d(e,{Ue:function(){return r},Wd:function(){return i},d9:function(){return u}});let i=r();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:u,create:r,createView:function(t,e){return new Float64Array(t,e,4)},fromValues:function(t,e,n,r){return[t,e,n,r]}},Symbol.toStringTag,{value:"Module"}))},41174:function(t,e,n){n.d(e,{Bh:function(){return c},I6:function(){return U},Jp:function(){return f},Kx:function(){return M},Su:function(){return p},t8:function(){return _},yY:function(){return l}});var r=n(25607),u=n(57079),i=n(82955),o=n(77584),a=n(60964),s=n(91870);function l(t,e,n){let r=Math.sin(n*=.5);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function c(t,e){let n=2*Math.acos(e[3]),r=Math.sin(n/2);return r>(0,o.bn)()?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function f(t,e,n){let r=e[0],u=e[1],i=e[2],o=e[3],a=n[0],s=n[1],l=n[2],c=n[3];return t[0]=r*c+o*a+u*l-i*s,t[1]=u*c+o*s+i*a-r*l,t[2]=i*c+o*l+r*s-u*a,t[3]=o*c-r*a-u*s-i*l,t}function h(t,e,n,r){let u=e[0],i=e[1],a=e[2],s=e[3],l,c,f,h,M,E=n[0],p=n[1],m=n[2],_=n[3];return(c=u*E+i*p+a*m+s*_)<0&&(c=-c,E=-E,p=-p,m=-m,_=-_),1-c>(0,o.bn)()?(f=Math.sin(l=Math.acos(c)),h=Math.sin((1-r)*l)/f,M=Math.sin(r*l)/f):(h=1-r,M=r),t[0]=h*u+M*E,t[1]=h*i+M*p,t[2]=h*a+M*m,t[3]=h*s+M*_,t}function M(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function E(t,e){let n;let r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{let r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);let u=(r+1)%3,i=(r+2)%3;n=Math.sqrt(e[3*r+r]-e[3*u+u]-e[3*i+i]+1),t[r]=.5*n,n=.5/n,t[3]=(e[3*u+i]-e[3*i+u])*n,t[u]=(e[3*u+r]+e[3*r+u])*n,t[i]=(e[3*i+r]+e[3*r+i])*n}return t}function p(t,e,n,r){let u=.5*Math.PI/180;e*=u,n*=u,r*=u;let i=Math.sin(e),o=Math.cos(e),a=Math.sin(n),s=Math.cos(n),l=Math.sin(r),c=Math.cos(r);return t[0]=i*s*c-o*a*l,t[1]=o*a*c+i*s*l,t[2]=o*s*l-i*a*c,t[3]=o*s*c+i*a*l,t}let m=s.c,_=s.s,I=s.f,d=s.b,N=s.g,P=s.l,g=s.i,T=s.j,S=s.n,U=s.a,w=s.e,A=(0,i.Ue)(),y=(0,i.al)(1,0,0),b=(0,i.al)(0,1,0),C=(0,u.Ue)(),L=(0,u.Ue)(),j=(0,r.Ue)();Object.freeze(Object.defineProperty({__proto__:null,add:I,calculateW:function(t,e){let n=e[0],r=e[1],u=e[2];return t[0]=n,t[1]=r,t[2]=u,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-u*u)),t},conjugate:M,copy:m,dot:N,equals:w,exactEquals:U,fromEuler:p,fromMat3:E,getAxisAngle:c,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},invert:function(t,e){let n=e[0],r=e[1],u=e[2],i=e[3],o=n*n+r*r+u*u+i*i,a=o?1/o:0;return t[0]=-n*a,t[1]=-r*a,t[2]=-u*a,t[3]=i*a,t},len:g,length:g,lerp:P,mul:f,multiply:f,normalize:S,random:function(t){let e=o.FD,n=e(),r=e(),u=e(),i=Math.sqrt(1-n),a=Math.sqrt(n);return t[0]=i*Math.sin(2*Math.PI*r),t[1]=i*Math.cos(2*Math.PI*r),t[2]=a*Math.sin(2*Math.PI*u),t[3]=a*Math.cos(2*Math.PI*u),t},rotateX:function(t,e,n){n*=.5;let r=e[0],u=e[1],i=e[2],o=e[3],a=Math.sin(n),s=Math.cos(n);return t[0]=r*s+o*a,t[1]=u*s+i*a,t[2]=i*s-u*a,t[3]=o*s-r*a,t},rotateY:function(t,e,n){n*=.5;let r=e[0],u=e[1],i=e[2],o=e[3],a=Math.sin(n),s=Math.cos(n);return t[0]=r*s-i*a,t[1]=u*s+o*a,t[2]=i*s+r*a,t[3]=o*s-u*a,t},rotateZ:function(t,e,n){n*=.5;let r=e[0],u=e[1],i=e[2],o=e[3],a=Math.sin(n),s=Math.cos(n);return t[0]=r*s+u*a,t[1]=u*s-r*a,t[2]=i*s+o*a,t[3]=o*s-i*a,t},rotationTo:function(t,e,n){let r=(0,a.m)(e,n);return r<-.999999?((0,a.b)(A,y,e),1e-6>(0,a.H)(A)&&(0,a.b)(A,b,e),(0,a.n)(A,A),l(t,A,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):((0,a.b)(A,e,n),t[0]=A[0],t[1]=A[1],t[2]=A[2],t[3]=1+r,S(t,t))},scale:d,set:_,setAxes:function(t,e,n,r){return j[0]=n[0],j[3]=n[1],j[6]=n[2],j[1]=r[0],j[4]=r[1],j[7]=r[2],j[2]=-e[0],j[5]=-e[1],j[8]=-e[2],S(t,E(t,j))},setAxisAngle:l,slerp:h,sqlerp:function(t,e,n,r,u,i){return h(C,e,u,i),h(L,n,r,i),h(t,C,L,2*i*(1-i)),t},sqrLen:T,squaredLength:T,str:function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}},Symbol.toStringTag,{value:"Module"}))},26150:function(t,e,n){n.d(e,{B:function(){return l}});var r=n(13507),u=n(94807),i=n(82955);function o(t,e,n){let r=Math.sin(t),u=Math.cos(t),i=Math.sin(e),o=Math.cos(e);return n[0]=-r,n[4]=-i*u,n[8]=o*u,n[12]=0,n[1]=u,n[5]=-i*r,n[9]=o*r,n[13]=0,n[2]=0,n[6]=o,n[10]=i,n[14]=0,n[3]=0,n[7]=0,n[11]=0,n[15]=1,n}var a=n(23403),s=n(62329);function l(t,e,n,r){if(null==t||null==r)return!1;let i=(0,a.eT)(t,a.Jz),l=(0,a.eT)(r,a.sp);if(i===l&&!c(l)&&(i!==a.Ej.UNKNOWN||(0,s.fS)(t,r)))return(0,u.vc)(n,e),!0;if(c(l)){let t=a.rf[i][a.Ej.LON_LAT],r=a.rf[a.Ej.LON_LAT][l];return null!=t&&null!=r&&(t(e,0,h,0),r(h,0,M,0),o(f*h[0],f*h[1],n),n[12]=M[0],n[13]=M[1],n[14]=M[2],!0)}if(!(l!==a.Ej.WEB_MERCATOR&&l!==a.Ej.PLATE_CARREE&&l!==a.Ej.WGS84&&l!==a.Ej.CGCS2000||i!==a.Ej.WGS84&&i!==a.Ej.SPHERICAL_ECEF&&i!==a.Ej.WEB_MERCATOR&&i!==a.Ej.CGCS2000)){let t=a.rf[i][a.Ej.LON_LAT],r=a.rf[a.Ej.LON_LAT][l];return null!=t&&null!=r&&(t(e,0,h,0),r(h,0,M,0),i===a.Ej.SPHERICAL_ECEF?(o(f*h[0],f*h[1],n),(0,u.p4)(n,n)):(0,u.yR)(n),n[12]=M[0],n[13]=M[1],n[14]=M[2],!0)}return!1}function c(t){return t===a.Ej.SPHERICAL_ECEF||t===a.Ej.SPHERICAL_MARS_PCPF||t===a.Ej.SPHERICAL_MOON_PCPF}let f=(0,r.Vl)(1),h=(0,i.Ue)(),M=(0,i.Ue)()},81387:function(t,e,n){n.d(e,{K:function(){return o}});var r=n(82955),u=n(20928),i=n(40011);function o(t,e,n,r){if((0,u.canProjectWithoutEngine)(t.spatialReference,n)){a[0]=t.x,a[1]=t.y;let u=t.z;return a[2]=u??r??0,(0,i.projectBuffer)(a,t.spatialReference,0,e,n,0,1)}let o=(0,u.tryProjectWithZConversion)(t,n);return!!o&&(e[0]=o?.x,e[1]=o?.y,e[2]=o?.z??r??0,!0)}let a=(0,r.Ue)()},10940:function(t,e,n){n.d(e,{rS:function(){return c},wY:function(){return l}});var r=n(4658),u=n(36502),i=n(62329);let o=new u.Z(r.kU),a=new u.Z(r.JL),s=new u.Z(r.mM),l=new u.Z(r.pn);function c(t){let e=f.get(t);if(e)return e;let n=o;if(t){if(t===a)n=a;else if(t===s)n=s;else{let e=t.wkid,r=t.latestWkid;if(null!=e||null!=r)(0,i.o$)(e)||(0,i.o$)(r)?n=a:((0,i.ME)(e)||(0,i.ME)(r))&&(n=s);else{let e=t.wkt2??t.wkt;if(e){let t=e.toUpperCase();t===h?n=a:t===M&&(n=s)}}}}return f.set(t,n),n}let f=new Map,h=a.wkt.toUpperCase(),M=s.wkt.toUpperCase()},37646:function(t,e,n){n.d(e,{Ue:function(){return a},zu:function(){return function t(e,n,r,u=0,o=Math.floor(1/3*r),s=Math.floor(2/3*r)){if(r<3)return!1;n(c,u);let p=o,m=!1;for(;p<r-1&&!m;)n(f,p),p++,m=!(0,i.e)(c,f);if(!m)return!1;for(p=Math.max(p,s),m=!1;p<r&&!m;)n(h,p),p++,(0,i.f)(M,c,f),(0,i.n)(M,M),(0,i.f)(E,f,h),(0,i.n)(E,E),m=!(0,i.e)(c,h)&&!(0,i.e)(f,h)&&Math.abs((0,i.m)(M,E))<l;return m?(function(t,e,n,r=a()){let u=n[0]-e[0],i=n[1]-e[1],o=n[2]-e[2],s=t[0]-e[0],l=t[1]-e[1],c=t[2]-e[2],f=i*c-o*l,h=o*s-u*c,M=u*l-i*s,E=f*f+h*h+M*M,p=Math.abs(E-1)>1e-5&&E>1e-12?1/Math.sqrt(E):1;r[0]=f*p,r[1]=h*p,r[2]=M*p,r[3]=-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2])}(c,f,h,e),!0):(0!==u||1!==o||2!==s)&&t(e,n,r,0,1,2)}},st:function(){return s}}),n(13507);var r,u,i=n(60964),o=n(82955);function a(t=p){return[t[0],t[1],t[2],t[3]]}function s(t){return t}n(91870),n(14157),n(53524),(0,o.Ue)(),(0,o.Ue)(),(0,o.Ue)(),(0,o.Ue)(),(0,o.Ue)();let l=.99619469809,c=(0,o.Ue)(),f=(0,o.Ue)(),h=(0,o.Ue)(),M=(0,o.Ue)(),E=(0,o.Ue)(),p=[0,0,1,0];(r=u||(u={}))[r.NONE=0]="NONE",r[r.CLAMP=1]="CLAMP",r[r.INFINITE_MIN=4]="INFINITE_MIN",r[r.INFINITE_MAX=8]="INFINITE_MAX",u.INFINITE_MIN,u.INFINITE_MAX,u.INFINITE_MAX},14157:function(t,e,n){n.d(e,{EU:function(){return o}});var r=n(13507),u=n(60964),i=n(82955);function o(t,e){let n=(0,u.m)(t,e)/((0,u.l)(t)*(0,u.l)(e));return-(0,r.ZF)(n)}(0,i.Ue)(),(0,i.Ue)()},53524:function(t,e,n){n.d(e,{MP:function(){return h},vD:function(){return M},WM:function(){return f}}),n(37180);var r=n(33975),u=n(25607),i=n(77244),o=n(57079),a=n(24168),s=n(82955),l=n(40465);class c{constructor(t){this._create=t,this._items=[],this._itemsPtr=0}get(){return 0===this._itemsPtr&&(0,r.Y)(()=>this._reset()),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){let t=2*this._itemsPtr;this._items.length>t&&(this._items.length=t),this._itemsPtr=0}static createVec2f64(){return new c(a.Ue)}static createVec3f64(){return new c(s.Ue)}static createVec4f64(){return new c(l.Ue)}static createMat3f64(){return new c(u.Ue)}static createMat4f64(){return new c(i.Ue)}static createQuatf64(){return new c(o.Ue)}get test(){}}c.createVec2f64();let f=c.createVec3f64(),h=(c.createVec4f64(),c.createMat3f64(),c.createMat4f64()),M=c.createQuatf64()},76774:function(t,e,n){n.r(e),n.d(e,{assetMapFromAssetMapsJSON:function(){return d},extractMesh:function(){return I},meshFeatureSetFromJSON:function(){return _}});var r,u,i=n(19637),o=n(65223),a=n(59528),s=n(9377),l=n(48816),c=n(33876),f=n(36502),h=n(7421),M=n(6817),E=n(4193),p=n(9158);let m=()=>o.Z.getLogger("esri.rest.support.meshFeatureSet");function _(t,e,n){var r;let u=n.features;n.features=[],delete n.geometryType;let o=p.Z.fromJSON(n);if(o.geometryType="mesh",!n.assetMaps)return o;let a=d(e,n.assetMaps),s=t.sourceSpatialReference??f.Z.WGS84,l=n.globalIdFieldName,{outFields:c}=t,h=null!=c&&c.length>0?(r=c.includes("*")?null:new Set(c),({attributes:t})=>{if(!t)return{};if(!r)return t;for(let e in t)r.has(e)||delete t[e];return t}):()=>({});for(let t of u){let n=I(t,l,s,e,a);o.features.push(new i.Z({geometry:n,attributes:h(t)}))}return o}function I(t,e,n,r,i){let o=t.attributes[e],a=i.get(o);if(null==a||!t.geometry)return null;let f=function({attributes:t},e,{transformFieldRoles:n}){let r=t[n.originX],u=t[n.originY],i=t[n.originZ];return new c.Z({x:r,y:u,z:i,spatialReference:e})}(t,n,r),E=s.Z.fromJSON(t.geometry);E.spatialReference=n;let p=function(t,{transformFieldRoles:e}){return new h.Z({translation:[t[e.translationX],-t[e.translationZ],t[e.translationY]],rotationAxis:[t[e.rotationX],-t[e.rotationZ],t[e.rotationY]],rotationAngle:t[e.rotationDeg],scale:[t[e.scaleX],t[e.scaleZ],t[e.scaleY]]})}(t.attributes,r),m=n.isGeographic?"local":"georeferenced",_=function(t){let e=Array.from(t.files.values()),n=[];for(let t of e){if(t.status!==u.COMPLETED)return null;let e=[];for(let n of t.parts){if(!n)return null;e.push(new M.LL(n.url,n.hash))}n.push(new M.CP(t.name,t.mimeType,e))}return n}(a);return _?l.Z.createWithExternalSource(f,_,{extent:E,transform:p,vertexSpace:m}):l.Z.createIncomplete(f,{extent:E,transform:p,vertexSpace:m})}function d(t,e){let n=new Map;for(let r of e){let e=r.parentGlobalId;if(null==e)continue;let i=r.assetName,o=r.assetType,s=r.assetHash,l=r.assetURL,c=r.conversionStatus,f=r.seqNo,h=(0,E.d1)(o,t.supportedFormats);if(!h){m().error("mesh-feature-set:unknown-format",`Service returned an asset of type ${o}, but it does not list it as a supported type`);continue}let M=(0,a.s1)(n,e,()=>({files:new Map}));(0,a.s1)(M.files,i,()=>({name:i,type:o,mimeType:h,status:function(t){switch(t){case"COMPLETED":case"SUBMITTED":return u.COMPLETED;case"INPROGRESS":return u.PENDING;default:return u.FAILED}}(c),parts:[]})).parts[f]={hash:s,url:l}}return n}(r=u||(u={}))[r.FAILED=0]="FAILED",r[r.PENDING=1]="PENDING",r[r.COMPLETED=2]="COMPLETED"}}]);