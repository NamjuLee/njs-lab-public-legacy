"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[97345,75900,57345,63287,83947,26666,15908,40744],{75900:function(e,r,t){t.r(r),t.d(r,{GeometryBase:function(){return n}});class n{render(e){}constructor(e){this.scene=e,this.scene.add(this)}}},97345:function(e,r,t){t.r(r),t.d(r,{Point:function(){return s}});var n=t(40744),o=t(26666),i=t(57345),a=t(75900);class s extends a.GeometryBase{initShader(e){this.shader=new i.PointShader(e,this.v,this.f),this.mesh=n.VAO.createMeshVAO(e,"dots",[0,0,0,.1,.1,0,.1,-.1,0,-.1,-.1,0,-.1,.1,0]),this.mesh.drawMode=e.POINTS,this.modal=new o.Modal(this.mesh)}render(e){this.size+=.01;let r=10*Math.sin(this.size)+30;this.rotation+=.02,this.shader.activate(),this.shader.set(r,this.rotation),this.shader.renderModal(this.modal)}constructor(e){super(e.scene),this.vOld="#version 300 es\n        in vec3 a_position;\n\n        uniform float uPointSize;\n\n        void main(void) {\n            gl_PointSize = uPointSize;\n            gl_Position = vec4(a_position, 1.0);\n        }\n    ",this.fOld="#version 300 es\n        precision mediump float;\n\n        out vec4 finalColor;\n\n        void main(void) {\n            finalColor = vec4(1.0, 0.0, 0.0, 1.0);\n        }\n    ",this.v="#version 300 es\n\n        in vec3 a_position;\n\n        uniform mediump float uPointSize;\n        uniform float uAngle;\n\n        void main(void) {\n            gl_PointSize = uPointSize;\n            gl_Position = vec4(cos(uAngle) * 0.8 + a_position.x, sin(uAngle) * 0.8 + a_position.y, a_position.z, 1.0);\n        }\n    ",this.f="#version 300 es\n        precision mediump float;\n\n        uniform float uPointSize;\n\n        out vec4 finalColor;\n\n        void main(void) {\n            float c = (40. - uPointSize ) / 20.;\n            finalColor = vec4(c, c, c, 1.0);\n        }\n    ",this.size=2.5,this.rotation=0,this.app=e,this.gl=e.canvas.gl,this.initShader(this.gl)}}},57345:function(e,r,t){t.r(r),t.d(r,{PointShader:function(){return o}});var n=t(15908);class o extends n.Shader{set(e,r){return this.gl.uniform1f(this.uniformLoc.uPointSize,e),this.gl.uniform1f(this.uniformLoc.uAngle,r),this}constructor(e,r,t){super(e,r,t),this.program&&(this.uniformLoc.uPointSize=e.getUniformLocation(this.program,"uPointSize"),this.uniformLoc.uAngle=e.getUniformLocation(this.program,"uAngle")),e.useProgram(null)}}},63287:function(e,r,t){t.r(r),t.d(r,{GLShaderCommon:function(){return n}});class n{static getShaderProgram(e,r,t){let o=!(arguments.length>3)||void 0===arguments[3]||arguments[3],i=n.createShader(e,e.VERTEX_SHADER,r),a=n.createShader(e,e.FRAGMENT_SHADER,t);return i&&a&&n.createProgram(e,i,a,o)||(console.error("vertex fragment shader error"),null)}static getShader(e,r,t){let n=e.createShader(r);return null===n?null:(e.shaderSource(n,t),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))?n:(console.log("An error occurred compiling the shaders:"+e.getShaderInfoLog(n)),e.deleteShader(n),null)}static createProgram(e,r,t){let n=!(arguments.length>3)||void 0===arguments[3]||arguments[3],o=e.createProgram();return null===o?null:(e.attachShader(o,r),e.attachShader(o,t),e.linkProgram(o),e.getProgramParameter(o,e.LINK_STATUS))?n&&(e.validateProgram(o),!e.getProgramParameter(o,e.VALIDATE_STATUS))?(console.error("Failed to validate program",e.getProgramInfoLog(o)),e.deleteProgram(o),e.deleteShader(t),e.deleteShader(r),null):(e.deleteShader(t),e.deleteShader(r),o):(console.log("Failed to link program: "+e.getProgramInfoLog(o)),e.deleteProgram(o),e.deleteShader(t),e.deleteShader(r),null)}static createShader(e,r,t){let n=e.createShader(r);return null===n?null:(e.shaderSource(n,t),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))?n:(console.log(e.getShaderInfoLog(n)),e.deleteShader(n),null)}static createShaderFromPath(e,r,t){let o=e.createShader(r);return null===o?null:(e.shaderSource(o,n.getSourceSynch(t)),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS))?o:(console.log(e.getShaderInfoLog(o)),e.deleteShader(o),null)}static getSourceSynch(e){let r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),200===r.status?r.responseText:null}static loadImage(e,r){let t=new Image;t.onload=function(){r(null,t)},t.src=e}}},83947:function(e,r,t){var n,o;t.r(r),t.d(r,{ATTR:function(){return n},AttribLocations:function(){return i}}),(o=n||(n={})).ATTR_POSITION_NAME="a_position",o[o.ATTR_POSITION_LOC=0]="ATTR_POSITION_LOC",o.ATTR_NORMAL_NAME="a_norm",o[o.ATTR_NORMAL_LOC=1]="ATTR_NORMAL_LOC",o.ATTR_UV_NAME="a_uv",o[o.ATTR_UV_LOC=2]="ATTR_UV_LOC",o[o.ATTR_COLOR_LOC=4]="ATTR_COLOR_LOC",o.ATTR_COLOR_NAME="a_color";class i{constructor(e,r){this.position=e.getAttribLocation(r,"a_norm"),this.normal=e.getAttribLocation(r,"a_norm"),this.uv=e.getAttribLocation(r,"a_uv")}}},26666:function(e,r,t){t.r(r),t.d(r,{Modal:function(){return n}});class n{preRender(){}constructor(e){this.mesh=e}}},15908:function(e,r,t){t.r(r),t.d(r,{Shader:function(){return a},UniformLoc:function(){return i}});var n=t(63287),o=t(83947);class i{}class a{activate(){return this.gl.useProgram(this.program),this}deactivate(){return this.gl.useProgram(null),this}dispose(){this.gl.getParameter(this.gl.CURRENT_PROGRAM)===this.program&&this.gl.useProgram(null),this.gl.deleteProgram(this.program)}preRender(){}renderModal(e){return this.gl.bindVertexArray(e.mesh.vao),e.mesh.indexCount?this.gl.drawElements(e.mesh.drawMode,e.mesh.indexCount,this.gl.UNSIGNED_SHORT,0):this.gl.drawArrays(e.mesh.drawMode,0,e.mesh.vertexCount),this.gl.bindVertexArray(null),this}constructor(e,r,t){this.program=n.GLShaderCommon.getShaderProgram(e,r,t,!0),null!=this.program&&(this.gl=e,e.useProgram(this.program),this.attribLoc=new o.AttribLocations(e,this.program),this.uniformLoc=new i)}}},40744:function(e,r,t){t.r(r),t.d(r,{DRAW_MODE:function(){return n},RTN:function(){return i},VAO:function(){return a}});var n,o=t(83947);n||(n={});class i{constructor(){}}class a{static createMeshVAO(e,r,t,n,a,s){let l=new i;return l.name=r,l.drawMode=e.TRIANGLES,l.vao=e.createVertexArray(),e.bindVertexArray(l.vao),void 0!==t&&null!=t&&(l.bufVertices=e.createBuffer(),l.vertexComponentLen=3,l.vertexCount=t.length/l.vertexComponentLen,e.bindBuffer(e.ARRAY_BUFFER,l.bufVertices),e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),e.enableVertexAttribArray(o.ATTR.ATTR_POSITION_LOC),e.vertexAttribPointer(o.ATTR.ATTR_POSITION_LOC,3,e.FLOAT,!1,0,0)),void 0!==a&&null!=a&&(l.bufNormals=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,l.bufNormals),e.bufferData(e.ARRAY_BUFFER,new Float32Array(a),e.STATIC_DRAW),e.enableVertexAttribArray(o.ATTR.ATTR_NORMAL_LOC),e.vertexAttribPointer(o.ATTR.ATTR_NORMAL_LOC,3,e.FLOAT,!1,0,0)),void 0!==s&&null!=s&&(l.bufUV=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,l.bufUV),e.bufferData(e.ARRAY_BUFFER,new Float32Array(s),e.STATIC_DRAW),e.enableVertexAttribArray(o.ATTR.ATTR_UV_LOC),e.vertexAttribPointer(o.ATTR.ATTR_UV_LOC,2,e.FLOAT,!1,0,0)),void 0!==n&&null!=n&&(l.bufIndex=e.createBuffer(),l.indexCount=n.length,e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,l.bufIndex),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(n),e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),e.bindVertexArray(null),e.bindBuffer(e.ARRAY_BUFFER,null),l}constructor(){}}}}]);