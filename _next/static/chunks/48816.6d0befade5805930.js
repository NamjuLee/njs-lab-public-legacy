"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[48816,56043],{27719:function(e,t,r){r.d(t,{e:function(){return l}});var n,i=r(19324),o={exports:{}};void 0!==(n=function(){function e(e,c,f){f=f||2;var g,d,m,x,v,w,b,A=c&&c.length,T=A?c[0]*f:e.length,S=t(e,0,T,f,!0),_=[];if(!S||S.next===S.prev)return _;if(A&&(S=function(e,o,s,u){var c,f,g,y=[];for(c=0,f=o.length;c<f;c++)(g=t(e,o[c]*u,c<f-1?o[c+1]*u:e.length,u,!1))===g.next&&(g.steiner=!0),y.push(function(e){var t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e);return r}(g));for(y.sort(n),c=0;c<y.length;c++)s=r(s=function(e,t){var n=function(e,t){var r,n,i,o=t,s=e.x,u=e.y,c=-1/0;do{if(u<=o.y&&u>=o.next.y&&o.next.y!==o.y){var f=o.x+(u-o.y)*(o.next.x-o.x)/(o.next.y-o.y);if(f<=s&&f>c){if(c=f,f===s){if(u===o.y)return o;if(u===o.next.y)return o.next}i=o.x<o.next.x?o:o.next}}o=o.next}while(o!==t);if(!i)return null;if(s===c)return i;var h,g=i,y=i.x,d=i.y,m=1/0;o=i;do s>=o.x&&o.x>=y&&s!==o.x&&l(u<d?s:c,u,y,d,u<d?c:s,u,o.x,o.y)&&(h=Math.abs(u-o.y)/(s-o.x),p(o,e)&&(h<m||h===m&&(o.x>i.x||o.x===i.x&&(r=i,n=o,0>a(r.prev,r,n.prev)&&0>a(n.next,r,r.next))))&&(i=o,m=h)),o=o.next;while(o!==g);return i}(e,t);if(!n)return t;var o=h(n,e),s=r(n,n.next);let u=i(o);return r(u,u.next),s=i(s),i(t===n?s:t)}(y[c],s),s.next);return s}(e,c,S,f)),e.length>80*f){g=m=e[0],d=x=e[1];for(var M=f;M<T;M+=f)(v=e[M])<g&&(g=v),(w=e[M+1])<d&&(d=w),v>m&&(m=v),w>x&&(x=w);b=0!==(b=Math.max(m-g,x-d))?1/b:0}return function e(t,n,i,c,f,g,d){if(t){!d&&g&&function(e,t,r,n){var i=e;do null===i.z&&(i.z=o(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,r,n,i,o,l,a,s,u=1;do{for(r=e,e=null,o=null,l=0;r;){for(l++,n=r,a=0,t=0;t<u&&(a++,n=n.nextZ);t++);for(s=u;a>0||s>0&&n;)0!==a&&(0===s||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,s--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;r=n}o.nextZ=null,u*=2}while(l>1)}(i)}(t,c,f,g);for(var m,x,v=t;t.prev!==t.next;)if(m=t.prev,x=t.next,g?function(e,t,r,n){var i=e.prev,s=e.next;if(a(i,e,s)>=0)return!1;for(var u=i.x<e.x?i.x<s.x?i.x:s.x:e.x<s.x?e.x:s.x,c=i.y<e.y?i.y<s.y?i.y:s.y:e.y<s.y?e.y:s.y,f=i.x>e.x?i.x>s.x?i.x:s.x:e.x>s.x?e.x:s.x,p=i.y>e.y?i.y>s.y?i.y:s.y:e.y>s.y?e.y:s.y,h=o(u,c,t,r,n),g=o(f,p,t,r,n),y=e.prevZ,d=e.nextZ;y&&y.z>=h&&d&&d.z<=g;){if(y!==e.prev&&y!==e.next&&l(i.x,i.y,e.x,e.y,s.x,s.y,y.x,y.y)&&a(y.prev,y,y.next)>=0||(y=y.prevZ,d!==e.prev&&d!==e.next&&l(i.x,i.y,e.x,e.y,s.x,s.y,d.x,d.y)&&a(d.prev,d,d.next)>=0))return!1;d=d.nextZ}for(;y&&y.z>=h;){if(y!==e.prev&&y!==e.next&&l(i.x,i.y,e.x,e.y,s.x,s.y,y.x,y.y)&&a(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;d&&d.z<=g;){if(d!==e.prev&&d!==e.next&&l(i.x,i.y,e.x,e.y,s.x,s.y,d.x,d.y)&&a(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}(t,c,f,g):function(e){var t=e.prev,r=e.next;if(a(t,e,r)>=0)return!1;for(var n=e.next.next;n!==e.prev;){if(l(t.x,t.y,e.x,e.y,r.x,r.y,n.x,n.y)&&a(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}(t))n.push(m.i/i),n.push(t.i/i),n.push(x.i/i),y(t),t=x.next,v=x.next;else if((t=x)===v){d?1===d?e(t=function(e,t,n){var i=e;do{var o=i.prev,l=i.next.next;!s(o,l)&&u(o,i,i.next,l)&&p(o,l)&&p(l,o)&&(t.push(o.i/n),t.push(i.i/n),t.push(l.i/n),y(i),y(i.next),i=e=l),i=i.next}while(i!==e);return r(i)}(r(t),n,i),n,i,c,f,g,2):2===d&&function(t,n,i,o,l,c){var f=t;do{for(var g,y,d=f.next.next;d!==f.prev;){if(f.i!==d.i&&(g=f,y=d,g.next.i!==y.i&&g.prev.i!==y.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&u(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(g,y)&&(p(g,y)&&p(y,g)&&function(e,t){var r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==e);return n}(g,y)&&(a(g.prev,g,y.prev)||a(g,y.prev,y))||s(g,y)&&a(g.prev,g,g.next)>0&&a(y.prev,y,y.next)>0))){var m=h(f,d);return f=r(f,f.next),m=r(m,m.next),e(f,n,i,o,l,c),void e(m,n,i,o,l,c)}d=d.next}f=f.next}while(f!==t)}(t,n,i,c,f,g):e(r(t),n,i,c,f,g,1);break}}}(S,_,f,g,d,b),_}function t(e,t,r,n,i){var o,l;if(i===m(e,t,r,n)>0)for(o=t;o<r;o+=n)l=g(o,e[o],e[o+1],l);else for(o=r-n;o>=t;o-=n)l=g(o,e[o],e[o+1],l);if(l&&s(l,l.next)){var a=l.next;y(l),l=a}return l}function r(e,t){if(!e)return e;t||(t=e);var r,n=e;do if(r=!1,n.steiner||!s(n,n.next)&&0!==a(n.prev,n,n.next))n=n.next;else{var i=n.prev;if(y(n),(n=t=i)===n.next)break;r=!0}while(r||n!==t);return t}function n(e,t){return e.x-t.x}function i(e){if(e.next.prev===e)return e;let t=e;for(;;){let r=t.next;if(r.prev===t||r===t||r===e)break;t=r}return t}function o(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function l(e,t,r,n,i,o,l,a){return(i-l)*(t-a)-(e-l)*(o-a)>=0&&(e-l)*(n-a)-(r-l)*(t-a)>=0&&(r-l)*(o-a)-(i-l)*(n-a)>=0}function a(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function s(e,t){return e.x===t.x&&e.y===t.y}function u(e,t,r,n){var i=f(a(e,t,r)),o=f(a(e,t,n)),l=f(a(r,n,e)),s=f(a(r,n,t));return i!==o&&l!==s||!(0!==i||!c(e,r,t))||!(0!==o||!c(e,n,t))||!(0!==l||!c(r,e,n))||!(0!==s||!c(r,t,n))}function c(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function f(e){return e>0?1:e<0?-1:0}function p(e,t){return 0>a(e.prev,e,e.next)?a(e,t,e.next)>=0&&a(e,e.prev,t)>=0:0>a(e,t,e.prev)||0>a(e,e.next,t)}function h(e,t){var r=new d(e.i,e.x,e.y),n=new d(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function g(e,t,r,n){var i=new d(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function y(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function d(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function m(e,t,r,n){for(var i=0,o=t,l=r-n;o<r;o+=n)i+=(e[l]-e[o])*(e[o+1]+e[l+1]),l=o;return i}return e.deviation=function(e,t,r,n){var i=t&&t.length,o=i?t[0]*r:e.length,l=Math.abs(m(e,0,o,r));if(i)for(var a=0,s=t.length;a<s;a++){var u=t[a]*r,c=a<s-1?t[a+1]*r:e.length;l-=Math.abs(m(e,u,c,r))}var f=0;for(a=0;a<n.length;a+=3){var p=n[a]*r,h=n[a+1]*r,g=n[a+2]*r;f+=Math.abs((e[p]-e[g])*(e[h+1]-e[p+1])-(e[p]-e[h])*(e[g+1]-e[p+1]))}return 0===l&&0===f?0:Math.abs((f-l)/l)},e.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var l=0;l<t;l++)r.vertices.push(e[i][o][l]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r},e}())&&(o.exports=n);let l=(0,i.g)(o.exports)},17514:function(e,t,r){function n(e,t,r){i(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function i(e,t,r,n=3,i=n){if(e.length/n!==Math.ceil(t.length/i))return e;let o=e.length/n,l=r[0],a=r[1],s=r[2],u=r[4],c=r[5],f=r[6],p=r[8],h=r[9],g=r[10],y=r[12],d=r[13],m=r[14],x=0,v=0;for(let r=0;r<o;r++){let r=t[x],o=t[x+1],w=t[x+2];e[v]=l*r+u*o+p*w+y,e[v+1]=a*r+c*o+h*w+d,e[v+2]=s*r+f*o+g*w+m,x+=i,v+=n}return e}function o(e,t,r){l(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function l(e,t,r,n=3,i=n){if(e.length/n!==Math.ceil(t.length/i))return;let o=e.length/n,l=r[0],a=r[1],s=r[2],u=r[3],c=r[4],f=r[5],p=r[6],h=r[7],g=r[8],y=0,d=0;for(let r=0;r<o;r++){let r=t[y],o=t[y+1],m=t[y+2];e[d]=l*r+u*o+p*m,e[d+1]=a*r+c*o+h*m,e[d+2]=s*r+f*o+g*m,y+=i,d+=n}}function a(e,t,r){s(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function s(e,t,r,n=3,i=n){let o=Math.min(e.length/n,t.length/i),l=0,a=0;for(let s=0;s<o;s++)e[a]=r*t[l],e[a+1]=r*t[l+1],e[a+2]=r*t[l+2],l+=i,a+=n;return e}function u(e,t,r,n=3,i=n){let o=e.length/n;if(o!==Math.ceil(t.length/i))return e;let l=0,a=0;for(let s=0;s<o;s++)e[a]=t[l]+r[0],e[a+1]=t[l+1]+r[1],e[a+2]=t[l+2]+r[2],l+=i,a+=n;return e}function c(e,t){f(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function f(e,t,r=3,n=r){let i=Math.min(e.length/r,t.length/n),o=0,l=0;for(let a=0;a<i;a++){let i=t[o],a=t[o+1],s=t[o+2],u=i*i+a*a+s*s;if(u>0){let t=1/Math.sqrt(u);e[l]=t*i,e[l+1]=t*a,e[l+2]=t*s}o+=n,l+=r}}r.d(t,{a:function(){return i},b:function(){return u},c:function(){return o},d:function(){return n},e:function(){return c},f:function(){return a},n:function(){return f},s:function(){return s},t:function(){return l}}),r(37180),r(65223),Object.freeze(Object.defineProperty({__proto__:null,normalize:f,normalizeView:c,scale:s,scaleView:a,shiftRight:function(e,t,r){let n=Math.min(e.count,t.count),i=e.typedBuffer,o=e.typedBufferStride,l=t.typedBuffer,a=t.typedBufferStride,s=0,u=0;for(let e=0;e<n;e++)i[u]=l[s]>>r,i[u+1]=l[s+1]>>r,i[u+2]=l[s+2]>>r,s+=a,u+=o},transformMat3:l,transformMat3View:o,transformMat4:i,transformMat4View:n,translate:u},Symbol.toStringTag,{value:"Module"}))},48816:function(e,t,r){r.d(t,{Z:function(){return eK}});var n,i,o,l=r(86641),a=r(70631),s=r(94605),u=r(21962),c=r(65223),f=r(31534),p=r(31124),h=r(20128),g=r(89312);r(37180),r(3457);var y=r(64186),d=r(82955),m=r(9377),x=r(90389),v=r(33876),w=r(54001),b=r(50993),A=r(35905);let T="Expected location to be a Point instance";class S extends s.Z{constructor(){super("invalid-input:location",T)}}var _=r(75551),M=r(4377),Z=r(7421),R=r(45724),C=r(50327),U=r(27719),F=r(37436),N=r(20058),E=r(40354),O=r(20911),P=r(13507),j=r(9266),L=r(60964),I=r(37646);let B=(0,I.Ue)();var z=r(67653);function G(e,t,r,n,i,o,l){i*=3;for(let a=0;a<o;++a){let o=e[t];n[i++]=o[0],n[i++]=o[1],n[i++]=l?o[2]:0,t+=r}return i/3}(n=i||(i={}))[n.NONE=0]="NONE",n[n.CCW_IS_HOLE=1]="CCW_IS_HOLE";var D=r(54053),W=r(56043);let k=null;function V(e){if(0===e.length)return D.bM;let t=(0,D.Ue)([Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,-Number.POSITIVE_INFINITY,-Number.POSITIVE_INFINITY,-Number.POSITIVE_INFINITY]);return(0,D.G1)(t,e),t}function H(e,t){let[r,n,i,o,l,a]=V(e);return new m.Z({xmin:r,ymin:n,zmin:i,xmax:o,ymax:l,zmax:a,spatialReference:t})}var q=r(81387);function $(e,t,r,n){if(void 0!==n){(0,a.x9)(e(),"option: geographic",{replacement:"Use mesh `vertexSpace` and spatial reference to control how operations are performed instead.",version:"4.30",warnOnce:!0});let i="local"===t.type;if(!(0,C.zZ)(t)||n===i)return r.isGeographic||r.isWebMercator&&n;e().warnOnce(`Specifying the 'geographic' parameter (${n}) for a Mesh vertex space of type "${t.type}" is not supported. This parameter will be ignored.`)}switch(t.type){case"georeferenced":return r.isGeographic;case"local":return r.isGeographic||r.isWebMercator}}var J=r(45603);let Y=()=>c.Z.getLogger("esri.geometry.support.meshUtils.centerAt"),K=(0,d.Ue)(),X=(0,d.Ue)(),Q=(0,d.Ue)();var ee=r(72659);async function et(e,t,n){let{source:i}=t,{loadGLTFMesh:o}=await (0,p.Hl)(Promise.all([r.e(65210),r.e(25245)]).then(r.bind(r,25245)),n),l=await er(i,n);(0,p.k_)(n);let a=o(new v.Z({x:0,y:0,z:0,spatialReference:e.spatialReference}),l.url,{resolveFile:function(e){let t=(0,ee.Yd)(e.url);return r=>{let n=(0,ee.PF)(r,t,t),i=n?n.replace(/^ *\.\//,""):null;return(i?e.files.get(i):null)??r}}(l),signal:n?.signal,expectedType:l.type});a.then(()=>l.dispose(),()=>l.dispose());let{vertexAttributes:s,components:u}=await a;e.vertexAttributes=s,e.components=u}async function er(e,t){if(Array.isArray(e)){if(!e.length)throw new s.Z("mesh-load-external:missing-assets","There must be at least one file to load");return e[0]instanceof File?ec(e.map(e=>({name:e.name,mimeType:e.type,source:ei(e)}))):eo(e,t)}return ei(e)}async function en(e,t){let{parts:r,assetMimeType:n,assetName:i}=e;if(1===r.length)return new ef(r[0].partUrl);let o=await e.toBlob(t);return(0,p.k_)(t),ef.fromBlob(o,ep(i,n))}function ei(e){return ef.fromBlob(e,ep(e.name,e.type))}async function eo(e,t){let r=await (0,p.OT)(e.map(async e=>{let r=await en(e);return(0,p.k_)(t),{name:e.assetName,mimeType:e.assetMimeType,source:r}}));if((0,p.Hc)(t))throw r.forEach(e=>e.source.dispose()),(0,p.zE)();return ec(r)}let el=/^model\/gltf\+json$/,ea=/^model\/gltf-binary$/,es=/\.gltf$/i,eu=/\.glb$/i;function ec(e){let t=new Map,r,n=null;for(let{name:i,mimeType:o,source:l}of e)null===n&&(el.test(o)||es.test(i)?(n=l.url,r="gltf"):(ea.test(o)||eu.test(i))&&(n=l.url,r="glb")),t.set(i,l.url),l.files.forEach((e,r)=>t.set(r,e));if(null==n)throw new s.Z("mesh-load-external:missing-files","Missing files to load external mesh source");return new ef(n,()=>e.forEach(({source:e})=>e.dispose()),t,r)}class ef{constructor(e,t=()=>{},r=new Map,n){this.url=e,this.dispose=t,this.files=r,this.type=n}static fromBlob(e,t){let r=URL.createObjectURL(e);return new ef(r,()=>URL.revokeObjectURL(r),void 0,t)}}function ep(e,t){return el.test(t)||es.test(e)?"gltf":ea.test(t)||es.test(e)?"glb":void 0}var eh=r(23427),eg=r(50973),ey=r(6817);let ed=class extends eh.j{constructor(e){super(e),this.externalSources=new eg.Z,this._explicitDisplaySource=null,this.addHandles((0,h.on)(()=>this.externalSources,"after-remove",({item:e})=>{e===this._explicitDisplaySource&&(this._explicitDisplaySource=null)},{sync:!0,onListenerRemove:()=>this._explicitDisplaySource=null}))}get displaySource(){return this._explicitDisplaySource??this._implicitDisplaySource}set displaySource(e){if(null!=e&&!(0,ey.NZ)(e))throw Error("Cannot use this source for display: it is not in a supported format.");this._explicitDisplaySource=e,e&&this.externalSources.every(t=>!(0,ey.fV)(t,e))&&this.externalSources.add(e)}clearSources(){this.externalSources.removeAll()}getExternalSourcesOnService(e){return this.externalSources.items.filter(t=>(0,ey.JG)(t,e))}get _implicitDisplaySource(){return this.externalSources.find(ey.NZ)}};(0,l._)([(0,g.Cb)()],ed.prototype,"externalSources",void 0),(0,l._)([(0,g.Cb)()],ed.prototype,"displaySource",null),(0,l._)([(0,g.Cb)()],ed.prototype,"_implicitDisplaySource",null),(0,l._)([(0,g.Cb)()],ed.prototype,"_explicitDisplaySource",void 0),ed=(0,l._)([(0,y.j)("esri.geometry.support.meshUtils.Metadata")],ed);var em=r(25607);let ex={position:[-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],normal:[0,0,1,0,0,1,0,0,1,0,0,1],uv:[0,1,1,1,1,0,0,0],faces:[0,1,2,0,2,3],facingAxisOrderSwap:{east:[3,1,2],west:[-3,-1,2],north:[-1,3,2],south:[1,-3,2],up:[1,2,3],down:[1,-2,-3]}};function ev(e,t,r){e.isPlane||function(e){for(let t=0;t<e.position.length;t+=3)e.position[t+2]+=.5}(e),function(e,t){if(null!=t){eT[0]=t[0],eT[4]=t[1],eT[8]=t[2];for(let t=0;t<e.position.length;t+=3){for(let r=0;r<3;r++)eA[r]=e.position[t+r];(0,L.t)(eA,eA,eT);for(let r=0;r<3;r++)e.position[t+r]=eA[r]}if(t[0]!==t[1]||t[1]!==t[2]){eT[0]=1/t[0],eT[4]=1/t[1],eT[8]=1/t[2];for(let t=0;t<e.normal.length;t+=3){for(let r=0;r<3;r++)eA[r]=e.normal[t+r];(0,L.t)(eA,eA,eT),(0,L.n)(eA,eA);for(let r=0;r<3;r++)e.normal[t+r]=eA[r]}}}}(e,function(e,t,r){let n=(0,J.ur)(t,r);if(null==e&&1===n)return null;if(null==e)return[n,n,n];if("number"==typeof e){let t=e*n;return[t,t,t]}return[null!=e.width?e.width*n:n,null!=e.depth?e.depth*n:n,null!=e.height?e.height*n:n]}(r?.size,r?.unit,t.spatialReference));let n=(0,C.G7)(t,r),i=t.spatialReference.isGeographic?(0,C.G7)(t):n,o=(0,J.qk)({vertexAttributes:e,vertexSpace:i,spatialReference:t.spatialReference},n,{allowBufferReuse:!0});return{vertexAttributes:new R.Q({...o,uv:e.uv}),vertexSpace:n,components:[new A.Z({faces:e.faces,material:r?.material||null})],spatialReference:t.spatialReference}}let ew={faceDescriptions:[{axis:[0,-1,0],uvOrigin:[0,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[1,0,0],uvOrigin:[.25,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,1,0],uvOrigin:[.5,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[-1,0,0],uvOrigin:[.75,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[0,0,1],uvOrigin:[0,.375],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,0,-1],uvOrigin:[0,.875],corners:[[-1,1],[1,1],[1,-1],[-1,-1]]}],uvScales:[[0,0],[1,0],[1,1],[0,1]],faceVertexOffsets:[0,1,2,0,2,3]},eb={south:0,east:1,north:2,west:3,up:4,down:5},eA=(0,d.Ue)(),eT=(0,em.Ue)();var eS=r(15514),e_=r(94807),eM=r(77244),eZ=r(41174),eR=r(57079),eC=r(10940),eU=r(26150);let eF=()=>c.Z.getLogger("esri.geometry.support.meshUtils.rotate");function eN(e,t,r,n=d.AG){if(null!=e){(0,e_.Us)(ej,(0,b.WH)(t),(0,b.ZZ)(t));for(let t=0;t<e.length;t+=r){for(let r=0;r<3;r++)eE[r]=e[t+r]-n[r];(0,L.h)(eE,eE,ej);for(let r=0;r<3;r++)e[t+r]=eE[r]+n[r]}}}let eE=(0,d.Ue)(),eO=(0,eM.Ue)(),eP=(0,b.Ue)(),ej=(0,eM.Ue)(),eL=(0,em.Ue)(),eI=(0,d.Ue)(),eB=(0,eR.Ue)(),ez=()=>c.Z.getLogger("esri.geometry.support.meshUtils.scale");function eG(e,t,r=d.AG){if(e)for(let n=0;n<e.length;n+=3){for(let t=0;t<3;t++)eD[t]=e[n+t]-r[t];(0,L.j)(eD,eD,t);for(let t=0;t<3;t++)e[n+t]=eD[t]+r[t]}}let eD=(0,d.Ue)(),eW=(0,d.Ue)(),ek=(0,eM.Ue)(),eV=(0,d.Ue)(),eH="esri.geometry.Mesh";function eq(){return c.Z.getLogger(eH)}let e$={base:null,key:"type",defaultKeyValue:"georeferenced",typeMap:{georeferenced:_.Z,local:M.Z}},eJ=o=class extends u.Z.LoadableMixin((0,f.v)(x.Z)){constructor(e){super(e),this.components=null,this.vertexSpace=new _.Z,this.transform=null,this.metadata=new ed,this.hasZ=!0,this.hasM=!1,this.vertexAttributes=new R.Q,this.type="mesh"}initialize(){(0===this.metadata.externalSources.length||this.vertexAttributes.position.length)&&(this.loadStatus="loaded"),this.when(()=>{this.addHandles((0,h.YP)(()=>({vertexAttributes:this.vertexAttributes,components:this.components?.map(e=>e.clone())}),()=>this._clearSources(),{once:!0,sync:!0}))})}get hasExtent(){return this.loaded?this.vertexAttributes.position.length>0&&(!this.components||this.components.length>0):null!=this.metadata.displaySource?.extent}get _transformedExtent(){let{components:e,spatialReference:t,vertexAttributes:r,vertexSpace:n}=this,i=r.position;if(0===i.length||e&&0===e.length)return new m.Z({xmin:0,ymin:0,zmin:0,xmax:0,ymax:0,zmax:0,spatialReference:t});if((0,C.zZ)(n)){let{_untransformedBounds:e,transform:r}=this;return function([e,t,r,n,i,o],l,a,s){let u=k??=new Float64Array(24);return u[0]=e,u[1]=t,u[2]=r,u[3]=e,u[4]=i,u[5]=r,u[6]=n,u[7]=i,u[8]=r,u[9]=n,u[10]=t,u[11]=r,u[12]=e,u[13]=t,u[14]=o,u[15]=e,u[16]=i,u[17]=o,u[18]=n,u[19]=i,u[20]=o,u[21]=n,u[22]=t,u[23]=o,(0,W.project)({positions:u,transform:l,vertexSpace:a,inSpatialReference:s,outSpatialReference:s,outPositions:u}),H(u,s)}(e,r,n,t)}return H(i,t)}get _untransformedBounds(){return V(this.vertexAttributes.position)}get anchor(){let e=(0,C.rU)(this.vertexSpace,this.spatialReference);if(null!=e)return e;let{center:t,zmin:r}=this._transformedExtent;return new v.Z({x:t.x,y:t.y,z:r,spatialReference:this.spatialReference})}get origin(){let e=(0,C.rU)(this.vertexSpace,this.spatialReference);return null!=e?e:this._transformedExtent.center}get extent(){return this.loaded||null==this.metadata?.displaySource?.extent?this._transformedExtent:this.metadata.displaySource.extent.clone()}addComponent(e){this._checkIfLoaded("addComponent()")&&(this.components||(this.components=[]),this.components.push(A.Z.from(e)),this.notifyChange("components"))}removeComponent(e){if(this._checkIfLoaded("removeComponent()")){if(this.components){let t=this.components.indexOf(e);if(-1!==t)return this.components.splice(t,1),void this.notifyChange("components")}eq().error("removeComponent()","Provided component is not part of the list of components")}}rotate(e,t,r,n){return(0,b.qw)(e,t,r,eY),function(e,t,r){if(!e.vertexAttributes?.position||0===t[3])return;let{spatialReference:n,vertexSpace:i}=e,o=r?.origin??e.anchor,l=$(eF,i,n,r?.geographic);(0,C.QK)(e)?function(e,t,r){e.transform??=new Z.Z;let{vertexSpace:n,transform:i,spatialReference:o}=e,[l,a,s]=n.origin;if(new v.Z({x:l,y:a,z:s,spatialReference:o}).equals(r))(0,L.s)(eE,0,0,0);else if(!(0,J.x1)(eE,r,e))return void(0,W.pn)(eF(),r.spatialReference,o,W.Gi);(0,eZ.yY)(eB,(0,b.ZZ)(t),(0,b.WH)(t));let u=(0,e_.PS)(eO,eB,d.AG,d.hq,eE),{localMatrix:c}=i,f=(0,e_.Jp)(eO,u,c);i.scale=(0,e_.Q$)((0,d.Ue)(),f),(0,e_.bA)(f,f,(0,L.i)(eE,i.scale));let p=i.rotationAxis;i.rotation=(0,b.q_)(f),0===i.rotationAngle&&(i.rotationAxis=p),i.translation=(0,e_.i0)((0,d.Ue)(),f)}(e,t,o):l?function(e,t,r){let n=e.spatialReference,i=(0,eC.rS)(n);if(!(0,q.K)(r,eI,i)&&((0,W.pn)(eF(),r.spatialReference,i,"Falling back to mesh origin"),!(0,q.K)(e.origin,eI,i)))return void(0,W.pn)(eF(),e.origin.spatialReference,i);let o=e.vertexAttributes.position,l=e.vertexAttributes.normal,a=e.vertexAttributes.tangent,s=new Float64Array(o.length),u=null!=l?new Float32Array(l.length):null,c=null!=a?new Float32Array(a.length):null;(0,eU.B)(i,eI,ej,i),(0,eS.xO)(eL,ej),(0,L.t)((0,b.ZZ)(eP),(0,b.ZZ)(t),eL),eP[3]=t[3],(0,W.XO)(o,n,s)&&(null==l||null==u||(0,W.Iz)(l,o,s,n,u))&&(null==a||null==c||(0,W.wi)(a,o,s,n,c))?(eN(s,eP,3,eI),(0,W.To)(s,o,n)&&(null==l||null==u||(eN(u,eP,3),(0,W.Yk)(u,o,s,n,l)))&&(null==a||null==c||(eN(c,eP,4),(0,W.M2)(c,o,s,n,a)))?e.vertexAttributesChanged():(0,W.pn)(eF(),i,n)):(0,W.pn)(eF(),n,i)}(e,t,o):function(e,t,r){if(!(0,q.K)(r,eI,e.spatialReference)){let t=e.origin;return eI[0]=t.x,eI[1]=t.y,eI[2]=t.z,void(0,W.pn)(eF(),r.spatialReference,e.spatialReference,W.Gi)}eN(e.vertexAttributes.position,t,3,eI),eN(e.vertexAttributes.normal,t,3),eN(e.vertexAttributes.tangent,t,4),e.vertexAttributesChanged()}(e,t,o)}(this,eY,n),this}offset(e,t,r){if(!this._checkIfLoaded("offset()"))return this;let{vertexSpace:n,vertexAttributes:i}=this,o=i?.position;if(!o)return this;if((0,C.zZ)(n)){let[i,o,l]=n.origin;n.origin=(0,d.al)(i+e,o+t,l+r)}else{for(let n=0;n<o.length;n+=3)o[n]+=e,o[n+1]+=t,o[n+2]+=r;this.vertexAttributesChanged()}return this}scale(e,t){return this._checkIfLoaded("scale()")&&function(e,t,r){if(!e.vertexAttributes?.position)return;let{vertexSpace:n,spatialReference:i}=e,o=r?.origin??e.anchor,l=$(ez,n,i,r?.geographic);(0,C.QK)(e)?function(e,t,r){e.transform??=new Z.Z;let{vertexSpace:n,transform:i,spatialReference:o}=e,[l,a,s]=n.origin;if(new v.Z({x:l,y:a,z:s,spatialReference:o}).equals(r))(0,L.s)(eD,0,0,0);else if(!(0,J.x1)(eD,r,e))return void(0,W.pn)(ez(),r.spatialReference,o,W.Gi);let u=(0,L.s)(eW,t,t,t),c=(0,e_.PS)(ek,eR.Wd,d.AG,u,eD),{localMatrix:f}=i,p=(0,e_.Jp)(ek,c,f);i.scale=(0,e_.Q$)((0,d.Ue)(),p),(0,e_.bA)(p,p,(0,L.i)(eD,i.scale));let h=i.rotationAxis;i.rotation=(0,b.q_)(p),0===i.rotationAngle&&(i.rotationAxis=h),i.translation=(0,e_.i0)((0,d.Ue)(),p)}(e,t,o):l?function(e,t,r){let n=e.spatialReference,i=(0,eC.rS)(n);if(!(0,q.K)(r,eV,i)&&((0,W.pn)(ez(),r.spatialReference,i,"Falling back to mesh origin"),!(0,q.K)(e.origin,eV,i)))return void(0,W.pn)(ez(),e.origin.spatialReference,i);let o=e.vertexAttributes.position,l=e.vertexAttributes.normal,a=e.vertexAttributes.tangent,s=new Float64Array(o.length),u=null!=l?new Float32Array(l.length):null,c=null!=a?new Float32Array(a.length):null;(0,W.XO)(o,n,s)&&(null==l||null==u||(0,W.Iz)(l,o,s,n,u))&&(null==a||null==c||(0,W.wi)(a,o,s,n,c))?(eG(s,t,eV),(0,W.To)(s,o,n)&&(null==l||null==u||(0,W.Yk)(u,o,s,n,l))&&(null==a||null==c||(0,W.M2)(c,o,s,n,a))?e.vertexAttributesChanged():(0,W.pn)(ez(),i,n)):(0,W.pn)(ez(),n,i)}(e,t,o):function(e,t,r){if(!(0,q.K)(r,eV,e.spatialReference)){let t=e.origin;return eV[0]=t.x,eV[1]=t.y,eV[2]=t.z,void(0,W.pn)(ez(),r.spatialReference,e.spatialReference,W.Gi)}eG(e.vertexAttributes.position,t,eV),e.vertexAttributesChanged()}(e,t,o)}(this,e,t),this}centerAt(e,t){return this._checkIfLoaded("centerAt()")&&function(e,t,r){if(!e.vertexAttributes?.position)return;let{vertexSpace:n}=e,i=r?.origin??e.anchor,o=$(Y,n,i.spatialReference,r?.geographic);(0,C.zZ)(n)?function(e,t,r){let{vertexSpace:n}=e;if(!(0,C.zZ)(n))return;if(!(0,q.K)(t,K,e.spatialReference))return void(0,W.pn)(Y(),t.spatialReference,e.spatialReference,W.Gi);if(!(0,q.K)(r,X,e.spatialReference)){let t=e.origin;return X[0]=t.x,X[1]=t.y,X[2]=t.z,void(0,W.pn)(Y(),r.spatialReference,e.spatialReference,W.Gi)}let i=(0,L.f)(Q,K,X);n.origin=(0,L.g)((0,d.Ue)(),n.origin,i)}(e,t,i):o?function(e,t,r){let n=(0,d.al)(r.x,r.y,r.z??0),i=(0,J.qk)(e,new M.Z({origin:n}));if(!i)return;let o=(0,d.al)(t.x,t.y,t.z??0),l=(0,J.qk)({vertexAttributes:i,spatialReference:e.spatialReference,vertexSpace:new M.Z({origin:o})},new _.Z);if(!l)return;let{position:a,normal:s,tangent:u}=l;e.vertexAttributes.position=a,e.vertexAttributes.normal=s,e.vertexAttributes.tangent=u,e.vertexAttributesChanged()}(e,t,i):function(e,t,r){if((0,q.K)(t,K,e.spatialReference)){if(!(0,q.K)(r,X,e.spatialReference)){let t=e.origin;return X[0]=t.x,X[1]=t.y,X[2]=t.z,void(0,W.pn)(Y(),r.spatialReference,e.spatialReference,W.Gi)}(function(e,t,r){if(e)for(let n=0;n<e.length;n+=3)for(let i=0;i<3;i++)e[n+i]+=t[i]-r[i]})(e.vertexAttributes.position,K,X),e.vertexAttributesChanged()}else(0,W.pn)(Y(),t.spatialReference,e.spatialReference,W.Gi)}(e,t,i)}(this,e,t),this}load(e){let{metadata:{displaySource:t}}=this;return t&&this.addResolvingPromise(et(this,t,e)),Promise.resolve(this)}addExternalSources(e){this.metadata.externalSources.addMany(e)}updateDisplaySource(e){this.metadata.displaySource=e}clone(){return this.cloneAndModifyVertexAttributes(this.vertexAttributes.clone(),this.vertexSpace.clone())}cloneAndModifyVertexAttributes(e,t){let r=null;if(this.components){let e=new Map,t=new Map;r=this.components.map(r=>r.cloneWithDeduplication(e,t))}let n={components:r,spatialReference:this.spatialReference,vertexAttributes:e,vertexSpace:t,transform:this.transform?.clone()??null,metadata:this.metadata.clone()};return new o(n)}cloneShallow(){return new o({components:this.components,spatialReference:this.spatialReference,vertexAttributes:this.vertexAttributes,vertexSpace:this.vertexSpace.clone(),transform:this.transform,metadata:this.metadata})}vertexAttributesChanged(){this.notifyChange("vertexAttributes")}async toBinaryGLTF(e){let[{toBinaryGLTF:t}]=await Promise.all([r.e(40801).then(r.bind(r,40801)),this.load(e)]);return(0,p.k_)(e),await t(this,e)}get memoryUsage(){let e;if(e=0+this.vertexAttributes.memoryUsage,null!=this.components)for(let t of this.components)e+=t.memoryUsage;return e}_clearSources(){this.metadata.clearSources()}_checkIfLoaded(e){return!!this.loaded||(eq().error(e,"Mesh must be loaded before applying operations"),!1)}static createBox(e,t){if(!(e instanceof v.Z))return eq().error(".createBox()",T),null;let r=new o(ev(function(){let{faceDescriptions:e,faceVertexOffsets:t,uvScales:r}=ew,n=4*e.length,i=new Float64Array(3*n),o=new Float32Array(3*n),l=new Float32Array(2*n),a=new Uint32Array(2*e.length*3),s=0,u=0,c=0,f=0;for(let n=0;n<e.length;n++){let p=e[n],h=s/3;for(let e of t)a[f++]=h+e;let g=p.corners;for(let e=0;e<4;e++){let t=g[e],n=0;l[c++]=.25*r[e][0]+p.uvOrigin[0],l[c++]=p.uvOrigin[1]-.25*r[e][1];for(let e=0;e<3;e++)0!==p.axis[e]?(i[s++]=.5*p.axis[e],o[u++]=p.axis[e]):(i[s++]=.5*t[n++],o[u++]=0)}}return{position:i,normal:o,uv:l,faces:a}}(),e,t));return t?.imageFace&&"all"!==t.imageFace?function(e,t){let r=e.components[0],n=r.faces,i=eb[t],o=6*i,l=Array(6),a=Array(n.length-6),s=0,u=0;for(let e=0;e<n.length;e++)e>=o&&e<o+6?l[s++]=n[e]:a[u++]=n[e];if(null!=e.vertexAttributes.uv){let t=new Float32Array(e.vertexAttributes.uv),r=4*i*2,n=[0,1,1,1,1,0,0,0];for(let e=0;e<n.length;e++)t[r+e]=n[e];e.vertexAttributes.uv=t}return e.components=[new A.Z({faces:l,material:r.material}),new A.Z({faces:a})],e}(r,t.imageFace):r}static createSphere(e,t){return e instanceof v.Z?new o(ev(function(e=0){let t=Math.round(8*2**e),r=2*t,n=(t-1)*(r+1)+2*r,i=new Float64Array(3*n),o=new Float32Array(3*n),l=new Float32Array(2*n),a=new Uint32Array((t-1)*r*6),s=0,u=0,c=0,f=0;for(let e=0;e<=t;e++){let n=e/t*Math.PI+.5*Math.PI,p=Math.cos(n),h=Math.sin(n);eA[2]=h;let g=0===e||e===t,y=g?r-1:r;for(let n=0;n<=y;n++){let h=n/y*2*Math.PI;eA[0]=-Math.sin(h)*p,eA[1]=Math.cos(h)*p;for(let e=0;e<3;e++)i[s]=.5*eA[e],o[s]=eA[e],++s;l[u++]=(n+(g?.5:0))/r,l[u++]=e/t,0!==e&&n!==r&&(e!==t&&(a[c++]=f,a[c++]=f+1,a[c++]=f-r),1!==e&&(a[c++]=f,a[c++]=f-r,a[c++]=f-r-1)),f++}}return{position:i,normal:o,uv:l,faces:a}}(t?.densificationFactor||0),e,t)):(eq().error(".createSphere()",T),null)}static createCylinder(e,t){return e instanceof v.Z?new o(ev(function(e=0){let t=Math.round(16*2**e),r=4*(t+1)+2*t,n=new Float64Array(3*r),i=new Float32Array(3*r),o=new Float32Array(2*r),l=new Uint32Array(4*t*3),a=0,s=0,u=0,c=0,f=0;for(let e=0;e<=5;e++){let r=0===e||5===e,p=e<=1||e>=4,h=2===e||4===e,g=r?t-1:t;for(let y=0;y<=g;y++){let d=y/g*2*Math.PI,m=r?0:.5;eA[0]=m*Math.sin(d),eA[1]=-(m*Math.cos(d)),eA[2]=e<=2?.5:-.5;for(let t=0;t<3;t++)n[a++]=eA[t],i[s++]=p?2===t?e<=1?1:-1:0:2===t?0:eA[t]/m;o[u++]=(y+(r?.5:0))/t,o[u++]=e<=1?1*e/3:e<=3?1*(e-2)/3+1/3:1*(e-4)/3+2/3,h||0===e||y===t||(5!==e&&(l[c++]=f,l[c++]=f+1,l[c++]=f-t),1!==e&&(l[c++]=f,l[c++]=f-t,l[c++]=f-t-1)),f++}}return{position:n,normal:i,uv:o,faces:l}}(t?.densificationFactor||0),e,t)):(eq().error(".createCylinder()",T),null)}static createPlane(e,t){if(!(e instanceof v.Z))return eq().error(".createPlane()",T),null;let r=t?.facing??"up",n=function(e,t){let r="number"==typeof t?t:null!=t?t.width:1,n="number"==typeof t?t:null!=t?t.height:1;switch(e){case"up":case"down":return{width:r,depth:n};case"north":case"south":return{width:r,height:n};case"east":case"west":return{depth:r,height:n}}}(r,t?.size);return new o(ev(function(e){let t=ex.facingAxisOrderSwap[e],r=ex.position,n=ex.normal,i=new Float64Array(r.length),o=new Float32Array(n.length),l=0;for(let e=0;e<4;e++){let e=l;for(let a=0;a<3;a++){let s=t[a],u=Math.abs(s)-1,c=s>=0?1:-1;i[l]=r[e+u]*c,o[l]=n[e+u]*c,l++}}return{position:i,normal:o,uv:new Float32Array(ex.uv),faces:new Uint32Array(ex.faces),isPlane:!0}}(r),e,{...t,size:n}))}static createFromPolygon(e,t){if(!(e instanceof w.Z))return eq().error(".createFromPolygon()","Expected polygon to be a Polygon instance"),null;let r=function(e){let t=function(e,t,r,n){let o=e.length,l=Array(o),a=Array(o),s=Array(o),u=0;for(let t=0;t<o;++t)u+=e[t].length;let c=0,f=0,p=0,h=(0,E.bg)(3*u),g=0;for(let u=o-1;u>=0;u--){let y=e[u],d=r===i.CCW_IS_HOLE&&function(e,t,r){if(!t)return!(0,N.bu)(e);let n=e.length-1;switch(function(e,t,r){let n=!function(e,t,r,n){let i=Array.isArray(t[0])?(e,r)=>t[e][r]:(e,r)=>t[3*e+r],o=n?(0,j.c9)(n)/(0,j._R)(n):1;return(0,I.zu)(e,(e,t)=>(0,L.s)(e,i(t,0)*o,i(t,1)*o,i(t,2)),r)}(B,e,t,r)?[0,0,1]:(0,I.st)(B);return Math.abs(n[2])>Math.cos((0,P.Vl)(80))?F.R.Z:Math.abs(n[1])>Math.abs(n[0])?F.R.Y:F.R.X}(e,n,r)){case F.R.X:return!(0,N.bu)(e,F.R.Y,F.R.Z);case F.R.Y:return!(0,N.bu)(e,F.R.X,F.R.Z);case F.R.Z:return!(0,N.bu)(e,F.R.X,F.R.Y)}}(y,t,n);if(d&&1!==o)l[c++]=y;else{let e=y.length;for(let t=0;t<c;++t)e+=l[t].length;let r={index:g,pathLengths:Array(c+1),count:e,holeIndices:Array(c)};r.pathLengths[0]=y.length,y.length>0&&(s[p++]={index:g,count:y.length}),g=d?G(y,y.length-1,-1,h,g,y.length,t):G(y,0,1,h,g,y.length,t);for(let e=0;e<c;++e){let n=l[e];r.holeIndices[e]=g,r.pathLengths[e+1]=n.length,n.length>0&&(s[p++]={index:g,count:n.length}),g=G(n,0,1,h,g,n.length,t)}c=0,r.count>0&&(a[f++]=r)}}for(let e=0;e<c;++e){let r=l[e];r.length>0&&(s[p++]={index:g,count:r.length}),g=G(r,0,1,h,g,r.length,t)}return a.length=f,s.length=p,{position:h,polygons:a,outlines:s}}(e.rings,e.hasZ,i.CCW_IS_HOLE,e.spatialReference),r=[],n=0,o=0;for(let e of t.polygons){let i=e.count,l=e.index,a=(0,E.Rq)(t.position,3*l,3*i),s=e.holeIndices.map(e=>e-l),u=(0,O.mi)((0,U.e)(a,s,3));r.push({position:a,faces:u}),n+=a.length,o+=u.length}let l=function(e,t,r){if(1===e.length)return e[0];let n=(0,E.bg)(t),i=Array(r),o=0,l=0,a=0;for(let t of e){for(let e=0;e<t.position.length;e++)n[o++]=t.position[e];for(let e of t.faces)i[l++]=e+a;a=o/3}return{position:n,faces:(0,O.mi)(i)}}(r,n,o),a=Array.isArray(l.position)?(0,z.d)(l.position,3,{originalIndices:l.faces}):(0,z.d)(l.position.buffer,6,{originalIndices:l.faces});return l.position=(0,E.QZ)(new Float64Array(a.buffer)),l.faces=a.indices,l}(e);return new o({vertexAttributes:new R.Q({position:r.position}),components:[new A.Z({faces:r.faces,shading:"flat",material:t?.material??null})],spatialReference:e.spatialReference,vertexSpace:new _.Z})}static async createFromGLTF(e,t,n){if(!(e instanceof v.Z)){let e=new S;throw eq().error(".createfromGLTF()",e.message),e}let{loadGLTFMesh:i}=await (0,p.Hl)(Promise.all([r.e(65210),r.e(25245)]).then(r.bind(r,25245)),n);return new o(await i(e,t,n))}static async createFromFiles(e,t,r){if((0,a.XV)(eq(),"`Mesh.createFromFiles` is deprecated in favor of 'SceneLayer.convertMesh'",{replacement:"SceneLayer.convertMesh",version:"4.29"}),!(e instanceof v.Z)){let e=new S;throw eq().error(".createFromFiles()",e.message),e}if(!r?.layer)throw new s.Z("invalid:no-layer","SceneLayer required for file to mesh conversion.");return r.layer.convertMesh(t,{location:e,...r})}static createWithExternalSource(e,t,r){let n=r?.extent??null,{spatialReference:i}=e,l=r?.transform?.clone()??new Z.Z,a=(0,C.G7)(e,r),s=new ed;return s.externalSources.push({source:t,extent:n}),new o({metadata:s,transform:l,vertexSpace:a,spatialReference:i})}static createIncomplete(e,t){let{spatialReference:r}=e,n=t?.transform?.clone()??new Z.Z,i=(0,C.G7)(e,t),l=new o({transform:n,vertexSpace:i,spatialReference:r});return l.addResolvingPromise(Promise.reject(new s.Z("mesh-incomplete","Mesh resources are not complete"))),l}};(0,l._)([(0,g.Cb)({type:[A.Z],json:{write:!0}})],eJ.prototype,"components",void 0),(0,l._)([(0,g.Cb)({nonNullable:!0,types:e$,constructOnly:!0,json:{write:!0}})],eJ.prototype,"vertexSpace",void 0),(0,l._)([(0,g.Cb)({type:Z.Z,json:{write:!0}})],eJ.prototype,"transform",void 0),(0,l._)([(0,g.Cb)({constructOnly:!0})],eJ.prototype,"metadata",void 0),(0,l._)([(0,g.Cb)()],eJ.prototype,"hasExtent",null),(0,l._)([(0,g.Cb)()],eJ.prototype,"_transformedExtent",null),(0,l._)([(0,g.Cb)()],eJ.prototype,"_untransformedBounds",null),(0,l._)([(0,g.Cb)()],eJ.prototype,"anchor",null),(0,l._)([(0,g.Cb)()],eJ.prototype,"origin",null),(0,l._)([(0,g.Cb)({readOnly:!0,json:{read:!1}})],eJ.prototype,"extent",null),(0,l._)([(0,g.Cb)({readOnly:!0,json:{read:!1,write:!0,default:!0}})],eJ.prototype,"hasZ",void 0),(0,l._)([(0,g.Cb)({readOnly:!0,json:{read:!1,write:!0,default:!1}})],eJ.prototype,"hasM",void 0),(0,l._)([(0,g.Cb)({type:R.Q,nonNullable:!0,json:{write:!0}})],eJ.prototype,"vertexAttributes",void 0),eJ=o=(0,l._)([(0,y.j)(eH)],eJ);let eY=(0,b.Ue)(),eK=eJ},40354:function(e,t,r){r.d(t,{JK:function(){return a},QZ:function(){return o},Rq:function(){return l},bg:function(){return i},mB:function(){return s}});var n=r(13677);function i(e,t=!1){return e<=n.c8?t?Array(e).fill(0):Array(e):new Float64Array(e)}function o(e){return((0,n.kJ)(e)?e.length:e.byteLength/8)<=n.c8?Array.from(e):new Float64Array(e)}function l(e,t,r){return Array.isArray(e)?e.slice(t,t+r):e.subarray(t,t+r)}function a(e,t){for(let r=0;r<t.length;++r)e[r]=t[r];return e}function s(e){return Array.isArray(e)?new Float64Array(e):e}},20911:function(e,t,r){r.d(t,{$z:function(){return o},KF:function(){return u},mi:function(){return i}});var n=r(13677);function i(e){var t;if((0,n.kJ)(e)){if(e.length<n.c8)return e}else if(e.length<n.c8)return Array.from(e);let r=!0,i=!0;return e.some((e,t)=>(r=r&&0===e,i=i&&e===t,!r&&!i)),r?1===(t=e.length)?a:t<n.c8?Array(t).fill(0):(t>c.length&&(c=new Uint8Array(Math.max(2*c.length,t))),new Uint8Array(c.buffer,0,t)):i?u(e.length):(0,n.kJ)(e)||e.BYTES_PER_ELEMENT!==Uint16Array.BYTES_PER_ELEMENT?function(e){let t=!0;for(let r of e){if(r>=65536)return(0,n.kJ)(e)?new Uint32Array(e):e;r>=256&&(t=!1)}return t?new Uint8Array(e):new Uint16Array(e)}(e):e}function o(e){return e<=n.c8?Array(e):e<=65536?new Uint16Array(e):new Uint32Array(e)}let l=(()=>{let e=new Uint32Array(131072);for(let t=0;t<e.length;++t)e[t]=t;return e})(),a=[0],s=(()=>{let e=new Uint16Array(65536);for(let t=0;t<e.length;++t)e[t]=t;return e})();function u(e){if(1===e)return a;if(e<n.c8)return Array.from(new Uint16Array(s.buffer,0,e));if(e<s.length)return new Uint16Array(s.buffer,0,e);if(e>l.length){l=new Uint32Array(Math.max(2*l.length,e));for(let e=0;e<l.length;e++)l[e]=e}return new Uint32Array(l.buffer,0,e)}let c=new Uint8Array(65536)},35905:function(e,t,r){r.d(t,{Z:function(){return d}});var n,i=r(86641),o=r(689),l=r(61764),a=r(65223),s=r(89312),u=r(1275),c=r(64186),f=r(61733),p=r(91778),h=r(48398),g=r(45724);let y=n=class extends o.wq{static from(e){return(0,f.TJ)(n,e)}constructor(e){super(e),this.faces=null,this.material=null,this.name=void 0,this.shading="source",this.trustSourceNormals=!1}castFaces(e){return(0,g.X)(e,Uint32Array,[Uint16Array],{loggerTag:".faces=",stride:3},a.Z.getLogger(this))}castMaterial(e){return(0,f.TJ)(e&&"object"==typeof e&&("metallic"in e||"roughness"in e||"metallicRoughnessTexture"in e)?h.Z:p.Z,e)}clone(){return new n({faces:(0,l.d9)(this.faces),shading:this.shading,material:(0,l.d9)(this.material),trustSourceNormals:this.trustSourceNormals,name:this.name})}cloneWithDeduplication(e,t){let r={faces:(0,l.d9)(this.faces),shading:this.shading,material:this.material?this.material.cloneWithDeduplication(e,t):null,trustSourceNormals:this.trustSourceNormals,name:this.name};return new n(r)}get memoryUsage(){let e=0;return null!=this.faces&&(e+=this.faces.byteLength),null!=this.material&&(e+=this.material.memoryUsage),e}};(0,i._)([(0,s.Cb)({json:{write:!0}})],y.prototype,"faces",void 0),(0,i._)([(0,u.p)("faces")],y.prototype,"castFaces",null),(0,i._)([(0,s.Cb)({type:p.Z,json:{write:!0}})],y.prototype,"material",void 0),(0,i._)([(0,u.p)("material")],y.prototype,"castMaterial",null),(0,i._)([(0,s.Cb)()],y.prototype,"name",void 0),(0,i._)([(0,s.Cb)({type:String,json:{write:!0}})],y.prototype,"shading",void 0),(0,i._)([(0,s.Cb)({type:Boolean})],y.prototype,"trustSourceNormals",void 0);let d=y=n=(0,i._)([(0,c.j)("esri.geometry.support.MeshComponent")],y)},75551:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(86641),i=r(23427),o=r(689),l=r(89312);r(37180),r(65223),r(3457);var a=r(28305),s=r(64186);let u=class extends(0,i.J)(o.wq){constructor(e){super(e),this.type="georeferenced",this.origin=null}};(0,n._)([(0,a.J)({georeferenced:"georeferenced"},{readOnly:!0})],u.prototype,"type",void 0),(0,n._)([(0,l.Cb)({type:[Number],nonNullable:!1,json:{write:!0}})],u.prototype,"origin",void 0);let c=u=(0,n._)([(0,s.j)("esri.geometry.support.MeshGeoreferencedVertexSpace")],u)},4377:function(e,t,r){r.d(t,{Z:function(){return f}});var n=r(86641),i=r(23427),o=r(689),l=r(89312);r(37180),r(65223),r(3457);var a=r(28305),s=r(64186),u=r(82955);let c=class extends(0,i.J)(o.wq){constructor(e){super(e),this.type="local",this.origin=(0,u.Ue)()}};(0,n._)([(0,a.J)({local:"local"},{readOnly:!0})],c.prototype,"type",void 0),(0,n._)([(0,l.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],c.prototype,"origin",void 0);let f=c=(0,n._)([(0,s.j)("esri.geometry.support.MeshLocalVertexSpace")],c)},91778:function(e,t,r){r.d(t,{Z:function(){return p}});var n,i=r(86641),o=r(87585),l=r(689),a=r(89312);r(37180),r(65223),r(3457);var s=r(64186),u=r(97803),c=r(23452);let f=n=class extends l.wq{constructor(e){super(e),this.color=null,this.colorTexture=null,this.colorTextureTransform=null,this.normalTexture=void 0,this.normalTextureTransform=void 0,this.alphaMode="auto",this.alphaCutoff=.5,this.doubleSided=!0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(e,t){let r=null!=e?e.get(this):null;if(r)return r;let i=new n(this.clonePropertiesWithDeduplication(t));return null!=e&&e.set(this,i),i}clonePropertiesWithDeduplication(e){return{color:null!=this.color?this.color.clone():null,colorTexture:this.colorTexture?.cloneWithDeduplication(e),normalTexture:this.normalTexture?.cloneWithDeduplication(e),alphaMode:this.alphaMode,alphaCutoff:this.alphaCutoff,doubleSided:this.doubleSided,colorTextureTransform:this.colorTextureTransform?.clone(),normalTextureTransform:this.normalTextureTransform?.clone()}}get memoryUsage(){return this.getMemoryUsage()}getMemoryUsage(){let e;return e=0+(null!=this.color?16:0),null!=this.colorTexture&&(e+=this.colorTexture.memoryUsage),e+=null!=this.colorTextureTransform?20:0,null!=this.normalTexture&&(e+=this.normalTexture.memoryUsage),e+=null!=this.normalTextureTransform?20:0}};(0,i._)([(0,a.Cb)({type:o.Z,json:{write:!0}})],f.prototype,"color",void 0),(0,i._)([(0,a.Cb)({type:u.Z,json:{write:!0}})],f.prototype,"colorTexture",void 0),(0,i._)([(0,a.Cb)({type:c.Z,json:{write:!0}})],f.prototype,"colorTextureTransform",void 0),(0,i._)([(0,a.Cb)({type:u.Z,json:{write:!0}})],f.prototype,"normalTexture",void 0),(0,i._)([(0,a.Cb)({type:c.Z,json:{write:!0}})],f.prototype,"normalTextureTransform",void 0),(0,i._)([(0,a.Cb)({nonNullable:!0,json:{write:!0}})],f.prototype,"alphaMode",void 0),(0,i._)([(0,a.Cb)({nonNullable:!0,json:{write:!0}})],f.prototype,"alphaCutoff",void 0),(0,i._)([(0,a.Cb)({nonNullable:!0,json:{write:!0}})],f.prototype,"doubleSided",void 0);let p=f=n=(0,i._)([(0,s.j)("esri.geometry.support.MeshMaterial")],f)},48398:function(e,t,r){r.d(t,{Z:function(){return p}});var n,i=r(86641),o=r(87585),l=r(89312);r(37180),r(65223),r(3457);var a=r(64186),s=r(91778),u=r(97803),c=r(23452);let f=n=class extends s.Z{constructor(e){super(e),this.emissiveColor=null,this.emissiveTexture=null,this.emissiveTextureTransform=void 0,this.occlusionTexture=null,this.occlusionTextureTransform=void 0,this.metallic=1,this.roughness=1,this.metallicRoughnessTexture=null,this.metallicRoughnessTextureTransform=void 0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(e,t){let r=null!=e?e.get(this):null;if(r)return r;let i=new n(this.clonePropertiesWithDeduplication(t));return null!=e&&e.set(this,i),i}getMemoryUsage(){let e=super.getMemoryUsage();return e+=null!=this.emissiveColor?16:0,null!=this.emissiveTexture&&(e+=this.emissiveTexture.memoryUsage),e+=null!=this.emissiveTextureTransform?20:0,null!=this.occlusionTexture&&(e+=this.occlusionTexture.memoryUsage),e+=null!=this.occlusionTextureTransform?20:0,null!=this.metallicRoughnessTexture&&(e+=this.metallicRoughnessTexture.memoryUsage),e+=null!=this.metallicRoughnessTextureTransform?20:0}clonePropertiesWithDeduplication(e){return{...super.clonePropertiesWithDeduplication(e),emissiveColor:this.emissiveColor?.clone(),emissiveTexture:this.emissiveTexture?.cloneWithDeduplication(e),emissiveTextureTransform:this.emissiveTextureTransform?.clone(),occlusionTexture:this.occlusionTexture?.cloneWithDeduplication(e),occlusionTextureTransform:this.occlusionTextureTransform?.clone(),metallic:this.metallic,roughness:this.roughness,metallicRoughnessTexture:this.metallicRoughnessTexture?.cloneWithDeduplication(e),metallicRoughnessTextureTransform:this.metallicRoughnessTextureTransform?.clone()}}};(0,i._)([(0,l.Cb)({type:o.Z,json:{write:!0}})],f.prototype,"emissiveColor",void 0),(0,i._)([(0,l.Cb)({type:u.Z,json:{write:!0}})],f.prototype,"emissiveTexture",void 0),(0,i._)([(0,l.Cb)({type:c.Z,json:{write:!0}})],f.prototype,"emissiveTextureTransform",void 0),(0,i._)([(0,l.Cb)({type:u.Z,json:{write:!0}})],f.prototype,"occlusionTexture",void 0),(0,i._)([(0,l.Cb)({type:c.Z,json:{write:!0}})],f.prototype,"occlusionTextureTransform",void 0),(0,i._)([(0,l.Cb)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],f.prototype,"metallic",void 0),(0,i._)([(0,l.Cb)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],f.prototype,"roughness",void 0),(0,i._)([(0,l.Cb)({type:u.Z,json:{write:!0}})],f.prototype,"metallicRoughnessTexture",void 0),(0,i._)([(0,l.Cb)({type:c.Z,json:{write:!0}})],f.prototype,"metallicRoughnessTextureTransform",void 0);let p=f=n=(0,i._)([(0,a.j)("esri.geometry.support.MeshMaterialMetallicRoughness")],f)},97803:function(e,t,r){r.d(t,{Z:function(){return v}});var n,i=r(86641);r(37180);var o=r(9245),l=r(689),a=r(89312),s=r(61733);r(3457);var u=r(37647),c=r(64186),f=r(50713),p=r(37144);let h=new WeakMap,g=0,y=n=class extends l.wq{constructor(e){super(e),this.wrap="repeat"}get url(){return this._get("url")||null}set url(e){this._set("url",e),e&&this._set("data",null)}get data(){return this._get("data")||null}set data(e){this._set("data",e),e&&this._set("url",null)}writeData(e,t,r,n){if(e instanceof HTMLImageElement){let i={type:"image-element",src:(0,p.t)(e.src,n),crossOrigin:e.crossOrigin};t[r]=i}else if(e instanceof HTMLCanvasElement){let n={type:"canvas-element",imageData:d(e.getContext("2d").getImageData(0,0,e.width,e.height))};t[r]=n}else if(e instanceof HTMLVideoElement){let i={type:"video-element",src:(0,p.t)(e.src,n),autoplay:e.autoplay,loop:e.loop,muted:e.muted,crossOrigin:e.crossOrigin,preload:e.preload};t[r]=i}else if(e instanceof ImageData){let n={type:"image-data",imageData:d(e)};t[r]=n}}readData(e){switch(e.type){case"image-element":{let t=new Image;return t.src=e.src,t.crossOrigin=e.crossOrigin,t}case"canvas-element":{let t=m(e.imageData),r=document.createElement("canvas");return r.width=t.width,r.height=t.height,r.getContext("2d").putImageData(t,0,0),r}case"image-data":return m(e.imageData);case"video-element":{let t=document.createElement("video");return t.src=e.src,t.crossOrigin=e.crossOrigin,t.autoplay=e.autoplay,t.loop=e.loop,t.muted=e.muted,t.preload=e.preload,t}default:return}}get transparent(){let e=this.data,t=this.url;if(e instanceof HTMLCanvasElement)return x(e.getContext("2d").getImageData(0,0,e.width,e.height));if(e instanceof ImageData)return x(e);if(t){let e=t.substr(t.length-4,4).toLowerCase(),r=t.substr(0,15).toLocaleLowerCase();if(".png"===e||"data:image/png;"===r)return!0}return!1}set transparent(e){this._overrideIfSome("transparent",e)}get contentHash(){let e="string"==typeof this.wrap?this.wrap:"object"==typeof this.wrap?`${this.wrap.horizontal}/${this.wrap.vertical}`:"",t=(t="")=>`d:${t},t:${this.transparent},w:${e}`;return null!=this.url?t(this.url):null!=this.data?this.data instanceof HTMLImageElement||this.data instanceof HTMLVideoElement?t(this.data.src):(h.has(this.data)||h.set(this.data,++g),t(h.get(this.data))):t()}get memoryUsage(){let e;if(e=0+(null!=this.url?this.url.length:0),null!=this.data){let t=this.data;"data"in t?e+=t.data.byteLength:t instanceof HTMLImageElement?e+=t.naturalWidth*t.naturalHeight*3:t instanceof HTMLCanvasElement&&(e+=t.width*t.height*3)}return e}clone(){let e={url:this.url,data:this.data,wrap:this._cloneWrap()};return new n(e)}cloneWithDeduplication(e){let t=e.get(this);if(t)return t;let r=this.clone();return e.set(this,r),r}_cloneWrap(){return"string"==typeof this.wrap?this.wrap:{horizontal:this.wrap.horizontal,vertical:this.wrap.vertical}}static from(e){return"string"==typeof e?new n({url:e}):e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageData||e instanceof HTMLVideoElement?new n({data:e}):(0,s.TJ)(n,e)}};function d(e){let t="";for(let r=0;r<e.data.length;r++)t+=String.fromCharCode(e.data[r]);return{data:btoa(t),width:e.width,height:e.height}}function m(e){let t=atob(e.data),r=new Uint8ClampedArray(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return(0,o.Jl)(r,e.width,e.height)}function x(e){for(let t=3;t<e.data.length;t+=4)if(255!==e.data[t])return!0;return!1}(0,i._)([(0,a.Cb)({type:String,json:{write:p.w}})],y.prototype,"url",null),(0,i._)([(0,a.Cb)({json:{write:{overridePolicy(){return{enabled:!this.url}}}}}),(0,a.Cb)()],y.prototype,"data",null),(0,i._)([(0,f.c)("data")],y.prototype,"writeData",null),(0,i._)([(0,u.r)("data")],y.prototype,"readData",null),(0,i._)([(0,a.Cb)({type:Boolean,json:{write:{overridePolicy(){return{enabled:this._isOverridden("transparent")}}}}})],y.prototype,"transparent",null),(0,i._)([(0,a.Cb)({json:{write:!0}})],y.prototype,"wrap",void 0),(0,i._)([(0,a.Cb)({readOnly:!0})],y.prototype,"contentHash",null);let v=y=n=(0,i._)([(0,c.j)("esri.geometry.support.MeshTexture")],y)},23452:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(86641),i=r(23427),o=r(689),l=r(89312);r(37180),r(65223),r(3457);var a=r(64186);let s=class extends(0,i.J)(o.wq){constructor(e){super(e),this.offset=[0,0],this.rotation=0,this.scale=[1,1]}};(0,n._)([(0,l.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],s.prototype,"offset",void 0),(0,n._)([(0,l.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],s.prototype,"rotation",void 0),(0,n._)([(0,l.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],s.prototype,"scale",void 0);let u=s=(0,n._)([(0,a.j)("esri.geometry.support.MeshTextureTransform")],s)},7421:function(e,t,r){r.d(t,{Z:function(){return d}});var n,i=r(86641),o=r(689),l=r(89312);r(37180),r(65223),r(3457);var a=r(64186),s=r(94807),u=r(77244),c=r(41174),f=r(57079),p=r(82955),h=r(50993);let g=n=class extends o.wq{constructor(e){super(e),this.translation=(0,p.Ue)(),this.rotationAxis=(0,p.nI)(h.up),this.rotationAngle=0,this.scale=(0,p.al)(1,1,1)}get rotation(){return(0,h.uT)(this.rotationAxis,this.rotationAngle)}set rotation(e){this.rotationAxis=(0,p.d9)((0,h.ZZ)(e)),this.rotationAngle=(0,h.EU)(e)}get localMatrix(){let e=(0,u.Ue)();return(0,c.yY)(y,(0,h.ZZ)(this.rotation),(0,h.WH)(this.rotation)),(0,s.Iw)(e,y,this.translation,this.scale),e}get localMatrixInverse(){return(0,s.U_)((0,u.Ue)(),this.localMatrix)}equals(e){return this===e||null!=e&&(0,s.I6)(this.localMatrix,e.localMatrix)}clone(){let e={translation:(0,p.d9)(this.translation),rotationAxis:(0,p.d9)(this.rotationAxis),rotationAngle:this.rotationAngle,scale:(0,p.d9)(this.scale)};return new n(e)}};(0,i._)([(0,l.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],g.prototype,"translation",void 0),(0,i._)([(0,l.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],g.prototype,"rotationAxis",void 0),(0,i._)([(0,l.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],g.prototype,"rotationAngle",void 0),(0,i._)([(0,l.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],g.prototype,"scale",void 0),(0,i._)([(0,l.Cb)()],g.prototype,"rotation",null),(0,i._)([(0,l.Cb)()],g.prototype,"localMatrix",null),(0,i._)([(0,l.Cb)()],g.prototype,"localMatrixInverse",null),g=n=(0,i._)([(0,a.j)("esri.geometry.support.MeshTransform")],g);let y=(0,f.Ue)(),d=g},45724:function(e,t,r){r.d(t,{Q:function(){return f},X:function(){return h}});var n,i=r(86641),o=r(689),l=r(61764),a=r(65223),s=r(89312),u=r(1275),c=r(64186);let f=n=class extends o.wq{constructor(e){super(e),this.color=null,this.position=new Float64Array(0),this.uv=null,this.normal=null,this.tangent=null}castColor(e){return h(e,Uint8Array,[Uint8ClampedArray],{loggerTag:".color=",stride:4},a.Z.getLogger(this))}castPosition(e){return e&&e instanceof Float32Array&&a.Z.getLogger(this).warn(".position=","Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array"),h(e,Float64Array,[Float32Array],{loggerTag:".position=",stride:3},a.Z.getLogger(this))}castUv(e){return h(e,Float32Array,[Float64Array],{loggerTag:".uv=",stride:2},a.Z.getLogger(this))}castNormal(e){return h(e,Float32Array,[Float64Array],{loggerTag:".normal=",stride:3},a.Z.getLogger(this))}castTangent(e){return h(e,Float32Array,[Float64Array],{loggerTag:".tangent=",stride:4},a.Z.getLogger(this))}clone(){let e={position:(0,l.d9)(this.position),uv:(0,l.d9)(this.uv),normal:(0,l.d9)(this.normal),tangent:(0,l.d9)(this.tangent),color:(0,l.d9)(this.color)};return new n(e)}clonePositional(){let e={position:(0,l.d9)(this.position),normal:(0,l.d9)(this.normal),tangent:(0,l.d9)(this.tangent),uv:this.uv,color:this.color};return new n(e)}get memoryUsage(){let e;return e=0+this.position.byteLength,null!=this.uv&&(e+=this.uv.byteLength),null!=this.normal&&(e+=this.normal.byteLength),null!=this.tangent&&(e+=this.tangent.byteLength),null!=this.color&&(e+=this.color.byteLength),e}};function p(e,t,r,n){let{loggerTag:i,stride:o}=t;return e.length%o!=0?(n.error(i,`Invalid array length, expected a multiple of ${o}`),new r([])):e}function h(e,t,r,n,i){if(!e)return e;if(e instanceof t)return p(e,n,t,i);for(let o of r)if(e instanceof o)return p(new t(e),n,t,i);if(Array.isArray(e))return p(new t(e),n,t,i);{let n=r.map(e=>`'${e.name}'`);return i.error(`Failed to set property, expected one of ${n}, but got ${e.constructor.name}`),new t([])}}function g(e,t,r){t[r]=function(e){let t=Array(e.length);for(let r=0;r<e.length;r++)t[r]=e[r];return t}(e)}(0,i._)([(0,s.Cb)({json:{write:g}})],f.prototype,"color",void 0),(0,i._)([(0,u.p)("color")],f.prototype,"castColor",null),(0,i._)([(0,s.Cb)({nonNullable:!0,json:{write:g}})],f.prototype,"position",void 0),(0,i._)([(0,u.p)("position")],f.prototype,"castPosition",null),(0,i._)([(0,s.Cb)({json:{write:g}})],f.prototype,"uv",void 0),(0,i._)([(0,u.p)("uv")],f.prototype,"castUv",null),(0,i._)([(0,s.Cb)({json:{write:g}})],f.prototype,"normal",void 0),(0,i._)([(0,u.p)("normal")],f.prototype,"castNormal",null),(0,i._)([(0,s.Cb)({json:{write:g}})],f.prototype,"tangent",void 0),(0,i._)([(0,u.p)("tangent")],f.prototype,"castTangent",null),f=n=(0,i._)([(0,c.j)("esri.geometry.support.MeshVertexAttributes")],f)},50993:function(e,t,r){r.d(t,{EU:function(){return y},Ue:function(){return u},WH:function(){return d},ZZ:function(){return g},q_:function(){return f},qw:function(){return h},uT:function(){return c},up:function(){return m}});var n=r(13507),i=r(94807),o=r(41174),l=r(57079),a=r(60964),s=r(82955);function u(e=m){return[e[0],e[1],e[2],e[3]]}function c(e,t,r=u()){return(0,a.c)(r,e),r[3]=t,r}function f(e,t=u()){var r;let l=(0,i.j6)(x,e);return r=(0,n.BV)((0,o.Bh)(t,l)),t[3]=r,t}function p(e,t,r=u()){var i;return(0,o.yY)(x,e,d(e)),(0,o.yY)(v,t,d(t)),(0,o.Jp)(x,v,x),i=(0,n.BV)((0,o.Bh)(r,x)),r[3]=i,r}function h(e,t,r,n=u()){return c(s.E9,e,w),c(s.IO,t,b),c(s.eG,r,A),p(w,b,w),p(w,A,n),n}function g(e){return e}function y(e){return e[3]}function d(e){return(0,n.Vl)(e[3])}r(40465);let m=[0,0,1,0],x=(0,l.Ue)(),v=(0,l.Ue)(),w=(u(),u()),b=u(),A=u()},6817:function(e,t,r){r.d(t,{CP:function(){return a},JG:function(){return g},LL:function(){return s},NZ:function(){return u},fV:function(){return y},vj:function(){return m},yT:function(){return v},zE:function(){return x}});var n=r(54748),i=r(78628),o=r(31124),l=r(4193);class a{constructor(e,t,r){this.assetName=e,this.assetMimeType=t,this.parts=r}equals(e){return this===e||this.assetName===e.assetName&&this.assetMimeType===e.assetMimeType&&(0,i.fS)(this.parts,e.parts,(e,t)=>e.equals(t))}isOnService(e){return this.parts.every(t=>t.isOnService(e))}makeHash(){let e="";for(let t of this.parts)e+=t.partHash;return e}async toBlob(e){let{parts:t}=this;if(1===t.length)return t[0].toBlob(e);let r=await Promise.all(t.map(t=>t.toBlob(e)));return(0,o.k_)(e),new Blob(r)}}class s{constructor(e,t){this.partUrl=e,this.partHash=t}equals(e){return this===e||this.partUrl===e.partUrl&&this.partHash===e.partHash}isOnService(e){return this.partUrl.startsWith(`${e.path}/assets/`)}async toBlob(e){let{data:t}=await (0,n.Z)(this.partUrl,{responseType:"blob"});return(0,o.k_)(e),t}}function u(e){var t;return!!(t=e?.source)&&(Array.isArray(t)?t.some(h):h(t))}function c(e){return!!Array.isArray(e)&&e.every(e=>e instanceof a)}let f=/^(model\/gltf\+json)|(model\/gltf-binary)$/,p=/\.(gltf|glb)/i;function h(e){if(e instanceof File){let{type:t,name:r}=e;return f.test(t)||p.test(r)}return f.test(e.assetMimeType)||p.test(e.assetName)}function g(e,t){if(!e)return!1;let{source:r}=e;return Array.isArray(r)?r.length>0&&r.every(e=>d(e,t)):d(r,t)}function y(e,t){if(e===t)return!0;let{source:r}=e,{source:n}=t;if(r===n)return!0;if(c(r)&&c(n)){if(r.length!==n.length)return!1;let e=(e,t)=>e.assetName<t.assetName?-1:e.assetName>t.assetName?1:0,t=[...r].sort(e),i=[...n].sort(e);for(let e=0;e<t.length;++e)if(!t[e].equals(i[e]))return!1;return!0}return!1}function d(e,t){return e instanceof a&&e.isOnService(t)}function m(e,t){return e instanceof File?(0,l.dm)(e,t):(0,l.S0)(e.assetMimeType,t)??(0,l.Ow)(e.assetName,t)}function x(e){return Array.isArray(e)?e:[e]}function v(e){return!!e.original}},67653:function(e,t,r){r.d(t,{d:function(){return o}});var n=r(13507),i=r(20911);function o(e,t,r){let o=Array.isArray(e),a=o?e.length/t:e.byteLength/(4*t),s=o?e:new Uint32Array(e,0,a*t),u=r?.minReduction??0,c=r?.originalIndices||null,f=c?c.length:0,p=r?.componentOffsets||null,h=0;if(p)for(let e=0;e<p.length-1;e++){let t=p[e+1]-p[e];t>h&&(h=t)}else h=a;let g=Math.floor(1.1*h)+1;(null==l||l.length<2*g)&&(l=new Uint32Array((0,n.Sf)(2*g)));for(let e=0;e<2*g;e++)l[e]=0;let y=0,d=!!p&&!!c,m=d?f:a,x=(0,i.$z)(a),v=new Uint32Array(f),w=0!==u?Math.ceil(15.366399999999999/(u*u)*u*(1-u)):m,b=1,A=p?p[1]:m;for(let e=0;e<m;e++){if(e===w){let t=1-y/e;if(t+1.96*Math.sqrt(t*(1-t)/e)<u)return null;w*=2}if(e===A){for(let e=0;e<2*g;e++)l[e]=0;if(c)for(let e=p[b-1];e<p[b];e++)v[e]=x[c[e]];A=p[++b]}let r=d?c[e]:e,n=r*t,i=function(e,t,r){let n=0;for(let i=0;i<r;i++)n=(n=e[t+i]+n|0)+(n<<11)+(n>>>2)|0;return n>>>0}(s,n,t),o=i%g,a=y;for(;0!==l[2*o+1];){if(l[2*o]===i){let e=l[2*o+1]-1;if(function(e,t,r,n){for(let i=0;i<n;i++)if(e[t+i]!==e[r+i])return!1;return!0}(s,n,e*t,t)){a=x[e];break}}++o>=g&&(o-=g)}a===y&&(l[2*o]=i,l[2*o+1]=r+1,y++),x[r]=a}if(0!==u&&1-y/a<u)return null;if(d){for(let e=p[b-1];e<v.length;e++)v[e]=x[c[e]];x=(0,i.mi)(v)}let T=o?Array(y):new Uint32Array(y*t);y=0;for(let e=0;e<m;e++)x[e]===y&&(function(e,t,r,n,i){for(let o=0;o<i;o++)r[n+o]=e[t+o]}(s,(d?c[e]:e)*t,T,y*t,t),y++);if(c&&!d){let e=new Uint32Array(f);for(let t=0;t<e.length;t++)e[t]=x[c[t]];x=(0,i.mi)(e)}return{buffer:Array.isArray(T)?T:T.buffer,indices:x,uniqueCount:y}}let l=null},56043:function(e,t,r){r.d(t,{Gi:function(){return S},Iz:function(){return M},M2:function(){return E},To:function(){return C},VS:function(){return F},XO:function(){return R},Yk:function(){return Z},pn:function(){return _},project:function(){return j},w9:function(){return U},wi:function(){return N}});var n,i,o,l,a=r(13507),s=r(15514),u=r(25607),c=r(94807),f=r(77244),p=r(60964),h=r(82955),g=r(20928),y=r(10940),d=r(26150),m=r(40011),x=r(40354);r(9397);var v=r(62329),w=r(56132),b=r(12287),A=r(17514),T=r(81383);let S="Projection may be possible after calling projection.load().";function _(e,t,r,n){e.error(`Failed to project from (wkid:${t.wkid}) to (wkid:${r.wkid}).${n?" ":""}${n}`)}function M(e,t,r,n,i){return P(l.TO_PCPF,b.ct.fromTypedArray(e),o.NORMAL,b.fP.fromTypedArray(t),b.fP.fromTypedArray(r),n,b.ct.fromTypedArray(i))?i:null}function Z(e,t,r,n,i){return P(l.FROM_PCPF,b.ct.fromTypedArray(e),o.NORMAL,b.fP.fromTypedArray(t),b.fP.fromTypedArray(r),n,b.ct.fromTypedArray(i))?i:null}function R(e,t,r){return(0,m.projectBuffer)(e,t,0,r,(0,y.rS)(t),0,e.length/3)?r:null}function C(e,t,r){return(0,m.projectBuffer)(e,(0,y.rS)(r),0,t,r,0,e.length/3)?t:null}function U(e,t,r){return(0,s.XL)(z,r),(0,A.t)(t,e,z),(0,a.oc)(z)&&(0,A.n)(t,t),t}function F(e,t,r){return(0,s.xO)(z,r),(0,T.t)(t,e,z),(0,a.oc)(z)&&(0,A.n)(t,t,4),t}function N(e,t,r,n,i){if(!P(l.TO_PCPF,b.ct.fromTypedArray(e,4*Float32Array.BYTES_PER_ELEMENT),o.TANGENT,b.fP.fromTypedArray(t),b.fP.fromTypedArray(r),n,b.ct.fromTypedArray(i,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let t=3;t<e.length;t+=4)i[t]=e[t];return i}function E(e,t,r,n,i){if(!P(l.FROM_PCPF,b.ct.fromTypedArray(e,16),o.TANGENT,b.fP.fromTypedArray(t),b.fP.fromTypedArray(r),n,b.ct.fromTypedArray(i,16)))return null;for(let t=3;t<e.length;t+=4)i[t]=e[t];return i}function O(e,t,r,n,i){switch((0,d.B)(n,r,B,n),e===l.FROM_PCPF&&(0,c.U_)(B,B),t){case o.NORMAL:return(0,s.XL)(i,B);case o.TANGENT:return(0,s.xO)(i,B)}}function P(e,t,r,n,i,a,s){if(!t)return;let u=n.count,c=(0,y.rS)(a);if(a.isWGS84||(0,v.yW)(a)||(0,v.BZ)(a)||(0,v.V2)(a))for(let n=0;n<u;n++)i.getVec(n,L),t.getVec(n,I),(0,p.t)(I,I,O(e,r,L,c,z)),s.setVec(n,I);else for(let a=0;a<u;a++){i.getVec(a,L),t.getVec(a,I);let u=Math.cos((0,w.mZ)(n.get(a,1)));r===o.TANGENT!=(e===l.TO_PCPF)&&(u=1/u),O(e,r,L,c,z),e===l.TO_PCPF?(z[0]*=u,z[1]*=u,z[2]*=u,z[3]*=u,z[4]*=u,z[5]*=u):(z[0]*=u,z[3]*=u,z[6]*=u,z[1]*=u,z[4]*=u,z[7]*=u),(0,p.t)(I,I,z),(0,p.n)(I,I),s.setVec(a,I)}return s}function j(e){return"local"===e.vertexSpace.type?function({vertexSpace:e,transform:t,inSpatialReference:r,outSpatialReference:n,localMode:i,outPositions:o,positions:l}){let a=e.origin??h.AG,s=null!=e.origin?t?.localMatrix??f.Wd:f.Wd,u=(0,y.rS)(r),p=n.isWebMercator&&i||!(0,g.canProjectWithoutEngine)(r,u)?r:u;(0,d.B)(r,a,B,p),(0,c.Jp)(B,B,s);let v=o??(0,x.bg)(l.length);return(0,A.a)(v,l,B),(0,m.projectBuffer)(v,p,0,v,n,0,v.length/3),v}(e):function({vertexSpace:e,transform:t,outPositions:r,positions:n,inSpatialReference:i,outSpatialReference:o}){let l=null!=e.origin?t?.localMatrix??f.Wd:f.Wd,a=r??(0,x.bg)(n.length);(0,c.fS)(l,f.Wd)?(0,x.JK)(a,n):(0,A.a)(a,n,l);let s=e.origin??h.AG;if(!(0,p.e)(s,h.AG)){let[e,t,r]=s;for(let n=0;n<a.length;n+=3)a[n]+=e,a[n+1]+=t,a[n+2]+=r}return(0,m.projectBuffer)(a,i,0,a,o,0,a.length/3)?a:null}(e)}(n=o||(o={}))[n.NORMAL=0]="NORMAL",n[n.TANGENT=1]="TANGENT",(i=l||(l={}))[i.TO_PCPF=0]="TO_PCPF",i[i.FROM_PCPF=1]="FROM_PCPF";let L=(0,h.Ue)(),I=(0,h.Ue)(),B=(0,f.Ue)(),z=(0,u.Ue)()},45603:function(e,t,r){r.d(t,{qk:function(){return A},ur:function(){return M},x1:function(){return b}});var n,i,o=r(65223),l=r(13507),a=r(9266),s=r(15514),u=r(25607),c=r(94807),f=r(77244),p=r(60964),h=r(82955),g=r(10940),y=r(26150),d=r(81387),m=r(50327),x=r(17514),v=r(56043);let w=()=>o.Z.getLogger("esri.geometry.support.meshUtils.vertexSpaceConversion");function b(e,t,{vertexSpace:r,spatialReference:n}){if("georeferenced"===r.type){if(!(0,d.K)(t,e,n))return!1;let{origin:i}=r;return(0,p.f)(e,e,i),!0}let i=(0,g.rS)(n);if(!(0,d.K)(t,e,i))return!1;let{origin:o}=r;if(!(0,y.B)(n,o,F,i))return!1;let l=(0,c.U_)(F,F);return null!=l&&((0,p.h)(e,e,l),!0)}function A(e,t,r){let{vertexSpace:n,transform:o,vertexAttributes:a}=e,u=_(e.spatialReference,r,i.SOURCE|i.TARGET);if((0,m.vI)(n,t)&&(!o||(0,c.I6)(o.localMatrix,f.Wd))&&(0,l.Po)(u,1)){let{position:e,normal:t,tangent:n}=a,i=r?.allowBufferReuse;return{position:i?e:e.slice(),normal:i?t:t?.slice(),tangent:i?n:n?.slice()}}switch(e.vertexSpace.type){case"local":return"local"===t.type?function({vertexAttributes:e,spatialReference:t,transform:r},{origin:n},o,l){let a=(0,g.rS)(t);if(!(0,y.B)(t,n,Z,a))return(0,v.pn)(w(),t,a),null;if(r&&(0,c.Jp)(Z,Z,r.localMatrix),!(0,y.B)(t,o,R,a))return(0,v.pn)(w(),a,t),null;(0,c.U_)(R,R);let s=(0,c.Jp)(Z,R,Z);return S(s,t,l,i.SOURCE|i.TARGET),T(e,s)}(e,e.vertexSpace,t.origin,r):function({spatialReference:e,vertexAttributes:t,transform:r},{origin:n},o,l){let a=(0,g.rS)(e);if(!(0,y.B)(e,n,Z,a))return(0,v.pn)(w(),e,a),null;r&&(0,c.Jp)(Z,Z,r.localMatrix),S(Z,e,l,i.SOURCE);let s=new Float64Array(t.position.length),u=function(e,t,r,n){(0,x.a)(n,e,t);let i=new Float64Array(e.length);return(0,v.To)(n,i,r)?i:((0,v.pn)(w(),(0,g.rS)(r),r),null)}(t.position,Z,e,s);if(!u)return null;let f=function(e,t,r,n,i){if(null==r)return null;let o=new Float32Array(r.length);return(0,v.w9)(r,o,n),(0,v.Yk)(o,e,t,i,o)?o:((0,v.pn)(w(),(0,g.rS)(i),i),null)}(u,s,t.normal,Z,e);if(t.normal&&!f)return null;let h=function(e,t,r,n,i){if(null==r)return null;let o=new Float32Array(r.length);return(0,v.VS)(r,o,n),(0,v.M2)(o,e,t,i,o)?o:((0,v.pn)(w(),(0,g.rS)(i),i),null)}(u,s,t.tangent,Z,e);if(t.tangent&&!h)return null;if(o){let e=(0,p.k)(U,o);(0,x.b)(u,u,e)}return{position:u,normal:f,tangent:h}}(e,e.vertexSpace,t.origin,r);case"georeferenced":return"local"===t.type?function({vertexAttributes:e,spatialReference:t,transform:r},{origin:n},o,l){let a=(0,g.rS)(t);if(!(0,y.B)(t,o,Z,a))return(0,v.pn)(w(),t,a),null;let u=1/_(t,l,i.TARGET);(0,c.bA)(Z,Z,[u,u,u]);let f=(0,c.U_)(R,Z),{position:p,normal:h,tangent:d}=function(e,t,r){if(!t)return e;if(!r){let{position:r,normal:n,tangent:i}=e;return{position:(0,x.b)(new Float64Array(r.length),r,t),tangent:i,normal:n}}let n=T(e,r.localMatrix);return(0,x.b)(n.position,n.position,t),n}(e,n,r),m=new Float64Array(p.length),b=function(e,t,r,n){let i=(0,v.XO)(e,t,n);if(!i)return(0,v.pn)(w(),t,(0,g.rS)(t)),null;let o=new Float64Array(i.length);return(0,x.a)(o,i,r),o}(p,t,f,m);if(!b)return null;let A=(0,s.XL)(C,f),S=function(e,t,r,n,i,o){if(null==e)return null;let l=o??new Float32Array(e.length);return(0,v.Iz)(e,t,r,n,l)?((0,x.t)(l,l,i),l):((0,v.pn)(w(),n,(0,g.rS)(n)),null)}(h,p,m,t,A,h!==e.normal?h:void 0);if(!S&&h)return null;let M=function(e,t,r,n,i,o){if(null==e)return null;let l=o??new Float32Array(e.length);return(0,v.wi)(e,t,r,n,l)?((0,x.t)(l,l,i,4),l):((0,v.pn)(w(),n,(0,g.rS)(n)),null)}(d,p,m,t,A,d!==e.tangent?d:void 0);return!M&&d?null:{position:b,normal:S,tangent:M}}(e,e.vertexSpace,t.origin,r):function({vertexAttributes:e,transform:t,spatialReference:r},{origin:n},o,l){let{position:a,normal:s,tangent:u}=t?T(e,t.localMatrix):e,c=new Float64Array(a.length),f=a;if(n&&(f=(0,x.b)(c,f,n)),o){let e=(0,p.k)(U,o);f=(0,x.b)(c,f,e)}_(r,l,i.NONE);let h=l?.allowBufferReuse;return{position:f!==e.position||h?f:f.slice(),normal:s!==e.normal||h?s:s?.slice(),tangent:u!==e.tangent||h?u:u?.slice()}}(e,e.vertexSpace,t.origin,r)}}function T(e,t){let r=new Float64Array(e.position.length);(0,x.a)(r,e.position,t);let n=e.normal?new Float32Array(e.normal.length):null,i=e.tangent?new Float32Array(e.tangent.length):null;return n&&e.normal&&(0,v.w9)(e.normal,n,t),i&&e.tangent&&(0,v.VS)(e.tangent,i,t),{position:r,normal:n,tangent:i}}function S(e,t,r,n){let i=_(t,r,n);1!==i&&(0,c.bA)(e,e,[i,i,i])}function _(e,t,r){let n=!!(r&i.SOURCE),o=!!(r&i.TARGET),l=t?.sourceUnit,a=t?.targetUnit;if(!l&&!a)return 1;let s=M(l,e);!n&&l&&1!==s&&(w().warn("source unit conversion not supported"),s=1);let u=1/M(a,e);return!o&&a&&1!==u&&(w().warn("target unit conversion not supported"),u=1),s*u}function M(e,t){if(null==e)return 1;let r=(0,a.r6)(t);return 1/(0,a.En)(r,"meters",e)}let Z=(0,f.Ue)(),R=(0,f.Ue)(),C=(0,u.Ue)(),U=(0,h.Ue)(),F=(0,f.Ue)();(n=i||(i={}))[n.NONE=0]="NONE",n[n.SOURCE=1]="SOURCE",n[n.TARGET=2]="TARGET"},50327:function(e,t,r){r.d(t,{G7:function(){return h},QK:function(){return f},rU:function(){return p},vI:function(){return g},zZ:function(){return c}});var n=r(70631),i=r(65223),o=r(60964),l=r(33876),a=r(75551),s=r(4377);function u(){return i.Z.getLogger("esri.geometry.Mesh")}function c(e){return null!=e.origin}function f(e){return c(e.vertexSpace)}function p(e,t){if(!c(e))return null;let[r,n,i]=e.origin;return new l.Z({x:r,y:n,z:i,spatialReference:t})}function h(e,t){var r;let{x:i,y:o,z:l,spatialReference:c}=e,f=[i,o,l??0];return void 0!==t?.geographic&&((0,n.x9)(u(),"option: geographic",{replacement:"Use the `vertexSpace` option instead.",version:"4.29",warnOnce:!0}),t.vertexSpace&&u().warn("Deprecated geographic flag ignored since vertexSpace option is provided.")),"local"===(t?.vertexSpace??(null==(r=t?.geographic)?void 0:r?"local":"georeferenced")??(c.isGeographic||c.isWebMercator?"local":"georeferenced"))?new s.Z({origin:f}):new a.Z({origin:f})}function g(e,t){return e.type===t.type&&(e.origin===t.origin||null!=e.origin&&null!=t.origin&&(0,o.e)(e.origin,t.origin))}}}]);