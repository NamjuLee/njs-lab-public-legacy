"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[56043],{56043:function(r,e,t){t.d(e,{Gi:function(){return O},Iz:function(){return R},M2:function(){return w},To:function(){return C},VS:function(){return j},XO:function(){return h},Yk:function(){return S},pn:function(){return M},project:function(){return W},w9:function(){return G},wi:function(){return k}});var n,o,f,u,c=t(13507),i=t(15514),l=t(25607),a=t(94807),p=t(77244),T=t(60964),y=t(82955),P=t(20928),A=t(10940),d=t(26150),s=t(40011),g=t(40354);t(9397);var m=t(62329),N=t(56132),_=t(12287),E=t(17514),F=t(81383);let O="Projection may be possible after calling projection.load().";function M(r,e,t,n){r.error(`Failed to project from (wkid:${e.wkid}) to (wkid:${t.wkid}).${n?" ":""}${n}`)}function R(r,e,t,n,o){return L(u.TO_PCPF,_.ct.fromTypedArray(r),f.NORMAL,_.fP.fromTypedArray(e),_.fP.fromTypedArray(t),n,_.ct.fromTypedArray(o))?o:null}function S(r,e,t,n,o){return L(u.FROM_PCPF,_.ct.fromTypedArray(r),f.NORMAL,_.fP.fromTypedArray(e),_.fP.fromTypedArray(t),n,_.ct.fromTypedArray(o))?o:null}function h(r,e,t){return(0,s.projectBuffer)(r,e,0,t,(0,A.rS)(e),0,r.length/3)?t:null}function C(r,e,t){return(0,s.projectBuffer)(r,(0,A.rS)(t),0,e,t,0,r.length/3)?e:null}function G(r,e,t){return(0,i.XL)(v,t),(0,E.t)(e,r,v),(0,c.oc)(v)&&(0,E.n)(e,e),e}function j(r,e,t){return(0,i.xO)(v,t),(0,F.t)(e,r,v),(0,c.oc)(v)&&(0,E.n)(e,e,4),e}function k(r,e,t,n,o){if(!L(u.TO_PCPF,_.ct.fromTypedArray(r,4*Float32Array.BYTES_PER_ELEMENT),f.TANGENT,_.fP.fromTypedArray(e),_.fP.fromTypedArray(t),n,_.ct.fromTypedArray(o,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let e=3;e<r.length;e+=4)o[e]=r[e];return o}function w(r,e,t,n,o){if(!L(u.FROM_PCPF,_.ct.fromTypedArray(r,16),f.TANGENT,_.fP.fromTypedArray(e),_.fP.fromTypedArray(t),n,_.ct.fromTypedArray(o,16)))return null;for(let e=3;e<r.length;e+=4)o[e]=r[e];return o}function B(r,e,t,n,o){switch((0,d.B)(n,t,x,n),r===u.FROM_PCPF&&(0,a.U_)(x,x),e){case f.NORMAL:return(0,i.XL)(o,x);case f.TANGENT:return(0,i.xO)(o,x)}}function L(r,e,t,n,o,c,i){if(!e)return;let l=n.count,a=(0,A.rS)(c);if(c.isWGS84||(0,m.yW)(c)||(0,m.BZ)(c)||(0,m.V2)(c))for(let n=0;n<l;n++)o.getVec(n,V),e.getVec(n,b),(0,T.t)(b,b,B(r,t,V,a,v)),i.setVec(n,b);else for(let c=0;c<l;c++){o.getVec(c,V),e.getVec(c,b);let l=Math.cos((0,N.mZ)(n.get(c,1)));t===f.TANGENT!=(r===u.TO_PCPF)&&(l=1/l),B(r,t,V,a,v),r===u.TO_PCPF?(v[0]*=l,v[1]*=l,v[2]*=l,v[3]*=l,v[4]*=l,v[5]*=l):(v[0]*=l,v[3]*=l,v[6]*=l,v[1]*=l,v[4]*=l,v[7]*=l),(0,T.t)(b,b,v),(0,T.n)(b,b),i.setVec(c,b)}return i}function W(r){return"local"===r.vertexSpace.type?function({vertexSpace:r,transform:e,inSpatialReference:t,outSpatialReference:n,localMode:o,outPositions:f,positions:u}){let c=r.origin??y.AG,i=null!=r.origin?e?.localMatrix??p.Wd:p.Wd,l=(0,A.rS)(t),T=n.isWebMercator&&o||!(0,P.canProjectWithoutEngine)(t,l)?t:l;(0,d.B)(t,c,x,T),(0,a.Jp)(x,x,i);let m=f??(0,g.bg)(u.length);return(0,E.a)(m,u,x),(0,s.projectBuffer)(m,T,0,m,n,0,m.length/3),m}(r):function({vertexSpace:r,transform:e,outPositions:t,positions:n,inSpatialReference:o,outSpatialReference:f}){let u=null!=r.origin?e?.localMatrix??p.Wd:p.Wd,c=t??(0,g.bg)(n.length);(0,a.fS)(u,p.Wd)?(0,g.JK)(c,n):(0,E.a)(c,n,u);let i=r.origin??y.AG;if(!(0,T.e)(i,y.AG)){let[r,e,t]=i;for(let n=0;n<c.length;n+=3)c[n]+=r,c[n+1]+=e,c[n+2]+=t}return(0,s.projectBuffer)(c,o,0,c,f,0,c.length/3)?c:null}(r)}(n=f||(f={}))[n.NORMAL=0]="NORMAL",n[n.TANGENT=1]="TANGENT",(o=u||(u={}))[o.TO_PCPF=0]="TO_PCPF",o[o.FROM_PCPF=1]="FROM_PCPF";let V=(0,y.Ue)(),b=(0,y.Ue)(),x=(0,p.Ue)(),v=(0,l.Ue)()}}]);