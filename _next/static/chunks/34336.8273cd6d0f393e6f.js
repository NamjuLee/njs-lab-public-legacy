(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[34336],{75410:function(){},48628:function(){},31601:function(){},67792:function(){},34977:function(){},75042:function(){},2300:function(t,e,i){"use strict";let n,s,o,a,d;i.r(e),i.d(e,{AppFace:function(){return r},Solution:function(){return g}});var l=i(88405),c=i(14962);class r{static Init(t){new r(t)}async init(){let t=document.createElement("video");this.host.append(t),t.id="video";let e=document.createElement("canvas");this.host.append(e),await u(e)}InitHTML(){let t=document.createElement("button");t.style.width="100px",t.style.height="20px",t.style.marginLeft="20px",t.style.zIndex="5",t.name="Clear",t.innerText="Clear",t.value="Clear",t.onclick=()=>{console.log(this),this.canvasSD.Clear()},this.host.appendChild(t),this.divText=document.createElement("div"),this.divText.id="classText",this.divText.style.zIndex="5",this.divText.innerText="class: ",this.divText.style.marginLeft="20px",this.host.appendChild(this.divText)}Init(t){}Clear(){this.canvasSD.Clear()}constructor(t="main"){let e=document.getElementById(t);e&&(this.host=e),this.InitHTML(),this.init()}}let h=function(){let t=/Android/i.test(navigator.userAgent),e=/iPhone|iPad|iPod/i.test(navigator.userAgent);return t||e}(),u=async t=>{console.log(l.setBackend),await l.setBackend("webgl"),await v(),n.play(),s=n.videoWidth,o=n.videoHeight,n.width=s,n.height=o,t.width=s,t.height=o,t.style.width=s+"px",t.style.height=o+"px",(a=t.getContext("2d")).translate(t.width,0),a.scale(-1,1),a.fillStyle="#32EEDB",a.strokeStyle="#32EEDB",a.lineWidth=.5,console.log(d=await c.z({maxFaces:1e3})),m()},v=async()=>{n=document.getElementById("video");let t=await navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"user",width:h?void 0:500,height:h?void 0:500}});return n.srcObject=t,new Promise(t=>{n.onloadedmetadata=()=>{t(n)}})},m=async()=>{console.log((await d.estimateFaces(n))[0].faceInViewConfidence),requestAnimationFrame(m)};class g{destroy(){if(this.divHost)try{for(;this.divHost.firstChild;)this.divHost.removeChild(this.divHost.firstChild)}catch(t){console.error("Error in destroy method:",t)}else console.warn("divHost is undefined in destroy method")}constructor(t){this.divHost=document.getElementById(t),r.Init(t)}}}}]);