"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9895],{9895:(e,t,r)=>{r.r(t),r.d(t,{AppNGL3d:()=>L});var n,o=function(){function e(e){this.app=e,this.canvas=document.createElement("canvas"),this.app.host&&(this.app.host.appendChild(this.canvas),this.canvas.width=this.app.host.clientWidth,this.canvas.height=this.app.host.clientHeight);var t=this.canvas.getContext("webgl2");null!==t&&(this.gl=t),this.loop(this.gl)}return e.prototype.loop=function(e){this.clear(e),console.log("working")},e.prototype.clear=function(e){e.clearColor(.5,1,1,1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)},e}(),i=function(){function e(){}return e.getShader=function(e,t,r){var n=e.createShader(t);if(null!==n)return e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(console.log("An error occurred compiling the shaders:"+e.getShaderInfoLog(n)),e.deleteShader(n),null)},e.createProgram=function(e,t,r,n){void 0===n&&(n=!0);var o=e.createProgram();if(null===o)return null;if(e.attachShader(o,t),e.attachShader(o,r),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS)){var i=e.getProgramInfoLog(o);return console.log("Failed to link program: "+i),e.deleteProgram(o),e.deleteShader(r),e.deleteShader(t),null}return n&&(e.validateProgram(o),!e.getProgramParameter(o,e.VALIDATE_STATUS))?(console.error("Failed to validate program",e.getProgramInfoLog(o)),e.deleteProgram(o),e.deleteShader(r),e.deleteShader(t),null):(e.deleteShader(r),e.deleteShader(t),o)},e.createShader=function(e,t,r){var n=e.createShader(t);return null===n?null:(e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(console.log(e.getShaderInfoLog(n)),e.deleteShader(n),null))},e.createShaderFromPath=function(t,r,n){var o=t.createShader(r);return null===o?null:(t.shaderSource(o,e.getSourceSynch(n)),t.compileShader(o),t.getShaderParameter(o,t.COMPILE_STATUS)?o:(t.deleteShader(o),null))},e.getSourceSynch=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),200===t.status?t.responseText:null},e.loadImage=function(e,t){var r=new Image;r.onload=function(){t(null,r)},r.src=e},e}(),a=function(){function e(e){this.v="#version 300 es\n        in vec3 a_position;\n\n        uniform float uPointSize;\n\n        void main(void) {\n            gl_PointSize = uPointSize;\n            gl_Position = vec4(a_position, 1.0);\n        }\n    ",this.f="#version 300 es\n        precision mediump float;\n\n        out vec4 finalColor;\n\n        void main(void) {\n            finalColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    ",this.gl=e,this.initShader(e)}return e.prototype.initShader=function(e){var t=i.createShader(e,e.VERTEX_SHADER,this.v),r=i.createShader(e,e.FRAGMENT_SHADER,this.f);if(t&&r){this.vShader=t,this.fShader=r;var n=i.createProgram(e,this.vShader,this.fShader,!0);n&&(this.program=n,e.useProgram(this.program),this.aPositionLoc=e.getAttribLocation(this.program,"a_position"),this.uPointSizeLoc=e.getUniformLocation(this.program,"uPointSize"),e.useProgram(null),this.initGeo(e))}else console.error("vertex fragment shader error")},e.prototype.initGeo=function(e){var t=new Float32Array([0,0,0,.5,.5,0,-.5,.5,0]),r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),e.useProgram(this.program),e.uniform1f(this.uPointSizeLoc,10),e.bindBuffer(e.ARRAY_BUFFER,r),e.enableVertexAttribArray(this.aPositionLoc),e.vertexAttribPointer(this.aPositionLoc,3,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,null),this.gl.drawArrays(e.POINTS,0,t.length/3),console.log("d")},e}(),s=function(e){console.log("id: "+e+", NGL3dApp 01 Init!!!!!");var t=document.getElementById(e);t&&(this.host=t),this.canvas=new o(this);var r=new a(this.canvas.gl);console.log(r)},h=function(){function e(e){this.app=e,this.canvas=document.createElement("canvas"),this.app.host&&(this.app.host.appendChild(this.canvas),this.canvas.width=this.app.host.clientWidth,this.canvas.height=this.app.host.clientHeight);var t=this.canvas.getContext("webgl2");null!==t&&(this.gl=t),this.loop(this.gl)}return e.prototype.loop=function(e){var t=this;requestAnimationFrame((function(){t.loop(e)})),this.app.renderer.render(e)},e.prototype.clear=function(e){e.clearColor(.5,1,1,1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)},e}(),l=function(){function e(e){this.app=e}return e.prototype.render=function(e){this.app.scene.geometries.forEach((function(t){t.render(e)}))},e}(),u=function(){function e(e){this.geometries=[],this.NGL3dApp=e}return e.prototype.add=function(e){this.geometries.push(e)},e}();!function(e){e.ATTR_POSITION_NAME="a_position",e[e.ATTR_POSITION_LOC=0]="ATTR_POSITION_LOC",e.ATTR_NORMAL_NAME="a_norm",e[e.ATTR_NORMAL_LOC=1]="ATTR_NORMAL_LOC",e.ATTR_UV_NAME="a_uv",e[e.ATTR_UV_LOC=2]="ATTR_UV_LOC",e[e.ATTR_COLOR_LOC=4]="ATTR_COLOR_LOC",e.ATTR_COLOR_NAME="a_color"}(n||(n={}));var c,d=function(e,t){this.position=e.getAttribLocation(t,n.ATTR_NORMAL_NAME),this.normal=e.getAttribLocation(t,n.ATTR_NORMAL_NAME),this.uv=e.getAttribLocation(t,n.ATTR_UV_NAME)};c||(c={});var p,g=function(){},f=function(){function e(e){this.mesh=e}return e.prototype.preRender=function(){},e}(),m=function(){function e(){}return e.getShaderProgram=function(t,r,n,o){void 0===o&&(o=!0);var i=e.createShader(t,t.VERTEX_SHADER,r),a=e.createShader(t,t.FRAGMENT_SHADER,n);return i&&a&&e.createProgram(t,i,a,o)||(console.error("vertex fragment shader error"),null)},e.getShader=function(e,t,r){var n=e.createShader(t);return null===n?null:(e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(console.log("An error occurred compiling the shaders:"+e.getShaderInfoLog(n)),e.deleteShader(n),null))},e.createProgram=function(e,t,r,n){void 0===n&&(n=!0);var o=e.createProgram();if(null===o)return null;if(e.attachShader(o,t),e.attachShader(o,r),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS)){var i=e.getProgramInfoLog(o);return console.log("Failed to link program: "+i),e.deleteProgram(o),e.deleteShader(r),e.deleteShader(t),null}return n&&(e.validateProgram(o),!e.getProgramParameter(o,e.VALIDATE_STATUS))?(console.error("Failed to validate program",e.getProgramInfoLog(o)),e.deleteProgram(o),e.deleteShader(r),e.deleteShader(t),null):(e.deleteShader(r),e.deleteShader(t),o)},e.createShader=function(e,t,r){var n=e.createShader(t);return null===n?null:(e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(console.log(e.getShaderInfoLog(n)),e.deleteShader(n),null))},e.createShaderFromPath=function(t,r,n){var o=t.createShader(r);return null===o?null:(t.shaderSource(o,e.getSourceSynch(n)),t.compileShader(o),t.getShaderParameter(o,t.COMPILE_STATUS)?o:(console.log(t.getShaderInfoLog(o)),t.deleteShader(o),null))},e.getSourceSynch=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),200===t.status?t.responseText:null},e.loadImage=function(e,t){var r=new Image;r.onload=function(){t(null,r)},r.src=e},e}(),S=function(){},A=function(){function e(e,t,r){this.program=m.getShaderProgram(e,t,r,!0),null!=this.program&&(this.gl=e,e.useProgram(this.program),this.attribLoc=new d(e,this.program),this.uniformLoc=new S)}return e.prototype.activate=function(){return this.gl.useProgram(this.program),this},e.prototype.deactivate=function(){return this.gl.useProgram(null),this},e.prototype.dispose=function(){this.gl.getParameter(this.gl.CURRENT_PROGRAM)===this.program&&this.gl.useProgram(null),this.gl.deleteProgram(this.program)},e.prototype.preRender=function(){},e.prototype.renderModal=function(e){return this.gl.bindVertexArray(e.mesh.vao),e.mesh.indexCount?this.gl.drawElements(e.mesh.drawMode,e.mesh.indexCount,this.gl.UNSIGNED_SHORT,0):this.gl.drawArrays(e.mesh.drawMode,0,e.mesh.vertexCount),this.gl.bindVertexArray(null),this},e}(),v=function(){function e(e){this.scene=e,this.scene.add(this)}return e.prototype.render=function(e){},e}(),_=(p=function(e,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},p(e,t)},function(e,t){function r(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),T=function(e){function t(t,r,n,o){var i=e.call(this,t,r,n)||this;if(i.program){i.uniformLoc.uAngle=t.getUniformLocation(i.program,"uAngle");var a=t.getUniformLocation(i.program,"uColor");t.uniform3fv(a,o)}return t.useProgram(null),i}return _(t,e),t.prototype.set=function(e){return this.gl.uniform1f(this.uniformLoc.uAngle,e),this},t.prototype.renderModal=function(e){return this.gl.bindVertexArray(e.mesh.vao),e.mesh.indexCount?this.gl.drawElements(e.mesh.drawMode,e.mesh.indexCount,this.gl.UNSIGNED_SHORT,0):this.gl.drawArrays(e.mesh.drawMode,0,e.mesh.vertexCount),this.gl.bindVertexArray(null),this},t}(A),R=function(e){function t(t){var r=e.call(this,t.scene)||this;return r.v="#version 300 es\n    in vec3 a_position;\t//Standard position data.\n    layout(location=4) in float a_color;\t//Will hold the 4th custom position of the custom position buffer.\n\n    uniform vec3 uColor[4];\t//Color Array\n    uniform float uAngle;\n\n    out lowp vec4 color;\t//Color to send to fragment shader.\n\n    void main(void) {\n        color = vec4(uColor[ int(a_color) ],1.0); //Using the 4th float as a color index.\n        // gl_Position = vec4(a_position, 1.0);\n        gl_Position = vec4(cos(uAngle) * 0.3 + a_position.x, sin(uAngle) * 0.3 + a_position.y, a_position.z, 1.0);\n    }\n    ",r.f="#version 300 es\n    precision mediump float;\n\n    in vec4 color;\n    out vec4 finalColor;\n\n    void main(void) {\n        finalColor = color;\n        // finalColor = vec4(1, 0, 0, 1);\n    }\n    ",r.ro=0,r.app=t,r.gl=t.canvas.gl,r.initShader(r.gl),r}return _(t,e),t.prototype.GetVAO=function(){for(var e,t=[],r=.9,o=0;o<=10;o++)e=.18*o-.9,t.push(e),t.push(r),t.push(0),t.push(0),t.push(e),t.push(-.9),t.push(0),t.push(1),e=r-.18*o,t.push(-.9),t.push(e),t.push(0),t.push(0),t.push(r),t.push(e),t.push(0),t.push(1);t.push(-.9),t.push(-.9),t.push(0),t.push(2),t.push(r),t.push(r),t.push(0),t.push(2),t.push(-.9),t.push(r),t.push(0),t.push(3),t.push(r),t.push(-.9),t.push(0),t.push(3),this.mesh=new g,this.mesh.drawMode=this.gl.LINES,this.mesh.vao=this.gl.createVertexArray(),this.mesh.vertexComponentLen=4,this.mesh.vertexCount=t.length/this.mesh.vertexComponentLen;var i=Float32Array.BYTES_PER_ELEMENT*this.mesh.vertexComponentLen;return this.mesh.bufVertices=this.gl.createBuffer(),this.gl.bindVertexArray(this.mesh.vao),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.mesh.bufVertices),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(t),this.gl.STATIC_DRAW),this.gl.enableVertexAttribArray(n.ATTR_POSITION_LOC),this.gl.enableVertexAttribArray(n.ATTR_COLOR_LOC),this.gl.vertexAttribPointer(n.ATTR_POSITION_LOC,3,this.gl.FLOAT,!1,i,0),this.gl.vertexAttribPointer(n.ATTR_COLOR_LOC,1,this.gl.FLOAT,!1,i,3*Float32Array.BYTES_PER_ELEMENT),this.gl.bindVertexArray(null),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.mesh},t.prototype.initShader=function(e){this.shader=new T(e,this.v,this.f,[.8,.8,.8,1,0,0,0,1,0,0,0,1]),this.mesh=this.GetVAO(),this.modal=new f(this.mesh)},t.prototype.render=function(e){this.shader.activate(),this.ro+=.04,this.shader.set(this.ro),this.shader.renderModal(this.modal)},t}(v),P=function(e){console.log("id: "+e+", NGL3dApp 04 Init!!!!!");var t=document.getElementById(e);t&&(this.host=t),this.scene=new u(this),this.renderer=new l(this),this.canvas=new h(this);var r=new R(this);console.log(r)},L=function(){function e(e){new P(e)}return e.InitStarter=function(e){new s(e)},e.Init=function(t){new e(t).Dummy()},e.prototype.Dummy=function(){},e.prototype.BindEvent=function(){},e}()}}]);