"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6719],{6719:(t,i,s)=>{s.r(i),s.d(i,{AppBlockGame:()=>d});var e=s(906),n=function(){function t(t){var i=this;this.bricks=[],this.dx=2,this.dy=-2,this.paddleHeight=10,this.paddleWidth=75,this.paddleX=10,this.rightPressed=!1,this.leftPressed=!1,this.brickRowCount=3,this.brickColumnCount=5,this.brickWidth=75,this.brickHeight=20,this.brickPadding=10,this.brickOffsetTop=30,this.brickOffsetLeft=30,this.BlockSystem=t,this.canvas=this.BlockSystem.CanvasCore.canvas,this.paddleX=(this.canvas.width-this.paddleWidth)/2,this.ball=new h(this.canvas.width/2,this.canvas.height-30),this.bricks=[];for(var s=0;s<this.brickColumnCount;s++){this.bricks[s]=[];for(var e=0;e<this.brickRowCount;e++)this.bricks[s][e]=new o(0,0,1)}document.onkeydown=function(t){return i.keyDownHandler(t)},document.onkeyup=function(t){return i.keyUpHandler(t)}}return t.prototype.keyDownHandler=function(t){"Right"===t.key||"ArrowRight"===t.key?this.rightPressed=!0:"Left"!==t.key&&"ArrowLeft"!==t.key||(this.leftPressed=!0)},t.prototype.keyUpHandler=function(t){"Right"===t.key||"ArrowRight"===t.key?this.rightPressed=!1:"Left"!==t.key&&"ArrowLeft"!==t.key||(this.leftPressed=!1)},t.prototype.collisionDetection=function(){for(var t=0;t<this.brickColumnCount;t++)for(var i=0;i<this.brickRowCount;i++){var s=this.bricks[t][i];1===s.status&&this.ball.pos.x>s.pos.x&&this.ball.pos.x<s.pos.x+this.brickWidth&&this.ball.pos.y>s.pos.y&&this.ball.pos.y<s.pos.y+this.brickHeight&&(this.dy=-this.dy,s.status=0)}},t.prototype.drawPaddle=function(t){t.beginPath(),t.rect(this.paddleX,this.canvas.height-this.paddleHeight,this.paddleWidth,this.paddleHeight),t.fillStyle="ff0000",t.fill(),t.closePath()},t.prototype.RenderBricks=function(t){for(var i=0;i<this.brickColumnCount;i++)for(var s=0;s<this.brickRowCount;s++)if(1===this.bricks[i][s].status){var e=i*(this.brickWidth+this.brickPadding)+this.brickOffsetLeft,n=s*(this.brickHeight+this.brickPadding)+this.brickOffsetTop;this.bricks[i][s].pos.x=e,this.bricks[i][s].pos.y=n,t.beginPath(),t.rect(e,n,this.brickWidth,this.brickHeight),t.fillStyle="#ff0000",t.fill(),t.closePath()}},t.prototype.Render=function(t){this.RenderBricks(t),this.ball.Render(t),this.drawPaddle(t),this.collisionDetection(),(this.ball.pos.x+this.dx>this.canvas.width-this.ball.r||this.ball.pos.x+this.dx<this.ball.r)&&(this.dx=-this.dx),(this.ball.pos.y+this.dy<this.ball.r||this.ball.pos.y+this.dy>this.canvas.height-this.ball.r&&this.ball.pos.x>this.paddleX&&this.ball.pos.x<this.paddleX+this.paddleWidth&&(this.ball.pos.y=this.ball.pos.y-this.paddleHeight))&&(this.dy=-this.dy),this.rightPressed&&this.paddleX<this.canvas.width-this.paddleWidth?this.paddleX+=7:this.leftPressed&&this.paddleX>0&&(this.paddleX-=7),this.ball.pos.x+=this.dx,this.ball.pos.y+=this.dy},t}(),o=function(t,i,s){void 0===s&&(s=1),this.pos=new e.h9(t,i),this.status=s},h=function(){function t(t,i){this.r=10,this.pos=new e.h9(t,i)}return t.prototype.Render=function(t){t.beginPath(),t.arc(this.pos.x,this.pos.y,this.r,0,2*Math.PI),t.fillStyle="#ff0000",t.fill(),t.closePath()},t}(),a=function(){function t(t,i,s){void 0===i&&(i=500),void 0===s&&(s=300),this.click=!1,this.pressed=!1,this.prevent=!1,this.delay=500,this.down=!1,this.t=0,this.blockSystem=t,this.width=i,this.height=s;var e=document.getElementById(t.id);e&&(this.host=e,this.InitCanvas())}return t.prototype.InitCanvas=function(){var t=document.createElement("div");if(t){this.divLocalMain=t,this.divLocalMain.style.display="flex",this.divLocalMain.style.width=this.width+"px",this.divLocalMain.style.height=this.height+"px",this.divLocalMain.style.margin="10px",this.divLocalMain.style.padding="10px",this.host.append(t);var i=document.createElement("div");if(i){this.divCanvas=i,this.divLocalMain.append(i);var s=document.createElement("canvas");if(s){this.canvas=s,this.divCanvas.append(this.canvas),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.backgroundColor="#aaaaaa";var e=this.canvas.getContext("2d");e&&(this.ctx=e,this.InitUI(),this.Init())}}}},t.prototype.InitUI=function(){var t=document.createElement("div");t&&(this.divUI=t,this.divLocalMain.append(t),this.divUI.style.marginLeft="10px",this.divUI.style.width="100%")},t.prototype.Init=function(){this.ctx.scale(1,1),this.EventBind(),this.Loop()},t.prototype.EventBind=function(){var t=this;this.canvas.onclick=function(i){t.prevent=!1,t.timer=setTimeout((function(){if(!t.prevent){if(!t.click)return;t.MouseClick(i)}t.prevent=!1}),t.delay)},this.canvas.ondblclick=function(i){clearTimeout(t.timer),t.prevent=!0,t.MouseDoubleClick(i)},this.canvas.addEventListener("wheel",(function(i){return t.MouseWheel(i,i.deltaY)})),this.canvas.onmousedown=function(i){t.click=!0,t.pressed=!0,t.MouseDown(i)},this.canvas.onmouseup=function(i){t.pressed=!1,t.MouseUp(i)},this.canvas.onmousemove=function(i){t.pressed&&(t.click=!1,t.MouseDrag(i)),t.MouseMove(i)},window.onresize=function(i){return t.Resize(i)}},t.prototype.Resize=function(t){},t.prototype.Loop=function(){var t=this;requestAnimationFrame((function(){t.Loop()})),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.fillStyle="#dddddd",this.ctx.beginPath(),this.ctx.rect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.closePath(),this.ctx.fill(),this.Render(this.ctx)},t.prototype.Render=function(t){},t.prototype.MouseClick=function(t){},t.prototype.MouseDoubleClick=function(t){},t.prototype.MouseDown=function(t){},t.prototype.MouseUp=function(t){},t.prototype.MouseMove=function(t){},t.prototype.MouseDrag=function(t){},t.prototype.MouseWheel=function(t,i){},t}(),r=function(){function t(t){this.t=.9,this.m=new e.h9(0,0,0),this.id=t,this.CanvasCore=new a(this),this.Init(),this.InitGraph()}return t.prototype.Init=function(){var t=this;this.CanvasCore.Render=function(i){return t.Render(i)},this.CanvasCore.MouseDown=function(i){return t.MouseDown(i)},this.CanvasCore.MouseClick=function(i){return t.MouseClick(i)},this.CanvasCore.MouseDoubleClick=function(i){return t.MouseDoubleClick(i)},this.CanvasCore.MouseUp=function(i){return t.MouseUp(i)},this.CanvasCore.MouseMove=function(i){return t.MouseMove(i)},this.CanvasCore.MouseDrag=function(i){return t.MouseDrag(i)}},t.prototype.InitGraph=function(){this.blockGame=new n(this)},t.prototype.Render=function(t){this.blockGame.Render(t)},t.prototype.MouseDown=function(t){this.m.x=1*(t.x-this.CanvasCore.canvas.offsetLeft-.5*this.CanvasCore.canvas.width),this.m.y=1*(t.y-this.CanvasCore.canvas.offsetTop-.5*this.CanvasCore.canvas.height)},t.prototype.MouseUp=function(t){},t.prototype.MouseMove=function(t){},t.prototype.MouseDrag=function(t){},t.prototype.MouseClick=function(t){},t.prototype.MouseDoubleClick=function(t){},t}(),c=function(t){new r(t)},d=function(){function t(t){void 0===t&&(t="SandBox");var i=document.getElementById(t);i&&(this.host=i,this.host.style.overflow="auto"),this.implementation=new c(t)}return t.Init=function(i){new t(i).Dummy()},t.prototype.Dummy=function(){},t}()}}]);