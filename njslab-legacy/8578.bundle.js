"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8578],{8578:(t,e,n)=>{n.r(e),n.d(e,{AppRigidBodyDynamics:()=>u});var s=function(){function t(t){this.t=0,this.InitCanvas(t)}return t.prototype.InitCanvas=function(t){var e=document.createElement("canvas"),n=document.getElementById(t);if(n&&(n.appendChild(e),this.host=n),e){this.canvas=e,this.canvas.width=400,this.canvas.height=400;var s=this.canvas.getContext("2d");s&&(this.ctx=s,this.Init())}},t.prototype.Init=function(){this.ctx.translate(100,100),this.ctx.scale(10,10),this.EventBind(),this.Loop()},t.prototype.EventBind=function(){var t=this;this.canvas.onmousedown=function(e){return t.MouseDown(e)},this.canvas.onmouseup=function(e){return t.MouseUp(e)},this.canvas.onmousemove=function(e){return t.MouseMove(e)},window.onresize=function(e){return t.Resize(e)}},t.prototype.Resize=function(t){this.canvas.width=this.host.clientWidth,this.canvas.height=this.host.clientHeight},t.prototype.Loop=function(){var t=this;requestAnimationFrame((function(){t.Loop()})),this.ctx.clearRect(-10,-10,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.fillStyle="#dddddd",this.ctx.beginPath(),this.ctx.rect(-500,-500,1e3,1e3),this.ctx.closePath(),this.ctx.fill(),this.Render(this.ctx)},t.prototype.Render=function(t){},t.prototype.MouseDown=function(t){},t.prototype.MouseUp=function(t){},t.prototype.MouseMove=function(t){},t}(),i=function(){function t(t){this.pos=[],this.col=[],this.canvasCore=t;for(var e=0;e<300;++e){var n=Math.random()*this.canvasCore.canvas.height;this.pos.push([Math.random()*this.canvasCore.canvas.width,n,n,Math.random()]),this.col.push([100+250*Math.random(),0,0,Math.random()])}}return t.prototype.Render=function(t){t.fillStyle="#eeeeee",t.beginPath(),t.rect(0,0,t.canvas.width,t.canvas.height),t.fill();for(var e=0;e<this.pos.length;++e)this.pos[e][1]+=7*this.pos[e][3],this.pos[e][1]>t.canvas.height&&(this.pos[e][1]=0),t.fillStyle="rgba("+this.col[e][0]+","+this.col[e][1]+","+this.col[e][2]+", "+this.col[e][3]+")",t.beginPath(),t.arc(this.pos[e][0],this.pos[e][1],10,0,2*Math.PI),t.closePath(),t.fill()},t.prototype.MouseDown=function(t){},t.prototype.MouseUp=function(t){},t.prototype.MouseMove=function(t){},t.prototype.MouseDrag=function(t){},t}(),o=n(906),h=function(){function t(t){this.nodes=[],this.edges=[],this.nodes.push(new a(new o.h9(t.x,t.y,t.z),o.h9.Origin(),1)),this.nodes.push(new a(new o.h9(t.x-2,t.y+2,t.z),o.h9.Origin(),1)),this.nodes.push(new a(new o.h9(t.x+2,t.y+2,t.z),o.h9.Origin(),1)),this.nodes.push(new a(new o.h9(t.x+2,t.y-2,t.z),o.h9.Origin(),1)),this.nodes.push(new a(new o.h9(t.x-2,t.y-2,t.z),o.h9.Origin(),1)),this.edges.push(new r(this.nodes[1],this.nodes[2])),this.edges.push(new r(this.nodes[2],this.nodes[3])),this.edges.push(new r(this.nodes[3],this.nodes[4])),this.edges.push(new r(this.nodes[4],this.nodes[1])),this.edges.push(new r(this.nodes[0],this.nodes[1])),this.edges.push(new r(this.nodes[0],this.nodes[2])),this.edges.push(new r(this.nodes[0],this.nodes[3])),this.edges.push(new r(this.nodes[0],this.nodes[4]))}return t.prototype.AddNode=function(t,e,n){var s=new a(t,e,n);return this.nodes.push(s),s},t.prototype.AddEdge=function(t,e){var n=new r(t,e);return this.edges.push(n),n},t.prototype.UpdateCollision=function(t){for(var e=0;e<t.length;++e)t[e]},t.prototype.Move=function(t,e,n,s){void 0===n&&(n=-.3);for(var i=0;i<this.nodes.length;++i){var h=this.nodes[i];h.f.x*=n,h.f.y*=n;var r=new o.h9(t.x-h.v.x,t.y-h.v.y,t.z-h.v.z),a=r.Length();r.Unitize(),h.f.x=r.x*Math.exp(-.001*a*a)*.1,h.f.y=r.y*Math.exp(-.001*a*a)*.1,h.Move(s,e)}for(i=0;i<this.edges.length;++i)this.edges[i].ApplySpringForce();for(i=0;i<this.nodes.length;++i)this.nodes[i].Move(s,e)},t.prototype.Render=function(t){t.lineWidth=.2;for(var e=0;e<4;++e)t.beginPath(),t.moveTo(this.edges[e].n0.v.x,this.edges[e].n0.v.y),t.lineTo(this.edges[e].n1.v.x,this.edges[e].n1.v.y),t.stroke();for(e=0;e<this.nodes.length;++e){var n=this.nodes[e];t.beginPath(),t.arc(n.v.x,n.v.y,.2*n.m,0,2*Math.PI),t.closePath(),t.stroke()}},t}(),r=function(){function t(t,e){this.targetLength=1.05,this.SpringConstant=.8,this.n0=t,this.n1=e,this.targetLength=this.n0.v.Distance(this.n1.v)}return t.prototype.ApplySpringForce=function(){var t=new o.h9(this.n1.v.x-this.n0.v.x,this.n1.v.y-this.n0.v.y,this.n1.v.z-this.n0.v.z),e=t.Length();t.Unitize(),this.n0.f.x+=t.x*(e-this.targetLength)*this.SpringConstant,this.n0.f.y+=t.y*(e-this.targetLength)*this.SpringConstant,this.n1.f.x-=t.x*(e-this.targetLength)*this.SpringConstant,this.n1.f.y-=t.y*(e-this.targetLength)*this.SpringConstant},t}(),a=function(){function t(t,e,n){void 0===n&&(n=1),this.fixed=!1,this.m=1,this.v=t,this.u=e,this.f=o.h9.Origin(),this.m=n}return t.prototype.Move=function(t,e){void 0===t&&(t=.5),void 0===e&&(e=.99),this.fixed||(this.u.x*=e,this.u.y*=e,this.u.x+=this.f.x*(t/this.m),this.u.y+=this.f.y*(t/this.m),this.v.x+=this.u.x*t,this.v.y+=this.u.y*t,this.v.y<0&&(this.v.y=0,this.u.y<0&&(this.u.y=-this.u.y)))},t}(),c=function(){function t(){this.particles=[],this.t=.6,this.m=new o.h9(10,10,10),this.particles.push(new h(new o.h9(0,0,0))),this.particles.push(new h(new o.h9(10,10,0))),console.log("particle system")}return t.prototype.Render=function(t){console.log(t);for(var e=0;e<this.particles.length;++e)this.particles[e].Move(this.m,.9,-1.5,this.t),this.particles[e].Render(t);t.fillStyle="#ff0000",t.beginPath(),t.arc(this.m.x,this.m.y,.5,0,2*Math.PI),t.closePath(),t.fill()},t.prototype.MouseDown=function(t){},t.prototype.MouseUp=function(t){},t.prototype.MouseMove=function(t){console.log(t),this.m.x=.1*(t.x-100),this.m.y=.1*(t.y-200)},t}(),p=function(){function t(){this.particleSystemC=new c}return t.prototype.Render=function(t){this.particleSystemC&&this.particleSystemC.Render(t)},t.prototype.MouseDown=function(t){this.particleSystemC&&this.particleSystemC.MouseDown(t)},t.prototype.MouseUp=function(t){this.particleSystemC&&this.particleSystemC.MouseUp(t)},t.prototype.MouseMove=function(t){this.particleSystemC&&this.particleSystemC.MouseMove(t)},t}(),u=function(){function t(t){void 0===t&&(t="SandBox"),this.canvasCore=new s(t),this.core=new i(this.canvasCore),this.implementation=new p,this.BindEvent(),this.BindRenderer()}return t.Init=function(e){new t(e).Dummy()},t.prototype.Dummy=function(){},t.prototype.BindEvent=function(){var t=this;this.canvasCore.MouseDown=function(e){return t.implementation.MouseDown(e)},this.canvasCore.MouseMove=function(e){return t.implementation.MouseMove(e)},this.canvasCore.MouseUp=function(e){return t.implementation.MouseUp(e)}},t.prototype.BindRenderer=function(){var t=this;this.canvasCore.Render=function(e){return t.implementation.Render(e)}},t}()}}]);