"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1459],{1459:(t,i,s)=>{s.r(i),s.d(i,{AppParticleSimulation:()=>C});var e=s(906),o=function(){function t(t,i){this.m=1,this.r=10,this.colorFill="#0099ff",this.MAX_VELOCITY=3.2,this.MAX_FORCE=3,this.MAX_SPEED=6,this.col=!1,this.pos=new e.h9(t,i),this.velocity=new e.h9(0,0),this.desiredVelocity=new e.h9(0,0),this.steering=new e.h9(0,0)}return t.prototype.Update=function(t){this.UpdateVec1(t)},t.prototype.UpdateVec0=function(t){var i=e.h9.Sub(t,this.pos),s=e.h9.Normalize(i);this.velocity=e.h9.Scale(s,this.MAX_VELOCITY),this.desiredVelocity=e.h9.Scale(s,this.MAX_VELOCITY),this.steering=e.h9.Sub(this.desiredVelocity,this.velocity),this.Truncate(this.steering,this.MAX_FORCE),this.steering.x/=this.m,this.steering.y/=this.m,this.steering.z/=this.m,this.velocity.x+=this.steering.x,this.velocity.y+=this.steering.y,this.velocity.z+=this.steering.z,this.Truncate(this.velocity,this.MAX_SPEED),this.pos=e.h9.Add(this.pos,this.velocity)},t.prototype.UpdateVec1=function(t){this.desiredVelocity=new e.h9(t.x-this.pos.x,t.y-this.pos.y,t.z-this.pos.z),this.desiredVelocity.Unitize(),this.desiredVelocity.x*=this.MAX_VELOCITY,this.desiredVelocity.y*=this.MAX_VELOCITY,this.desiredVelocity.z*=this.MAX_VELOCITY;var i=this.desiredVelocity.x-this.velocity.x<this.MAX_FORCE?this.desiredVelocity.x-this.velocity.x:this.MAX_FORCE,s=this.desiredVelocity.y-this.velocity.y<this.MAX_FORCE?this.desiredVelocity.y-this.velocity.y:this.MAX_FORCE,o=this.desiredVelocity.z-this.velocity.z<this.MAX_FORCE?this.desiredVelocity.z-this.velocity.z:this.MAX_FORCE;this.steering=new e.h9(i/this.m,s/this.m,o/this.m),this.velocity.x=this.velocity.x+this.steering.x<this.MAX_SPEED?this.velocity.x+this.steering.x:this.MAX_SPEED,this.velocity.y=this.velocity.y+this.steering.y<this.MAX_SPEED?this.velocity.y+this.steering.y:this.MAX_SPEED,this.velocity.z=this.velocity.z+this.steering.z<this.MAX_SPEED?this.velocity.z+this.steering.z:this.MAX_SPEED,this.pos.x+=this.velocity.x,this.pos.y+=this.velocity.y,this.pos.z+=this.velocity.z},t.prototype.UpdateVec1_1=function(t){this.desiredVelocity=new e.h9(t.x-this.pos.x,t.y-this.pos.y,t.z-this.pos.z),this.desiredVelocity.Unitize(),this.desiredVelocity.x*=this.MAX_VELOCITY,this.desiredVelocity.y*=this.MAX_VELOCITY,this.desiredVelocity.z*=this.MAX_VELOCITY;var i=this.desiredVelocity.x-this.velocity.x<this.MAX_FORCE?this.desiredVelocity.x-this.velocity.x:this.MAX_FORCE,s=this.desiredVelocity.y-this.velocity.y<this.MAX_FORCE?this.desiredVelocity.y-this.velocity.y:this.MAX_FORCE,o=this.desiredVelocity.z-this.velocity.z<this.MAX_FORCE?this.desiredVelocity.z-this.velocity.z:this.MAX_FORCE;this.steering=new e.h9(i/this.m,s/this.m,o/this.m),this.velocity.x=this.velocity.x+this.steering.x<this.MAX_SPEED?this.velocity.x+this.steering.x:this.MAX_SPEED,this.velocity.y=this.velocity.y+this.steering.y<this.MAX_SPEED?this.velocity.y+this.steering.y:this.MAX_SPEED,this.velocity.z=this.velocity.z+this.steering.z<this.MAX_SPEED?this.velocity.z+this.steering.z:this.MAX_SPEED,this.col?(this.pos.x+=.8*-this.steering.x,this.pos.y+=.8*-this.steering.y,this.pos.z+=.8*-this.steering.z):(this.pos.x+=this.velocity.x,this.pos.y+=this.velocity.y,this.pos.z+=this.velocity.z)},t.prototype.Truncate=function(t,i){var s;s=(s=i/t.Length())<1?s:1,t.Scale(s)},t.prototype.Render=function(t){t.fillStyle=this.colorFill,t.beginPath(),t.arc(this.pos.x,this.pos.y,this.m*this.r,0,2*Math.PI),t.closePath(),t.fill()},t}(),n=function(){function t(){this.particles=[],this.capture=void 0,this.Init()}return t.prototype.Init=function(){this.m=new e.h9(0,0),this.particles=[],this.particles.push(new o(0,0)),this.particles.push(new o(-50,100));var t=new o(0,50);t.col=!0,this.particles.push(t)},t.prototype.Col=function(){for(var t=0,i=this.particles;t<i.length;t++)i[t].col=!1;for(var s=0;s<this.particles.length;++s)for(var e=this.particles[s],o=s+1;o<this.particles.length;++o){var n=this.particles[o];if(e.pos.Distance(n.pos)<30){n.col=!0;break}}},t.prototype.MouseDown=function(t,i){},t.prototype.MouseLeftClick=function(t,i){},t.prototype.MouseMove=function(t,i){this.m.x=t,this.m.y=i},t.prototype.MouseDrag=function(t,i){this.capture},t.prototype.Render=function(t){this.Col();for(var i=0;i<this.particles.length;++i)this.particles[i].Update(this.m);for(i=0;i<this.particles.length;++i)this.particles[i].Render(t)},t}(),h=function(){function t(t,i,s){void 0===i&&(i=400),void 0===s&&(s=300),this.click=!1,this.pressed=!1,this.prevent=!1,this.delay=500,this.down=!1,this.t=0,this.graphSystem=t,this.width=i,this.height=s;var e=document.getElementById(t.id);e&&(this.host=e,this.InitCanvas())}return t.prototype.InitCanvas=function(){var t=document.createElement("div");if(t){this.divLocalMain=t,this.divLocalMain.style.display="flex",this.divLocalMain.style.width=this.width+"px",this.divLocalMain.style.height=this.height+"px",this.divLocalMain.style.margin="10px",this.divLocalMain.style.padding="10px",this.host.append(t);var i=document.createElement("div");if(i){this.divCanvas=i,this.divLocalMain.append(i);var s=document.createElement("canvas");if(s){this.canvas=s,this.divCanvas.append(this.canvas),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.backgroundColor="#aaaaaa";var e=this.canvas.getContext("2d");e&&(this.ctx=e,this.InitUI(),this.Init())}}}},t.prototype.InitUI=function(){var t=document.createElement("div");t&&(this.divUI=t,this.divLocalMain.append(t),this.divUI.style.marginLeft="10px",this.divUI.style.width="100%")},t.prototype.Init=function(){this.ctx.translate(.5*this.ctx.canvas.width,.5*this.ctx.canvas.height),this.ctx.scale(1,1),this.EventBind(),this.Loop()},t.prototype.EventBind=function(){var t=this;this.canvas.onclick=function(i){t.prevent=!1,t.timer=setTimeout((function(){if(!t.prevent){if(!t.click)return;t.MouseClick(i)}t.prevent=!1}),t.delay)},this.canvas.ondblclick=function(i){clearTimeout(t.timer),t.prevent=!0,t.MouseDoubleClick(i)},this.canvas.addEventListener("wheel",(function(i){return t.MouseWheel(i,i.deltaY)})),this.canvas.onmousedown=function(i){t.click=!0,t.pressed=!0,t.MouseDown(i)},this.canvas.onmouseup=function(i){t.pressed=!1,t.MouseUp(i)},this.canvas.onmousemove=function(i){t.pressed&&(t.click=!1,t.MouseDrag(i)),t.MouseMove(i)},window.onresize=function(i){return t.Resize(i)}},t.prototype.Resize=function(t){},t.prototype.Loop=function(){var t=this;requestAnimationFrame((function(){t.Loop()})),this.ctx.clearRect(.5*-this.ctx.canvas.width,.5*-this.ctx.canvas.height,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.fillStyle="#dddddd",this.ctx.beginPath(),this.ctx.rect(.5*-this.ctx.canvas.width,.5*-this.ctx.canvas.height,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.closePath(),this.ctx.fill(),this.Render(this.ctx)},t.prototype.Render=function(t){},t.prototype.MouseClick=function(t){},t.prototype.MouseDoubleClick=function(t){},t.prototype.MouseDown=function(t){},t.prototype.MouseUp=function(t){},t.prototype.MouseMove=function(t){},t.prototype.MouseDrag=function(t){},t.prototype.MouseWheel=function(t,i){},t}(),a=function(){function t(t){this.t=.9,this.m=new e.h9(0,0,0),this.id=t,this.CanvasCore=new h(this),this.Init(),this.InitGraph()}return t.prototype.Init=function(){var t=this;this.CanvasCore.Render=function(i){return t.Render(i)},this.CanvasCore.MouseDown=function(i){return t.MouseDown(i)},this.CanvasCore.MouseClick=function(i){return t.MouseClick(i)},this.CanvasCore.MouseDoubleClick=function(i){return t.MouseDoubleClick(i)},this.CanvasCore.MouseUp=function(i){return t.MouseUp(i)},this.CanvasCore.MouseMove=function(i){return t.MouseMove(i)},this.CanvasCore.MouseDrag=function(i){return t.MouseDrag(i)},console.log("Graph system")},t.prototype.InitGraph=function(){this.graph=new n},t.prototype.Render=function(t){this.graph.Render(t),t.fillStyle="rgba(255, 0, 0, 0.9)",t.beginPath(),t.arc(this.m.x,this.m.y,2.5,0,2*Math.PI),t.closePath(),t.fill()},t.prototype.Grid=function(t){for(var i=-10;i<10;++i)for(var s=-10;s<10;++s)t.beginPath(),t.fillStyle="rgba(255, 0, 0, 0.9)",t.arc(i,s,.05,0,2*Math.PI),t.closePath(),t.fill()},t.prototype.MouseDown=function(t){this.m.x=1*(t.x-this.CanvasCore.canvas.offsetLeft-.5*this.CanvasCore.canvas.width),this.m.y=1*(t.y-this.CanvasCore.canvas.offsetTop-.5*this.CanvasCore.canvas.height),this.graph.MouseDown(this.m.x,this.m.y)},t.prototype.MouseUp=function(t){},t.prototype.MouseMove=function(t){this.m.x=1*(t.x-this.CanvasCore.canvas.offsetLeft-.5*this.CanvasCore.canvas.width),this.m.y=1*(t.y-this.CanvasCore.canvas.offsetTop-.5*this.CanvasCore.canvas.height),this.graph.MouseMove(this.m.x,this.m.y)},t.prototype.MouseDrag=function(t){this.m.x=1*(t.x-this.CanvasCore.canvas.offsetLeft-.5*this.CanvasCore.canvas.width),this.m.y=1*(t.y-this.CanvasCore.canvas.offsetTop-.5*this.CanvasCore.canvas.height),this.graph.MouseDrag(this.m.x,this.m.y)},t.prototype.MouseClick=function(t){console.log("click"),this.m.x=1*(t.x-this.CanvasCore.canvas.offsetLeft-.5*this.CanvasCore.canvas.width),this.m.y=1*(t.y-this.CanvasCore.canvas.offsetTop-.5*this.CanvasCore.canvas.height),this.graph.MouseLeftClick(this.m.x,this.m.y)},t.prototype.MouseDoubleClick=function(t){console.log("d click")},t}(),c=function(){function t(t,i){this.m=5,this.r=10,this.colorFill="#0099ff",this.MAX_VELOCITY=.2,this.listCollision=[],this.pos=new e.h9(t,i)}return t.prototype.Update=function(t){var i=e.h9.Sub(this.pos,t),s=e.h9.Normalize(i),o=e.h9.CalculateFalloff(this.pos,t,1,.01);this.velocity=e.h9.Scale(s,o),this.pos=e.h9.Add(this.pos,this.velocity),this.UpdateCollision()},t.prototype.UpdateCollision=function(){for(var t=0;t<this.listCollision.length;++t){var i=e.h9.Sub(this.pos,this.listCollision[t].pos),s=e.h9.Normalize(i),o=e.h9.CalculateFalloff(this.pos,this.listCollision[t].pos,1,.01);this.velocity=e.h9.Scale(s,o),this.pos=e.h9.Add(this.pos,this.velocity)}},t.prototype.Render=function(t){t.lineWidth=1,t.strokeStyle="#000000",t.fillStyle=this.colorFill,t.beginPath(),t.arc(this.pos.x,this.pos.y,this.r,0,2*Math.PI),t.closePath(),t.fill(),t.stroke()},t}(),r=function(){function t(){this.particles=[],this.capture=void 0,this.t=1,this.Init()}return t.prototype.Init=function(){this.m=new e.h9(0,0),this.particles=[];for(var t=0;t<20;++t)this.particles.push(new c(-.5+Math.random(),-.5+Math.random()))},t.prototype.MouseDown=function(t,i){},t.prototype.MouseLeftClick=function(t,i){this.particles.push(new c(t,i))},t.prototype.MouseMove=function(t,i){this.m.x=t,this.m.y=i},t.prototype.MouseDrag=function(t,i){this.capture},t.prototype.Render=function(t){this.UpdateCollision();for(var i=0;i<this.particles.length;++i)this.particles[i].Update(this.m);for(i=0;i<this.particles.length;++i)this.particles[i].Render(t);0==(2&this.t)&&this.particles.length<150&&this.particles.push(new c(0,0)),this.t+=.1},t.prototype.UpdateCollision=function(){for(var t=0;t<this.particles.length;++t){var i=this.particles[t];i.listCollision=[];for(var s=0;s<this.particles.length;++s){var e=this.particles[s];i!==e&&i.pos.Distance(e.pos)<i.r+e.r&&i.listCollision.push(e)}}},t}(),l=function(){function t(t,i,s){void 0===i&&(i=400),void 0===s&&(s=300),this.click=!1,this.pressed=!1,this.prevent=!1,this.delay=500,this.down=!1,this.t=0,this.graphSystem=t,this.width=i,this.height=s;var e=document.getElementById(t.id);e&&(this.host=e,this.InitCanvas())}return t.prototype.InitCanvas=function(){var t=document.createElement("div");if(t){this.divLocalMain=t,this.divLocalMain.style.display="flex",this.divLocalMain.style.width=this.width+"px",this.divLocalMain.style.height=this.height+"px",this.divLocalMain.style.margin="10px",this.divLocalMain.style.padding="10px",this.host.append(t);var i=document.createElement("div");if(i){this.divCanvas=i,this.divLocalMain.append(i);var s=document.createElement("canvas");if(s){this.canvas=s,this.divCanvas.append(this.canvas),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.backgroundColor="#aaaaaa";var e=this.canvas.getContext("2d");e&&(this.ctx=e,this.InitUI(),this.Init())}}}},t.prototype.InitUI=function(){var t=document.createElement("div");t&&(this.divUI=t,this.divLocalMain.append(t),this.divUI.style.marginLeft="10px",this.divUI.style.width="100%")},t.prototype.Init=function(){this.ctx.translate(.5*this.ctx.canvas.width,.5*this.ctx.canvas.height),this.ctx.scale(1,1),this.EventBind(),this.Loop()},t.prototype.EventBind=function(){var t=this;this.canvas.onclick=function(i){t.prevent=!1,t.timer=setTimeout((function(){if(!t.prevent){if(!t.click)return;t.MouseClick(i)}t.prevent=!1}),t.delay)},this.canvas.ondblclick=function(i){clearTimeout(t.timer),t.prevent=!0,t.MouseDoubleClick(i)},this.canvas.addEventListener("wheel",(function(i){return t.MouseWheel(i,i.deltaY)})),this.canvas.onmousedown=function(i){t.click=!0,t.pressed=!0,t.MouseDown(i)},this.canvas.onmouseup=function(i){t.pressed=!1,t.MouseUp(i)},this.canvas.onmousemove=function(i){t.pressed&&(t.click=!1,t.MouseDrag(i)),t.MouseMove(i)},window.onresize=function(i){return t.Resize(i)}},t.prototype.Resize=function(t){},t.prototype.Loop=function(){var t=this;requestAnimationFrame((function(){t.Loop()})),this.ctx.clearRect(.5*-this.ctx.canvas.width,.5*-this.ctx.canvas.height,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.fillStyle="#dddddd",this.ctx.beginPath(),this.ctx.rect(.5*-this.ctx.canvas.width,.5*-this.ctx.canvas.height,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.closePath(),this.ctx.fill(),this.Render(this.ctx)},t.prototype.Render=function(t){},t.prototype.MouseClick=function(t){},t.prototype.MouseDoubleClick=function(t){},t.prototype.MouseDown=function(t){},t.prototype.MouseUp=function(t){},t.prototype.MouseMove=function(t){},t.prototype.MouseDrag=function(t){},t.prototype.MouseWheel=function(t,i){},t}(),p=function(){function t(t){this.t=.9,this.m=new e.h9(0,0,0),this.id=t,this.CanvasCore=new l(this),this.Init(),this.InitGraph()}return t.prototype.Init=function(){var t=this;this.CanvasCore.Render=function(i){return t.Render(i)},this.CanvasCore.MouseDown=function(i){return t.MouseDown(i)},this.CanvasCore.MouseClick=function(i){return t.MouseClick(i)},this.CanvasCore.MouseDoubleClick=function(i){return t.MouseDoubleClick(i)},this.CanvasCore.MouseUp=function(i){return t.MouseUp(i)},this.CanvasCore.MouseMove=function(i){return t.MouseMove(i)},this.CanvasCore.MouseDrag=function(i){return t.MouseDrag(i)},console.log("Graph system B")},t.prototype.InitGraph=function(){this.graph=new r},t.prototype.Render=function(t){this.graph.Render(t),t.fillStyle="rgba(255, 0, 0, 0.9)",t.beginPath(),t.arc(this.m.x,this.m.y,2.5,0,2*Math.PI),t.closePath(),t.fill()},t.prototype.Grid=function(t){for(var i=-10;i<10;++i)for(var s=-10;s<10;++s)t.beginPath(),t.fillStyle="rgba(255, 0, 0, 0.9)",t.arc(i,s,.05,0,2*Math.PI),t.closePath(),t.fill()},t.prototype.MouseDown=function(t){this.m.x=1*(t.x-this.CanvasCore.canvas.offsetLeft-.5*this.CanvasCore.canvas.width),this.m.y=1*(t.y-this.CanvasCore.canvas.offsetTop-.5*this.CanvasCore.canvas.height),this.graph.MouseDown(this.m.x,this.m.y)},t.prototype.MouseUp=function(t){},t.prototype.MouseMove=function(t){this.m.x=1*(t.x-this.CanvasCore.canvas.offsetLeft-.5*this.CanvasCore.canvas.width),this.m.y=1*(t.y-this.CanvasCore.canvas.offsetTop-.5*this.CanvasCore.canvas.height),this.graph.MouseMove(this.m.x,this.m.y)},t.prototype.MouseDrag=function(t){this.m.x=1*(t.x-this.CanvasCore.canvas.offsetLeft-.5*this.CanvasCore.canvas.width),this.m.y=1*(t.y-this.CanvasCore.canvas.offsetTop-.5*this.CanvasCore.canvas.height),this.graph.MouseDrag(this.m.x,this.m.y)},t.prototype.MouseClick=function(t){console.log("click"),this.m.x=1*(t.x-this.CanvasCore.canvas.offsetLeft-.5*this.CanvasCore.canvas.width),this.m.y=1*(t.y-this.CanvasCore.canvas.offsetTop-.5*this.CanvasCore.canvas.height),this.graph.MouseLeftClick(this.m.x,this.m.y)},t.prototype.MouseDoubleClick=function(t){console.log("d click")},t}(),u=function(){function t(t,i,s){this.m=5,this.r=10,this.colorFill="#0099ff",this.MAX_VELOCITY=1.5,this.listCollision=[],this.isCaptured=!1,this.graph=t,this.pos=new e.h9(i,s)}return t.prototype.Update=function(t){if(!this.isCaptured){var i=e.h9.Sub(this.pos,t),s=e.h9.Normalize(i),o=e.h9.CalculateFalloff(this.pos,t,1,.01);this.velocity=e.h9.Scale(s,o),this.UpdateCollision(),this.velocity.y+=1.1,this.pos=e.h9.Add(this.pos,this.velocity)}},t.prototype.UpdateCollision=function(){for(var t=0;t<this.listCollision.length;++t){var i=e.h9.Sub(this.pos,this.listCollision[t].pos),s=e.h9.Normalize(i),o=e.h9.CalculateFalloff(this.pos,this.listCollision[t].pos,1,.01);this.velocity=e.h9.Scale(s,o),this.pos=e.h9.Add(this.pos,this.velocity)}},t.prototype.IsMouseHover=function(t,i){return e.h9.Distance(this.pos,new e.h9(t,i))<this.r},t.prototype.Render=function(t){this.UpdatePosInScreen(t),t.lineWidth=1,t.strokeStyle="#000000",this.isCaptured?t.fillStyle="#ff0000":t.fillStyle=this.colorFill,t.beginPath(),t.arc(this.pos.x,this.pos.y,this.r,0,2*Math.PI),t.closePath(),t.fill(),t.stroke()},t.prototype.UpdatePosInScreen=function(t){var i=10;this.pos.y>.5*t.canvas.height-i&&(this.pos.y=.5*t.canvas.height-i),this.pos.x<.5*-t.canvas.width+i&&(this.pos.x=.5*-t.canvas.width+i),this.pos.x>.5*t.canvas.width-i&&(this.pos.x=.5*t.canvas.width-i)},t}(),v=function(){function t(){this.particles=[],this.t=1,this.capture=void 0,this.Init()}return t.prototype.Init=function(){this.m=new e.h9(0,0),this.particles=[];for(var t=0;t<20;++t)this.particles.push(new u(this,-.5+Math.random(),-.5+Math.random()))},t.prototype.MouseDown=function(t,i){for(var s=0;s<this.particles.length;++s)this.particles[s].IsMouseHover(t,i)&&(this.capture=this.particles[s],this.capture.isCaptured=!0)},t.prototype.MouseUp=function(){this.capture&&(this.capture.isCaptured=!1),this.capture=void 0},t.prototype.MouseLeftClick=function(t,i){this.particles.push(new u(this,t,i))},t.prototype.MouseMove=function(t,i){this.m.x=t,this.m.y=i},t.prototype.MouseDrag=function(t,i){this.capture&&(this.capture.pos.x=t,this.capture.pos.y=i)},t.prototype.Render=function(t){this.UpdateCollision();for(var i=0;i<this.particles.length;++i)this.particles[i].Update(this.m);for(i=0;i<this.particles.length;++i)this.particles[i].Render(t);0==(2&this.t)&&this.particles.length<150&&this.particles.push(new u(this,0,0)),this.t+=.1},t.prototype.UpdateCollision=function(){for(var t=0;t<this.particles.length;++t){var i=this.particles[t];i.listCollision=[];for(var s=0;s<this.particles.length;++s){var e=this.particles[s];i!==e&&i.pos.Distance(e.pos)<i.r+e.r&&i.listCollision.push(e)}}},t}(),d=function(){function t(t,i,s){void 0===i&&(i=400),void 0===s&&(s=300),this.click=!1,this.pressed=!1,this.prevent=!1,this.delay=500,this.down=!1,this.t=0,this.graphSystem=t,this.width=i,this.height=s;var e=document.getElementById(t.id);e&&(this.host=e,this.InitCanvas())}return t.prototype.InitCanvas=function(){var t=document.createElement("div");if(t){this.divLocalMain=t,this.divLocalMain.style.display="flex",this.divLocalMain.style.width=this.width+"px",this.divLocalMain.style.height=this.height+"px",this.divLocalMain.style.margin="10px",this.divLocalMain.style.padding="10px",this.host.append(t);var i=document.createElement("div");if(i){this.divCanvas=i,this.divLocalMain.append(i);var s=document.createElement("canvas");if(s){this.canvas=s,this.divCanvas.append(this.canvas),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.backgroundColor="#aaaaaa";var e=this.canvas.getContext("2d");e&&(this.ctx=e,this.InitUI(),this.Init())}}}},t.prototype.InitUI=function(){var t=document.createElement("div");t&&(this.divUI=t,this.divLocalMain.append(t),this.divUI.style.marginLeft="10px",this.divUI.style.width="100%")},t.prototype.Init=function(){this.ctx.translate(.5*this.ctx.canvas.width,.5*this.ctx.canvas.height),this.ctx.scale(1,1),this.EventBind(),this.Loop()},t.prototype.EventBind=function(){var t=this;this.canvas.onclick=function(i){t.prevent=!1,t.timer=setTimeout((function(){if(!t.prevent){if(!t.click)return;t.MouseClick(i)}t.prevent=!1}),t.delay)},this.canvas.ondblclick=function(i){clearTimeout(t.timer),t.prevent=!0,t.MouseDoubleClick(i)},this.canvas.addEventListener("wheel",(function(i){return t.MouseWheel(i,i.deltaY)})),this.canvas.onmousedown=function(i){t.click=!0,t.pressed=!0,t.MouseDown(i)},this.canvas.onmouseup=function(i){t.pressed=!1,t.MouseUp(i)},this.canvas.onmousemove=function(i){t.pressed&&(t.click=!1,t.MouseDrag(i)),t.MouseMove(i)},window.onresize=function(i){return t.Resize(i)}},t.prototype.Resize=function(t){},t.prototype.Loop=function(){var t=this;requestAnimationFrame((function(){t.Loop()})),this.ctx.clearRect(.5*-this.ctx.canvas.width,.5*-this.ctx.canvas.height,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.fillStyle="#dddddd",this.ctx.beginPath(),this.ctx.rect(.5*-this.ctx.canvas.width,.5*-this.ctx.canvas.height,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.closePath(),this.ctx.fill(),this.Render(this.ctx)},t.prototype.Render=function(t){},t.prototype.MouseClick=function(t){},t.prototype.MouseDoubleClick=function(t){},t.prototype.MouseDown=function(t){},t.prototype.MouseUp=function(t){},t.prototype.MouseMove=function(t){},t.prototype.MouseDrag=function(t){},t.prototype.MouseWheel=function(t,i){},t}(),f=function(){function t(t){this.t=.9,this.m=new e.h9(0,0,0),this.id=t,this.CanvasCore=new d(this),this.Init(),this.InitGraph()}return t.prototype.Init=function(){var t=this;this.CanvasCore.Render=function(i){return t.Render(i)},this.CanvasCore.MouseDown=function(i){return t.MouseDown(i)},this.CanvasCore.MouseClick=function(i){return t.MouseClick(i)},this.CanvasCore.MouseDoubleClick=function(i){return t.MouseDoubleClick(i)},this.CanvasCore.MouseUp=function(i){return t.MouseUp(i)},this.CanvasCore.MouseMove=function(i){return t.MouseMove(i)},this.CanvasCore.MouseDrag=function(i){return t.MouseDrag(i)},console.log("Graph system")},t.prototype.InitGraph=function(){this.graph=new v},t.prototype.Render=function(t){this.graph.Render(t),t.fillStyle="rgba(255, 0, 0, 0.9)",t.beginPath(),t.arc(this.m.x,this.m.y,2.5,0,2*Math.PI),t.closePath(),t.fill()},t.prototype.Grid=function(t){for(var i=-10;i<10;++i)for(var s=-10;s<10;++s)t.beginPath(),t.fillStyle="rgba(255, 0, 0, 0.9)",t.arc(i,s,.05,0,2*Math.PI),t.closePath(),t.fill()},t.prototype.MouseDown=function(t){this.m.x=1*(t.x-this.CanvasCore.canvas.offsetLeft-.5*this.CanvasCore.canvas.width),this.m.y=1*(t.y-this.CanvasCore.canvas.offsetTop-.5*this.CanvasCore.canvas.height),this.graph.MouseDown(this.m.x,this.m.y)},t.prototype.MouseUp=function(t){this.graph.MouseUp()},t.prototype.MouseMove=function(t){this.m.x=1*(t.x-this.CanvasCore.canvas.offsetLeft-.5*this.CanvasCore.canvas.width),this.m.y=1*(t.y-this.CanvasCore.canvas.offsetTop-.5*this.CanvasCore.canvas.height),this.graph.MouseMove(this.m.x,this.m.y)},t.prototype.MouseDrag=function(t){this.m.x=1*(t.x-this.CanvasCore.canvas.offsetLeft-.5*this.CanvasCore.canvas.width),this.m.y=1*(t.y-this.CanvasCore.canvas.offsetTop-.5*this.CanvasCore.canvas.height),this.graph.MouseDrag(this.m.x,this.m.y)},t.prototype.MouseClick=function(t){console.log("click"),this.m.x=1*(t.x-this.CanvasCore.canvas.offsetLeft-.5*this.CanvasCore.canvas.width),this.m.y=1*(t.y-this.CanvasCore.canvas.offsetTop-.5*this.CanvasCore.canvas.height),this.graph.MouseLeftClick(this.m.x,this.m.y)},t.prototype.MouseDoubleClick=function(t){console.log("d click")},t}(),y=function(t){new a(t),new p(t),new f(t),document.body.style.overflow="auto"},C=function(){function t(t){void 0===t&&(t="SandBox");var i=document.getElementById(t);i&&(this.host=i,this.host.style.overflow="auto"),this.implementation=new y(t)}return t.Init=function(i){new t(i).Dummy()},t.prototype.Dummy=function(){},t}()}}]);