"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8147],{8147:(e,t,r)=>{r.r(t),r.d(t,{WebGL2:()=>l});var n,o=function(){function e(e){this.app=e,this.canvas=document.createElement("canvas"),this.app.divHost&&(this.app.divHost.appendChild(this.canvas),this.canvas.width=this.app.divHost.clientWidth,this.canvas.height=this.app.divHost.clientHeight);var t=this.canvas.getContext("webgl2");t&&(this.gl=t),this.loop(this.gl)}return e.prototype.loop=function(e){var t=this;requestAnimationFrame((function(){t.loop(e)})),this.clear(e),this.Render(e)},e.prototype.Render=function(e){},e.prototype.clear=function(e){e.clearColor(1,1,1,1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)},e}(),i=function(){function e(){}return e.getShader=function(e,t,r){var n=e.createShader(t);return null===n?null:(e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(console.log("An error occurred compiling the shaders:"+e.getShaderInfoLog(n)),e.deleteShader(n),null))},e.createProgram=function(e,t,r,n){void 0===n&&(n=!0);var o=e.createProgram();if(null===o)return null;if(e.attachShader(o,t),e.attachShader(o,r),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS)){var i=e.getProgramInfoLog(o);return console.log("Failed to link program: "+i),e.deleteProgram(o),e.deleteShader(r),e.deleteShader(t),null}return n&&(e.validateProgram(o),!e.getProgramParameter(o,e.VALIDATE_STATUS))?(console.error("Failed to validate program",e.getProgramInfoLog(o)),e.deleteProgram(o),e.deleteShader(r),e.deleteShader(t),null):(e.deleteShader(r),e.deleteShader(t),o)},e.createShader=function(e,t,r){var n=e.createShader(t);return null===n?null:(e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(console.log(e.getShaderInfoLog(n)),e.deleteShader(n),null))},e.createShaderFromPath=function(t,r,n){var o=t.createShader(r);return null===o?null:(t.shaderSource(o,e.getSourceSynch(n)),t.compileShader(o),t.getShaderParameter(o,t.COMPILE_STATUS)?o:(console.log(t.getShaderInfoLog(o)),t.deleteShader(o),null))},e.getSourceSynch=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),200===t.status?t.responseText:null},e.loadImage=function(e,t){var r=new Image;r.onload=function(){t(null,r)},r.src=e},e}(),a=function(){function e(e){this.scene=e,this.scene.list.push(this)}return e.prototype.Render=function(e){},e}(),s=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),h=function(e){function t(t,r){var n=e.call(this,t)||this;return n.v="#version 300 es\n        in vec3 a_position;\n\n        uniform float uPointSize;\n\n        void main(void) {\n            gl_PointSize = uPointSize;\n            gl_Position = vec4(a_position, 1.0);\n        }\n    ",n.f="#version 300 es\n        precision mediump float;\n\n        out vec4 finalColor;\n\n        void main(void) {\n            finalColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    ",n.size=100,n.time=0,n.gl=r,n.initShader(r),n}return s(t,e),t.prototype.initShader=function(e){var t=i.createShader(e,e.VERTEX_SHADER,this.v),r=i.createShader(e,e.FRAGMENT_SHADER,this.f);if(t&&r){this.vShader=t,this.fShader=r;var n=i.createProgram(e,this.vShader,this.fShader,!0);n&&(this.program=n,e.useProgram(this.program),this.aPositionLoc=e.getAttribLocation(this.program,"a_position"),this.uPointSizeLoc=e.getUniformLocation(this.program,"uPointSize"),e.useProgram(null),this.initGeo(e))}else console.error("vertex fragment shader error")},t.prototype.initGeo=function(e){var t=new Float32Array([0,.5,0,.5,-.5,0,-.5,-.5,0]),r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),e.useProgram(this.program),e.uniform1f(this.uPointSizeLoc,50),e.bindBuffer(e.ARRAY_BUFFER,r),e.enableVertexAttribArray(this.aPositionLoc),e.vertexAttribPointer(this.aPositionLoc,3,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,null)},t.prototype.Render=function(e){e.uniform1f(this.uPointSizeLoc,15+this.size*(Math.cos(this.time)+1)),e.drawArrays(e.POINTS,0,3),this.time+=.1},t.prototype.Dummy=function(){},t}(a),c=function(){function e(e){this.list=[],this.app=e,this.app.coreWebg2.Render=this.Render.bind(this),this.Init()}return e.prototype.Init=function(){new h(this,this.app.coreWebg2.gl).Dummy()},e.prototype.Render=function(e){for(var t=0;t<this.list.length;++t)this.list[t].Render(e)},e}(),l=function(){function e(e){var t=document.getElementById(e);t&&(this.divHost=t),this.coreWebg2=new o(this),this.scene=new c(this)}return e.Init=function(t){new e(t)},e}()}}]);