"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5266],{5266:(t,i,e)=>{e.r(i),e.d(i,{AppGridSystem:()=>c});var n=function(){function t(t){this.t=0,this.InitCanvas(t)}return t.prototype.InitCanvas=function(t){var i=document.createElement("canvas"),e=document.getElementById(t);if(e&&(e.appendChild(i),this.host=e),i){this.canvas=i,this.canvas.width=this.host.clientWidth,this.canvas.height=this.host.clientHeight;var n=this.canvas.getContext("2d");n&&(this.ctx=n,this.Init())}},t.prototype.Init=function(){this.EventBind(),this.Loop()},t.prototype.EventBind=function(){var t=this;this.canvas.onmousedown=function(i){return t.MouseDown(i)},this.canvas.onmouseup=function(i){return t.MouseUp(i)},this.canvas.onmousemove=function(i){return t.MouseMove(i)},window.onresize=function(i){return t.Resize(i)}},t.prototype.Resize=function(t){this.canvas.width=this.host.clientWidth,this.canvas.height=this.host.clientHeight},t.prototype.Loop=function(){var t=this;requestAnimationFrame((function(){t.Loop()})),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.beginPath(),this.ctx.rect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.closePath(),this.ctx.fillStyle="#eeeeee",this.ctx.fill(),this.Render(this.ctx)},t.prototype.Render=function(t){},t.prototype.MouseDown=function(t){},t.prototype.MouseUp=function(t){},t.prototype.MouseMove=function(t){},t}(),s=e(906),o=function(){function t(i,e){void 0===e&&(e=new s.h9(0,0,0)),this.nPix=[],this.i=-1,this.j=-1,this.k=-1,this.u=-1,this.v=-1,this.map=i,this.vec=e,this.nPix=[],this.recVec=[],this.i=-1,this.j=-1,this.k=-1,this.id=t.GetID(),this.data={}}return t.GetID=function(){return t.ID++},t.prototype.ToString=function(){var t="Pixel"+this.id;return console.log(t),t},t.prototype.Update=function(){},t.prototype.Render=function(){},t.ID=0,t}(),h=function(){function t(t,i,e,n){void 0===e&&(e=10),void 0===n&&(n=10),this.listPixel=[],this.rx=0,this.ry=0,this.ddx=0,this.ddy=0,this.v0=s.h9.Origin(),this.v1=s.h9.Origin(),this.rx=e,this.ry=n,this.ddx=0,this.ddy=0,this.v0=t,this.v1=i,this.Init()}return t.prototype.Init=function(){this.ddx=(this.v1.x-this.v0.x)/(this.rx-1),this.ddy=(this.v1.y-this.v0.y)/(this.ry-1),console.log("ddx is "+this.ddx+". ddy is "+this.ddx),console.log("Pixe Map was executed..."),this.InitGrid()},t.prototype.InitGrid=function(){console.log(this.rx,this.ry);for(var t=0;t<this.ry;++t)for(var i=0;i<this.rx;++i){var e=this.v0.x+i*this.ddx,n=this.v0.y+t*this.ddy,h=new o(this);h.i=i,h.j=t,h.vec=new s.h9(e,n,0),h.recVec.push(new s.h9(e-.5*this.ddx,n-.5*this.ddy,0)),h.recVec.push(new s.h9(e+.5*this.ddx,n-.5*this.ddy,0)),h.recVec.push(new s.h9(e+.5*this.ddx,n+.5*this.ddy,0)),h.recVec.push(new s.h9(e-.5*this.ddx,n+.5*this.ddy,0)),this.listPixel.push(h)}this.InitGridNeighbor()},t.prototype.InitGridNeighbor=function(){for(var t=0;t<this.ry;++t)for(var i=0;i<this.rx;++i){var e=t*this.rx+i,n=this.listPixel[e];i>0&&n.nPix.push(this.listPixel[e-1]),i<this.rx-1&&n.nPix.push(this.listPixel[e+1]),t>0&&n.nPix.push(this.listPixel[e-this.rx]),t<this.ry-1&&n.nPix.push(this.listPixel[e+this.rx]),i>0&&t<this.ry-1&&n.nPix.push(this.listPixel[e+this.rx-1]),i>0&&t>0&&n.nPix.push(this.listPixel[e-this.rx-1]),i<this.rx-1&&t<this.ry-1&&n.nPix.push(this.listPixel[e+this.rx+1]),i<this.rx-1&&t>0&&n.nPix.push(this.listPixel[e-this.rx+1])}console.log("done for computing neighbors ")},t.prototype.GetPixelAtPoint=function(t){var i=this,e=new s.h9(t.x-i.v0.x,t.y-i.v0.y,t.z-i.v0.z),n=Math.round(e.x/i.ddx),o=Math.round(e.y/i.ddy);return n>=i.rx&&(n=i.rx-1),o>=i.ry&&(o=i.ry-1),n<0&&(n=0),o<0&&(o=0),i.listPixel[o*i.rx+n]},t.prototype.MouseMove=function(t,i,e){console.log("mouseMove x:"+t+", y:"+i+", z:"+e);var n=this.GetPixelAtPoint(new s.h9(t,i,e));console.log(n.nPix)},t.prototype.onDocumentMouseMove=function(){},t.prototype.onmouseenter=function(){},t.prototype.CVisLineGrid=function(t){for(var i=this,e=0;e<i.listPixel.length;++e){t.lineWidth=.5,t.beginPath(),t.moveTo(i.listPixel[e].recVec[0].x,i.listPixel[e].recVec[0].y);for(var n=1;n<i.listPixel[e].recVec.length;++n)t.lineTo(i.listPixel[e].recVec[n].x,i.listPixel[e].recVec[n].y);t.closePath(),t.strokeStyle="#ff0000",t.stroke()}},t.prototype.VisMeshGrid=function(){for(var t=0;t<this.listPixel.length;++t);},t.prototype.VisCenterPoints=function(t){var i=this;t.fillStyle="#0ff00f";for(var e=0;e<i.listPixel.length;++e)t.beginPath(),t.arc(i.listPixel[e].vec.x,i.listPixel[e].vec.y,5,0,6.28),t.closePath(),t.fill()},t.prototype.Render=function(t){this.CVisLineGrid(t),this.VisCenterPoints(t)},t}(),r=function(){function t(){this.pMap=new h(new s.h9(10,10),new s.h9(200,200)),console.log(this.pMap)}return t.prototype.Render=function(t){this.pMap.Render(t)},t.prototype.MouseDown=function(t){console.log(t,"core")},t.prototype.MouseUp=function(t){console.log(t,"core")},t.prototype.MouseMove=function(t){console.log(t,"core")},t.prototype.MouseDrag=function(t){console.log(t,"core")},t}(),c=function(){function t(t){void 0===t&&(t="SandBox"),this.core=new r,this.canvasCore=new n(t),this.BindEvent(),this.BindRenderer()}return t.Init=function(i){void 0===i&&(i="SandBox"),new t(i)},t.prototype.BindEvent=function(){var t=this;this.canvasCore.MouseDown=function(i){return t.core.MouseDown(i)},this.canvasCore.MouseMove=function(i){return t.core.MouseMove(i)},this.canvasCore.MouseUp=function(i){return t.core.MouseUp(i)}},t.prototype.BindRenderer=function(){var t=this;this.canvasCore.Render=function(i){return t.core.Render(i)}},t}()}}]);