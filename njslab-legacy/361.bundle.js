"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[361],{361:(t,e,i)=>{i.r(e),i.d(e,{SceneCreativeCoding:()=>et});var s,o=i(555),n=function(){function t(t){this.mOffX=-12,this.mOffY=-12,this.scene=t,this.scene.definitions.push(this),this.InitIndeCanvas()}return t.prototype.InitIndeCanvas=function(){var t=this;this.indeCanvas=new o.D(this.scene.implementation.app.viewController.NUIWrapper.NUI.independentPanelWrapper,100,100,600,350,!0),this.indeCanvas.title="Circle Grid with Attractors 2",this.indeCanvas.btnHam.isHidden=!0,this.indeCanvas.btnMini.isHidden=!0,this.indeCanvas.RenderIndependentCanvas=function(e){return t.RenderIndependentCanvas(e)}},Object.defineProperty(t.prototype,"width",{get:function(){return this.indeCanvas.canvas.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.indeCanvas.canvas.height},enumerable:!1,configurable:!0}),t.prototype.Init=function(t){},t.prototype.RenderIndependentCanvas=function(t){},t.prototype.MouseMove=function(t,e){},t.prototype.MouseMovePre=function(t,e){this.indeCanvas.IsMouseInsidePanel(t,e)&&this.MouseMove(t-this.indeCanvas.vec.x+this.mOffX,e-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)},t.prototype.MouseDown=function(t,e){},t.prototype.MouseDownPre=function(t,e){this.indeCanvas.IsMouseInsidePanel(t,e)&&this.MouseDown(t-this.indeCanvas.vec.x+this.mOffX,e-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)},t.prototype.MouseUp=function(t,e){},t.prototype.MouseUpPre=function(t,e){this.indeCanvas.IsMouseInsidePanel(t,e)&&this.MouseUp(t-this.indeCanvas.vec.x+this.mOffX,e-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)},t.prototype.MouseDrag=function(t,e){},t.prototype.MouseDragPre=function(t,e){this.indeCanvas.IsMouseInsidePanel(t,e)&&this.MouseDrag(t-this.indeCanvas.vec.x+this.mOffX,e-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)},t.prototype.MouseLeftClick=function(t,e){},t.prototype.MouseLeftClickPre=function(t,e){this.indeCanvas.IsMouseInsidePanel(t,e)&&this.MouseLeftClick(t-this.indeCanvas.vec.x+this.mOffX,e-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)},t.prototype.MouseMiddleClick=function(t,e){},t.prototype.MouseMiddleClickPre=function(t,e){this.indeCanvas.IsMouseInsidePanel(t,e)&&this.MouseMiddleClick(t-this.indeCanvas.vec.x+this.mOffX,e-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)},t.prototype.MouseRightClick=function(t,e){},t.prototype.MouseRightClickPre=function(t,e){this.indeCanvas.IsMouseInsidePanel(t,e)&&this.MouseRightClick(t-this.indeCanvas.vec.x+this.mOffX,e-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)},t.prototype.MouseDoubleClick=function(t,e){},t.prototype.MouseDoubleClickPre=function(t,e){this.indeCanvas.IsMouseInsidePanel(t,e)&&this.MouseDoubleClick(t-this.indeCanvas.vec.x+this.mOffX,e-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)},t.prototype.MouseWheel=function(t,e,i){},t.prototype.MouseWheelPre=function(t,e,i){this.indeCanvas.IsMouseInsidePanel(t,e)&&this.MouseWheel(t-this.indeCanvas.vec.x+this.mOffX,e-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY,i)},t}(),h=(s=function(t,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},s(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=function(t){function e(e){var i=t.call(this,e)||this;return i.p=[0,0],i}return h(e,t),e.prototype.Init=function(){},e.prototype.RenderIndependentCanvas=function(t){t.fillStyle="#ff0000",t.beginPath(),t.arc(this.p[0],this.p[1],5,0,6.28),t.closePath(),t.fill()},e.prototype.MouseDown=function(t,e){this.p=[t,e]},e}(n),c=i(4520),a=function(){function t(t){this.scene=t}return t.prototype.MouseEventController=function(t){t.CLICK_TYPE!==c.uh.LEFT?t.CLICK_TYPE!==c.uh.MIDDLE?t.CLICK_TYPE!==c.uh.DOWN_RIGHT?t.CLICK_TYPE!==c.uh.DOUBLE?t.CLICK_TYPE!==c.uh.MOVE?t.CLICK_TYPE!==c.uh.DRAG?t.CLICK_TYPE!==c.uh.DOWN?t.CLICK_TYPE!==c.uh.WHEEL?t.CLICK_TYPE!==c.uh.UP||this.MouseUpPre(t):this.MouseWheelPre(t):this.MouseDownPre(t):this.MouseDragPre(t):this.MouseMovePre(t):this.MouseDoubleClickPre(t):this.MouseRightClickPre(t):this.MouseMiddleClickPre(t):this.MouseLeftClickPre(t)},t.prototype.MouseDown=function(t){},t.prototype.MouseDownPre=function(t){this.scene.MouseDown(t.x,t.y),this.MouseDown(t)},t.prototype.MouseLeftClick=function(t){},t.prototype.MouseLeftClickPre=function(t){this.scene.MouseLeftClick(t.x,t.y),this.MouseLeftClick(t)},t.prototype.MouseMiddleClick=function(t){},t.prototype.MouseMiddleClickPre=function(t){this.scene.MouseMiddleClick(t.x,t.y),this.MouseMiddleClick(t)},t.prototype.MouseRightClick=function(t){},t.prototype.MouseRightClickPre=function(t){this.scene.MouseRightClick(t.x,t.y),this.MouseRightClick(t)},t.prototype.MouseUp=function(t){},t.prototype.MouseUpPre=function(t){this.scene.MouseUp(t.x,t.y),this.MouseUp(t)},t.prototype.MouseDoubleClick=function(t){},t.prototype.MouseDoubleClickPre=function(t){this.scene.MouseDoubleClick(t.x,t.y),this.MouseDoubleClick(t)},t.prototype.MouseMove=function(t){},t.prototype.MouseMovePre=function(t){this.scene.MouseMove(t.x,t.y),this.MouseMove(t)},t.prototype.MouseDrag=function(t){},t.prototype.MouseDragPre=function(t){this.scene.MouseDrag(t.x,t.y),this.MouseDrag(t)},t.prototype.MouseWheel=function(t){},t.prototype.MouseWheelPre=function(t){this.scene.MouseWheel(t.x,t.y,t.wheel),this.MouseWheel(t)},t}(),p=function(t){this.scene=t},u=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),y=function(t){function e(e){var i=t.call(this,e)||this;return i.xpos=100,i.ypos=100,i.xspeed=10,i.yspeed=10,i.xdirection=1,i.ydirection=1,i.rad=50,i}return u(e,t),e.prototype.Init=function(){},e.prototype.RenderIndependentCanvas=function(t){this.xpos=this.xpos+this.xspeed*this.xdirection,this.ypos=this.ypos+this.yspeed*this.ydirection,(this.xpos>this.width-this.rad||this.xpos<this.rad)&&(this.xdirection*=-1),(this.ypos>this.height-this.rad||this.ypos<this.rad)&&(this.ydirection*=-1),t.fillStyle="#ff0000",t.beginPath(),t.arc(this.xpos,this.ypos,this.rad,0,6.28),t.closePath(),t.fill()},e}(n),l=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),d=function(t){function e(e){var i=t.call(this,e)||this;return i.Balls=[],i}return l(e,t),e.prototype.RenderIndependentCanvas=function(t){for(var e=0,i=this.Balls;e<i.length;e++)i[e].Render(t)},e.prototype.MouseDown=function(t,e){this.Balls.push(new f(this,t,e))},e}(n),f=function(){function t(e,i,s){this.xpos=100,this.ypos=100,this.xspeed=10,this.yspeed=10,this.xdirection=1,this.ydirection=1,this.rad=50,this.BallBounceClass=e,this.xpos=i,this.ypos=s,this.xdirection=2*Math.random()-1,this.ydirection=2*Math.random()-1,this.rad=50*Math.random()+10,this.color=t.GetRandomHex()}return t.GetRandomHex=function(){return this.RGBToHex(Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random()))},t.RGBToHex=function(t,e,i){return"#"+[Math.round(t),Math.round(e),Math.round(i)].map((function(t){var e=t.toString(16);return 1===e.length?"0"+e:e})).join("")},t.prototype.Render=function(t){this.xpos=this.xpos+this.xspeed*this.xdirection,this.ypos=this.ypos+this.yspeed*this.ydirection,(this.xpos>this.BallBounceClass.width-this.rad||this.xpos<this.rad)&&(this.xdirection*=-1),(this.ypos>this.BallBounceClass.height-this.rad||this.ypos<this.rad)&&(this.ydirection*=-1),t.fillStyle=this.color,t.beginPath(),t.arc(this.xpos,this.ypos,this.rad,0,6.28),t.closePath(),t.fill()},t}(),v=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),g=function(t){function e(e){var i=t.call(this,e)||this;return i.mouse=[0,0],i.Init(),i}return v(e,t),e.prototype.Init=function(){this.mouse=[0,0]},e.prototype.RenderIndependentCanvas=function(t){this.pts=[];for(var e=this.width/40,i=this.height/40,s=0;s<40;s+=1)for(var o=0;o<40;o+=1)this.pts.push([o*e,s*i]);for(var n=0,h=0,r=this.pts;h<r.length;h++){var c=r[h];if(n%2==0){var a=[50,50,50,1],p=this.Distance(c[0],c[1],this.mouse[0],this.mouse[1]);a[0]=p,t.strokeStyle="rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")",t.beginPath(),t.arc(c[0],c[1],p/10,0,6.28),t.stroke()}n++}},e.prototype.Distance=function(t,e,i,s){return Math.sqrt((t-i)*(t-i)+(e-s)*(e-s))},e.prototype.MouseMove=function(t,e){this.mouse=[t,e]},e}(n),m=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),x=function(t){function e(e){var i=t.call(this,e)||this;return i.mouse=[0,0],i.attrs=[[0,0]],i.strength=50,i.falloff=5e-5,i.Init(),i}return m(e,t),e.prototype.Init=function(){this.mouse=[0,0]},e.prototype.RenderIndependentCanvas=function(t){this.pts=[];for(var e=this.width/40,i=this.height/40,s=0;s<40;s+=1)for(var o=0;o<40;o+=1)this.pts.push([o*e,s*i]);for(var n=0,h=0,r=this.pts;h<r.length;h++){var c=r[h];if(n%2==0){for(var a=[50,255,0,1],p=0,u=0,y=this.attrs;u<y.length;u++){s=y[u];var l=this.Attractor(c,s,this.strength,this.falloff);p<l&&(p=l)}a[2]+=3*p,t.strokeStyle="rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")",t.beginPath(),t.arc(c[0],c[1],10+p,0,6.28),t.stroke()}n++}},e.prototype.Attractor=function(t,e,i,s){var o=this.Sub(t,e),n=this.Length(o);return i*Math.exp(-s*n*n)},e.prototype.Sub=function(t,e){return[t[0]-e[0],t[1]-e[1]]},e.prototype.Unitize=function(t){var e=this.Length(t);return[t[0]/e,t[1]/e]},e.prototype.Length=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},e.prototype.MouseMove=function(t,e){this.attrs[this.attrs.length-1]=[t,e]},e.prototype.MouseDown=function(t,e){this.attrs.push([t,e])},e.prototype.MouseWheel=function(t,e,i){this.falloff+=1e-7*i},e}(n),C=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),M=function(t){function e(e){var i=t.call(this,e)||this;return i.mouse=[0,0],i.attrs=[[0,0]],i.strength=50,i.falloff=5e-5,i.Init(),i}return C(e,t),e.prototype.Init=function(){this.mouse=[0,0]},e.prototype.RenderIndependentCanvas=function(t){this.pts=[];for(var e=this.width/20,i=this.height/20,s=0;s<20;s+=1)for(var o=0;o<20;o+=1)this.pts.push([o*e,s*i]);for(var n=0,h=0,r=this.pts;h<r.length;h++){var c=r[h];if(n%2==0){for(var a=[0,20,0,1],p=0,u=0,y=this.attrs;u<y.length;u++){s=y[u];var l=this.Attractor(c,s,this.strength,this.falloff);p<l&&(p=l)}a[2]+=3*p,t.strokeStyle="rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")",t.beginPath(),t.arc(c[0],c[1],10+p,0,6.28),t.stroke()}n++}},e.prototype.Attractor=function(t,e,i,s){var o=this.Sub(t,e),n=this.Length(o);return i*Math.exp(-s*n*n)},e.prototype.Sub=function(t,e){return[t[0]-e[0],t[1]-e[1]]},e.prototype.Unitize=function(t){var e=this.Length(t);return[t[0]/e,t[1]/e]},e.prototype.Length=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},e.prototype.MouseMove=function(t,e){this.attrs[this.attrs.length-1]=[t,e]},e.prototype.MouseDown=function(t,e){this.attrs.push([t,e])},e.prototype.MouseWheel=function(t,e,i){this.falloff+=1e-7*i},e}(n),b=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),w=function(t){function e(e){var i=t.call(this,e)||this;return i.mouse=[0,0],i.lines=[],i.indeCanvas.title="Line",i.Init(),i}return b(e,t),e.prototype.Init=function(){this.lines.push(new _(10,10,50,50))},e.prototype.RenderIndependentCanvas=function(t){for(var e=0,i=this.lines;e<i.length;e++)i[e].Render(t)},e.prototype.MouseMove=function(t,e){this.mouse=[t,e]},e.prototype.MouseDown=function(){var t=this.lines[this.lines.length-1].p1;this.lines.push(new _(t[0],t[1],this.mouse[0],this.mouse[1]))},e}(n),_=function(){function t(t,e,i,s){this.p0=[t,e],this.p1=[i,s]}return t.prototype.Render=function(t){t.strokeStyle="red",t.beginPath(),t.moveTo(this.p0[0],this.p0[1]),t.lineTo(this.p1[0],this.p1[1]),t.closePath(),t.stroke()},t}(),P=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),R=function(t){function e(e){var i=t.call(this,e)||this;return i.mouse=[0,0],i.lines=[],i.indeCanvas.title="Line",i.Init(),i}return P(e,t),e.prototype.Init=function(){this.lines.push(new I(10,10,50,50))},e.prototype.RenderIndependentCanvas=function(t){for(var e=0,i=this.lines;e<i.length;e++)i[e].Render(t)},e.prototype.MouseMove=function(t,e){this.mouse=[t,e]},e.prototype.MouseDown=function(){this.lines.length>5&&this.lines.shift();var t=this.lines[this.lines.length-1].p1;this.lines.push(new I(t[0],t[1],this.mouse[0],this.mouse[1]))},e}(n),I=function(){function t(t,e,i,s){this.p0=[t,e],this.p1=[i,s]}return t.prototype.Render=function(t){t.strokeStyle="red",t.beginPath(),t.moveTo(this.p0[0],this.p0[1]),t.lineTo(this.p1[0],this.p1[1]),t.closePath(),t.stroke()},t}(),z=function(){function t(){}return t.GetRandomPath=function(t,e,i,s,o){void 0===o&&(o=10);for(var n=[],h=0;h<o;++h){var r=c.$H.GetRandomIntInclusive(t,i),a=c.$H.GetRandomIntInclusive(e,s);n.push(new c.h9(r,a,0))}return n},t}(),S=function(){function t(t){this.boids=[],this.boids=[],this.targets=t}return t.prototype.AddAgent=function(t,e){var i=new D(new c.h9(t,e));i.InitTarget(this.targets),this.boids.push(i)},t.prototype.Update=function(){this.Col();for(var t=0,e=this.boids;t<e.length;t++)e[t].Update()},t.prototype.Col=function(){for(var t=0,e=this.boids;t<e.length;t++)e[t].col=!1;for(var i=0;i<this.boids.length;++i){var s=this.boids[i];if(!s.isRenderable)break;for(var o=i+1;o<this.boids.length;++o){var n=this.boids[o];if(s.p.Distance(n.p)<30){n.col=!0;break}}}},t.prototype.GetPoint=function(){for(var t=[],e=0,i=this.boids;e<i.length;e++){var s=i[e];s.isRenderable&&t.push(s.p)}return t},t.prototype.Render=function(t){this.boids.forEach((function(e){e.Render(t)}))},t}(),D=function(){function t(t){this.maxForce=5,this.maxVelocity=5,this.maxSpeed=5,this.mass=10.2,this.isRenderable=!0,this.targetID=0,this.col=!1,this.velocity=new c.h9(0,0,0),this.p=t,this.target=new c.h9(t.x,t.y,t.z)}return t.prototype.InitTarget=function(t){this.targets=t,this.target=this.targets[this.targetID]},t.prototype.Update=function(){this.UpdateTarget(),this.UpdateVecSlowDown2()},t.prototype.UpdateTarget=function(){this.p.Distance(this.target)<9&&(this.targetID++,this.targetID<this.targets.length&&(this.target=this.targets[this.targetID],this.targetID,this.targets.length))},t.prototype.UpdateVec0=function(){this.desiredVelocity=new c.h9(this.target.x-this.p.x,this.target.y-this.p.y,this.target.z-this.p.z),this.desiredVelocity.Unitize(),this.desiredVelocity.x*=this.maxVelocity,this.desiredVelocity.y*=this.maxVelocity,this.desiredVelocity.z*=this.maxVelocity;var t=this.desiredVelocity.x-this.velocity.x<this.maxForce?this.desiredVelocity.x-this.velocity.x:this.maxForce,e=this.desiredVelocity.y-this.velocity.y<this.maxForce?this.desiredVelocity.y-this.velocity.y:this.maxForce,i=this.desiredVelocity.z-this.velocity.z<this.maxForce?this.desiredVelocity.z-this.velocity.z:this.maxForce;this.steering=new c.h9(t/this.mass,e/this.mass,i/this.mass),this.velocity.x=this.velocity.x+this.steering.x<this.maxSpeed?this.velocity.x+this.steering.x:this.maxSpeed,this.velocity.y=this.velocity.y+this.steering.y<this.maxSpeed?this.velocity.y+this.steering.y:this.maxSpeed,this.velocity.z=this.velocity.z+this.steering.z<this.maxSpeed?this.velocity.z+this.steering.z:this.maxSpeed,this.col?(this.p.x+=.8*-this.steering.x,this.p.y+=.8*-this.steering.y,this.p.z+=.8*-this.steering.z):(this.p.x+=this.velocity.x,this.p.y+=this.velocity.y,this.p.z+=this.velocity.z)},t.prototype.UpdateVec1=function(){this.desiredVelocity=new c.h9(this.target.x-this.p.x,this.target.y-this.p.y,this.target.z-this.p.z),this.desiredVelocity.Unitize(),this.desiredVelocity.x*=this.maxVelocity,this.desiredVelocity.y*=this.maxVelocity,this.desiredVelocity.z*=this.maxVelocity;var t=this.desiredVelocity.x-this.velocity.x,e=this.desiredVelocity.y-this.velocity.y,i=this.desiredVelocity.z-this.velocity.z;this.steering=new c.h9(t/this.mass,e/this.mass,i/this.mass),this.velocity.x=this.velocity.x+this.steering.x<this.maxSpeed?this.velocity.x+this.steering.x:this.maxSpeed,this.velocity.y=this.velocity.y+this.steering.y<this.maxSpeed?this.velocity.y+this.steering.y:this.maxSpeed,this.velocity.z=this.velocity.z+this.steering.z<this.maxSpeed?this.velocity.z+this.steering.z:this.maxSpeed,this.col?(this.p.x+=.8*-this.steering.x,this.p.y+=.8*-this.steering.y,this.p.z+=.8*-this.steering.z):(this.p.x+=this.velocity.x,this.p.y+=this.velocity.y,this.p.z+=this.velocity.z)},t.prototype.UpdateVecSlowDown1=function(){this.desiredVelocity=new c.h9(this.target.x-this.p.x,this.target.y-this.p.y,this.target.z-this.p.z),this.desiredVelocity.Unitize(),this.desiredVelocity.x*=this.maxVelocity,this.desiredVelocity.y*=this.maxVelocity,this.desiredVelocity.z*=this.maxVelocity;var t=this.desiredVelocity.x-this.velocity.x,e=this.desiredVelocity.y-this.velocity.y,i=this.desiredVelocity.z-this.velocity.z;if(this.steering=new c.h9(t/this.mass,e/this.mass,i/this.mass),this.velocity.x=this.velocity.x+this.steering.x<this.maxSpeed?this.velocity.x+this.steering.x:this.maxSpeed,this.velocity.y=this.velocity.y+this.steering.y<this.maxSpeed?this.velocity.y+this.steering.y:this.maxSpeed,this.velocity.z=this.velocity.z+this.steering.z<this.maxSpeed?this.velocity.z+this.steering.z:this.maxSpeed,this.col)this.p.x+=.8*-this.steering.x,this.p.y+=.8*-this.steering.y,this.p.z+=.8*-this.steering.z;else{var s=this.maxSpeed/this.velocity.Length();s=s<1?s:1,this.p.x+=this.velocity.x*s,this.p.y+=this.velocity.y*s,this.p.z+=this.velocity.z*s}},t.prototype.UpdateVecSlowDown2=function(){this.desiredVelocity=new c.h9(this.target.x-this.p.x,this.target.y-this.p.y,this.target.z-this.p.z);var t=150,e=this.desiredVelocity.Length();e<t?(this.desiredVelocity.Unitize(),this.desiredVelocity.x*=this.maxVelocity*(e/t),this.desiredVelocity.y*=this.maxVelocity*(e/t),this.desiredVelocity.z*=this.maxVelocity*(e/t)):(this.desiredVelocity.Unitize(),this.desiredVelocity.x*=this.maxVelocity,this.desiredVelocity.y*=this.maxVelocity,this.desiredVelocity.z*=this.maxVelocity);var i=this.desiredVelocity.x-this.velocity.x,s=this.desiredVelocity.y-this.velocity.y,o=this.desiredVelocity.z-this.velocity.z;if(this.steering=new c.h9(i,s,o),this.velocity.x=this.velocity.x+this.steering.x<this.maxSpeed?this.velocity.x+this.steering.x:this.maxSpeed,this.velocity.y=this.velocity.y+this.steering.y<this.maxSpeed?this.velocity.y+this.steering.y:this.maxSpeed,this.velocity.z=this.velocity.z+this.steering.z<this.maxSpeed?this.velocity.z+this.steering.z:this.maxSpeed,this.col)this.p.x+=.8*-this.steering.x,this.p.y+=.8*-this.steering.y,this.p.z+=.8*-this.steering.z;else{var n=this.maxSpeed/this.velocity.Length();n=n<1?n:1,this.p.x+=this.velocity.x*n,this.p.y+=this.velocity.y*n,this.p.z+=this.velocity.z*n}},t.prototype.Render=function(t){this.RenderDesiredVelocity(t),this.RenderCurrentVelocity(t),this.RenderCircle(t)},t.prototype.RenderDesiredVelocity=function(t){t.lineWidth=.5,t.strokeStyle="#00ff00",t.beginPath(),t.moveTo(this.p.x,this.p.y),t.lineTo(this.p.x+20*this.desiredVelocity.x,this.p.y+20*this.desiredVelocity.y),t.closePath(),t.stroke()},t.prototype.RenderCurrentVelocity=function(t){t.lineWidth=.5,t.strokeStyle="#ff0000",t.beginPath(),t.moveTo(this.p.x,this.p.y),t.lineTo(this.p.x+20*this.velocity.x,this.p.y+20*this.velocity.y),t.closePath(),t.stroke()},t.prototype.RenderCircle=function(t){t.strokeStyle="#000000",t.lineWidth=.5,t.beginPath(),t.moveTo(this.targets[0].x,this.targets[0].y);for(var e=1;e<this.targets.length;++e)t.lineTo(this.targets[e].x,this.targets[e].y);t.closePath(),t.stroke(),t.beginPath(),t.arc(this.p.x,this.p.y,10,0,6.28),t.closePath(),t.stroke()},t.list=[],t}(),O=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),V=function(t){function e(e){var i=t.call(this,e)||this;return i.mouse=[0,0],i.indeCanvas.title="BoidSystem01",i.Init(),i}return O(e,t),e.prototype.Init=function(){var t=z.GetRandomPath(0,0,this.width,this.height);this.BoidContoller1=new S(t)},e.prototype.RenderIndependentCanvas=function(t){this.BoidContoller1.Update(),this.BoidContoller1.Render(t),this.Circle(t)},e.prototype.MouseMove=function(t,e){this.mouse=[t,e]},e.prototype.MouseDown=function(){this.BoidContoller1.AddAgent(this.mouse[0],this.mouse[1])},e.prototype.Circle=function(t){for(var e=0;e<6.28;e+=.5)for(var i=0;i<3.14;i+=.5){var s=50*Math.cos(e)*Math.sin(i),o=50*Math.sin(e)*Math.sin(i);t.beginPath(),t.arc(s,o,2,0,6.28),t.closePath(),t.fill()}},e}(n),A=function(){function t(){this.boids=[],this.boids=[]}return t.prototype.AddAgent=function(t,e,i,s){var o=new U(new c.h9(t,e),new c.h9(0,0),new c.h9(i,s));this.boids.push(o)},t.prototype.Update=function(){for(var t=0,e=this.boids;t<e.length;t++)e[t].Update()},t.prototype.GetPoint=function(){for(var t=[],e=0,i=this.boids;e<i.length;e++){var s=i[e];s.isRenderable&&t.push(s.p)}return t},t.prototype.Render=function(t){this.boids.forEach((function(e){e.Render(t)}))},t}(),U=function(){function t(e,i,s){this.maxForce=2,this.maxVelocity=2,this.maxSpeed=.9,this.mass=100.2,this.isRenderable=!0,this.targetID=0,this.col=!1,this.velocity=new c.h9(0,0,0),this.wanderAngle=0,this.CIRCLE_DISTANCE=50,this.CIRCLE_RADIUS=50,this.ANGLE_CHANGE=15,this.t=0,this.MAX_QUEUE_AHEAD=15,this.MAX_QUEUE_RADIUS=10,t.list.push(this),this.p=e,this.p0=i,this.p1=s,this.UpdateTarget()}return t.prototype.Update=function(){this.UpdateVec1()},t.prototype.UpdateTarget=function(){var t=c.$H.GetRandomInt(this.p0.x,this.p1.x),e=c.$H.GetRandomInt(this.p0.y,this.p1.y);this.target=new c.h9(t,e)},t.prototype.UpdateVec1=function(){this.desiredVelocity=new c.h9(this.target.x-this.p.x,this.target.y-this.p.y,this.target.z-this.p.z),this.desiredVelocity.Unitize(),this.desiredVelocity.x*=this.maxVelocity,this.desiredVelocity.y*=this.maxVelocity,this.desiredVelocity.z*=this.maxVelocity;var t=this.desiredVelocity.x-this.velocity.x<this.maxForce?this.desiredVelocity.x-this.velocity.x:this.maxForce,e=this.desiredVelocity.y-this.velocity.y<this.maxForce?this.desiredVelocity.y-this.velocity.y:this.maxForce,i=this.desiredVelocity.z-this.velocity.z<this.maxForce?this.desiredVelocity.z-this.velocity.z:this.maxForce;this.steering=new c.h9(t/this.mass,e/this.mass,i/this.mass),this.velocity.x=this.velocity.x+this.steering.x<this.maxSpeed?this.velocity.x+this.steering.x:this.maxSpeed,this.velocity.y=this.velocity.y+this.steering.y<this.maxSpeed?this.velocity.y+this.steering.y:this.maxSpeed,this.velocity.z=this.velocity.z+this.steering.z<this.maxSpeed?this.velocity.z+this.steering.z:this.maxSpeed,this.Queue(),this.p.x+=this.velocity.x,this.p.y+=this.velocity.y,this.p.z+=this.velocity.z,this.t+=.01,this.t>3&&(this.t=0,this.UpdateTarget())},t.prototype.UpdateVec0=function(){this.steering=this.Wander(new c.h9(this.velocity.x,this.velocity.y,this.velocity.z)),this.steering.x=this.steering.x<this.maxForce?this.steering.x:this.maxForce,this.steering.y=this.steering.y<this.maxForce?this.steering.y:this.maxForce,this.steering.z=this.steering.z<this.maxForce?this.steering.z:this.maxForce,this.steering.x/=this.mass,this.steering.y/=this.mass,this.steering.z/=this.mass,this.velocity.x+this.steering.x<this.maxSpeed?this.velocity.x=this.velocity.x+this.steering.x:this.velocity.x=this.maxSpeed,this.velocity.y+this.steering.y<this.maxSpeed?this.velocity.y=this.velocity.y+this.steering.y:this.velocity.y=this.maxSpeed,this.velocity.z+this.steering.z<this.maxSpeed?this.velocity.z=this.velocity.z+this.steering.z:this.velocity.z=this.maxSpeed,this.Queue(),console.log(this.maxSpeed),this.p.x+=this.velocity.x,this.p.y+=this.velocity.y,this.p.z+=this.velocity.z},t.prototype.Wander=function(t){var e=new c.h9(t.x,t.y,t.z);e.Normalize(),e.Scale(this.CIRCLE_DISTANCE);var i=new c.h9(0,-1);return i.Scale(this.CIRCLE_RADIUS),i=this.SetAngle(i,this.wanderAngle),this.wanderAngle+=Math.random()*this.ANGLE_CHANGE-.5*this.ANGLE_CHANGE,e.Add(i)},t.prototype.SetAngle=function(t,e){var i=t.Length();return t.x=Math.cos(e)*i,t.y=Math.sin(e)*i,t},t.prototype.GetNeighborAhead=function(){var e=void 0,i=this.velocity.Clone();i.Normalize(),i.Scale(this.MAX_QUEUE_AHEAD);for(var s=this.p.Clone().Add(i),o=0;o<t.list.length;o++){var n=t.list[o],h=c.h9.Distance(s,n.p);if(n!==this&&h<=this.MAX_QUEUE_RADIUS){e=n;break}}return e},t.prototype.Queue=function(){return void 0!==this.GetNeighborAhead()&&this.velocity.Scale(.3),new c.h9(0,0)},t.prototype.Render=function(t){this.RenderCircle(t)},t.prototype.RenderDesiredVelocity=function(t){},t.prototype.RenderCurrentVelocity=function(t){},t.prototype.RenderCircle=function(t){t.strokeStyle="#000000",t.lineWidth=.5,t.beginPath(),t.arc(this.p.x,this.p.y,10,0,6.28),t.closePath(),t.stroke()},t.list=[],t}(),k=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),E=function(t){function e(e){var i=t.call(this,e)||this;return i.mouse=[0,0],i.indeCanvas.title="BoidSystem01",i.Init(),i}return k(e,t),e.prototype.Init=function(){this.BoidContoller=new A},e.prototype.RenderIndependentCanvas=function(t){this.BoidContoller.Update(),this.BoidContoller.Render(t)},e.prototype.MouseMove=function(t,e){this.mouse=[t,e]},e.prototype.MouseDown=function(){this.BoidContoller.AddAgent(this.mouse[0],this.mouse[1],this.width,this.height)},e}(n),H=function(){function t(){this.boids=[],this.boids=[]}return t.prototype.AddAgent=function(t,e,i,s){var o=new T(new c.h9(t,e),new c.h9(0,0),new c.h9(i,s));this.boids.push(o)},t.prototype.Update=function(){for(var t=0,e=this.boids;t<e.length;t++)e[t].Update()},t.prototype.UpdateTarget=function(t,e){for(var i=0,s=this.boids;i<s.length;i++){var o=s[i];o.target.x=t,o.target.y=e}},t.prototype.GetPoint=function(){for(var t=[],e=0,i=this.boids;e<i.length;e++){var s=i[e];s.isRenderable&&t.push(s.p)}return t},t.prototype.Render=function(t){this.boids.forEach((function(e){e.Render(t)}))},t}(),T=function(){function t(e,i,s){this.maxForce=2,this.maxVelocity=2,this.maxSpeed=.9,this.mass=100.2,this.isRenderable=!0,this.targetID=0,this.col=!1,this.velocity=new c.h9(0,0,0),this.wanderAngle=0,this.CIRCLE_DISTANCE=50,this.CIRCLE_RADIUS=50,this.ANGLE_CHANGE=15,this.t=0,this.MAX_QUEUE_AHEAD=15,this.MAX_QUEUE_RADIUS=15,this.SEPARATION_RADIUS=10,this.MAX_SEPARATION=.5,t.list.push(this),this.p=e,this.p0=i,this.p1=s,this.UpdateTarget()}return t.prototype.Update=function(){this.UpdateVec1()},t.prototype.UpdateTarget=function(){var t=c.$H.GetRandomInt(this.p0.x,this.p1.x),e=c.$H.GetRandomInt(this.p0.y,this.p1.y);this.target=new c.h9(t,e)},t.prototype.UpdateVec1=function(){this.desiredVelocity=new c.h9(this.target.x-this.p.x,this.target.y-this.p.y,this.target.z-this.p.z),this.desiredVelocity.Unitize(),this.desiredVelocity.x*=this.maxVelocity,this.desiredVelocity.y*=this.maxVelocity,this.desiredVelocity.z*=this.maxVelocity;var t=this.desiredVelocity.x-this.velocity.x<this.maxForce?this.desiredVelocity.x-this.velocity.x:this.maxForce,e=this.desiredVelocity.y-this.velocity.y<this.maxForce?this.desiredVelocity.y-this.velocity.y:this.maxForce,i=this.desiredVelocity.z-this.velocity.z<this.maxForce?this.desiredVelocity.z-this.velocity.z:this.maxForce;this.steering=new c.h9(t/this.mass,e/this.mass,i/this.mass),this.velocity.x=this.velocity.x+this.steering.x<this.maxSpeed?this.velocity.x+this.steering.x:this.maxSpeed,this.velocity.y=this.velocity.y+this.steering.y<this.maxSpeed?this.velocity.y+this.steering.y:this.maxSpeed,this.velocity.z=this.velocity.z+this.steering.z<this.maxSpeed?this.velocity.z+this.steering.z:this.maxSpeed,this.Queue(),this.p.x+=this.velocity.x,this.p.y+=this.velocity.y,this.p.z+=this.velocity.z,this.t+=.01,this.t>3&&(this.t=0)},t.prototype.Queue=function(){var t=this.GetNeighborAhead();return void 0!==t&&this.BrakingForceOverlap(t),new c.h9(0,0)},t.prototype.BrakingForceOverlap=function(t){var e=new c.h9(0,0);e.x=.8*-this.steering.x,e.y=.8*-this.steering.y,this.velocity.Scale(-1),e=e.Add(this.velocity),c.h9.Distance(this.p,t.p)<=this.MAX_QUEUE_RADIUS?this.velocity.Scale(.3):this.velocity=e},t.prototype.HardStop=function(){this.velocity.Scale(.3)},t.prototype.BrakingForce=function(){var t=new c.h9(0,0);t.x=.8*-this.steering.x,t.y=.8*-this.steering.y,this.velocity.Scale(-1),t=t.Add(this.velocity),this.velocity=t},t.prototype.GetNeighborAhead=function(){var e=void 0,i=this.velocity.Clone();i.Normalize(),i.Scale(this.MAX_QUEUE_AHEAD);for(var s=this.p.Clone().Add(i),o=0;o<t.list.length;o++){var n=t.list[o],h=c.h9.Distance(s,n.p);if(n!==this&&h<=this.MAX_QUEUE_RADIUS){e=n;break}}return e},t.prototype.Separation=function(){for(var e=new c.h9(0,0),i=0,s=0;s<t.list.length;s++){var o=t.list[s];o!==this&&c.h9.Distance(o.p,this.p)<=this.SEPARATION_RADIUS&&(e.x+=o.p.x-this.p.x,e.y+=o.p.y-this.p.y,e.z+=o.p.z-this.p.z,i++)}return 0!==i&&(e.x/=i,e.y/=i,e.z/=i,e.Scale(-1)),e.Normalize(),e.Scale(this.MAX_SEPARATION),e},t.prototype.Render=function(t){this.RenderCircle(t)},t.prototype.RenderDesiredVelocity=function(t){},t.prototype.RenderCurrentVelocity=function(t){},t.prototype.RenderCircle=function(t){t.strokeStyle="#000000",t.lineWidth=.5,t.beginPath(),t.arc(this.p.x,this.p.y,10,0,6.28),t.closePath(),t.stroke()},t.list=[],t}(),B=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),L=function(t){function e(e){var i=t.call(this,e)||this;return i.mouse=[0,0],i.indeCanvas.title="BoidSystem01",i.Init(),i}return B(e,t),e.prototype.Init=function(){this.BoidContoller=new H},e.prototype.RenderIndependentCanvas=function(t){this.BoidContoller.Update(),this.BoidContoller.Render(t)},e.prototype.MouseMove=function(t,e){this.mouse=[t,e],this.BoidContoller.UpdateTarget(t,e)},e.prototype.MouseDown=function(){this.BoidContoller.AddAgent(this.mouse[0],this.mouse[1],this.width,this.height)},e}(n),j=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),W=function(t){function e(e){var i=t.call(this,e)||this;return i.mouse=[0,0],i.lines=[],i.indeCanvas.title="BoidSystem04",i.Init(),i}return j(e,t),e.prototype.Init=function(){this.lines.push(new G(10,10,50,50))},e.prototype.RenderIndependentCanvas=function(t){for(var e=0,i=this.lines;e<i.length;e++)i[e].Render(t)},e.prototype.MouseMove=function(t,e){this.mouse=[t,e]},e.prototype.MouseDown=function(){this.lines.length>5&&this.lines.shift();var t=this.lines[this.lines.length-1].p1;this.lines.push(new G(t[0],t[1],this.mouse[0],this.mouse[1]))},e}(n),G=function(){function t(t,e,i,s){this.p0=[t,e],this.p1=[i,s]}return t.prototype.Render=function(t){t.strokeStyle="red",t.beginPath(),t.moveTo(this.p0[0],this.p0[1]),t.lineTo(this.p1[0],this.p1[1]),t.closePath(),t.stroke()},t}(),F=function(){function t(t,e,i,s){void 0===s&&(s=1),this.velocity=new c.h9(0,0,0),this.force=new c.h9(0,.01,0),this.gravity=new c.h9(0,.95,0),this.v=new c.h9(0,0,0),this.r=10,this.m=.1,this.v=new c.h9(t,e,0),this.m=s}return t.prototype.Update=function(t,e,i,s){this.velocity.Add(this.gravity),this.velocity.Mult(s),this.force.Mult(i/this.m),this.velocity.Add(this.force),this.v.x+=this.velocity.x*i,this.v.y+=this.velocity.y*i,this.v.z+=this.velocity.z*i,console.log(this.velocity.x,this.velocity.y),this.UpdateEdge(t,e)},t.prototype.UpdateEdge=function(t,e){(this.v.x>t||this.v.x<0)&&(this.velocity.x=-1*this.velocity.x),this.v.y>e&&(this.velocity.y=-.95*this.velocity.y,this.v.y=e)},t.prototype.Render=function(t){t.beginPath(),t.arc(this.v.x,this.v.y,this.r,0,2*Math.PI),t.closePath(),t.fill()},t}(),N=function(){function t(t){this.t=0,this.Dynamic01=t,this.dNode=new F(100,100,0)}return t.prototype.Update=function(){this.dNode.Update(this.Dynamic01.width,this.Dynamic01.height,this.t,.9),this.t+=.1},t.prototype.Render=function(t){this.dNode.Render(t)},t}(),X=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Y=function(t){function e(e){var i=t.call(this,e)||this;return i.mouse=[0,0],i.indeCanvas.title="Dynamic01",console.log("init Dynamic01"),i.Init(),i}return X(e,t),e.prototype.Init=function(){this.DynamicSystem=new N(this)},e.prototype.RenderIndependentCanvas=function(t){this.DynamicSystem.Update(),this.DynamicSystem.Render(t)},e.prototype.MouseMove=function(t,e){this.mouse=[t,e]},e.prototype.MouseDown=function(){console.log(this.mouse)},e}(n),Q=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),K=function(t){function e(e){var i=t.call(this,e)||this;return i.mouse=[0,0],i.indeCanvas.title="Dynamic02",console.log("init Dynamic02"),i.Init(),i}return Q(e,t),e.prototype.Init=function(){this.DynamicSystem=new N(this)},e.prototype.RenderIndependentCanvas=function(t){this.DynamicSystem.Update(),this.DynamicSystem.Render(t)},e.prototype.MouseMove=function(t,e){this.mouse=[t,e]},e.prototype.MouseDown=function(){},e}(n),$=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),q=function(t){function e(e){var i=t.call(this,e)||this;return i.mouse=[0,0],i.indeCanvas.title="Dynamic03",console.log("init Dynamic03"),i.Init(),i}return $(e,t),e.prototype.Init=function(){this.DynamicSystem=new N(this)},e.prototype.RenderIndependentCanvas=function(t){this.DynamicSystem.Update(),this.DynamicSystem.Render(t)},e.prototype.MouseMove=function(t,e){this.mouse=[t,e]},e.prototype.MouseDown=function(){},e}(n),J=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Z=function(t){function e(e){var i=t.call(this,e)||this;return i.mouse=[0,0],i.indeCanvas.title="OOP",i.Init(),i}return J(e,t),e.prototype.Init=function(){this.p=new tt(100,100,10),console.log("oop init")},e.prototype.RenderIndependentCanvas=function(t){console.log("oop loop"),this.p.Render(t),console.log(this.p.age)},e.prototype.MouseMove=function(t,e){this.mouse=[t,e]},e.prototype.MouseDown=function(){},e}(n),tt=function(){function t(t,e,i){this.age=t,this.height=e,this.weight=i}return t.prototype.Render=function(t){t.beginPath(),t.arc(this.age,this.height,this.weight,0,6.28),t.closePath(),t.fill(),this.age+=.01,this.age>102&&this.Compute()},t.prototype.Compute=function(){this.height+=.1},t}(),et=function(){function t(t){this.definitions=[],this.implementation=t,this.canvas=t.app.model.graphicsCoreWrapper.canvasWrapper.canvas,this.activeCommandController=new a(this),this.geomeetryCommon=new p(this),this.Init(),this.InitDefinition()}return t.prototype.Init=function(){this.definitions=[]},Object.defineProperty(t.prototype,"width",{get:function(){return this.implementation.app.model.graphicsCoreWrapper.canvasWrapper.canvas.canvas.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.implementation.app.model.graphicsCoreWrapper.canvasWrapper.canvas.canvas.height},enumerable:!1,configurable:!0}),t.prototype.InitDefinition=function(){for(var t=0,e=this.definitions;t<e.length;t++)e[t].Init(this.implementation.app.model.graphicsCoreWrapper.canvasWrapper.canvas.ctx)},t.prototype.Render=function(t){},t.prototype.MouseMove=function(t,e){for(var i=0,s=this.definitions;i<s.length;i++)s[i].MouseMovePre(t,e)},t.prototype.MouseLeftClick=function(t,e){for(var i=0,s=this.definitions;i<s.length;i++)s[i].MouseLeftClickPre(t,e)},t.prototype.MouseDown=function(t,e){for(var i=0,s=this.definitions;i<s.length;i++)s[i].MouseDownPre(t,e)},t.prototype.MouseUp=function(t,e){for(var i=0,s=this.definitions;i<s.length;i++)s[i].MouseUpPre(t,e)},t.prototype.MouseDrag=function(t,e){for(var i=0,s=this.definitions;i<s.length;i++)s[i].MouseDragPre(t,e)},t.prototype.MouseMiddleClick=function(t,e){for(var i=0,s=this.definitions;i<s.length;i++)s[i].MouseMiddleClickPre(t,e)},t.prototype.MouseRightClick=function(t,e){for(var i=0,s=this.definitions;i<s.length;i++)s[i].MouseRightClickPre(t,e)},t.prototype.MouseDoubleClick=function(t,e){for(var i=0,s=this.definitions;i<s.length;i++)s[i].MouseDoubleClickPre(t,e)},t.prototype.MouseWheel=function(t,e,i){for(var s=0,o=this.definitions;s<o.length;s++)o[s].MouseWheelPre(t,e,i)},t.prototype.Dispose=function(){this.definitions=[]},t.prototype.LoadDefinition=function(t){if("Blank"===t){var e=new r(this);console.log(e)}"BallBounce"===t&&(e=new y(this),console.log(e)),"BallBounceClass"===t&&(e=new d(this),console.log(e)),"CircleGrid"===t&&(e=new g(this),console.log(e)),"CircleGridAttractors1"===t&&(e=new x(this),console.log(e)),"CircleGridAttractors2"===t&&(e=new M(this),console.log(e)),"Line"===t&&(e=new w(this),console.log(e)),"Line2"===t&&(e=new R(this),console.log(e)),"BoidSystem01"===t&&(e=new V(this),console.log(e)),"BoidSystem02"===t&&(e=new E(this),console.log(e)),"BoidSystem03"===t&&(e=new L(this),console.log(e)),"BoidSystem04"===t&&(e=new W(this),console.log(e)),"DynamicSystem01"===t&&(e=new Y(this),console.log(e)),"DynamicSystem02"===t&&(e=new K(this),console.log(e)),"DynamicSystem03"===t&&(e=new q(this),console.log(e)),"OOP01"===t&&(e=new Z(this),console.log(e))},t}()},555:(t,e,i)=>{i.d(e,{D:()=>f});var s,o=i(906),n=i(8206),h=i(4830),r=i(5407),c=i(2243),a=i(1234),p=i(5123),u=i(8246),y=i(9755),l=i(5155),d=(s=function(t,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},s(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),f=function(t){function e(e,i,s,o,n,h){void 0===i&&(i=0),void 0===s&&(s=0),void 0===o&&(o=300),void 0===n&&(n=170),void 0===h&&(h=!1);var r=t.call(this,e)||this;return r.subs=[],r.isActive=!0,r.independentPanelWrapper=e,r.title="njslabSandbox V3",r.width=o,r.height=n,0===i&&0===s?(r.vec.x=.5*e.width-.5*r.width,r.vec.y=.5*e.height-.5*r.height):(r.vec.x=i,r.vec.y=s),r.filletR=7,r.InitTop(),h&&(r.bodyDiv=new y.k(r,r.vec.x,r.vec.y+r.HeadHeight,r.width,r.height-r.HeadHeight)),r.InitCanvas(r.bodyDiv.div),r}return d(e,t),Object.defineProperty(e.prototype,"IsMinimized",{get:function(){return this.isMinimized},set:function(t){this.isMinimized=t,this.btnResize.isHidden=t,this.bodyDiv&&this.bodyDiv.Hide(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Width",{get:function(){return this.width},set:function(t){var e=t-this.width;this.width=t,this.btnHam.vec.x+=e,this.subMenu.vec.x+=e,this.bodyDiv&&(this.bodyDiv.Width=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Height",{get:function(){return this.height},set:function(t){this.height=t,this.bodyDiv&&(this.bodyDiv.Height=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},set:function(t){this._content=t,this.bodyDiv&&(this.bodyDiv.content=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"HasSubMenu",{get:function(){return this.hasSubMenu},set:function(t){this.hasSubMenu=t,this.subMenu.IsHidden=!t},enumerable:!1,configurable:!0}),e.prototype.InitTop=function(){this.btnClose=new c.E(this,this.vec.x,this.vec.y),this.btnMini=new a.$(this,this.vec.x+25,this.vec.y),this.btnHam=new p.g(this,this.vec.x-25+this.width,this.vec.y),this.btnResize=new u.C(this,this.vec.x+this.width-10,this.vec.y+this.height-10,10,10),this.subMenu=new l.q(this),this.subs.push(this.btnClose,this.btnMini,this.btnHam)},e.prototype.Translate=function(t){if(this.isMoveable){var e=t.x-t.preX,i=t.y-t.preY;this.vec.x+=e,this.vec.y+=i;for(var s=0;s<this.boundarVecs.length;++s)this.boundarVecs[s].x+=e,this.boundarVecs[s].y+=i;for(s=0;s<this.subs.length;++s)this.subs[s].Translate(t);this.btnResize.vec.x+=e,this.btnResize.vec.y+=i,this.subMenu.Translate(e,i),this.bodyDiv&&this.bodyDiv.Translate(e,i)}},e.prototype.Remove=function(){this.RemovePost();for(var t=0;t<this.subs.length;++t)this.subs[t].Remove();this.bodyDiv&&this.bodyDiv.Remove(),this.btnResize.Remove(),this.independentPanelWrapper.indePanelRender.Remove(this)},e.prototype.RenderPost=function(t){var e;this.ComputeBoundary(),e=n.mK.HexToCanvasColor(h.X.theme.mainMenuNormal,this.transparent),this.isMinimized||h.X.RoundedRectFillWithColorMainMenu(t,this.title,this.boundarVecs,this.filletR,0,this.isOver,this.isSelected,e),h.X.TopRoundedRectFill(t,this.title,o.h9.GetBoundaryByVecWidthHeight(this.vec,this.width,this.HeadHeight),this.filletR,0,this.isOver,this.isSelected,this.theme.colSelectedBG,!1),this.RenderHeadTitle(t),this.isMinimized||this.RenderBodyContent(t),this.hasSubMenu&&this.subMenu.RenderPost(t),this.RenderBtnHorizontal(t)},e.prototype.RenderBtnHorizontal=function(t){},e.prototype.RenderHeadTitle=function(t){t.save(),t.fillStyle="#ffffff",t.textBaseline="top",t.textAlign="center",t.font="100 12px Arial",t.shadowBlur=0,t.shadowOffsetY=0,t.shadowOffsetX=0,t.fillText(this.title,this.vec.x+.5*this.width,this.vec.y+.5*this.HeadHeight-7),t.restore()},e.prototype.RenderBodyContent=function(t){},e.prototype.RemovePost=function(){this.isActive=!1},e.prototype.InitCanvas=function(t){var e=this;this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.zIndex="0",t.appendChild(this.canvas),this.canvas.id="NCanvasRenderer",this.canvas.className="njslab-web-core-canvas-renderer",this.canvas.style.pointerEvents="none",this.ctx=this.canvas.getContext("2d"),this.canvas.width=t.clientWidth,this.canvas.height=t.clientHeight,this.btnResize.ResizePropagation=function(t,i){e.canvas.width=t,e.canvas.height=i},this.LoopIndependentCanvas(this.ctx)},e.prototype.LoopIndependentCanvas=function(t){var e=this;this.isActive&&(t.clearRect(0,0,this.canvas.width,this.canvas.height),requestAnimationFrame((function(){e.LoopIndependentCanvas(t)})),this.RenderIndependentCanvas(t))},e.prototype.RenderIndependentCanvas=function(t){console.log("implementation needed")},e.prototype.ResizeCanvas=function(t,e){this.canvas.width=t,this.canvas.height=e},e}(r.J)}}]);