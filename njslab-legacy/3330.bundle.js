"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3330],{3804:(t,i,e)=>{e.r(i),e.d(i,{AppCanvasGraph:()=>l});var s=e(906),n=function(){function t(){this.nodes=[],this.edges=[],this.capture=void 0,this.m=new s.h9(500,500),this.AddNode(50,50),this.AddNode(100,100),this.AddNode(100,50),this.AddEdge(this.nodes[0],this.nodes[1]),this.AddEdge(this.nodes[1],this.nodes[2]),this.AddEdge(this.nodes[2],this.nodes[0])}return t.prototype.MouseDown=function(t,i){this.m.x=t,this.m.y=i,this.capture=this.FindNode(t,i)},t.prototype.MouseLeftClick=function(t,i){var e=this.AddNode(t,i),s=this.FindCloseNode(e);s&&this.AddEdge(e,s)},t.prototype.MouseMove=function(t,i){this.m.x=t,this.m.y=i},t.prototype.MouseDrag=function(t,i){this.capture&&(this.capture.v.x=t,this.capture.v.y=i)},t.prototype.AddNode=function(t,i){var e=new h(new s.h9(t,i),s.h9.Zero(),2);return this.nodes.push(e),e},t.prototype.AddEdge=function(t,i){var e=new o(t,i);return this.edges.push(e),e},t.prototype.FindCloseNode=function(t,i){void 0===i&&(i=15e4);for(var e=-1,s=0;s<this.nodes.length;++s)if(this.nodes[s]!==t){var n=this.nodes[s].v.Distance(t.v);n<i&&(i=n,e=s)}if(-1!==e)return this.nodes[e]},t.prototype.FindNode=function(t,i){this.m.x=t,this.m.y=i;for(var e=0;e<this.nodes.length;++e)if(this.nodes[e].v.Distance(this.m)<10)return this.capture=this.nodes[e],this.nodes[e];this.capture=void 0},t.prototype.Move=function(t,i,e,n){void 0===e&&(e=-.3);for(var o=0;o<this.nodes.length;++o){var h=this.nodes[o];h.f.x*=e,h.f.y*=e,h.f.z*=e;var a=new s.h9(t.x-h.v.x,t.y-h.v.y,t.z-h.v.z),r=a.Length();a.Unitize();var c=a.x*Math.exp(-.001*r*r)*10.1,d=a.y*Math.exp(-.001*r*r)*10.1,u=a.z*Math.exp(-.001*r*r)*10.1;isNaN(c)||(h.f.x=c,h.f.y=d,h.f.z=u),h.Move(n,i)}for(o=0;o<this.edges.length;++o)this.edges[o].ApplySpringForce();for(o=0;o<this.nodes.length;++o)this.nodes[o].CheckLine(this.edges);for(o=0;o<this.nodes.length;++o)this.nodes[o].Move(n,i)},t.prototype.Render=function(t){this.Move(this.m,.9,0,.1),t.strokeStyle="#000ff0",t.lineWidth=1;for(var i=0;i<this.edges.length;++i)t.beginPath(),t.moveTo(this.edges[i].n0.v.x,this.edges[i].n0.v.y),t.lineTo(this.edges[i].n1.v.x,this.edges[i].n1.v.y),t.closePath(),t.stroke();for(t.fillStyle="#0000ff",i=0;i<this.nodes.length;++i)t.beginPath(),t.arc(this.nodes[i].v.x,this.nodes[i].v.y,5*this.nodes[i].m,0,2*Math.PI),t.closePath(),t.fill()},t}(),o=function(){function t(t,i){this.targetLength=1.05,this.SpringConstant=10.5,this.n0=t,this.n1=i;var e=this.n0.v.Distance(this.n1.v)-10;this.targetLength=e<50?60:e}return t.prototype.ApplySpringForce=function(){var t=new s.h9(this.n1.v.x-this.n0.v.x,this.n1.v.y-this.n0.v.y,this.n1.v.z-this.n0.v.z),i=t.Length();t.Unitize(),this.n0.f.x+=t.x*(i-this.targetLength)*this.SpringConstant,this.n0.f.y+=t.y*(i-this.targetLength)*this.SpringConstant,this.n0.f.z+=t.z*(i-this.targetLength)*this.SpringConstant,this.n1.f.x-=t.x*(i-this.targetLength)*this.SpringConstant,this.n1.f.y-=t.y*(i-this.targetLength)*this.SpringConstant,this.n1.f.z-=t.z*(i-this.targetLength)*this.SpringConstant},t}(),h=function(){function t(t,i,e){void 0===e&&(e=1),this.fixed=!1,this.needCompute=!0,this.m=1,this.v=t,this.u=i,this.f=s.h9.Origin(),this.m=e}return t.prototype.Move=function(t,i){void 0===t&&(t=.5),void 0===i&&(i=.99),this.fixed||(this.u.x*=i,this.u.y*=i,this.u.z*=i,this.u.x+=this.f.x*(t/this.m),this.u.y+=this.f.y*(t/this.m),this.u.z+=this.f.z*(t/this.m),this.v.x+=this.u.x*t,this.v.y+=this.u.y*t,this.v.z+=this.u.z*t,this.needCompute=!0)},t.prototype.CheckLine=function(t){for(var i=0;i<t.length;++i){var e=t[i];if(e.n0!==this&&e.n1!==this){var n=this.PointCloseToLine(e.n0.v,e.n1.v,this.v);if(n[0]){var o=new s.h9(n[0],n[1]);if(o.Distance(this.v)<5){this.needCompute=!1,o.Unitize();var h=s.h9.Normalize(this.v),a=new s.h9(o.x-h.x,o.y-h.y,o.z-h.z);this.f=a}}}}},t.prototype.PointCloseToLine=function(t,i,e){var s=e.x-i.x,n=e.y-i.y,o=((t.x-i.x)*s+(t.y-i.y)*n)/(s*s+n*n);return[this.Lerp(i.x,e.x,o),this.Lerp(i.y,e.y,o)]},t.prototype.Lerp=function(t,i,e){return t+e*(i-t)},t}(),a=function(){function t(t,i,e){void 0===i&&(i=400),void 0===e&&(e=300),this.click=!1,this.pressed=!1,this.prevent=!1,this.delay=500,this.down=!1,this.t=0,this.graphSystem=t,this.width=i,this.height=e;var s=document.getElementById(t.id);s&&(this.host=s,this.InitCanvas())}return t.prototype.InitCanvas=function(){var t=document.createElement("div");if(t){this.divLocalMain=t,this.divLocalMain.style.display="flex",this.divLocalMain.style.width=this.width+"px",this.divLocalMain.style.height=this.height+"px",this.divLocalMain.style.margin="10px",this.divLocalMain.style.padding="10px",this.host.append(t);var i=document.createElement("div");if(i){this.divCanvas=i,this.divLocalMain.append(i);var e=document.createElement("canvas");if(e){this.canvas=e,this.divCanvas.append(this.canvas),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.backgroundColor="#aaaaaa";var s=this.canvas.getContext("2d");s&&(this.ctx=s,this.InitUI(),this.Init())}}}},t.prototype.InitUI=function(){var t=this,i=document.createElement("div");if(i){this.divUI=i,this.divLocalMain.append(i),this.divUI.style.marginLeft="10px",this.divUI.style.width="100%";var e=document.createElement("button");e.textContent="reset",e.onclick=function(){t.graphSystem.InitGraph()},this.divUI.append(e);var s=document.createElement("p");s&&(this.divUI.append(s),s.style.width="max-content",s.innerHTML="1. clikc on canvas to populate a node! <br> ",s.innerHTML+="2. drag a node to move! <br> ")}},t.prototype.Init=function(){this.ctx.translate(.5*this.ctx.canvas.width,.5*this.ctx.canvas.height),this.ctx.scale(1,1),this.EventBind(),this.Loop()},t.prototype.EventBind=function(){var t=this;this.canvas.onclick=function(i){t.prevent=!1,t.timer=setTimeout((function(){if(!t.prevent){if(!t.click)return;t.MouseClick(i)}t.prevent=!1}),t.delay)},this.canvas.ondblclick=function(i){clearTimeout(t.timer),t.prevent=!0,t.MouseDoubleClick(i)},this.canvas.addEventListener("wheel",(function(i){return t.MouseWheel(i,i.deltaY)})),this.canvas.onmousedown=function(i){t.click=!0,t.pressed=!0,t.MouseDown(i)},this.canvas.onmouseup=function(i){t.pressed=!1,t.MouseUp(i)},this.canvas.onmousemove=function(i){t.pressed&&(t.click=!1,t.MouseDrag(i)),t.MouseMove(i)},window.onresize=function(i){return t.Resize(i)}},t.prototype.Resize=function(t){},t.prototype.Loop=function(){var t=this;requestAnimationFrame((function(){t.Loop()})),this.ctx.clearRect(-10,-10,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.fillStyle="#dddddd",this.ctx.beginPath(),this.ctx.rect(-500,-500,1e3,1e3),this.ctx.closePath(),this.ctx.fill(),this.Render(this.ctx)},t.prototype.Render=function(t){},t.prototype.MouseClick=function(t){},t.prototype.MouseDoubleClick=function(t){},t.prototype.MouseDown=function(t){},t.prototype.MouseUp=function(t){},t.prototype.MouseMove=function(t){},t.prototype.MouseDrag=function(t){},t.prototype.MouseWheel=function(t,i){},t}(),r=function(){function t(t){this.t=.9,this.m=new s.h9(0,0,0),this.id=t,this.CanvasCore=new a(this),this.Init(),this.InitGraph()}return t.prototype.Init=function(){var t=this;this.CanvasCore.Render=function(i){return t.Render(i)},this.CanvasCore.MouseDown=function(i){return t.MouseDown(i)},this.CanvasCore.MouseClick=function(i){return t.MouseClick(i)},this.CanvasCore.MouseDoubleClick=function(i){return t.MouseDoubleClick(i)},this.CanvasCore.MouseUp=function(i){return t.MouseUp(i)},this.CanvasCore.MouseMove=function(i){return t.MouseMove(i)},this.CanvasCore.MouseDrag=function(i){return t.MouseDrag(i)},console.log("Graph system")},t.prototype.InitGraph=function(){this.graph=new n},t.prototype.Render=function(t){this.graph.Render(t),t.fillStyle="rgba(255, 0, 0, 0.9)",t.beginPath(),t.arc(this.m.x,this.m.y,2.5,0,2*Math.PI),t.closePath(),t.fill()},t.prototype.Grid=function(t){for(var i=-10;i<10;++i)for(var e=-10;e<10;++e)t.beginPath(),t.fillStyle="rgba(255, 0, 0, 0.9)",t.arc(i,e,.05,0,2*Math.PI),t.closePath(),t.fill()},t.prototype.MouseDown=function(t){this.m.x=1*(t.x-this.CanvasCore.canvas.offsetLeft-.5*this.CanvasCore.canvas.width),this.m.y=1*(t.y-this.CanvasCore.canvas.offsetTop-.5*this.CanvasCore.canvas.height),this.graph.MouseDown(this.m.x,this.m.y)},t.prototype.MouseUp=function(t){},t.prototype.MouseMove=function(t){this.m.x=1*(t.x-this.CanvasCore.canvas.offsetLeft-.5*this.CanvasCore.canvas.width),this.m.y=1*(t.y-this.CanvasCore.canvas.offsetTop-.5*this.CanvasCore.canvas.height),this.graph.MouseMove(this.m.x,this.m.y)},t.prototype.MouseDrag=function(t){this.m.x=1*(t.x-this.CanvasCore.canvas.offsetLeft-.5*this.CanvasCore.canvas.width),this.m.y=1*(t.y-this.CanvasCore.canvas.offsetTop-.5*this.CanvasCore.canvas.height),this.graph.MouseDrag(this.m.x,this.m.y)},t.prototype.MouseClick=function(t){console.log("click"),this.m.x=1*(t.x-this.CanvasCore.canvas.offsetLeft-.5*this.CanvasCore.canvas.width),this.m.y=1*(t.y-this.CanvasCore.canvas.offsetTop-.5*this.CanvasCore.canvas.height),this.graph.MouseLeftClick(this.m.x,this.m.y)},t.prototype.MouseDoubleClick=function(t){console.log("d click")},t}(),c=function(){function t(){this.nodes=[],this.edges=[],this.capture=void 0,this.historyTimer=0,this.collisionTrajectory=[],this.m=new s.h9(500,500),this.AddNode(50,50),this.AddNode(100,100),this.AddNode(100,50),this.AddEdge(this.nodes[0],this.nodes[1]),this.AddEdge(this.nodes[1],this.nodes[2]),this.AddEdge(this.nodes[2],this.nodes[0])}return t.prototype.UpdateLength=function(t){for(var i=0;i<this.edges.length;++i)this.edges[i].targetLength=t},t.prototype.MouseDown=function(t,i){this.m.x=t,this.m.y=i,this.capture=this.FindNode(t,i)},t.prototype.MouseLeftClick=function(t,i){var e=this.AddNode(t,i),s=this.FindCloseNode(e);s&&this.AddEdge(e,s)},t.prototype.MouseMove=function(t,i){this.m.x=t,this.m.y=i},t.prototype.MouseDrag=function(t,i){this.capture&&(this.capture.v.x=t,this.capture.v.y=i)},t.prototype.AddNode=function(t,i){var e=new u(new s.h9(t,i),s.h9.Zero(),2);return this.nodes.push(e),e},t.prototype.AddEdge=function(t,i){var e=new d(t,i);return this.edges.push(e),e},t.prototype.FindCloseNode=function(t,i){void 0===i&&(i=15e4);for(var e=-1,s=0;s<this.nodes.length;++s)if(this.nodes[s]!==t){var n=this.nodes[s].v.Distance(t.v);n<i&&(i=n,e=s)}if(-1!==e)return this.nodes[e]},t.prototype.FindNode=function(t,i){this.m.x=t,this.m.y=i;for(var e=0;e<this.nodes.length;++e)if(this.nodes[e].v.Distance(this.m)<10)return this.capture=this.nodes[e],console.log(this.capture.colNodes),this.nodes[e];this.capture=void 0},t.prototype.Move=function(t,i,e,n){void 0===e&&(e=-.3);for(var o=0;o<this.nodes.length;++o){var h=this.nodes[o];h.f.x*=e,h.f.y*=e,h.f.z*=e;var a=new s.h9(t.x-h.v.x,t.y-h.v.y,t.z-h.v.z),r=a.Length();a.Unitize();var c=a.x*Math.exp(-.001*r*r)*10.1,d=a.y*Math.exp(-.001*r*r)*10.1,u=a.z*Math.exp(-.001*r*r)*10.1;isNaN(c)||(h.f.x=c,h.f.y=d,h.f.z=u)}for(o=0;o<this.edges.length;++o)this.edges[o].ApplySpringForce();for(o=0;o<this.nodes.length;++o)this.nodes[o].CheckLine(this.edges);for(var v=0;v<this.nodes.length;++v)this.nodes[v].isCol=!1;for(v=0;v<this.nodes.length;++v){var p=this.nodes[v];for(o=0;o<this.nodes.length;++o){var f=this.nodes[o];if(p!==f&&p.v.Distance(f.v)<40){var l=s.h9.Sub(p.u,f.u),y=s.h9.Normalize(l),g=s.h9.Scale(y,1);if(p.u=s.h9.Add(p.u,g),p.isCol=!0,this.historyTimer+=.1,this.historyTimer>5){console.log("the node",o,"is within the node ",v),p.colNodes.push(f),this.historyTimer=0,this.collisionTrajectory.push(new s.h9(p.v.x,p.v.y,3*(Math.random()+3)));var C=Math.random();C<.3?this.collisionTrajectory.push(new s.h9(100,0,0)):.3<C&&C<.6?this.collisionTrajectory.push(new s.h9(0,100,0)):this.collisionTrajectory.push(new s.h9(0,0,100))}}}}for(o=0;o<this.nodes.length;++o)this.nodes[o].Move(n,i)},t.prototype.Render=function(t){for(var i=0;i<this.collisionTrajectory.length;i+=2){var e=this.collisionTrajectory[i],n=this.collisionTrajectory[i+1];t.beginPath(),t.fillStyle="rgba("+n.x+", "+n.y+", "+n.z+", 0.1)",t.arc(e.x,e.y,e.z,0,2*Math.PI),t.closePath(),t.fill()}for(this.Move(this.m,.9,0,.1),t.strokeStyle="#000ff0",t.lineWidth=1,i=0;i<this.edges.length;++i)t.beginPath(),s.h9.Distance(this.edges[i].n0.v,this.edges[i].n1.v)<this.edges[i].targetLength-5&&(t.strokeStyle="#ff0000",this.edges[i].n0.isShort=!0,this.edges[i].n1.isShort=!0),t.moveTo(this.edges[i].n0.v.x,this.edges[i].n0.v.y),t.lineTo(this.edges[i].n1.v.x,this.edges[i].n1.v.y),t.closePath(),t.stroke();for(t.fillStyle="#0000ff",i=0;i<this.nodes.length;++i)t.beginPath(),this.nodes[i].isShort&&(t.fillStyle="#fff000",this.nodes[i].isShort=!1),t.arc(this.nodes[i].v.x,this.nodes[i].v.y,5*this.nodes[i].m,0,2*Math.PI),t.closePath(),t.fill(),t.beginPath(),t.arc(this.nodes[i].v.x,this.nodes[i].v.y,20,0,2*Math.PI),t.closePath(),this.nodes[i].isCol?(t.lineWidth=4.5,t.strokeStyle="#ff0000"):(t.lineWidth=1,t.strokeStyle="#000000"),t.stroke()},t}(),d=function(){function t(t,i){this.targetLength=1.05,this.SpringConstant=10.5,this.n0=t,this.n1=i;var e=this.n0.v.Distance(this.n1.v)-10;this.targetLength=e<50?60:e}return t.prototype.ApplySpringForce=function(){var t=new s.h9(this.n1.v.x-this.n0.v.x,this.n1.v.y-this.n0.v.y,this.n1.v.z-this.n0.v.z),i=t.Length();t.Unitize(),this.n0.f.x+=t.x*(i-this.targetLength)*this.SpringConstant,this.n0.f.y+=t.y*(i-this.targetLength)*this.SpringConstant,this.n0.f.z+=t.z*(i-this.targetLength)*this.SpringConstant,this.n1.f.x-=t.x*(i-this.targetLength)*this.SpringConstant,this.n1.f.y-=t.y*(i-this.targetLength)*this.SpringConstant,this.n1.f.z-=t.z*(i-this.targetLength)*this.SpringConstant},t}(),u=function(){function t(t,i,e){void 0===e&&(e=1),this.fixed=!1,this.needCompute=!0,this.m=1,this.isShort=!1,this.isCol=!1,this.colNodes=[],this.v=t,this.u=i,this.f=s.h9.Origin(),this.m=e}return t.prototype.Move=function(t,i){void 0===t&&(t=.5),void 0===i&&(i=.99),this.fixed||(this.u.x*=i,this.u.y*=i,this.u.z*=i,this.u.x+=this.f.x*(t/this.m),this.u.y+=this.f.y*(t/this.m),this.u.z+=this.f.z*(t/this.m),this.v.x+=this.u.x*t,this.v.y+=this.u.y*t,this.v.z+=this.u.z*t,this.needCompute=!0)},t.prototype.CheckLine=function(t){for(var i=0;i<t.length;++i){var e=t[i];if(e.n0!==this&&e.n1!==this){var n=this.PointCloseToLine(e.n0.v,e.n1.v,this.v);if(n[0]){var o=new s.h9(n[0],n[1]);if(o.Distance(this.v)<5){this.needCompute=!1,o.Unitize();var h=s.h9.Normalize(this.v),a=new s.h9(o.x-h.x,o.y-h.y,o.z-h.z);this.f=a}}}}},t.prototype.PointCloseToLine=function(t,i,e){var s=e.x-i.x,n=e.y-i.y,o=((t.x-i.x)*s+(t.y-i.y)*n)/(s*s+n*n);return[this.Lerp(i.x,e.x,o),this.Lerp(i.y,e.y,o)]},t.prototype.Lerp=function(t,i,e){return t+e*(i-t)},t}(),v=function(){function t(t,i,e){void 0===i&&(i=400),void 0===e&&(e=300),this.click=!1,this.pressed=!1,this.prevent=!1,this.delay=500,this.down=!1,this.t=0,this.graphSystem=t,this.width=i,this.height=e;var s=document.getElementById(t.id);s&&(this.host=s,this.InitCanvas())}return t.prototype.InitCanvas=function(){var t=document.createElement("div");if(t){this.divLocalMain=t,this.divLocalMain.style.display="flex",this.divLocalMain.style.width=this.width+"px",this.divLocalMain.style.height=this.height+"px",this.divLocalMain.style.margin="10px",this.divLocalMain.style.padding="10px",this.host.append(t);var i=document.createElement("div");if(i){this.divCanvas=i,this.divLocalMain.append(i);var e=document.createElement("canvas");if(e){this.canvas=e,this.divCanvas.append(this.canvas),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.backgroundColor="#aaaaaa";var s=this.canvas.getContext("2d");s&&(this.ctx=s,this.InitUI(),this.Init())}}}},t.prototype.InitUI=function(){var t=this,i=document.createElement("div");if(i){this.divUI=i,this.divLocalMain.append(i),this.divUI.style.marginLeft="10px",this.divUI.style.width="100%";var e=document.createElement("button");e.textContent="reset",e.onclick=function(){t.graphSystem.InitGraph()},this.divUI.append(e);var s=document.createElement("p");if(s){this.divUI.append(s),s.textContent="length";var n=document.createElement("input");n.oninput=function(){var i=+n.value;t.graphSystem.graph.UpdateLength(i)},n.type="range",n.min="10",n.max="100.0",n.value="10",this.divUI.append(n),(s=document.createElement("p"))&&(this.divUI.append(s),s.innerHTML="1. clikc on canvas to populate a node! <br> ",s.innerHTML+="2. drag a node to move! <br> ")}}},t.prototype.Init=function(){this.ctx.translate(.5*this.ctx.canvas.width,.5*this.ctx.canvas.height),this.ctx.scale(1,1),this.EventBind(),this.Loop()},t.prototype.EventBind=function(){var t=this;this.canvas.onclick=function(i){t.prevent=!1,t.timer=setTimeout((function(){if(!t.prevent){if(!t.click)return;t.MouseClick(i)}t.prevent=!1}),t.delay)},this.canvas.ondblclick=function(i){clearTimeout(t.timer),t.prevent=!0,t.MouseDoubleClick(i)},this.canvas.addEventListener("wheel",(function(i){return t.MouseWheel(i,i.deltaY)})),this.canvas.onmousedown=function(i){t.click=!0,t.pressed=!0,t.MouseDown(i)},this.canvas.onmouseup=function(i){t.pressed=!1,t.MouseUp(i)},this.canvas.onmousemove=function(i){t.pressed&&(t.click=!1,t.MouseDrag(i)),t.MouseMove(i)},window.onresize=function(i){return t.Resize(i)}},t.prototype.Resize=function(t){},t.prototype.Loop=function(){var t=this;requestAnimationFrame((function(){t.Loop()})),this.ctx.clearRect(-10,-10,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.fillStyle="#dddddd",this.ctx.beginPath(),this.ctx.rect(-500,-500,1e3,1e3),this.ctx.closePath(),this.ctx.fill(),this.Render(this.ctx)},t.prototype.Render=function(t){},t.prototype.MouseClick=function(t){},t.prototype.MouseDoubleClick=function(t){},t.prototype.MouseDown=function(t){},t.prototype.MouseUp=function(t){},t.prototype.MouseMove=function(t){},t.prototype.MouseDrag=function(t){},t.prototype.MouseWheel=function(t,i){},t}(),p=function(){function t(t){this.t=.9,this.m=new s.h9(0,0,0),this.id=t,this.CanvasCore=new v(this),this.Init(),this.InitGraph()}return t.prototype.Init=function(){var t=this;this.CanvasCore.Render=function(i){return t.Render(i)},this.CanvasCore.MouseDown=function(i){return t.MouseDown(i)},this.CanvasCore.MouseClick=function(i){return t.MouseClick(i)},this.CanvasCore.MouseDoubleClick=function(i){return t.MouseDoubleClick(i)},this.CanvasCore.MouseUp=function(i){return t.MouseUp(i)},this.CanvasCore.MouseMove=function(i){return t.MouseMove(i)},this.CanvasCore.MouseDrag=function(i){return t.MouseDrag(i)},console.log("Graph system")},t.prototype.InitGraph=function(){this.graph=new c},t.prototype.Render=function(t){this.graph.Render(t),t.fillStyle="rgba(255, 0, 0, 0.9)",t.beginPath(),t.arc(this.m.x,this.m.y,2.5,0,2*Math.PI),t.closePath(),t.fill()},t.prototype.Grid=function(t){for(var i=-10;i<10;++i)for(var e=-10;e<10;++e)t.beginPath(),t.fillStyle="rgba(255, 0, 0, 0.9)",t.arc(i,e,.05,0,2*Math.PI),t.closePath(),t.fill()},t.prototype.MouseDown=function(t){this.m.x=1*(t.x-this.CanvasCore.canvas.offsetLeft-.5*this.CanvasCore.canvas.width),this.m.y=1*(t.y-this.CanvasCore.canvas.offsetTop-.5*this.CanvasCore.canvas.height),this.graph.MouseDown(this.m.x,this.m.y)},t.prototype.MouseUp=function(t){},t.prototype.MouseMove=function(t){this.m.x=1*(t.x-this.CanvasCore.canvas.offsetLeft-.5*this.CanvasCore.canvas.width),this.m.y=1*(t.y-this.CanvasCore.canvas.offsetTop-.5*this.CanvasCore.canvas.height),this.graph.MouseMove(this.m.x,this.m.y)},t.prototype.MouseDrag=function(t){this.m.x=1*(t.x-this.CanvasCore.canvas.offsetLeft-.5*this.CanvasCore.canvas.width),this.m.y=1*(t.y-this.CanvasCore.canvas.offsetTop-.5*this.CanvasCore.canvas.height),this.graph.MouseDrag(this.m.x,this.m.y)},t.prototype.MouseClick=function(t){this.m.x=1*(t.x-this.CanvasCore.canvas.offsetLeft-.5*this.CanvasCore.canvas.width),this.m.y=1*(t.y-this.CanvasCore.canvas.offsetTop-.5*this.CanvasCore.canvas.height),this.graph.MouseLeftClick(this.m.x,this.m.y)},t.prototype.MouseDoubleClick=function(t){console.log("d click")},t}(),f=function(t){new r(t),new p(t)},l=function(){function t(t){void 0===t&&(t="SandBox");var i=document.getElementById(t);i&&(this.host=i,this.host.style.overflow="auto"),this.implementation=new f(t)}return t.Init=function(i){new t(i).Dummy()},t.prototype.Dummy=function(){},t}()}}]);