(self.webpackChunk=self.webpackChunk||[]).push([[2580],{7076:(t,e,n)=>{"use strict";n.r(e),n.d(e,{AppML:()=>l});var r=function(){function t(t){this.vs=[],this.isDown=!1,this.radius=3,this.app=t;var e=document.getElementById("classText");e&&(this.div=e),this.canvas=document.createElement("canvas"),this.app.host&&(this.app.host.appendChild(this.canvas),this.canvas.width=300,this.canvas.height=300),this.canvas.style.background="#ffffff",this.canvas.style.margin="20px",this.canvas.style.zIndex="1";var n=this.canvas.getContext("2d");null!==n&&(this.ctx=n),this.app.Init(this.ctx),this.InitEvent(),this.Loop()}return t.prototype.InitEvent=function(){var t=this;this.canvas.onmousedown=function(e){t.isDown=!0,t.vs=[]},this.canvas.onmouseup=function(e){t.isDown=!1;var n=t.app.implementation.smartDrawing.Predict(t.vs);t.div.innerHTML="class: "+n},this.canvas.onmousemove=function(e){t.isDown&&(t.vs.push([e.offsetX,e.offsetY]),t.Loop())}},t.prototype.Loop=function(){if(this.UpdateBG(),0!==this.vs.length){this.ctx.lineWidth=2,this.ctx.fillStyle="rgba(250, 50, 15, 0.2)",this.ctx.strokeStyle="rgba(250, 50, 15, 0.5)",this.ctx.beginPath(),this.ctx.moveTo(this.vs[0][0],this.vs[0][1]);for(var t=1;t<this.vs.length;++t)this.ctx.lineTo(this.vs[t][0],this.vs[t][1]);this.ctx.stroke();for(var e=0,n=this.vs;e<n.length;e++)t=n[e],this.ctx.beginPath(),this.ctx.arc(t[0],t[1],this.radius,0,6.28),this.ctx.closePath(),this.ctx.fill()}},t.prototype.Clear=function(){this.vs=[],this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.UpdateBG()},t.prototype.UpdateBG=function(){this.ctx.beginPath(),this.ctx.rect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.closePath(),this.ctx.fillStyle="#ddaadd",this.ctx.fill()},t}(),i=n(3290),o=function(){function t(t,e,n){void 0===n&&(n=0),this.x=0,this.y=0,this.z=0,this.w=0,this.long=0,this.lat=0,this.ele=0,this.proX=0,this.proY=0,this.proZ=0,this.alt=0,this.d=!0,this.isModified=!1,this.x=t,this.y=e,this.z=n}return t.GetVecforGraphicApp=function(e,n,r,i,o,s){var a=new t(0,0,0);return a.long=e,a.lat=n,a.ele=r,a.proX=i,a.proY=o,a.proZ=s,a},t.DeepCopy=function(e){var n=new t(e.x,e.y,e.z);return n.long=e.long,n.lat=e.lat,n.proX=e.proX,n.proY=e.proY,n.proZ=e.proZ,n},t.Dot=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},t.GetAreayConvexGPS=function(t){for(var e=[],n=[],r=0;r<t.length;++r)e.push(t[r].lat),n.push(t[r].long);e.push(t[0].lat),n.push(t[0].long);var i=0,o=0;for(r=e.length;r--;)i+=e[r],o+=n[r];for(var s,a,h,u=i/e.length,c=o/n.length,y=new Array(e.length),l=e.length;l--;)e[l]-=u,n[l]-=c,n[l]>=0&&e[l]>=0?y[l]=Math.abs(180*Math.atan(e[l]/n[l])/Math.PI):n[l]<0&&e[l]>=0?y[l]=90+Math.abs(180*Math.atan(e[l]/n[l])/Math.PI):n[l]<0&&e[l]<0?y[l]=180+Math.abs(180*Math.atan(e[l]/n[l])/Math.PI):n[l]>=0&&e[l]<0&&(y[l]=270+Math.abs(180*Math.atan(e[l]/n[l])/Math.PI));for(var f=0;f<y.length;f++)for(var x=0;x<y.length-1;x++)s=y[x],a=e[x],h=n[x],s<y[x+1]&&(y[x]=y[x+1],e[x]=e[x+1],n[x]=n[x+1],y[x+1]=s,e[x+1]=a,n[x+1]=h);for(var p=0,d=0,v=0;v<e.length;v++)v!==e.length-1?(p+=e[v]*n[v+1],d+=n[v]*e[v+1]):(p+=e[v]*n[0],d+=n[v]*e[0]);return(p-d)/2*20},t.ScalarRev_V_S_OUT=function(t,e,n){return n.x=e*t.x,n.y=e*t.y,n.z=e*t.z,n},t.Add=function(e,n){return new t(e.x+n.x,e.y+n.y,e.z+n.z)},t.Sub=function(e,n){return new t(e.x-n.x,e.y-n.y,e.z-n.z)},t.Clone=function(e){return t.DeepCopy(e)},t.ZAxis=function(){return new t(0,0,1)},t.YAxis=function(){return new t(0,1,0)},t.Zero=function(){return new t(0,0,0)},t.Origin=function(){return new t(0,0,0)},t.Plus=function(e,n){return new t(e.x+n.x,e.y+n.y,e.z+n.z)},t.Scale=function(e,n){return new t(e.x*n,e.y*n,e.z*n)},t.MidVec=function(e,n){return new t(.5*(e.x+n.x),.5*(e.y+n.y),.5*(e.z+n.z))},t.CompareTwoVectors=function(t,e){return t.x===e.x&&t.y===e.y&&t.z===e.z},t.Length=function(t){return Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z)},t.Normalize=function(e){var n=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);return new t(e.x/n,e.y/n,e.z/n)},t.GetArea=function(t){for(var e=0,n=0,r=t.length;n<r;n++)e+=t[n].x*t[n===t.length-1?0:n+1].y*.5,e-=t[n===t.length-1?0:n+1].x*t[n].y*.5;return Math.abs(e)},t.GetAreaByLongLat=function(t){for(var e=0,n=0;n<t.length-1;n++)e+=(t[n].long-t[n+1].long)*(t[n].lat+t[n+1].lat);return.5*e},t.GetGeoArea=function(t){for(var e=0,n=0;n<t.length-1;n++)e+=(t[n].x-t[n+1].x)*(t[n].y+t[n+1].y);return e*=.5,Math.abs(e)},t.GetGeoAreaBbyLongLat=function(t){for(var e=0,n=0;n<t.length-1;n++)e+=(t[n].long-t[n+1].long)*(t[n].lat+t[n+1].lat);return e*=.5,Math.abs(e)},t.Distance=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)+(t.z-e.z)*(t.z-e.z))},t.Distance2=function(t,e){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)+(t.z-e.z)*(t.z-e.z)},t.DotProduct=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},t.CrossProduct=function(e,n){return new t(e.y*n.z-e.z*n.y,e.z*n.x-e.x*n.z,e.x*n.y-e.y*n.x)},t.DivideByNum=function(e,n,r){void 0===r&&(r=5);for(var i=[],o=(n.x-e.x)/r,s=(n.y-e.y)/r,a=(n.z-e.z)/r,h=0;h<r;++h){var u=e.x+o*h,c=e.y+s*h,y=e.z+a*h;i.push(new t(u,c,y))}return i},t.KMeterFromGeoGPSPos=function(t,e){var n=e.lat*Math.PI/180-t.lat*Math.PI/180,r=e.long*Math.PI/180-t.long*Math.PI/180,i=Math.sin(n/2)*Math.sin(n/2)+Math.cos(t.lat*Math.PI/180)*Math.cos(e.lat*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6378.137},t.KMeterByTwoGeoPos=function(e,n,r,i){var o=new t(0,0);o.long=e,o.lat=n;var s=new t(0,0);return s.long=r,s.lat=i,t.KMeterFromGeoGPSPos(o,s)},t.KMeterFromGPSPos=function(t,e){var n=e.y*Math.PI/180-t.y*Math.PI/180,r=e.x*Math.PI/180-t.x*Math.PI/180,i=Math.sin(n/2)*Math.sin(n/2)+Math.cos(t.y*Math.PI/180)*Math.cos(e.y*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6378.137},t.Get1KM_Long_ByGeoUnit=function(e,n){void 0===e&&(e=0),void 0===n&&(n=0);for(var r=new t(e,n,0),i=0,o=0;o<1e4;++o){var s=t.KMeterFromGPSPos(r,new t(r.x+i,r.y,r.z));if(1<s&&s<1.001)return r.x+i;i+=1e-5}return-1},t.Get1KM_lat_ByGeoUnit=function(e,n){void 0===e&&(e=0),void 0===n&&(n=0);for(var r=new t(e,n,0),i=0,o=0;o<1e4;++o){var s=t.KMeterFromGPSPos(r,new t(r.x,r.y+i,r.z));if(1<s&&s<1.001)return r.y+i;i+=1e-5}return-1},t.Get1KM_Lat_Long_GeoUnit=function(e,n){void 0===e&&(e=0),void 0===n&&(n=0);var r=t.Get1KM_Long_ByGeoUnit(e,n),i=t.Get1KM_lat_ByGeoUnit(e,n);return new t(r,i,0)},t.CalculateFalloff=function(t,e,n,r){var i=e.Sub(t).Length();return i*(n*Math.exp(-r*i*i))},t.Attractor=function(t,e,n,r){var i=e.Sub(t);i.Unitize();var o=i.Length();return i.Mult(n*Math.exp(-r*o*o))},t.Explosion=function(t,e,n,r){var i=e.Sub(t);i.Unitize();var o=i.Length();return i.Mult(-n*Math.exp(-r*o*o))},t.Rotor=function(e,n,r,i){return n.Sub(e).Unitize(),t.Origin()},t.GetAngleBetween=function(t,e){return Math.atan2(e.x-t.x,e.y-t.y)},t.GetCosAngleByTwoVectors=function(e,n){return t.DotProduct(t.Normalize(e),t.Normalize(n))},t.GetAngleByTwoVectorsRadian=function(e,n){return Math.acos(t.GetCosAngleByTwoVectors(e,n))},t.GetAngleByTwoVectors=function(e,n){return 180*t.GetAngleByTwoVectorsRadian(e,n)/Math.PI},t.GetRotationByWorldCoodinate=function(e){var n=new t(1,0,0);return t.GetAngleByTwoVectors(n,e)},t.GetRotationByWorldCoodinateByTwo=function(e,n){var r=n.Sub(e),i=new t(1,0,0);return r.y>0?-1*t.GetAngleByTwoVectors(i,r):t.GetAngleByTwoVectors(i,r)},t.ComputeDotProducts=function(e){for(var n=[],r=0;r<e.length;++r)if(r<e.length-1){var i=new t(e[r].x,e[r].y,e[r].z);(s=new t(e[r+1].x,e[r+1].y,e[r+1].z)).x-=i.x,s.y-=i.y,s.z-=i.z;var o=t.DotProduct(new t(1,0,0),t.Normalize(s));Number.isNaN(o)?n.push(n[n.length-1]):n.push(o)}else{var s;i=new t(e[r].x,e[r].y,e[r].z),(s=new t(e[0].x,e[0].y,e[0].z)).x-=i.x,s.y-=i.y,s.z-=i.z,o=t.DotProduct(new t(1,0,0),t.Normalize(s)),Number.isNaN(o)?n.push(n[n.length-1]):n.push(o)}return n},t.ComputeDotProductsWithCenter=function(e){for(var n=t.GetCenterVecFromVecs(e),r=[],i=0;i<e.length;++i){var o=void 0,s=void 0;i<e.length-1?(o=new t(e[i].x-n.x,e[i].y-n.y,e[i].z-n.z),s=new t(e[i+1].x-n.x,e[i+1].y-n.y,e[i+1].z-n.z)):(o=new t(e[i].x-n.x,e[i].y-n.y,e[i].z-n.z),s=new t(e[0].x-n.x,e[0].y-n.y,e[0].z-n.z));var a=t.DotProduct(t.Normalize(o),t.Normalize(s));r.push(a)}return r},t.GetXYDimForCircle=function(e){for(var n=t.GetCenterVecFromVecs(e),r=0,i=0,o=e.length,s=0;s<o;++s)r+=Math.abs(e[s].x-n.x),i+=Math.abs(e[s].y-n.y);return[r/(o+=2),i/o]},t.DistanceMouseWithTwoVecs=function(e,n,r){n.x+=1e-5,n.y+=1e-5;var i=t.GetBoundingVecs(n,r),o=t.GetCloseVec(n,r,e.x,e.y,i,!0);return t.Distance(e,o)},t.GetCloseVec=function(e,n,r,i,o,s){void 0===s&&(s=!0);var a=new t(e.x,e.y,e.z),h=new t(n.x,n.y,n.z).Sub(a),u=new t(r,i,0).Sub(a);h.Unitize();var c=a.Add(h.Mult(u.DotProduct(h)));return s?t.IsInsideOfVecs(c,o)?c:e.Distance(c)<n.Distance(c)?new t(e.x,e.y,e.z):new t(n.x,n.y,n.z):c},t.GetBoundingVecs=function(e,n){var r=[],i=new t(e.x<n.x?e.x:n.x,e.y<n.y?e.y:n.y,e.z<n.z?e.z:n.z),o=new t(e.x>n.x?e.x:n.x,e.y>n.y?e.y:n.y,e.z>n.z?e.z:n.z);return r.push(new t(i.x,i.y,i.z)),r.push(new t(o.x,i.y,i.z)),r.push(new t(o.x,o.y,i.z)),r.push(new t(i.x,o.y,i.z)),r},t.GetBoundaryByVecWidthHeight=function(e,n,r){var i=[];return i.push(new t(e.x,e.y,e.z)),i.push(new t(e.x+n,e.y,e.z)),i.push(new t(e.x+n,e.y+r,e.z)),i.push(new t(e.x,e.y+r,e.z)),i},t.GetMinMaxVecFromVecs=function(e){for(var n=Number.MAX_VALUE,r=Number.MAX_VALUE,i=Number.MAX_VALUE,o=Number.MIN_VALUE,s=Number.MIN_VALUE,a=Number.MIN_VALUE,h=0,u=e;h<u.length;h++){var c=u[h];n>c.x&&(n=c.x),r>c.y&&(r=c.y),i>c.z&&(i=c.z),o<c.x&&(o=c.x),s<c.y&&(s=c.y),a<c.z&&(a=c.z)}return[new t(n,r,i),new t(o,s,a)]},t.RemoveVecsWithinDis=function(e,n){void 0===n&&(n=10);for(var r=[],i=0;i<e.length-1;++i){var o=e[i];if(!1!==o.d)for(var s=i+1;s<e.length;++s)t.Distance(o,e[s])<n&&(e[s].d=!1)}for(i=0;i<e.length;++i)!0===e[i].d&&r.push(e[i]);return r},t.IsInsideOfVecsWtihVecs=function(e,n){for(var r=0;r<e.length;r++)if(!t.IsInsideOfVecs(e[r],n))return!1;return!0},t.IsInsideOfVecs=function(t,e){for(var n=t.x,r=t.y,i=!1,o=0,s=e.length-1;o<e.length;s=o++){var a=e[o].x,h=e[o].y,u=e[s].x,c=e[s].y;h>r!=c>r&&n<(u-a)*(r-h)/(c-h)+a&&(i=!i)}return i},t.IsInsideOfVecsByCrossing=function(e,n,r,i){return!!(this.IsInsideOfVecs(new t(e.x-.5*n,e.y-.5*r),i)||this.IsInsideOfVecs(new t(e.x+.5*n,e.y-.5*r),i)||this.IsInsideOfVecs(new t(e.x+.5*n,e.y+.5*r),i)||this.IsInsideOfVecs(new t(e.x-.5*n,e.y+.5*r),i))},t.IsInsideOfVecsByConcaveHull=function(t,e){},t.IsInsideOfVecsByConvexHull=function(e,n){return n=t.ConvexHull(n),!!t.IsInsideOfVecs(e,n)},t.ConvexHull=function(e){e.sort((function(t,e){return t.x===e.x?t.y-e.y:t.x-e.x}));for(var n=[],r=0;r<e.length;r++){for(;n.length>=2&&t.Cross(n[n.length-2],n[n.length-1],e[r])<=0;)n.pop();n.push(e[r])}var i=[];for(r=e.length-1;r>=0;r--){for(;i.length>=2&&t.Cross(i[i.length-2],i[i.length-1],e[r])<=0;)i.pop();i.push(e[r])}for(i.pop(),n.pop(),r=0;r<i.length;++r)n.push(i[r]);return n},t.Cross=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)},t.Cross_A_B_OUT=function(t,e,n){var r=t.x,i=t.y,o=t.z,s=e.x,a=e.y,h=e.z;return n.x=i*h-o*a,n.y=o*s-r*h,n.z=r*a-i*s,n},t.CheckLineIntersection=function(e,n,r,i){var o,s,a,h=0,u=0,c=!1,y=!1;o=(i.y-r.y)*(n.x-e.x)-(i.x-r.x)*(n.y-e.y);var l=new t(0,0,0);if(0!==o)return h=e.y-r.y,u=e.x-r.x,s=(i.x-r.x)*h-(i.y-r.y)*u,a=(n.x-e.x)*h-(n.y-e.y)*u,h=s/o,u=a/o,l.x=e.x+h*(n.x-e.x),l.y=e.y+h*(n.y-e.y),h>0&&h<1&&(c=!0),u>0&&u<1&&(y=!0),c&&y?l:void 0},t.CheckConvexity=function(e){if(e.length<3)return!1;for(var n,r,i,o=0,s=0;s<e.length;s++){n=e[s];var a=e[(s+1)%e.length];if(r=new t(a.x-n.x,a.y-n.y,0),i=e[(s+2)%e.length],0===s)o=i.x*r.y-i.y*r.x+r.x*n.y-r.y*n.x;else{var h=i.x*r.y-i.y*r.x+r.x*n.y-r.y*n.x;if(h>0&&o<0||h<0&&o>0)return!1}}return!0},t.MoveVecs=function(e,n){for(var r=[],i=0;i<e.length;++i)r.push(t.MoveVec(e[i],n));return r},t.MoveVec=function(e,n){return new t(e.x+n.x,e.y+n.y,e.z+n.z)},t.RotateVecsLoal=function(e,n){var r=t.GetCenterVecFromVecs(e),i=new t(-r.x,-r.y,-r.z),o=t.MoveVecs(e,i);return o=t.RotateVecs(o,n),t.MoveVecs(o,r)},t.RotateVecs=function(e,n){for(var r=[],i=0;i<e.length;++i)r.push(t.RotateVec(e[i],n));return r},t.RotateVec=function(e,n){var r=Math.cos(.017453292519943278*n),i=Math.sin(.017453292519943278*n);return new t(e.x*r-e.y*i,e.x*i+e.y*r,e.z)},t.GetCenterVecFromVecs=function(e){for(var n=new t(0,0,0),r=0,i=e.length;r<i;++r)n.Add(e[r]);return n.Mult(1/e.length),n},t.MidVecGeo=function(e,n){return new t(e.x+.5*n.x,e.y+.5*n.y,0)},t.GetVecFromIntersection=function(e){for(var n=[],r=0;r<e.length-1;++r)for(var i=r+1;i<e.length-1;++i){var o=t.CheckLineIntersection(e[r],e[r+1],e[i],e[i+1]);o&&n.push(o)}return 0===n.length?void 0:n},t.between=function(e,n,r){return e-t.eps<=n&&n<=r+t.eps},t.segment_intersection=function(e,n,r,i){var o=((e.x*n.y-e.y*n.x)*(r.x-i.x)-(e.x-n.x)*(r.x*i.y-r.y*i.x))/((e.x-n.x)*(r.y-i.y)-(e.y-n.y)*(r.x-i.x)),s=((e.x*n.y-e.y*n.x)*(r.y-i.y)-(e.y-n.y)*(r.x*i.y-r.y*i.x))/((e.x-n.x)*(r.y-i.y)-(e.y-n.y)*(r.x-i.x));if(isNaN(o)||isNaN(s))return!1;if(e.x>=n.x){if(!t.between(n.x,o,e.x))return!1}else if(!t.between(e.x,o,n.x))return!1;if(e.y>=n.y){if(!t.between(n.y,s,e.y))return!1}else if(!t.between(e.y,s,n.y))return!1;if(r.x>=i.x){if(!t.between(i.x,o,r.x))return!1}else if(!t.between(r.x,o,i.x))return!1;if(r.y>=i.y){if(!t.between(i.y,s,r.y))return!1}else if(!t.between(r.y,s,i.y))return!1;return new t(o,s)},t.prototype.Set=function(e,n,r){return this.x=e,this.y=n,this.z=r,new t(this.x,this.y,this.z)},t.prototype.Scale=function(e){return this.x*=e,this.y*=e,this.z*=e,new t(this.x,this.y,this.z)},t.prototype.Mult=function(e){return this.x*=e,this.y*=e,this.z*=e,new t(this.x,this.y,this.z)},t.prototype.DivByVal=function(e){return this.x/=e,this.y/=e,this.z/=e,new t(this.x,this.y,this.z)},t.prototype.DivByVec=function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,new t(this.x,this.y,this.z)},t.prototype.Add=function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,new t(this.x,this.y,this.z)},t.prototype.Sub=function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,new t(this.x,this.y,this.z)},t.prototype.Negate=function(){return this.x*=-1,this.y*=-1,this.z*=-1,new t(this.x,this.y,this.z)},t.prototype.Equals=function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z},t.prototype.Clone=function(){return new t(this.x,this.y,this.z)},t.prototype.Length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.prototype.Unitize=function(){return this.Normalize()},t.prototype.IsOverlap=function(t,e){return void 0===e&&(e=.1),this.Distance(t)<e},t.prototype.Normalize=function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return this.x=this.x/e,this.y=this.y/e,this.z=this.z/e,new t(this.x,this.y,this.z)},t.prototype.Distance=function(e){return t.Distance(new t(this.x,this.y,this.z),e)},t.prototype.Distance2=function(e){return t.Distance2(new t(this.x,this.y,this.z),e)},t.prototype.DotProduct=function(e){return t.DotProduct(new t(this.x,this.y,this.z),e)},t.prototype.CrossProduct=function(e){return t.CrossProduct(new t(this.x,this.y,this.z),e)},t.prototype.SquareLength=function(){var e=t.Length(new t(this.x,this.y,this.z));return e*e},t.prototype.FadeExp=function(e,n){var r=new t(this.x,this.y,this.z);return r.Sub(e),Math.exp(-n*r.SquareLength())},t.prototype.GetAngle=function(){return Math.atan2(this.y,this.x)},t.prototype.GetAngleDegree=function(){return 180*this.GetAngle()/Math.PI},t.prototype.ToJSON=function(){},t.prototype.ToString=function(){return"x: "+this.x.toFixed(3).toString()+" , y: "+this.y.toFixed(3).toString()+", z: "+this.z.toFixed(3).toString()},t.prototype.ToFloat32Array=function(){return new Float32Array([this.x,this.y,this.z])},t.eps=1e-7,t.origin=new t(0,0,0),t}(),s=n(2505),a=function(){function t(t,e){this.firebaseConfig={apiKey:"AIzaSyA1yKg85WGZoshbk8xR23cXr3SwpqXVgIc",authDomain:"njs-data.firebaseapp.com",projectId:"njs-data",storageBucket:"njs-data.appspot.com",messagingSenderId:"635991152770",appId:"1:635991152770:web:722f5356e0d14cea50fc9b"},this.getData=function(t){var e=t.val();for(var n in console.log("get data",e),e)console.log(n,e[n])},this.getError=function(t){console.error(t)},this.appDatabase=s.Z.initializeApp(this.firebaseConfig),this.db=this.appDatabase.database(),this.ref=this.db.ref(t),this.ref.on("value",e,this.getError)}return t.prototype.sendData=function(t){var e=this.ref.push(t);console.log(e.key)},t}(),h=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{h(r.next(t))}catch(t){o(t)}}function a(t){try{h(r.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}h((r=r.apply(t,e||[])).next())}))},u=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},c=function(){function t(){i.o4J,this.AppendDiv(),this.LoadModelFromPublic(),console.log(i.i83),this.firebaseWrapper=new a("smartDrawing",this.callback)}return t.prototype.callback=function(t){var e=t.val();for(var n in console.log("callback -------- get data",e),e)console.log(n,e[n])},t.prototype.AppendDiv=function(){var t=document.getElementById("main"),e=document.createElement("div");t&&e&&(this.divText=e,t.insertBefore(this.divText,null),this.divText.style.marginLeft="20px")},t.prototype.LoadModelFromJsons=function(){return h(this,void 0,void 0,(function(){return u(this,(function(t){return[2]}))}))},t.prototype.LoadModelFromPublic=function(){return h(this,void 0,void 0,(function(){var t,e,n;return u(this,(function(r){switch(r.label){case 0:return t="https://raw.githubusercontent.com/NamjuLee/data/master/smart-drawing/model/modelLogisticRegression0/model.json",e=this,[4,this.LoadModelFromPath(t)];case 1:return e.modelLogisticRegression=r.sent(),t="https://raw.githubusercontent.com/NamjuLee/data/master/smart-drawing/model/modelMultiClassification0/model.json",n=this,[4,this.LoadModelFromPath(t)];case 2:return n.modelMultiClassification=r.sent(),[2]}}))}))},t.prototype.LoadModelFromPath=function(t){return h(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,i.FBF(t)];case 1:return[2,e.sent()]}}))}))},t.prototype.PredictByLogisticRegression=function(t){var e=this;if(void 0!==this.modelLogisticRegression)return(0,i.lub)((function(){var n=(0,i.odF)([t]),r=e.modelLogisticRegression.predict(n).dataSync();return e.PredictionPostProcessingLogisticRegression(r[0])}));console.error("no model loaded")},t.prototype.PredictByMultiClassification=function(e){var n=this;if(void 0!==this.modelMultiClassification)return(0,i.lub)((function(){for(var r=i.odF([e]),o=n.modelMultiClassification.predict(r),s=Array.from(o.dataSync()),a=[],h=0,u=n.GetIndexBySortDescending(s);h<u.length;h++){var c=u[h],y=s[c],l="class:"+t.CLASS_TYPE[c]+", probability:"+y.toFixed(5);console.log(l),a.push(l)}n.UpdateDivWithText(a);var f=o.argMax(-1).dataSync()[0];return t.CLASS_TYPE[f]}));console.error("no model loaded")},t.prototype.UpdateDivWithText=function(t){for(var e="<p>*** FROM DEEP LEARNING MODEL B *** </p>",n=0;n<t.length;++n)e+="<p> "+t[n]+"</p>";this.divText.innerHTML=e},t.prototype.PredictionPostProcessingLogisticRegression=function(e){var n=Math.floor(e+.5);return t.CLASS_TYPE[n]},t.prototype.GetIndexBySortDescending=function(t){for(var e=t.length,n=new Array(e),r=0;r<e;++r)n[r]=r;return n.sort((function(e,n){return t[e]>t[n]?-1:t[e]<t[n]?1:0})),n},t.prototype.Remove=function(){},t.prototype.Predict=function(t){for(var e=[],n=0,r=t;n<r.length;n++){var i=r[n];e.push(new o(i[0],i[1],0))}var s=o.ComputeDotProducts(e),a=this.GetInterpolatedArray(s,501);console.log("*** FROM DEEP LEARNING MODELS ***");var h=this.PredictByMultiClassification(a);return console.debug("pridiction:%c "+h+" from MC model","background: #4e2c7e; color: white"),this.firebaseWrapper.sendData({class:h,vec:t}),h},t.prototype.LinearInterpolate=function(t,e,n){return t+(e-t)*n},t.prototype.GetInterpolatedArray=function(t,e){var n=new Array,r=(t.length-1)/(e-1);n[0]=t[0];for(var i=1;i<e-1;i++){var o=i*r,s=+Math.floor(o).toFixed(),a=+Math.ceil(o).toFixed(),h=o-s;n[i]=this.LinearInterpolate(t[s],t[a],h)}return n[e-1]=t[t.length-1],n},t.CLASS_TYPE={0:"CIRCLE",1:"TRI-GON",2:"ARROW_SINGLE",3:"ARROW_DOUBLE",4:"RECTANGLE",5:"TEXT",6:"CURVE",7:"HEART",8:"CLOUD"},t}(),y=function(t){this.app=t,this.smartDrawing=new c},l=function(){function t(t){void 0===t&&(t="main"),console.log("id: "+t+", App Init!!!!!");var e=document.getElementById(t);e&&(this.host=e),this.InitHTML(),this.canvasSD=new r(this),this.implementation=new y(this)}return t.Init=function(e){new t(e)},t.prototype.InitHTML=function(){var t=this,e=document.createElement("button");e.style.width="100px",e.style.height="20px",e.style.marginLeft="20px",e.style.zIndex="5",e.name="Clear",e.innerText="Clear",e.value="Clear",e.onclick=function(){console.log(t),t.canvasSD.Clear()},this.host.appendChild(e),this.divText=document.createElement("div"),this.divText.id="classText",this.divText.style.zIndex="5",this.divText.innerText="class: ",this.divText.style.marginLeft="20px",this.host.appendChild(this.divText)},t.prototype.Init=function(t){console.log("this is init...")},t.prototype.Clear=function(){this.canvasSD.Clear()},t}()},613:()=>{},4240:()=>{},6227:()=>{},8072:()=>{},8090:()=>{},3706:()=>{}}]);