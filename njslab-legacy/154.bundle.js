"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[154],{1226:(t,i,e)=>{e.r(i),e.d(i,{SceneCreativeCoding:()=>$i});var s,n=e(1137),o=function(){function t(t){this.scene=t}return t.prototype.MouseEventController=function(t){t.CLICK_TYPE!==n.uh.LEFT?t.CLICK_TYPE!==n.uh.MIDDLE?t.CLICK_TYPE!==n.uh.DOWN_RIGHT?t.CLICK_TYPE!==n.uh.DOUBLE?t.CLICK_TYPE!==n.uh.MOVE?t.CLICK_TYPE!==n.uh.DRAG?t.CLICK_TYPE!==n.uh.DOWN?t.CLICK_TYPE!==n.uh.WHEEL?t.CLICK_TYPE!==n.uh.UP||this.MouseUpPre(t):this.MouseWheelPre(t):this.MouseDownPre(t):this.MouseDragPre(t):this.MouseMovePre(t):this.MouseDoubleClickPre(t):this.MouseRightClickPre(t):this.MouseMiddleClickPre(t):this.MouseLeftClickPre(t)},t.prototype.MouseDown=function(t){},t.prototype.MouseDownPre=function(t){this.scene.MouseDown(t.x,t.y),this.MouseDown(t)},t.prototype.MouseLeftClick=function(t){},t.prototype.MouseLeftClickPre=function(t){this.scene.MouseLeftClick(t.x,t.y),this.MouseLeftClick(t)},t.prototype.MouseMiddleClick=function(t){},t.prototype.MouseMiddleClickPre=function(t){this.scene.MouseMiddleClick(t.x,t.y),this.MouseMiddleClick(t)},t.prototype.MouseRightClick=function(t){},t.prototype.MouseRightClickPre=function(t){this.scene.MouseRightClick(t.x,t.y),this.MouseRightClick(t)},t.prototype.MouseUp=function(t){},t.prototype.MouseUpPre=function(t){this.scene.MouseUp(t.x,t.y),this.MouseUp(t)},t.prototype.MouseDoubleClick=function(t){},t.prototype.MouseDoubleClickPre=function(t){this.scene.MouseDoubleClick(t.x,t.y),this.MouseDoubleClick(t)},t.prototype.MouseMove=function(t){},t.prototype.MouseMovePre=function(t){this.scene.MouseMove(t.x,t.y),this.MouseMove(t)},t.prototype.MouseDrag=function(t){},t.prototype.MouseDragPre=function(t){this.scene.MouseDrag(t.x,t.y),this.MouseDrag(t)},t.prototype.MouseWheel=function(t){},t.prototype.MouseWheelPre=function(t){this.scene.MouseWheel(t.x,t.y,t.wheel),this.MouseWheel(t)},t}(),h=function(t){this.scene=t},r=e(555),c=function(){function t(t){this.mOffX=-12,this.mOffY=-12,this.scene=t,this.scene.definitions.push(this),this.InitIndeCanvas()}return t.prototype.InitIndeCanvas=function(){var t=this;this.scene.implementation.app.needUI?this.indeCanvas=new r.D(this.scene.implementation.app.viewController.NUIWrapper.NUI.independentPanelWrapper,50,50,650,350,!0):this.indeCanvas=new r.D(this.scene.implementation.app.viewController.NUIWrapper.NUI.independentPanelWrapper,1,-25,650,450,!0),this.indeCanvas.title="Circle Grid with Attractors 2",this.indeCanvas.btnHam.isHidden=!0,this.indeCanvas.btnMini.isHidden=!0,this.indeCanvas.RenderIndependentCanvas=function(i){return t.RenderIndependentCanvas(i)}},t.prototype.Dummy=function(){},Object.defineProperty(t.prototype,"width",{get:function(){return this.indeCanvas.canvas.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.indeCanvas.canvas.height},enumerable:!1,configurable:!0}),t.prototype.init=function(t){},t.prototype.RenderIndependentCanvas=function(t){},t.prototype.MouseMove=function(t,i){},t.prototype.MouseMovePre=function(t,i){this.indeCanvas.IsMouseInsidePanel(t,i)&&this.MouseMove(t-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)},t.prototype.MouseDown=function(t,i){},t.prototype.MouseDownPre=function(t,i){this.indeCanvas.IsMouseInsidePanel(t,i)&&this.MouseDown(t-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)},t.prototype.MouseUp=function(t,i){},t.prototype.MouseUpPre=function(t,i){this.indeCanvas.IsMouseInsidePanel(t,i)&&this.MouseUp(t-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)},t.prototype.MouseDrag=function(t,i){},t.prototype.MouseDragPre=function(t,i){this.indeCanvas.IsMouseInsidePanel(t,i)&&this.MouseDrag(t-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)},t.prototype.MouseLeftClick=function(t,i){},t.prototype.MouseLeftClickPre=function(t,i){this.indeCanvas.IsMouseInsidePanel(t,i)&&this.MouseLeftClick(t-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)},t.prototype.MouseMiddleClick=function(t,i){},t.prototype.MouseMiddleClickPre=function(t,i){this.indeCanvas.IsMouseInsidePanel(t,i)&&this.MouseMiddleClick(t-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)},t.prototype.MouseRightClick=function(t,i){},t.prototype.MouseRightClickPre=function(t,i){this.indeCanvas.IsMouseInsidePanel(t,i)&&this.MouseRightClick(t-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)},t.prototype.MouseDoubleClick=function(t,i){},t.prototype.MouseDoubleClickPre=function(t,i){this.indeCanvas.IsMouseInsidePanel(t,i)&&this.MouseDoubleClick(t-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY)},t.prototype.MouseWheel=function(t,i,e){},t.prototype.MouseWheelPre=function(t,i,e){this.indeCanvas.IsMouseInsidePanel(t,i)&&this.MouseWheel(t-this.indeCanvas.vec.x+this.mOffX,i-this.indeCanvas.vec.y-this.indeCanvas.HeadHeight+this.mOffY,e)},t}(),p=(s=function(t,i){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},s(t,i)},function(t,i){function e(){this.constructor=t}s(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),a=function(t){function i(i){var e=t.call(this,i)||this;return e.xpos=100,e.ypos=100,e.xspeed=10,e.yspeed=10,e.xdirection=1,e.ydirection=1,e.rad=50,e}return p(i,t),i.prototype.init=function(){},i.prototype.RenderIndependentCanvas=function(t){t.fillStyle="#eeeeee",t.beginPath(),t.rect(0,0,t.canvas.width,t.canvas.height),t.closePath(),t.fill(),this.xpos=this.xpos+this.xspeed*this.xdirection,this.ypos=this.ypos+this.yspeed*this.ydirection,(this.xpos>this.width-this.rad||this.xpos<this.rad)&&(this.xdirection*=-1),(this.ypos>this.height-this.rad||this.ypos<this.rad)&&(this.ydirection*=-1),t.fillStyle="#ff0000",t.beginPath(),t.arc(this.xpos,this.ypos,this.rad,0,6.28),t.closePath(),t.fill()},i}(c),l=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),u=function(t){function i(i){var e=t.call(this,i)||this;return e.Balls=[],e.Balls.push(new f(e,50,50)),e.Balls.push(new f(e,100,100)),e}return l(i,t),i.prototype.RenderIndependentCanvas=function(t){t.fillStyle="#eeeeee",t.beginPath(),t.rect(0,0,t.canvas.width,t.canvas.height),t.closePath(),t.fill();for(var i=0,e=this.Balls;i<e.length;i++)e[i].Render(t)},i.prototype.MouseDown=function(t,i){this.Balls.push(new f(this,t,i))},i}(c),f=function(){function t(i,e,s){this.xpos=100,this.ypos=100,this.xspeed=10,this.yspeed=10,this.xdirection=1,this.ydirection=1,this.rad=50,this.BallBounceClass=i,this.xpos=e,this.ypos=s,this.xdirection=2*Math.random()-1,this.ydirection=2*Math.random()-1,this.rad=50*Math.random()+10,this.color=t.GetRandomHex()}return t.GetRandomHex=function(){return this.RGBToHex(Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random()))},t.RGBToHex=function(t,i,e){return"#"+[Math.round(t),Math.round(i),Math.round(e)].map((function(t){var i=t.toString(16);return 1===i.length?"0"+i:i})).join("")},t.prototype.Render=function(t){this.xpos=this.xpos+this.xspeed*this.xdirection,this.ypos=this.ypos+this.yspeed*this.ydirection,(this.xpos>this.BallBounceClass.width-this.rad||this.xpos<this.rad)&&(this.xdirection*=-1),(this.ypos>this.BallBounceClass.height-this.rad||this.ypos<this.rad)&&(this.ydirection*=-1),t.fillStyle=this.color,t.beginPath(),t.arc(this.xpos,this.ypos,this.rad,0,6.28),t.closePath(),t.fill()},t}(),d=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),y=function(t){function i(i){var e=t.call(this,i)||this;return e.mouse=[0,0],e.init(),e}return d(i,t),i.prototype.init=function(){this.mouse=[0,0]},i.prototype.RenderIndependentCanvas=function(t){this.pts=[];for(var i=this.width/40,e=this.height/40,s=0;s<40;s+=1)for(var n=0;n<40;n+=1)this.pts.push([n*i,s*e]);for(var o=0,h=0,r=this.pts;h<r.length;h++){var c=r[h];if(o%2==0){var p=[50,50,50,1],a=this.Distance(c[0],c[1],this.mouse[0],this.mouse[1]);p[0]=a,t.strokeStyle="rgba("+p[0]+","+p[1]+","+p[2]+","+p[3]+")",t.beginPath(),t.arc(c[0],c[1],a/10,0,6.28),t.stroke()}o++}},i.prototype.Distance=function(t,i,e,s){return Math.sqrt((t-e)*(t-e)+(i-s)*(i-s))},i.prototype.MouseMove=function(t,i){this.mouse=[t,i]},i}(c),v=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),x=function(t){function i(i){var e=t.call(this,i)||this;return e.mouse=[0,0],e.attrs=[[0,0]],e.strength=50,e.falloff=5e-5,e.init(),e}return v(i,t),i.prototype.init=function(){this.mouse=[0,0]},i.prototype.RenderIndependentCanvas=function(t){this.pts=[];for(var i=this.width/60,e=this.height/40,s=0;s<40;s+=1)for(var n=0;n<60;n+=1)this.pts.push([n*i,s*e]);for(var o=0,h=0,r=this.pts;h<r.length;h++){var c=r[h];if(o%2==0){for(var p=[50,255,0,1],a=0,l=0,u=this.attrs;l<u.length;l++){s=u[l];var f=this.Attractor(c,s,this.strength,this.falloff);a<f&&(a=f)}p[2]+=3*a,t.strokeStyle="rgba("+p[0]+","+p[1]+","+p[2]+","+p[3]+")",t.beginPath(),t.arc(c[0],c[1],10+a,0,6.28),t.stroke()}o++}},i.prototype.Attractor=function(t,i,e,s){var n=this.Sub(t,i),o=this.Length(n);return e*Math.exp(-s*o*o)},i.prototype.Sub=function(t,i){return[t[0]-i[0],t[1]-i[1]]},i.prototype.Unitize=function(t){var i=this.Length(t);return[t[0]/i,t[1]/i]},i.prototype.Length=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},i.prototype.MouseMove=function(t,i){this.attrs[this.attrs.length-1]=[t,i]},i.prototype.MouseDown=function(t,i){this.attrs.push([t,i])},i.prototype.MouseWheel=function(t,i,e){this.falloff+=1e-7*e},i}(c),g=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),m=function(t){function i(i){var e=t.call(this,i)||this;return e.mouse=[0,0],e.attrs=[[0,0]],e.strength=50,e.falloff=5e-5,e.init(),e}return g(i,t),i.prototype.init=function(){this.mouse=[0,0]},i.prototype.RenderIndependentCanvas=function(t){this.pts=[];for(var i=this.width/50,e=this.height/20,s=0;s<20;s+=1)for(var n=0;n<50;n+=1)this.pts.push([n*i,s*e]);for(var o=0,h=0,r=this.pts;h<r.length;h++){var c=r[h];if(o%2==0){for(var p=[0,20,0,1],a=0,l=0,u=this.attrs;l<u.length;l++){s=u[l];var f=this.Attractor(c,s,this.strength,this.falloff);a<f&&(a=f)}p[2]+=3*a,t.strokeStyle="rgba("+p[0]+","+p[1]+","+p[2]+","+p[3]+")",t.beginPath(),t.arc(c[0],c[1],10+a,0,6.28),t.stroke()}o++}},i.prototype.Attractor=function(t,i,e,s){var n=this.Sub(t,i),o=this.Length(n);return e*Math.exp(-s*o*o)},i.prototype.Sub=function(t,i){return[t[0]-i[0],t[1]-i[1]]},i.prototype.Unitize=function(t){var i=this.Length(t);return[t[0]/i,t[1]/i]},i.prototype.Length=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},i.prototype.MouseMove=function(t,i){this.attrs[this.attrs.length-1]=[t,i]},i.prototype.MouseDown=function(t,i){this.attrs.push([t,i])},i.prototype.MouseWheel=function(t,i,e){this.falloff+=1e-7*e},i}(c),C=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),M=function(t){function i(i){var e=t.call(this,i)||this;return e.mouse=[0,0],e.lines=[],e.indeCanvas.title="Line",e.init(),e}return C(i,t),i.prototype.init=function(){this.lines.push(new w(10,10,50,50))},i.prototype.RenderIndependentCanvas=function(t){t.fillStyle="#eeeeee",t.beginPath(),t.rect(0,0,t.canvas.width,t.canvas.height),t.closePath(),t.fill();for(var i=0,e=this.lines;i<e.length;i++)e[i].Render(t)},i.prototype.MouseMove=function(t,i){this.mouse=[t,i]},i.prototype.MouseDown=function(){var t=this.lines[this.lines.length-1].p1;this.lines.push(new w(t[0],t[1],this.mouse[0],this.mouse[1]))},i}(c),w=function(){function t(t,i,e,s){this.p0=[t,i],this.p1=[e,s]}return t.prototype.Render=function(t){t.strokeStyle="red",t.beginPath(),t.moveTo(this.p0[0],this.p0[1]),t.lineTo(this.p1[0],this.p1[1]),t.closePath(),t.stroke()},t}(),P=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),b=function(t){function i(i){var e=t.call(this,i)||this;return e.mouse=[0,0],e.lines=[],e.indeCanvas.title="Line",e.init(),e}return P(i,t),i.prototype.init=function(){this.lines.push(new _(10,10,50,50))},i.prototype.RenderIndependentCanvas=function(t){t.fillStyle="#eeeeee",t.beginPath(),t.rect(0,0,t.canvas.width,t.canvas.height),t.closePath(),t.fill();for(var i=0,e=this.lines;i<e.length;i++)e[i].Render(t)},i.prototype.MouseMove=function(t,i){this.mouse=[t,i]},i.prototype.MouseDown=function(){this.lines.length>5&&this.lines.shift();var t=this.lines[this.lines.length-1].p1;this.lines.push(new _(t[0],t[1],this.mouse[0],this.mouse[1]))},i}(c),_=function(){function t(t,i,e,s){this.p0=[t,i],this.p1=[e,s]}return t.prototype.Render=function(t){t.strokeStyle="red",t.beginPath(),t.moveTo(this.p0[0],this.p0[1]),t.lineTo(this.p1[0],this.p1[1]),t.closePath(),t.stroke()},t}(),S=function(){function t(){}return t.GetRandomPath=function(t,i,e,s,o){void 0===o&&(o=10);for(var h=[],r=0;r<o;++r){var c=n.$H.GetRandomIntInclusive(t,e),p=n.$H.GetRandomIntInclusive(i,s);h.push(new n.h9(c,p,0))}return h},t}(),R=function(){function t(t){this.boids=[],this.boids=[],this.targets=t}return t.prototype.AddAgent=function(t,i){var e=new D(new n.h9(t,i));e.InitTarget(this.targets),this.boids.push(e)},t.prototype.Update=function(){this.Col();for(var t=0,i=this.boids;t<i.length;t++)i[t].Update()},t.prototype.Col=function(){for(var t=0,i=this.boids;t<i.length;t++)i[t].col=!1;for(var e=0;e<this.boids.length;++e){var s=this.boids[e];if(!s.isRenderable)break;for(var n=e+1;n<this.boids.length;++n){var o=this.boids[n];if(s.p.Distance(o.p)<30){o.col=!0;break}}}},t.prototype.GetPoint=function(){for(var t=[],i=0,e=this.boids;i<e.length;i++){var s=e[i];s.isRenderable&&t.push(s.p)}return t},t.prototype.Render=function(t){this.boids.forEach((function(i){i.Render(t)}))},t}(),D=function(){function t(t){this.maxForce=5,this.maxVelocity=5,this.maxSpeed=5,this.mass=10.2,this.isRenderable=!0,this.targetID=0,this.col=!1,this.velocity=new n.h9(0,0,0),this.p=t,this.target=new n.h9(t.x,t.y,t.z)}return t.prototype.InitTarget=function(t){this.targets=t,this.target=this.targets[this.targetID]},t.prototype.Update=function(){this.UpdateTarget(),this.UpdateVecSlowDown2()},t.prototype.UpdateTarget=function(){this.p.Distance(this.target)<9&&(this.targetID++,this.targetID<this.targets.length&&(this.target=this.targets[this.targetID],this.targetID,this.targets.length))},t.prototype.UpdateVec0=function(){this.desiredVelocity=new n.h9(this.target.x-this.p.x,this.target.y-this.p.y,this.target.z-this.p.z),this.desiredVelocity.Unitize(),this.desiredVelocity.x*=this.maxVelocity,this.desiredVelocity.y*=this.maxVelocity,this.desiredVelocity.z*=this.maxVelocity;var t=this.desiredVelocity.x-this.velocity.x<this.maxForce?this.desiredVelocity.x-this.velocity.x:this.maxForce,i=this.desiredVelocity.y-this.velocity.y<this.maxForce?this.desiredVelocity.y-this.velocity.y:this.maxForce,e=this.desiredVelocity.z-this.velocity.z<this.maxForce?this.desiredVelocity.z-this.velocity.z:this.maxForce;this.steering=new n.h9(t/this.mass,i/this.mass,e/this.mass),this.velocity.x=this.velocity.x+this.steering.x<this.maxSpeed?this.velocity.x+this.steering.x:this.maxSpeed,this.velocity.y=this.velocity.y+this.steering.y<this.maxSpeed?this.velocity.y+this.steering.y:this.maxSpeed,this.velocity.z=this.velocity.z+this.steering.z<this.maxSpeed?this.velocity.z+this.steering.z:this.maxSpeed,this.col?(this.p.x+=.8*-this.steering.x,this.p.y+=.8*-this.steering.y,this.p.z+=.8*-this.steering.z):(this.p.x+=this.velocity.x,this.p.y+=this.velocity.y,this.p.z+=this.velocity.z)},t.prototype.UpdateVec1=function(){this.desiredVelocity=new n.h9(this.target.x-this.p.x,this.target.y-this.p.y,this.target.z-this.p.z),this.desiredVelocity.Unitize(),this.desiredVelocity.x*=this.maxVelocity,this.desiredVelocity.y*=this.maxVelocity,this.desiredVelocity.z*=this.maxVelocity;var t=this.desiredVelocity.x-this.velocity.x,i=this.desiredVelocity.y-this.velocity.y,e=this.desiredVelocity.z-this.velocity.z;this.steering=new n.h9(t/this.mass,i/this.mass,e/this.mass),this.velocity.x=this.velocity.x+this.steering.x<this.maxSpeed?this.velocity.x+this.steering.x:this.maxSpeed,this.velocity.y=this.velocity.y+this.steering.y<this.maxSpeed?this.velocity.y+this.steering.y:this.maxSpeed,this.velocity.z=this.velocity.z+this.steering.z<this.maxSpeed?this.velocity.z+this.steering.z:this.maxSpeed,this.col?(this.p.x+=.8*-this.steering.x,this.p.y+=.8*-this.steering.y,this.p.z+=.8*-this.steering.z):(this.p.x+=this.velocity.x,this.p.y+=this.velocity.y,this.p.z+=this.velocity.z)},t.prototype.UpdateVecSlowDown1=function(){this.desiredVelocity=new n.h9(this.target.x-this.p.x,this.target.y-this.p.y,this.target.z-this.p.z),this.desiredVelocity.Unitize(),this.desiredVelocity.x*=this.maxVelocity,this.desiredVelocity.y*=this.maxVelocity,this.desiredVelocity.z*=this.maxVelocity;var t=this.desiredVelocity.x-this.velocity.x,i=this.desiredVelocity.y-this.velocity.y,e=this.desiredVelocity.z-this.velocity.z;if(this.steering=new n.h9(t/this.mass,i/this.mass,e/this.mass),this.velocity.x=this.velocity.x+this.steering.x<this.maxSpeed?this.velocity.x+this.steering.x:this.maxSpeed,this.velocity.y=this.velocity.y+this.steering.y<this.maxSpeed?this.velocity.y+this.steering.y:this.maxSpeed,this.velocity.z=this.velocity.z+this.steering.z<this.maxSpeed?this.velocity.z+this.steering.z:this.maxSpeed,this.col)this.p.x+=.8*-this.steering.x,this.p.y+=.8*-this.steering.y,this.p.z+=.8*-this.steering.z;else{var s=this.maxSpeed/this.velocity.Length();s=s<1?s:1,this.p.x+=this.velocity.x*s,this.p.y+=this.velocity.y*s,this.p.z+=this.velocity.z*s}},t.prototype.UpdateVecSlowDown2=function(){this.desiredVelocity=new n.h9(this.target.x-this.p.x,this.target.y-this.p.y,this.target.z-this.p.z);var t=150,i=this.desiredVelocity.Length();i<t?(this.desiredVelocity.Unitize(),this.desiredVelocity.x*=this.maxVelocity*(i/t),this.desiredVelocity.y*=this.maxVelocity*(i/t),this.desiredVelocity.z*=this.maxVelocity*(i/t)):(this.desiredVelocity.Unitize(),this.desiredVelocity.x*=this.maxVelocity,this.desiredVelocity.y*=this.maxVelocity,this.desiredVelocity.z*=this.maxVelocity);var e=this.desiredVelocity.x-this.velocity.x,s=this.desiredVelocity.y-this.velocity.y,o=this.desiredVelocity.z-this.velocity.z;if(this.steering=new n.h9(e,s,o),this.velocity.x=this.velocity.x+this.steering.x<this.maxSpeed?this.velocity.x+this.steering.x:this.maxSpeed,this.velocity.y=this.velocity.y+this.steering.y<this.maxSpeed?this.velocity.y+this.steering.y:this.maxSpeed,this.velocity.z=this.velocity.z+this.steering.z<this.maxSpeed?this.velocity.z+this.steering.z:this.maxSpeed,this.col)this.p.x+=.8*-this.steering.x,this.p.y+=.8*-this.steering.y,this.p.z+=.8*-this.steering.z;else{var h=this.maxSpeed/this.velocity.Length();h=h<1?h:1,this.p.x+=this.velocity.x*h,this.p.y+=this.velocity.y*h,this.p.z+=this.velocity.z*h}},t.prototype.Render=function(t){this.RenderDesiredVelocity(t),this.RenderCurrentVelocity(t),this.RenderCircle(t)},t.prototype.RenderDesiredVelocity=function(t){t.lineWidth=.5,t.strokeStyle="#00ff00",t.beginPath(),t.moveTo(this.p.x,this.p.y),t.lineTo(this.p.x+20*this.desiredVelocity.x,this.p.y+20*this.desiredVelocity.y),t.closePath(),t.stroke()},t.prototype.RenderCurrentVelocity=function(t){t.lineWidth=.5,t.strokeStyle="#ff0000",t.beginPath(),t.moveTo(this.p.x,this.p.y),t.lineTo(this.p.x+20*this.velocity.x,this.p.y+20*this.velocity.y),t.closePath(),t.stroke()},t.prototype.RenderCircle=function(t){t.strokeStyle="#000000",t.lineWidth=.5,t.beginPath(),t.moveTo(this.targets[0].x,this.targets[0].y);for(var i=1;i<this.targets.length;++i)t.lineTo(this.targets[i].x,this.targets[i].y);t.closePath(),t.stroke(),t.beginPath(),t.arc(this.p.x,this.p.y,10,0,6.28),t.closePath(),t.stroke()},t.list=[],t}(),A=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),V=function(t){function i(i){var e=t.call(this,i)||this;return e.mouse=[0,0],e.indeCanvas.title="BoidSystem01",e.init(),e}return A(i,t),i.prototype.init=function(){var t=S.GetRandomPath(0,0,this.width,this.height);this.BoidContoller1=new R(t)},i.prototype.RenderIndependentCanvas=function(t){t.fillStyle="#eeeeee",t.beginPath(),t.rect(0,0,t.canvas.width,t.canvas.height),t.closePath(),t.fill(),this.BoidContoller1.Update(),this.BoidContoller1.Render(t),this.Circle(t)},i.prototype.MouseMove=function(t,i){this.mouse=[t,i]},i.prototype.MouseDown=function(){this.BoidContoller1.AddAgent(this.mouse[0],this.mouse[1])},i.prototype.Circle=function(t){for(var i=0;i<6.28;i+=.5)for(var e=0;e<3.14;e+=.5){var s=50*Math.cos(i)*Math.sin(e),n=50*Math.sin(i)*Math.sin(e);t.beginPath(),t.arc(s,n,2,0,6.28),t.closePath(),t.fill()}},i}(c),I=function(){function t(){this.boids=[],this.boids=[]}return t.prototype.AddAgent=function(t,i,e,s){var o=new O(new n.h9(t,i),new n.h9(0,0),new n.h9(e,s));this.boids.push(o)},t.prototype.Update=function(){for(var t=0,i=this.boids;t<i.length;t++)i[t].Update()},t.prototype.GetPoint=function(){for(var t=[],i=0,e=this.boids;i<e.length;i++){var s=e[i];s.isRenderable&&t.push(s.p)}return t},t.prototype.Render=function(t){this.boids.forEach((function(i){i.Render(t)}))},t}(),O=function(){function t(i,e,s){this.maxForce=2,this.maxVelocity=2,this.maxSpeed=.9,this.mass=100.2,this.isRenderable=!0,this.targetID=0,this.col=!1,this.velocity=new n.h9(0,0,0),this.wanderAngle=0,this.CIRCLE_DISTANCE=50,this.CIRCLE_RADIUS=50,this.ANGLE_CHANGE=15,this.t=0,this.MAX_QUEUE_AHEAD=15,this.MAX_QUEUE_RADIUS=10,this.trajectory=[],this.timerTrajectory=0,t.list.push(this),this.p=i,this.p0=e,this.p1=s,this.UpdateTarget()}return t.prototype.Update=function(){this.UpdateVec1()},t.prototype.UpdateTarget=function(){var t=n.$H.GetRandomInt(this.p0.x,this.p1.x),i=n.$H.GetRandomInt(this.p0.y,this.p1.y);this.target=new n.h9(t,i)},t.prototype.UpdateVec1=function(){this.desiredVelocity=new n.h9(this.target.x-this.p.x,this.target.y-this.p.y,this.target.z-this.p.z),this.desiredVelocity.Unitize(),this.desiredVelocity.x*=this.maxVelocity,this.desiredVelocity.y*=this.maxVelocity,this.desiredVelocity.z*=this.maxVelocity;var t=this.desiredVelocity.x-this.velocity.x<this.maxForce?this.desiredVelocity.x-this.velocity.x:this.maxForce,i=this.desiredVelocity.y-this.velocity.y<this.maxForce?this.desiredVelocity.y-this.velocity.y:this.maxForce,e=this.desiredVelocity.z-this.velocity.z<this.maxForce?this.desiredVelocity.z-this.velocity.z:this.maxForce;this.steering=new n.h9(t/this.mass,i/this.mass,e/this.mass),this.velocity.x=this.velocity.x+this.steering.x<this.maxSpeed?this.velocity.x+this.steering.x:this.maxSpeed,this.velocity.y=this.velocity.y+this.steering.y<this.maxSpeed?this.velocity.y+this.steering.y:this.maxSpeed,this.velocity.z=this.velocity.z+this.steering.z<this.maxSpeed?this.velocity.z+this.steering.z:this.maxSpeed,this.Queue(),this.p.x+=this.velocity.x,this.p.y+=this.velocity.y,this.p.z+=this.velocity.z,this.t+=.01,this.t>3&&(this.t=0,this.UpdateTarget())},t.prototype.UpdateVec0=function(){this.steering=this.Wander(new n.h9(this.velocity.x,this.velocity.y,this.velocity.z)),this.steering.x=this.steering.x<this.maxForce?this.steering.x:this.maxForce,this.steering.y=this.steering.y<this.maxForce?this.steering.y:this.maxForce,this.steering.z=this.steering.z<this.maxForce?this.steering.z:this.maxForce,this.steering.x/=this.mass,this.steering.y/=this.mass,this.steering.z/=this.mass,this.velocity.x+this.steering.x<this.maxSpeed?this.velocity.x=this.velocity.x+this.steering.x:this.velocity.x=this.maxSpeed,this.velocity.y+this.steering.y<this.maxSpeed?this.velocity.y=this.velocity.y+this.steering.y:this.velocity.y=this.maxSpeed,this.velocity.z+this.steering.z<this.maxSpeed?this.velocity.z=this.velocity.z+this.steering.z:this.velocity.z=this.maxSpeed,this.Queue(),console.log(this.maxSpeed),this.p.x+=this.velocity.x,this.p.y+=this.velocity.y,this.p.z+=this.velocity.z},t.prototype.Wander=function(t){var i=new n.h9(t.x,t.y,t.z);i.Normalize(),i.Scale(this.CIRCLE_DISTANCE);var e=new n.h9(0,-1);return e.Scale(this.CIRCLE_RADIUS),e=this.SetAngle(e,this.wanderAngle),this.wanderAngle+=Math.random()*this.ANGLE_CHANGE-.5*this.ANGLE_CHANGE,i.Add(e)},t.prototype.SetAngle=function(t,i){var e=t.Length();return t.x=Math.cos(i)*e,t.y=Math.sin(i)*e,t},t.prototype.GetNeighborAhead=function(){var i=void 0,e=this.velocity.Clone();e.Normalize(),e.Scale(this.MAX_QUEUE_AHEAD);for(var s=this.p.Clone().Add(e),o=0;o<t.list.length;o++){var h=t.list[o],r=n.h9.Distance(s,h.p);if(h!==this&&r<=this.MAX_QUEUE_RADIUS){i=h;break}}return i},t.prototype.Queue=function(){return void 0!==this.GetNeighborAhead()&&this.velocity.Scale(.3),new n.h9(0,0)},t.prototype.Render=function(t){this.RenderCircle(t)},t.prototype.RenderDesiredVelocity=function(t){},t.prototype.RenderCurrentVelocity=function(t){},t.prototype.RenderCircle=function(t){this.timerTrajectory+=1,this.timerTrajectory%5==0&&(this.trajectory.length>30&&this.trajectory.shift(),this.trajectory.push(new n.h9(this.p.x,this.p.y)),this.timerTrajectory=0);for(var i=0;i<this.trajectory.length;++i)t.fillStyle="rgba(100, 100, 100 ,0.1)",t.beginPath(),t.arc(this.trajectory[i].x,this.trajectory[i].y,.2*i,0,6.28),t.closePath(),t.fill();t.strokeStyle="#000000",t.lineWidth=.5,t.fillStyle="#000000",t.beginPath(),t.arc(this.p.x,this.p.y,2.5,0,6.28),t.closePath(),t.fill(),t.beginPath(),t.arc(this.p.x,this.p.y,10,0,6.28),t.closePath(),t.stroke()},t.list=[],t}(),k=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),z=function(t){function i(i){var e=t.call(this,i)||this;return e.mouse=[0,0],e.dragTime=0,e.indeCanvas.title="BoidSystem01",e.init(),e}return k(i,t),i.prototype.init=function(){this.BoidContoller=new I},i.prototype.RenderIndependentCanvas=function(t){t.fillStyle="#eeeeee",t.beginPath(),t.rect(0,0,t.canvas.width,t.canvas.height),t.closePath(),t.fill(),this.BoidContoller.Update(),this.BoidContoller.Render(t)},i.prototype.MouseMove=function(t,i){this.mouse=[t,i]},i.prototype.MouseDown=function(){this.BoidContoller.AddAgent(this.mouse[0],this.mouse[1],this.width,this.height)},i.prototype.MouseDrag=function(t,i){this.dragTime>5&&(this.BoidContoller.AddAgent(t,i,this.width,this.height),this.dragTime=0),this.dragTime++},i}(c),E=function(){function t(){this.boids=[],this.boids=[]}return t.prototype.AddAgent=function(t,i,e,s){var o=new B(new n.h9(t,i),new n.h9(0,0),new n.h9(e,s));this.boids.push(o)},t.prototype.Update=function(){for(var t=0,i=this.boids;t<i.length;t++)i[t].Update()},t.prototype.UpdateTarget=function(t,i){for(var e=0,s=this.boids;e<s.length;e++){var n=s[e];n.target.x=t,n.target.y=i}},t.prototype.GetPoint=function(){for(var t=[],i=0,e=this.boids;i<e.length;i++){var s=e[i];s.isRenderable&&t.push(s.p)}return t},t.prototype.Render=function(t){this.boids.forEach((function(i){i.Render(t)}))},t}(),B=function(){function t(i,e,s){this.maxForce=2,this.maxVelocity=2,this.maxSpeed=.9,this.mass=100.2,this.isRenderable=!0,this.targetID=0,this.col=!1,this.velocity=new n.h9(0,0,0),this.wanderAngle=0,this.CIRCLE_DISTANCE=50,this.CIRCLE_RADIUS=50,this.ANGLE_CHANGE=15,this.t=0,this.MAX_QUEUE_AHEAD=15,this.MAX_QUEUE_RADIUS=15,this.SEPARATION_RADIUS=10,this.MAX_SEPARATION=.5,t.list.push(this),this.p=i,this.p0=e,this.p1=s,this.UpdateTarget()}return t.prototype.Update=function(){this.UpdateVec1()},t.prototype.UpdateTarget=function(){var t=n.$H.GetRandomInt(this.p0.x,this.p1.x),i=n.$H.GetRandomInt(this.p0.y,this.p1.y);this.target=new n.h9(t,i)},t.prototype.UpdateVec1=function(){this.desiredVelocity=new n.h9(this.target.x-this.p.x,this.target.y-this.p.y,this.target.z-this.p.z),this.desiredVelocity.Unitize(),this.desiredVelocity.x*=this.maxVelocity,this.desiredVelocity.y*=this.maxVelocity,this.desiredVelocity.z*=this.maxVelocity;var t=this.desiredVelocity.x-this.velocity.x<this.maxForce?this.desiredVelocity.x-this.velocity.x:this.maxForce,i=this.desiredVelocity.y-this.velocity.y<this.maxForce?this.desiredVelocity.y-this.velocity.y:this.maxForce,e=this.desiredVelocity.z-this.velocity.z<this.maxForce?this.desiredVelocity.z-this.velocity.z:this.maxForce;this.steering=new n.h9(t/this.mass,i/this.mass,e/this.mass),this.velocity.x=this.velocity.x+this.steering.x<this.maxSpeed?this.velocity.x+this.steering.x:this.maxSpeed,this.velocity.y=this.velocity.y+this.steering.y<this.maxSpeed?this.velocity.y+this.steering.y:this.maxSpeed,this.velocity.z=this.velocity.z+this.steering.z<this.maxSpeed?this.velocity.z+this.steering.z:this.maxSpeed,this.Queue(),this.p.x+=this.velocity.x,this.p.y+=this.velocity.y,this.p.z+=this.velocity.z,this.t+=.01,this.t>3&&(this.t=0)},t.prototype.Queue=function(){var t=this.GetNeighborAhead();return void 0!==t&&this.BrakingForceOverlap(t),new n.h9(0,0)},t.prototype.BrakingForceOverlap=function(t){var i=new n.h9(0,0);i.x=.8*-this.steering.x,i.y=.8*-this.steering.y,this.velocity.Scale(-1),i=i.Add(this.velocity),n.h9.Distance(this.p,t.p)<=this.MAX_QUEUE_RADIUS?this.velocity.Scale(.3):this.velocity=i},t.prototype.HardStop=function(){this.velocity.Scale(.3)},t.prototype.BrakingForce=function(){var t=new n.h9(0,0);t.x=.8*-this.steering.x,t.y=.8*-this.steering.y,this.velocity.Scale(-1),t=t.Add(this.velocity),this.velocity=t},t.prototype.GetNeighborAhead=function(){var i=void 0,e=this.velocity.Clone();e.Normalize(),e.Scale(this.MAX_QUEUE_AHEAD);for(var s=this.p.Clone().Add(e),o=0;o<t.list.length;o++){var h=t.list[o],r=n.h9.Distance(s,h.p);if(h!==this&&r<=this.MAX_QUEUE_RADIUS){i=h;break}}return i},t.prototype.Separation=function(){for(var i=new n.h9(0,0),e=0,s=0;s<t.list.length;s++){var o=t.list[s];o!==this&&n.h9.Distance(o.p,this.p)<=this.SEPARATION_RADIUS&&(i.x+=o.p.x-this.p.x,i.y+=o.p.y-this.p.y,i.z+=o.p.z-this.p.z,e++)}return 0!==e&&(i.x/=e,i.y/=e,i.z/=e,i.Scale(-1)),i.Normalize(),i.Scale(this.MAX_SEPARATION),i},t.prototype.Render=function(t){this.RenderCircle(t)},t.prototype.RenderDesiredVelocity=function(t){},t.prototype.RenderCurrentVelocity=function(t){},t.prototype.RenderCircle=function(t){t.strokeStyle="#000000",t.lineWidth=.5,t.beginPath(),t.arc(this.p.x,this.p.y,10,0,6.28),t.closePath(),t.stroke()},t.list=[],t}(),L=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),T=function(t){function i(i){var e=t.call(this,i)||this;return e.mouse=[0,0],e.indeCanvas.title="BoidSystem01",e.init(),e}return L(i,t),i.prototype.init=function(){this.BoidContoller=new E},i.prototype.RenderIndependentCanvas=function(t){t.fillStyle="#eeeeee",t.beginPath(),t.rect(0,0,t.canvas.width,t.canvas.height),t.closePath(),t.fill(),this.BoidContoller.Update(),this.BoidContoller.Render(t)},i.prototype.MouseMove=function(t,i){this.mouse=[t,i],this.BoidContoller.UpdateTarget(t,i)},i.prototype.MouseDown=function(){this.BoidContoller.AddAgent(this.mouse[0],this.mouse[1],this.width,this.height)},i}(c),N=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),U=function(t){function i(i){var e=t.call(this,i)||this;return e.mouse=[0,0],e.lines=[],e.indeCanvas.title="BoidSystem04",e.init(),e}return N(i,t),i.prototype.init=function(){this.lines.push(new F(10,10,50,50))},i.prototype.RenderIndependentCanvas=function(t){t.fillStyle="#eeeeee",t.beginPath(),t.rect(0,0,t.canvas.width,t.canvas.height),t.closePath(),t.fill();for(var i=0,e=this.lines;i<e.length;i++)e[i].Render(t)},i.prototype.MouseMove=function(t,i){this.mouse=[t,i]},i.prototype.MouseDown=function(){this.lines.length>5&&this.lines.shift();var t=this.lines[this.lines.length-1].p1;this.lines.push(new F(t[0],t[1],this.mouse[0],this.mouse[1]))},i}(c),F=function(){function t(t,i,e,s){this.p0=[t,i],this.p1=[e,s]}return t.prototype.Render=function(t){t.strokeStyle="red",t.beginPath(),t.moveTo(this.p0[0],this.p0[1]),t.lineTo(this.p1[0],this.p1[1]),t.closePath(),t.stroke()},t}(),j=function(){function t(t,i,e,s){void 0===s&&(s=1),this.velocity=new n.h9(0,0,0),this.force=new n.h9(0,.01,0),this.gravity=new n.h9(0,.95,0),this.v=new n.h9(0,0,0),this.r=10,this.m=.1,this.v=new n.h9(t,i,0),this.m=s}return t.prototype.Update=function(t,i,e,s){this.velocity.Add(this.gravity),this.velocity.Mult(s),this.force.Mult(e/this.m),this.velocity.Add(this.force),this.v.x+=this.velocity.x*e,this.v.y+=this.velocity.y*e,this.v.z+=this.velocity.z*e,this.UpdateEdge(t,i)},t.prototype.UpdateEdge=function(t,i){(this.v.x>t||this.v.x<0)&&(this.velocity.x=-1*this.velocity.x),this.v.y>i&&(this.velocity.y=-.95*this.velocity.y,this.v.y=i)},t.prototype.Render=function(t){t.beginPath(),t.arc(this.v.x,this.v.y,this.r,0,2*Math.PI),t.closePath(),t.fill()},t}(),H=e(2886),W=function(){function t(t,i,e,s,n,o){void 0===o&&(o=!1),this.scene=t,this.width=s,this.height=n,this.body=H.Bodies.rectangle(i,e,s,n,{isStatic:o,restitution:.5,friction:.5}),H.World.add(this.scene.world,this.body)}return t.prototype.Render=function(t){this.angle=this.body.angle,this.position=this.body.position,this.DrawRectByCen(t,this.position.x,this.position.y,this.width,this.height,this.angle)},t.prototype.DrawRectByCen=function(t,i,e,s,n,o){var h=.5*s,r=.5*n;t.save(),t.translate(this.position.x,this.position.y),t.rotate(o),t.beginPath(),t.rect(-h,-r,this.width,this.height),t.fill(),t.restore()},t}(),G=function(){function t(t){this.t=0,this.MBoxes=[],this.Dynamic01=t,this.dNode=new j(100,100,0),this.InitMatter()}return t.prototype.InitMatter=function(){var t=this;this.engine=H.Engine.create(),this.world=this.engine.world,H.Engine.run(this.engine),this.MBoxes.push(new W(this,0,400,500,50,!0)),this.MBoxes.push(new W(this,100,100,50,50)),setInterval((function(){t.MouseDown(100+10*(Math.random()-.5),0)}),1e3)},t.prototype.Update=function(){this.dNode.Update(this.Dynamic01.width,this.Dynamic01.height,this.t,.9),this.t+=.1},t.prototype.MouseDown=function(t,i){this.MBoxes.push(new W(this,t,i,100*Math.random(),100*Math.random()))},t.prototype.MouseDrag=function(t,i){this.MBoxes.push(new W(this,t,i,100*Math.random(),100*Math.random()))},t.prototype.Render=function(t){this.dNode.Render(t);for(var i=0;i<this.MBoxes.length;++i)this.MBoxes[i].Render(t)},t}(),X=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),Y=function(t){function i(i){var e=t.call(this,i)||this;return e.mouse=[0,0],e.indeCanvas.title="Dynamic01",console.log("init Dynamic01 ,"),e.init(),e}return X(i,t),i.prototype.init=function(){this.DynamicSystem=new G(this)},i.prototype.RenderIndependentCanvas=function(t){this.DynamicSystem.Update(),this.DynamicSystem.Render(t)},i.prototype.MouseMove=function(t,i){this.mouse=[t,i]},i.prototype.MouseDrag=function(t,i){this.DynamicSystem.MouseDrag(t,i)},i.prototype.MouseDown=function(t,i){this.DynamicSystem.MouseDown(t,i)},i}(c),q=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),Q=function(t){function i(i){var e=t.call(this,i)||this;return e.mouse=[0,0],e.indeCanvas.title="Dynamic02",console.log("init Dynamic02"),e.init(),e}return q(i,t),i.prototype.init=function(){this.DynamicSystem=new G(this)},i.prototype.RenderIndependentCanvas=function(t){this.DynamicSystem.Update(),this.DynamicSystem.Render(t)},i.prototype.MouseMove=function(t,i){this.mouse=[t,i]},i.prototype.MouseDown=function(){},i}(c),K=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),J=function(t){function i(i){var e=t.call(this,i)||this;return e.mouse=[0,0],e.indeCanvas.title="Dynamic03",console.log("init Dynamic03"),e.init(),e}return K(i,t),i.prototype.init=function(){this.DynamicSystem=new G(this)},i.prototype.RenderIndependentCanvas=function(t){this.DynamicSystem.Update(),this.DynamicSystem.Render(t)},i.prototype.MouseMove=function(t,i){this.mouse=[t,i]},i.prototype.MouseDown=function(){},i}(c),$=function(){function t(t){this.scene=t}return t.prototype.Render=function(t){},t}(),Z=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),tt=function(t){function i(i,e,s,n,o,h){void 0===h&&(h=!1);var r=t.call(this,i)||this;return r.width=n,r.height=o,r.body=H.Bodies.rectangle(e,s,n,o,{isStatic:h,restitution:.5,friction:.5}),H.World.add(r.scene.world,r.body),r}return Z(i,t),i.prototype.Render=function(t){this.angle=this.body.angle,this.position=this.body.position,this.DrawRectByCen(t,this.position.x,this.position.y,this.width,this.height,this.angle)},i.prototype.DrawRectByCen=function(t,i,e,s,n,o){var h=.5*s,r=.5*n;t.save(),t.translate(this.position.x,this.position.y),t.rotate(o),t.beginPath(),t.rect(-h,-r,this.width,this.height),t.fill(),t.restore()},i}($),it=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),et=function(t){function i(i,e,s,n,o){void 0===o&&(o=!1);var h=t.call(this,i)||this;return h.radius=n,h.body=H.Bodies.circle(e,s,h.radius,{isStatic:o,restitution:.5,friction:.5}),H.World.add(h.scene.world,h.body),h}return it(i,t),i.prototype.Render=function(t){this.angle=this.body.angle,this.position=this.body.position,this.DrawCircle(t,this.position.x,this.position.y,this.radius,this.angle)},i.prototype.DrawCircle=function(t,i,e,s,n){t.save(),t.translate(i,e),t.rotate(n),t.beginPath(),t.arc(0,0,this.radius,0,2*Math.PI),t.fill(),t.restore()},i}($),st=function(){function t(t){this.t=0,this.MBoxes=[],this.MatterSandbox=t,this.InitMatter()}return t.prototype.InitMatter=function(){var t=this;this.engine=H.Engine.create(),this.world=this.engine.world,H.Engine.run(this.engine),this.MBoxes.push(new tt(this,0,400,500,50,!0)),this.MBoxes.push(new tt(this,100,100,50,50)),setInterval((function(){t.MouseDown(100+10*(Math.random()-.5),0)}),1e3)},t.prototype.Update=function(){},t.prototype.MouseDown=function(t,i){this.MBoxes.push(new et(this,t,i,100*Math.random()))},t.prototype.MouseDrag=function(t,i){this.MBoxes.push(new tt(this,t,i,100*Math.random(),100*Math.random()))},t.prototype.Render=function(t){for(var i=0;i<this.MBoxes.length;++i)this.MBoxes[i].Render(t)},t}(),nt=function(t){this.MatterSandbox=t},ot=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),ht=function(t){function i(i){var e=t.call(this,i)||this;return e.mouse=[0,0],e.indeCanvas.title="MatterSandbox",console.log("init MatterSandbox"),e.core=new nt(e),e.init(),e}return ot(i,t),i.prototype.init=function(){this.sceneMatter=new st(this)},i.prototype.RenderIndependentCanvas=function(t){this.sceneMatter.Update(),this.sceneMatter.Render(t)},i.prototype.MouseMove=function(t,i){this.mouse=[t,i]},i.prototype.MouseDrag=function(t,i){this.sceneMatter.MouseDrag(t,i)},i.prototype.MouseDown=function(t,i){this.sceneMatter.MouseDown(t,i)},i}(c),rt=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),ct=function(t){function i(i){var e=t.call(this,i)||this;return e.mouse=[0,0],e.indeCanvas.title="OOP",e.init(),e}return rt(i,t),i.prototype.init=function(){this.p=new pt(100,100,10),console.log("oop init")},i.prototype.RenderIndependentCanvas=function(t){console.log("oop loop"),this.p.Render(t),console.log(this.p.age)},i.prototype.MouseMove=function(t,i){this.mouse=[t,i]},i.prototype.MouseDown=function(){},i}(c),pt=function(){function t(t,i,e){this.age=t,this.height=i,this.weight=e}return t.prototype.Render=function(t){t.beginPath(),t.arc(this.age,this.height,this.weight,0,6.28),t.closePath(),t.fill(),this.age+=.01,this.age>102&&this.Compute()},t.prototype.Compute=function(){this.height+=.1},t}(),at=function(t,i,e,s,n,o,h,r){var c=n*s*(o-2)*(o-2);lt(t,i,e,c,1+6*c,o,h,r)},lt=function(t,i,e,s,n,o,h,r){for(var c=1/n,p=0;p<h;p++){for(var a=1;a<o-1;a++)for(var l=1;l<o-1;l++)i[ut(l,a,o)]=(e[ut(l,a,o)]+s*(i[ut(l+1,a,o)]+i[ut(l-1,a,o)]+i[ut(l,a+1,o)]+i[ut(l,a-1,o)]))*c;yt(t,i,o,r)}},ut=function(t,i,e){return t+i*e},ft=function(t,i,e,s,n,o,h){for(var r=1;r<n-1;r++)for(var c=1;c<n-1;c++)s[ut(c,r,n)]=-.5*(t[ut(c+1,r,n)]-t[ut(c-1,r,n)]+i[ut(c,r+1,n)]-i[ut(c,r-1,n)])/n,e[ut(c,r,n)]=0;for(yt(0,s,n,h),yt(0,e,n,h),lt(0,e,s,1,6,n,o,h),r=1;r<n-1;r++)for(c=1;c<n-1;c++)t[ut(c,r,n)]-=.5*(e[ut(c+1,r,n)]-e[ut(c-1,r,n)])*n,i[ut(c,r,n)]-=.5*(e[ut(c,r+1,n)]-e[ut(c,r-1,n)])*n;yt(1,t,n,h),yt(2,i,n,h)},dt=function(t,i,e,s,n,o,h,r){var c,p,a,l,u,f,d,y,v,x,g,m,C,M,w=o*(h-2),P=o*(h-2),b=h-2;for(M=1,m=1;M<h-1;M++,m++)for(C=1,g=1;C<h-1;C++,g++){y=w*s[ut(C,M,h)],x=m-P*n[ut(C,M,h)],(v=g-y)<.5&&(v=.5),v>b+.5&&(v=b+.5),p=(c=Math.floor(v))+1,x<.5&&(x=.5),x>b+.5&&(x=b+.5),l=1-(u=v-c),f=1-(d=x-(a=Math.floor(x)));var _=c,S=p,R=a,D=a+1;i[ut(C,M,h)]=l*(f*e[ut(_,R,h)]+d*e[ut(_,D,h)])+u*(f*e[ut(S,R,h)]+d*e[ut(S,D,h)])}yt(t,i,h,r)},yt=function(t,i,e,s){for(var n=1;n<e-1;n++)i[ut(n,0,e)]=2===t?-i[ut(n,1,e)]:i[ut(n,1,e)],i[ut(n,e-1,e)]=2===t?-i[ut(n,e-2,e)]:i[ut(n,e-2,e)];for(var o=1;o<e-1;o++)i[ut(0,o,e)]=1===t?-i[ut(1,o,e)]:i[ut(1,o,e)],i[ut(e-1,o,e)]=1===t?-i[ut(e-2,o,e)]:i[ut(e-2,o,e)];for(i[ut(0,0,e)]=.5*(i[ut(1,0,e)]+i[ut(0,1,e)]),i[ut(0,e-1,e)]=.5*(i[ut(1,e-1,e)]+i[ut(0,e-2,e)]),i[ut(e-1,0,e)]=.5*(i[ut(e-2,0,e)]+i[ut(e-1,1,e)]),i[ut(e-1,e-1,e)]=.5*(i[ut(e-2,e-1,e)]+i[ut(e-1,e-2,e)]),i[ut(Math.floor(.5*e),0,e)]=0,i[ut(Math.floor(.5*e),1,e)]=0,i[ut(Math.floor(.5*e),2,e)]=0,i[ut(Math.floor(.5*e),3,e)]=0,i[ut(Math.floor(.5*e),4,e)]=0,i[ut(Math.floor(.5*e),5,e)]=0,i[ut(Math.floor(.5*e),6,e)]=0,i[ut(Math.floor(.5*e),7,e)]=0,i[ut(Math.floor(.5*e),e-1,e)]=0,i[ut(Math.floor(.5*e),e-2,e)]=0,i[ut(Math.floor(.5*e),e-3,e)]=0,i[ut(Math.floor(.5*e),e-4,e)]=0,i[ut(Math.floor(.5*e),e-5,e)]=0,i[ut(Math.floor(.5*e),e-6,e)]=0,i[ut(Math.floor(.5*e),e-7,e)]=0,i[ut(Math.floor(.5*e),e-8,e)]=0,n=0;n<s.length;++n)i[ut(s[n][0],s[n][1],e)]=0},vt=e(5945),xt=function(){function t(t,i,e){this.N=100,this.iter=16,this.SCALE=4,this.t=0,this.visScale=.01,this.cellFixed=[],this.dt=t,this.diff=i,this.visc=e,this.s=new Float32Array(this.N*this.N).fill(0),this.density=new Float32Array(this.N*this.N).fill(.01),this.Vx=new Float32Array(this.N*this.N).fill(0),this.Vx0=new Float32Array(this.N*this.N).fill(0),this.Vy=new Float32Array(this.N*this.N).fill(0),this.Vy0=new Float32Array(this.N*this.N).fill(0)}return t.prototype.step=function(){var t=this.visc,i=this.diff,e=this.dt,s=this.Vx,n=this.Vy,o=this.Vx0,h=this.Vy0,r=this.s,c=this.density;at(1,o,s,t,e,this.N,this.iter,this.cellFixed),at(2,h,n,t,e,this.N,this.iter,this.cellFixed),ft(o,h,s,n,this.N,this.iter,this.cellFixed),dt(1,s,o,o,h,e,this.N,this.cellFixed),dt(2,n,h,o,h,e,this.N,this.cellFixed),ft(s,n,o,h,this.N,this.iter,this.cellFixed),at(0,r,c,i,e,this.N,this.iter,this.cellFixed),dt(0,c,r,s,n,e,this.N,this.cellFixed)},t.prototype.addDensity=function(t,i,e){var s=ut(t,i,this.N);this.density[s]+=e},t.prototype.addVelocity=function(t,i,e,s){var n=ut(t,i,this.N);this.Vx[n]+=e,this.Vy[n]+=s},t.prototype.renderD=function(t){for(var i=0;i<this.N;i++)for(var e=0;e<this.N;e++){var s=i*this.SCALE,n=e*this.SCALE,o=this.density[ut(i,e,this.N)];if(0===o)t.fillStyle="rgb(255, 255, 255)";else{var h=(0,vt.GM)(o*this.visScale);t.fillStyle="rgb("+h[0]+", "+h[1]+","+h[2]+")"}t.beginPath(),t.rect(s,n,this.SCALE,this.SCALE),t.fill(),t.lineWidth=.2,t.strokeStyle="#ff0000"}},t.prototype.renderV=function(t){for(var i=0;i<this.N;i++)for(var e=0;e<this.N;e++){var s=i*this.SCALE,n=e*this.SCALE,o=this.Vx[ut(i,e,this.N)],h=this.Vy[ut(i,e,this.N)];Math.abs(o)<.1&&Math.abs(h)<=.1||(t.lineWidth=2,t.beginPath(),t.moveTo(s,n),t.lineTo(s+o*this.SCALE,n+h*this.SCALE),t.stroke())}},t}(),gt=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),mt=function(t){function i(i){var e=t.call(this,i)||this;e.t=0,e.vecs=[],e.emmiters=[],e.xx=1,e.yy=1,e.init(),e.initUI();var s=new Image;return s.src="https://raw.githubusercontent.com/NamjuLee/data/master/img/Boston_02.jpg",s.setAttribute("crossOrigin",""),s.onload=function(){e.img=s;var t=document.createElement("canvas").getContext("2d");if(t){t.drawImage(s,0,0,e.fluid.N,e.fluid.N);var i=t.getImageData(0,0,e.fluid.N,e.fluid.N);if(i)for(var n=0;n<e.fluid.N;++n)for(var o=0;o<e.fluid.N;++o)i.data[4*(o+e.fluid.N*n)]<200&&e.fluid.cellFixed.push([o,n])}},e}return gt(i,t),i.prototype.initUI=function(){var t=this,i=document.createElement("div");i.style.position="absolute",i.style.left="450px",i.style.height="50px",this.indeCanvas.bodyDiv.divHost.appendChild(i);var e=document.createElement("button");e.textContent="Reset",e.style.width="60px",e.style.height="20px",e.onclick=function(){t.init()},i.appendChild(e);var s=document.createElement("div");s.innerHTML="time",s.style.height="50px",s.style.width="100px",i.appendChild(s);var n=document.createElement("input");n.type="range",n.min="0.0001",n.max="0.7",n.step="0.0001",n.oninput=function(){var i=+n.value;t.fluid.dt=i,console.log("this.fluid.visScale",t.fluid.visScale)},s.appendChild(n);var o=document.createElement("div");o.innerHTML="Vis Scale",o.style.height="50px",o.style.width="100px",i.appendChild(o);var h=document.createElement("input");h.type="range",h.min="0.000001",h.max="0.8",h.step="0.00001",h.oninput=function(){var i=+h.value;t.fluid.visScale=i,console.log("this.fluid.visScale",t.fluid.visScale)},o.appendChild(h);var r=document.createElement("div");r.innerHTML="Viscosity",r.style.height="50px",r.style.width="100px",i.appendChild(r);var c=document.createElement("input");c.type="range",c.min="0.000000",c.max="0.0001",c.step="0.0000001",c.oninput=function(){var i=+c.value;t.fluid.visc=i,console.log("this.fluid.visScale",t.fluid.visScale)},r.appendChild(c);var p=document.createElement("div");p.innerHTML="rotation",p.style.height="50px",p.style.width="100px",i.appendChild(p);var a=document.createElement("input");a.type="range",a.min="0.000000",a.max="360",a.step="0.0000001",a.oninput=function(){var i=+a.value;t.rotation(i),console.log("val",i)},p.appendChild(a);var l=document.createElement("div");l.innerHTML="rotation",l.style.height="50px",l.style.width="100px",this.divText=l,i.appendChild(l);var u=document.createElement("div");u.innerHTML="Ref:<br>Fluid Simulation <br>By Daniel Shiffman",u.style.height="50px",u.style.width="300px",u.style.fontSize="14px",i.appendChild(u),this.emmiters.push([Math.floor(.5*this.fluid.N),Math.floor(.5*this.fluid.N)])},i.prototype.init=function(){this.fluid=new xt(.02,0,1e-7),this.emmiters=[],this.emmiters.push([Math.floor(.5*this.fluid.N),Math.floor(.5*this.fluid.N)])},i.prototype.RenderIndependentCanvas=function(t){for(var i=0;i<this.emmiters.length;++i)for(var e=this.emmiters[i][0],s=this.emmiters[i][1],n=-1;n<=1;n++)for(var o=-1;o<=1;o++)this.fluid.addDensity(e+n,s+o,5*Math.random());for(i=0;i<this.emmiters.length;++i)for(e=this.emmiters[i][0],s=this.emmiters[i][1],n=0;n<2;n++)this.fluid.addVelocity(e,s,this.xx,this.yy);this.fluid.step(),this.fluid.renderD(t)},i.prototype.MouseLeftClick=function(t,i){var e=Math.floor(t/this.fluid.SCALE),s=Math.floor(i/this.fluid.SCALE);this.emmiters.push([e,s])},i.prototype.MouseDrag=function(t,i){var e=Math.floor(t/this.fluid.SCALE),s=Math.floor(i/this.fluid.SCALE);this.fluid.cellFixed.push([e,s])},i.prototype.rotation=function(t){var i=t*Math.PI/180;this.xx=Math.cos(i),this.yy=Math.sin(i)},i.prototype.MouseMove=function(t,i){var e=Math.floor(t/this.fluid.SCALE),s=Math.floor(i/this.fluid.SCALE),n=this.fluid.density[e+s*this.fluid.N];n&&(this.divText.innerHTML=""+n)},i}(c),Ct=function(){function t(t,i,e){this.x=t,this.y=i,this.z=e}return t.prototype.dot2=function(t,i){return this.x*t+this.y*i},t.prototype.dot3=function(t,i,e){return this.x*t+this.y*i+this.z*e},t}(),Mt=[new Ct(1,1,0),new Ct(-1,1,0),new Ct(1,-1,0),new Ct(-1,-1,0),new Ct(1,0,1),new Ct(-1,0,1),new Ct(1,0,-1),new Ct(-1,0,-1),new Ct(0,1,1),new Ct(0,-1,1),new Ct(0,1,-1),new Ct(0,-1,-1)],wt=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],Pt=new Array(512),bt=new Array(512),_t=1/6;Math.sqrt(3),Math.sqrt(3),function(t){t>0&&t<1&&(t*=65536),(t=Math.floor(t))<256&&(t|=t<<8);for(var i=0;i<256;i++){var e;e=1&i?wt[i]^255&t:wt[i]^t>>8&255,Pt[i]=Pt[i+256]=e,bt[i]=bt[i+256]=Mt[e%12]}}(0);var St,Rt=function(t,i,e){var s,n,o,h,r,c,p=.3333333333333333*(t+i+e),a=Math.floor(t+p),l=Math.floor(i+p),u=Math.floor(e+p),f=(a+l+u)*_t,d=t-a+f,y=i-l+f,v=e-u+f;d>=y?y>=v?(s=1,n=0,o=0,h=1,r=1,c=0):d>=v?(s=1,n=0,o=0,h=1,r=0,c=1):(s=0,n=0,o=1,h=1,r=0,c=1):y<v?(s=0,n=0,o=1,h=0,r=1,c=1):d<v?(s=0,n=1,o=0,h=0,r=1,c=1):(s=0,n=1,o=0,h=1,r=1,c=0);var x=d-s+_t,g=y-n+_t,m=v-o+_t,C=d-h+2*_t,M=y-r+2*_t,w=v-c+2*_t,P=d-1+.5,b=y-1+.5,_=v-1+.5,S=bt[(a&=255)+Pt[(l&=255)+Pt[u&=255]]],R=bt[a+s+Pt[l+n+Pt[u+o]]],D=bt[a+h+Pt[l+r+Pt[u+c]]],A=bt[a+1+Pt[l+1+Pt[u+1]]],V=.6-d*d-y*y-v*v,I=.6-x*x-g*g-m*m,O=.6-C*C-M*M-w*w,k=.6-P*P-b*b-_*_;return 32*((V<0?0:(V*=V)*V*S.dot3(d,y,v))+(I<0?0:(I*=I)*I*R.dot3(x,g,m))+(O<0?0:(O*=O)*O*D.dot3(C,M,w))+(k<0?0:(k*=k)*k*A.dot3(P,b,_)))},Dt=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),At=function(t){function i(i){var e=t.call(this,i)||this;return e.t=0,e.interval=1,e.res=5,e.scale=100,e.vecs=[],e.emmiters=[],e.xx=1,e.yy=1,e.init(),e.initUI(),e.indeCanvas.canvas.width=300,e.indeCanvas.canvas.height=300,e}return Dt(i,t),i.prototype.initUI=function(){var t=this,i=document.createElement("div");i.style.position="absolute",i.style.left="450px",i.style.height="50px",this.indeCanvas.bodyDiv.divHost.appendChild(i);var e=document.createElement("button");e.textContent="Reset",e.style.width="60px",e.style.height="20px",e.onclick=function(){t.init()},i.appendChild(e);var s=document.createElement("div");s.innerHTML="time",s.style.height="50px",s.style.width="100px",i.appendChild(s);var n=document.createElement("input");n.type="range",n.min="0.001",n.max="10.0",n.step="0.0001",n.oninput=function(){var i=+n.value;t.interval=i},s.appendChild(n);var o=document.createElement("div");o.innerHTML="Res",o.style.height="50px",o.style.width="100px",i.appendChild(o);var h=document.createElement("input");h.type="range",h.min="1",h.max="10",h.step="1",h.oninput=function(){t.res=+h.value},o.appendChild(h);var r=document.createElement("div");r.innerHTML="Scale",r.style.height="50px",r.style.width="100px",i.appendChild(r);var c=document.createElement("input");c.type="range",c.min="1",c.max="200",c.value="100",c.step="1",c.oninput=function(){t.scale=+c.value},r.appendChild(c)},i.prototype.init=function(){},i.prototype.RenderIndependentCanvas=function(t){for(var i=0;i<t.canvas.height;i+=this.res)for(var e=0;e<t.canvas.width;e+=this.res){var s="hsl("+(180-Math.round(10*Math.abs(Rt(e/this.scale,i/this.scale,.01*this.t)))/10*180)+",50%,50%)";t.beginPath(),t.rect(e,i,this.res,this.res),t.closePath(),t.fillStyle=s,t.fill()}this.t+=this.interval},i.prototype.MouseLeftClick=function(t,i){},i.prototype.MouseDrag=function(t,i){},i.prototype.rotation=function(t){},i.prototype.MouseMove=function(t,i){},i}(c),Vt=e(6947),It=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),Ot=function(){function t(t){this.capture=void 0,this.offset=15,this.m=new Vt.h(0,0,0),t.style.background="#eeeeee",this.canvasBase=document.createElement("canvas"),this.canvasBase.style.position="absolute",t.append(this.canvasBase),this.ctxBase=this.canvasBase.getContext("2d"),this.canvasBase.width=300,this.canvasBase.height=300,this.r=150,this.ctxBase.translate(this.r,this.r),this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.width=this.canvasBase.width,this.canvas.height=this.canvasBase.height,this.ctx=this.canvas.getContext("2d"),this.ctx.translate(this.r,this.r),t.append(this.canvas),this.initEvent(),this.init()}return t.prototype.initEvent=function(){var t=this;this.canvas.addEventListener("mousedown",(function(i){var e=t.MousePostProcess(i);t.mouseDown(e[0],e[1])})),this.canvas.addEventListener("mousemove",(function(i){var e=t.MousePostProcess(i);t.mouseMove(e[0],e[1])})),this.canvas.addEventListener("mouseup",(function(i){var e=t.MousePostProcess(i);t.mouseUp(e[0],e[1])}))},t.prototype.MousePostProcess=function(t){var i=t.offsetX-this.r,e=t.offsetY-this.r;return this.m.x=i,this.m.y=e,[i,e]},t.prototype.init=function(){this.cp=new zt(this,0,0,St.Cp),this.cpL1=new Et(this,10,10,St.L1),this.cpL1.updatePosByRadian(3),this.cpR1=new Bt(this,10,10,St.R1),this.cpR1.updatePosByRadian(-3);for(var t=this.r,i=this.ctxBase.createImageData(2*t,2*t),e=i.data,s=-t;s<t;s++)for(var n=-t;n<t;n++){var o=Lt(s,n),h=o[0],r=o[1];if(!(h>t)){var c=Tt(r),p=4*(s+t+(n+t)*(2*t)),a=Nt(c,1,1),l=a[0],u=a[1],f=a[2];e[p]=l,e[p+1]=u,e[p+2]=f,e[p+3]=255}}this.ctxBase.putImageData(i,0,0),this.ctxBase.beginPath(),this.ctxBase.arc(0,0,1,0,2*Math.PI),this.ctxBase.closePath(),this.ctxBase.fill(),this.render(this.ctx)},t.prototype.render=function(t){t.clearRect(-this.r,-this.r,2*this.r,2*this.r),this.cp.render(t),this.cpL1.render(t),this.cpR1.render(t)},t.prototype.mouseDrag=function(t,i){},t.prototype.mouseMove=function(t,i){if(this.capture)if(this.capture.id===St.Cp){var e=(o=new Vt.h(t,i,0)).Length();e=e>this.r?this.r:e;var s=(0,Vt.d)(o,e);this.capture.updatePos(s)}else if(this.capture.id===St.L1){var n=(o=new Vt.h(t,i,0)).Length();n=n>this.r?this.r:n,s=(0,Vt.d)(o,n),this.capture.updatePos(s)}else if(this.capture.id===St.R1){var o,h=(o=new Vt.h(t,i,0)).Length();h=h>this.r?this.r:h,s=(0,Vt.d)(o,h),this.capture.updatePos(s)}this.render(this.ctx)},t.prototype.mouseDown=function(t,i){this.capture=this.GetPoint(t,i)},t.prototype.mouseUp=function(t,i){this.capture=void 0},t.prototype.GetPoint=function(t,i){return this.cp.getDistance(t,i)<this.cp.r?this.cp:this.cpL1.getDistance(t,i)<this.cp.r?this.cpL1:this.cpR1.getDistance(t,i)<this.cp.r?this.cpR1:void 0},t}();!function(t){t.Cp="cp",t.L1="l1",t.L2="l2",t.R1="r1",t.R2="r2"}(St||(St={}));var kt=function(){function t(t,i,e,s){this.r=15,this.radian=0,this.radius=10,this.color="#ffffff",this.colorPicker=t,this.vec=new Vt.h(i,e,0),this.id=s}return t.prototype.getRadian=function(){return this.radian=Math.atan2(this.vec.x,this.vec.y),this.radian-=.5*Math.PI,this.radian*=-1,this.radian},t.prototype.updatePosByRadian=function(t){this.vec.x=Math.cos(t),this.vec.y=Math.sin(t),this.vec.x*=this.radius,this.vec.y*=this.radius},t.prototype.updatePos=function(t){(this.id=St.Cp)&&(this.vec.x=t.x,this.vec.y=t.y,this.radius=this.vec.Length(),this.getRadian(),this.colorPicker.cpL1.radius=this.radius,this.colorPicker.cpL1.updatePosByRadian(this.colorPicker.cpL1.radian+this.colorPicker.cpL1.radian-this.radian),this.colorPicker.cpR1.radius=this.radius)},t.prototype.updateposByCPOffset=function(t){},t.prototype.getDistance=function(t,i){return Math.sqrt((this.vec.x-t)*(this.vec.x-t)+(this.vec.y-i)*(this.vec.y-i))},t.prototype.render=function(t){var i=this.colorPicker.ctxBase.getImageData(this.vec.x+this.colorPicker.r,this.vec.y+this.colorPicker.r,2,2);this.color="rgb("+i.data[0]+", "+i.data[1]+", "+i.data[2]+")",t.strokeStyle="#ffffff",t.lineWidth=3,t.beginPath(),t.moveTo(0,0),t.lineTo(this.vec.x,this.vec.y),t.closePath(),t.stroke(),t.beginPath(),t.arc(this.vec.x,this.vec.y,this.r,0,2*Math.PI),t.closePath(),t.fillStyle=this.color,t.fill(),t.stroke()},t}(),zt=function(t){function i(i,e,s,n){return t.call(this,i,e,s,n)||this}return It(i,t),i}(kt),Et=function(t){function i(i,e,s,n){return t.call(this,i,e,s,n)||this}return It(i,t),i.prototype.updatePos=function(t){this.vec.x=t.x,this.vec.y=t.y,this.radius=this.vec.Length(),this.getRadian(),console.log(-this.radius);var i=this.colorPicker.cp.radian;this.colorPicker.cpR1.updatePosByRadian(-this.radian+2*i)},i}(kt),Bt=function(t){function i(i,e,s,n){return t.call(this,i,e,s,n)||this}return It(i,t),i.prototype.updatePos=function(t){this.vec.x=t.x,this.vec.y=t.y,this.radius=this.vec.Length(),this.getRadian(),console.log(-this.radius);var i=this.colorPicker.cp.radian;this.colorPicker.cpL1.updatePosByRadian(-this.radian+2*i)},i.prototype.updateposByCPOffset=function(t){this.radian+=t,this.vec.x=Math.cos(this.radian),this.vec.y=Math.sin(this.radian),this.vec.x*=this.radius,this.vec.y*=this.radius},i}(kt),Lt=function(t,i){return[Math.sqrt(t*t+i*i),Math.atan2(i,t)]},Tt=function(t){return(t+Math.PI)/(2*Math.PI)*360},Nt=function(t,i,e){var s=e*i,n=t/60,o=s*(1-Math.abs(n%2-1)),h=e-s,r=[0,0,0];return void 0===t?r=[0,0,0]:n<1?r=[s,o,0]:n<2?r=[o,s,0]:n<3?r=[0,s,o]:n<4?r=[0,o,s]:n<5?r=[o,0,s]:n<=6&&(r=[s,0,o]),[255*(r[0]+h),255*(r[1]+h),255*(r[2]+h)]},Ut=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),Ft=function(t){function i(i){var e=t.call(this,i)||this;e.indeCanvas.canvas.width=300,e.indeCanvas.canvas.height=300;var s=new Ot(e.indeCanvas.bodyDiv.divHost);return console.log(s),e}return Ut(i,t),i.prototype.initUI=function(){},i.prototype.init=function(){},i.prototype.RenderIndependentCanvas=function(t){},i.prototype.MouseLeftClick=function(t,i){},i.prototype.MouseDrag=function(t,i){},i.prototype.rotation=function(t){},i.prototype.MouseMove=function(t,i){},i.prototype.Mouseup=function(t,i){},i}(c),jt=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),Ht=function(t){function i(i){var e=t.call(this,i)||this;return e.p=[0,0],e.init(),e}return jt(i,t),i.prototype.init=function(){var t=performance.now();this.map=new Gt([[1,0,1,1,1,1,1],[1,1,1,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]]);var i=performance.now();console.log("time: ",i-t)},i.prototype.RenderIndependentCanvas=function(t){this.map&&(this.map.Render(t,this.p),t.fillStyle="#ff0000",t.beginPath(),t.arc(this.p[0],this.p[1],5,0,6.28),t.closePath(),t.fill())},i.prototype.MouseMove=function(t,i){this.p=[t,i]},i.prototype.MouseDown=function(t,i){this.p=[t,i]},i}(c),Wt=function(){function t(t,i,e,s){this.x=-1,this.y=-1,this.scale=50,this.fill=!1,this.visited=!1,this.dist=-1,this.start=!1,this.end=!1,this.connections=[],this.map=t,this.x=i,this.y=e,this.type=s,0===this.type?this.fill=!0:this.fill=!1}return t.prototype.pushConnections=function(t){t.fill||this.connections.push(t)},t.prototype.Render=function(t,i){var e=(this.x+.5)*this.scale,s=(this.y+.5)*this.scale,n=Math.sqrt((i[0]-e)*(i[0]-e)+(i[1]-s)*(i[1]-s));if(t.lineWidth=4,t.strokeStyle="#ffffff",t.beginPath(),t.rect(this.x*this.scale,this.y*this.scale,this.scale,this.scale),t.closePath(),this.fill?t.fillStyle="rgba(0,0,0, 0.85)":t.fillStyle="rgba(255,0,0, 0.5)",t.fill(),t.stroke(),n<.5*this.scale){t.strokeStyle="#ff0000",t.lineWidth=2;for(var o=0;o<this.connections.length;++o)t.beginPath(),t.moveTo((this.x+.5)*this.scale,(this.y+.5)*this.scale),t.lineTo((this.connections[o].x+.5)*this.scale,(this.connections[o].y+.5)*this.scale),t.stroke()}this.start?(t.fillStyle="#0000ff",t.beginPath(),t.arc((this.x+.5)*this.scale,(this.y+.5)*this.scale,5,0,6.28),t.closePath(),t.fill()):this.end&&(t.fillStyle="#00ff00",t.beginPath(),t.arc((this.x+.5)*this.scale,(this.y+.5)*this.scale,5,0,6.28),t.closePath(),t.fill())},t}(),Gt=function(){function t(t){this.pixels=[],this.fires=[],this.path=[],this.t=0,this.count=1;for(var i=0;i<t.length;++i){for(var e=[],s=0;s<t[i].length;++s)e.push(new Wt(this,s,i,t[i][s]));this.pixels.push(e)}this.InitConnections(),this.start=this.pixels[0][0],this.exit=this.pixels[t.length-1][t[0].length-1],this.start.start=!0,this.exit.end=!0,this.path=this.ComputePath(this.start,this.exit)}return t.prototype.ComputePath=function(t,i){for(var e=[t];e.length>0;){var s=e[0];e.shift(),s.visited=!0,console.log(s);for(var n=0;n<s.connections.length;++n)if(!s.connections[n].fill&&!s.connections[n].visited){var o=this.ComputeCost(s,s.connections[n]),h=s.dist+o;(-1===s.connections[n].dist||h<s.connections[n].dist)&&(s.connections[n].dist=h,e.push(s.connections[n]))}}console.log(this);var r=[];if(-1!==i.dist)for(r.push(i),s=i;;){var c=s;for(n=0;n<s.connections.length;++n)s.connections[n].dist<c.dist&&(c=s.connections[n]);if(s=c,r.push(s),s===t)break}return console.log(),console.log("there are ",r.length," to exit"),r},t.prototype.ComputeCost=function(t,i){return Math.sqrt((i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y))},t.prototype.InitConnections=function(){for(var t=0;t<this.pixels.length;++t)for(var i=0;i<this.pixels[0].length;++i){var e=this.pixels[t][i];0!==t&&t<this.pixels.length-1&&0!==i&&i<this.pixels[0].length-1?(e.pushConnections(this.pixels[t-1][i]),e.pushConnections(this.pixels[t+1][i]),e.pushConnections(this.pixels[t][i-1]),e.pushConnections(this.pixels[t][i+1])):0===t?(e.pushConnections(this.pixels[t+1][i]),0<i&&i<this.pixels[0].length-1?(e.pushConnections(this.pixels[t][i-1]),e.pushConnections(this.pixels[t][i+1])):0===i?e.pushConnections(this.pixels[t][i+1]):i===this.pixels[0].length-1&&e.pushConnections(this.pixels[t][i-1])):t===this.pixels.length-1?(e.pushConnections(this.pixels[t-1][i]),0<i&&i<this.pixels[0].length-1?(e.pushConnections(this.pixels[t][i-1]),e.pushConnections(this.pixels[t][i+1])):0===i?e.pushConnections(this.pixels[t][i+1]):i===this.pixels[0].length-1&&e.pushConnections(this.pixels[t][i-1])):0===i?(e.pushConnections(this.pixels[t][i+1]),0<t&&t<this.pixels.length-1?(e.pushConnections(this.pixels[t-1][i]),e.pushConnections(this.pixels[t+1][i])):0===t?e.pushConnections(this.pixels[t+1][i]):t===this.pixels.length-1&&e.pushConnections(this.pixels[t-1][i])):i===this.pixels[0].length-1&&(e.pushConnections(this.pixels[t][i-1]),0<t&&t<this.pixels.length-1?(e.pushConnections(this.pixels[t-1][i]),e.pushConnections(this.pixels[t+1][i])):0===t?e.pushConnections(this.pixels[t+1][i]):t===this.pixels.length-1&&e.pushConnections(this.pixels[t-1][i]))}},t.prototype.Render=function(t,i){for(var e=0;e<this.pixels.length;++e)for(var s=0;s<this.pixels[0].length;++s)this.pixels[e][s].Render(t,i);this.path&&this.path.length>0&&this.RenderPath(t,this.path)},t.prototype.RenderPath=function(t,i){t.strokeStyle="#000000",t.lineWidth=5,t.beginPath(),t.moveTo(50*(i[0].x+.5),50*(i[0].y+.5));for(var e=1;e<i.length;++e)t.lineTo(50*(i[e].x+.5),50*(i[e].y+.5));t.stroke()},t}(),Xt=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),Yt=function(t){function i(i){var e=t.call(this,i)||this;return e.p=[0,0],e.init(),e}return Xt(i,t),i.prototype.init=function(){var t=[10,8],i=performance.now();this.map=new Qt(t[0],t[1],[[0,0],[1,0],[1,1],[4,2],[4,3],[4,5],[2,4],[3,4],[7,4],[8,4],[9,4],[7,5],[8,5],[9,5],[7,6],[8,6],[9,6]]);var e=performance.now();console.log("time: ",e-i)},i.prototype.RenderIndependentCanvas=function(t){this.map.Render(t,this.p),t.fillStyle="#ff0000",t.beginPath(),t.arc(this.p[0],this.p[1],5,0,6.28),t.closePath(),t.fill()},i.prototype.MouseMove=function(t,i){this.p=[t,i]},i.prototype.MouseDown=function(t,i){this.p=[t,i]},i}(c),qt=function(){function t(t,i){this.x=-1,this.y=-1,this.scale=50,this.fill=!1,this.visited=!1,this.connections=[],this.x=t,this.y=i}return t.prototype.Render=function(t,i){var e=(this.x+.5)*this.scale,s=(this.y+.5)*this.scale,n=Math.sqrt((i[0]-e)*(i[0]-e)+(i[1]-s)*(i[1]-s));if(t.lineWidth=4,t.beginPath(),t.rect(this.x*this.scale,this.y*this.scale,this.scale,this.scale),t.closePath(),this.fill&&(this.visited?t.fillStyle="rgba(255,0,0, 0.5)":t.fillStyle="rgba(0,255,0, 0.5)",t.fill()),t.stroke(),n<.5*this.scale){t.lineWidth=1;for(var o=0;o<this.connections.length;++o)t.beginPath(),t.moveTo((this.x+.5)*this.scale,(this.y+.5)*this.scale),t.lineTo((this.connections[o].x+.5)*this.scale,(this.connections[o].y+.5)*this.scale),t.stroke()}},t}(),Qt=function(){function t(t,i,e){this.pixels=[];for(var s=0;s<i;++s){for(var n=[],o=0;o<t;++o)n.push(new qt(o,s));this.pixels.push(n)}this.InitFill(e),this.InitConnections(),this.Compute(e)}return t.prototype.Compute=function(t){for(var i=0,e=0;e<t.length;++e){var s=t[e][0],n=t[e][1],o=this.pixels[n][s];if(!o.visited){var h=[o];for(i++;h.length>0;){var r=h[0];r.visited=!0,h.shift();for(var c=0;c<r.connections.length;++c)r.connections[c].fill&&!r.connections[c].visited&&h.push(r.connections[c])}}}console.log("there are ",i," group of cells")},t.prototype.InitFill=function(t){for(var i=0;i<t.length;++i){var e=t[i][0],s=t[i][1];this.pixels[s][e].fill=!0}},t.prototype.InitConnections=function(){for(var t=0;t<this.pixels.length;++t)for(var i=0;i<this.pixels[0].length;++i){var e=this.pixels[t][i];0!==t&&t<this.pixels.length-1&&0!==i&&i<this.pixels[0].length-1?(e.connections.push(this.pixels[t-1][i]),e.connections.push(this.pixels[t+1][i]),e.connections.push(this.pixels[t][i-1]),e.connections.push(this.pixels[t][i+1])):0===t?(e.connections.push(this.pixels[t+1][i]),0<i&&i<this.pixels[0].length-1?(e.connections.push(this.pixels[t][i-1]),e.connections.push(this.pixels[t][i+1])):0===i?e.connections.push(this.pixels[t][i+1]):i===this.pixels[0].length-1&&e.connections.push(this.pixels[t][i-1])):t===this.pixels.length-1?(e.connections.push(this.pixels[t-1][i]),0<i&&i<this.pixels[0].length-1?(e.connections.push(this.pixels[t][i-1]),e.connections.push(this.pixels[t][i+1])):0===i?e.connections.push(this.pixels[t][i+1]):i===this.pixels[0].length-1&&e.connections.push(this.pixels[t][i-1])):0===i?(e.connections.push(this.pixels[t][i+1]),0<t&&t<this.pixels.length-1?(e.connections.push(this.pixels[t-1][i]),e.connections.push(this.pixels[t+1][i])):0===t?e.connections.push(this.pixels[t+1][i]):t===this.pixels.length-1&&e.connections.push(this.pixels[t-1][i])):i===this.pixels[0].length-1&&(e.connections.push(this.pixels[t][i-1]),0<t&&t<this.pixels.length-1?(e.connections.push(this.pixels[t-1][i]),e.connections.push(this.pixels[t+1][i])):0===t?e.connections.push(this.pixels[t+1][i]):t===this.pixels.length-1&&e.connections.push(this.pixels[t-1][i]))}},t.prototype.Render=function(t,i){for(var e=0;e<this.pixels.length;++e)for(var s=0;s<this.pixels[0].length;++s)this.pixels[e][s].Render(t,i)},t}(),Kt=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),Jt=function(t){function i(i){var e=t.call(this,i)||this;e.p=[0,0];var s=new Zt;return console.log(s),e}return Kt(i,t),i.prototype.init=function(){},i.prototype.RenderIndependentCanvas=function(t){t.fillStyle="#ff0000",t.beginPath(),t.arc(this.p[0],this.p[1],5,0,6.28),t.closePath(),t.fill()},i.prototype.MouseDown=function(t,i){this.p=[t,i]},i}(c),$t=function(){function t(t){this.id=-1,this.friends=[],this.dis=0,this.visited=!1,this.id=t}return t.prototype.push=function(t){for(var i=0;i<this.friends.length;++i)if(this.friends[i]===t)return;this.friends.push(t),t.push(this)},t.prototype.Reset=function(){this.visited=!1,this.dis=0},t.prototype.findPerson=function(t){var i=[];if(0===this.friends.length)return-1;for(this.visited=!0,i.push(this);i.length>0;){var e=i[0];if(i.shift(),e){if(t===e.id)return e.dis;for(var s=0;s<e.friends.length;++s)e.friends[s]&&!e.friends[s].visited&&(e.friends[s].visited=!0,e.friends[s].dis=e.dis+1,i.push(e.friends[s]))}}return-1},t}(),Zt=function(){function t(){for(this.people=[],this.index=0,this.index=0;this.index<5;++this.index)this.people.push(new $t(this.index));var t=[[1,3],[1,4],[4,5],[4,3],[3,2]];for(this.index=0;this.index<t.length;++this.index)this.BuildRelationship(t[this.index][0]-1,t[this.index][1]-1);this.PrintRelationship(),this.Compute(5)}return t.prototype.Reset=function(){for(this.index=0;this.index<this.people.length;++this.index)this.people[this.index].visited=!1,this.people[this.index].dis=0},t.prototype.BuildRelationship=function(t,i){this.people[t].push(this.people[i])},t.prototype.PrintRelationship=function(){for(this.index=0;this.index<this.people.length;++this.index){for(var t="",i=0;i<this.people[this.index].friends.length;++i)t+=" "+this.people[this.index].friends[i].id;console.log("id: ",this.people[this.index].id,", freindsID",t)}},t.prototype.Compute=function(t){for(var i=0;i<t;++i){for(var e=0,s=0;s<t;++s)if(i!==s){var n=this.people[i].findPerson(s);e+=n,console.log(i,s,n),this.Reset()}console.log(i,e),console.log("------")}},t}(),ti=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),ii=function(t){function i(i){var e=t.call(this,i)||this;return e.p=[0,0],e.init(),e}return ti(i,t),i.prototype.init=function(){var t=performance.now();this.map=new ni(["###.######","#*#.#...*#","#.#......#","#........#","#.......@#","##########"]);var i=performance.now();console.log("time: ",i-t)},i.prototype.RenderIndependentCanvas=function(t){this.map&&(this.map.Render(t,this.p),t.fillStyle="#ff0000",t.beginPath(),t.arc(this.p[0],this.p[1],5,0,6.28),t.closePath(),t.fill())},i.prototype.MouseMove=function(t,i){this.p=[t,i]},i.prototype.MouseDown=function(t,i){this.p=[t,i]},i}(c),ei=function(){function t(t,i,e,s){this.x=-1,this.y=-1,this.scale=50,this.fill=!1,this.fire=!1,this.exit=!1,this.visited=!1,this.cost=0,this.temp=0,this.connections=[],this.map=t,this.x=i,this.y=e,this.type=s,"#"===this.type?this.fill=!0:"."===this.type?this.fill=!1:"*"===this.type?(this.fire=!0,this.map.fires.push(this)):"@"===this.type&&this.map.SetAgent(this)}return t.prototype.pushConnections=function(t){t.fill||this.connections.push(t)},t.prototype.Render=function(t,i){var e=(this.x+.5)*this.scale,s=(this.y+.5)*this.scale,n=Math.sqrt((i[0]-e)*(i[0]-e)+(i[1]-s)*(i[1]-s));if(t.lineWidth=4,t.strokeStyle="#ffffff",t.beginPath(),t.rect(this.x*this.scale,this.y*this.scale,this.scale,this.scale),t.closePath(),this.fill?t.fillStyle="rgba(0,0,0, 0.85)":this.fire?t.fillStyle="rgba(255,0,0, 0.5)":t.fillStyle="rgba(255,255,0, 0.5)",t.fill(),t.stroke(),n<.5*this.scale){t.lineWidth=1;for(var o=0;o<this.connections.length;++o)t.beginPath(),t.moveTo((this.x+.5)*this.scale,(this.y+.5)*this.scale),t.lineTo((this.connections[o].x+.5)*this.scale,(this.connections[o].y+.5)*this.scale),t.stroke()}this.exit&&(t.fillStyle="#0000ff",t.beginPath(),t.arc((this.x+.5)*this.scale,(this.y+.5)*this.scale,5,0,6.28),t.closePath(),t.fill())},t}(),si=function(){function t(t){this.current=t}return t.prototype.Render=function(t){t.fillStyle="#00ff00",t.beginPath();var i=Math.sin(this.current.map.t)+1.1;t.arc((this.current.x+.5)*this.current.scale,(this.current.y+.5)*this.current.scale,6*i+2,0,6.28),t.closePath(),t.fill()},t}(),ni=function(){function t(t){this.pixels=[],this.fires=[],this.path=[],this.t=0,this.count=1,this.fail=!1,this.done=!1;for(var i=0;i<t.length;++i){for(var e=[],s=0;s<t[i].length;++s){var n=t[i].charAt(s);e.push(new ei(this,s,i,n))}this.pixels.push(e)}this.InitConnections(),this.ComputeExit(),console.log(this)}return t.prototype.Update=function(){this.ComputeFire(),this.ComputeAgent()},t.prototype.ComputeFire=function(){for(var t=[],i=0;i<this.fires.length;++i)for(var e=0;e<this.fires[i].connections.length;++e)this.fires[i].connections[e].fill||(this.fires[i].connections[e].fire=!0,t.push(this.fires[i].connections[e]));for(i=0;i<t.length;++i)this.fires.push(t[i])},t.prototype.ComputeAgent=function(){if(this.agent.current===this.exit)return console.log("Done! by ",this.count),void(this.done=!0);this.path=this.ComputePath(this.agent.current,this.exit),this.path&&this.path.length>0&&(this.agent.current=this.path[this.path.length-2],console.log(this.path),this.count++)},t.prototype.ComputeExit=function(){for(var t=0;t<this.pixels.length;++t)for(var i=0;i<this.pixels[t].length;++i)if((this.pixels[t][i].connections.length<3&&0===t||0===i||t===this.pixels.length-1||i===this.pixels[0].length-1)&&!this.pixels[t][i].fill){for(var e=!1,s=0;s<this.pixels[t][i].connections.length;++s)!1===this.pixels[t][i].connections[s].fill&&(e=!0);e&&(this.pixels[t][i].exit=!0,this.exit=this.pixels[t][i])}},t.prototype.ResetCost=function(){for(var t=0;t<this.pixels.length;++t)for(var i=0;i<this.pixels[t].length;++i)this.pixels[t][i].fill||this.pixels[t][i].fire||(this.pixels[t][i].cost=0,this.pixels[t][i].temp=-1,this.pixels[t][i].visited=!1)},t.prototype.ComputePath=function(t,i){this.ResetCost();for(var e=[t];e.length>0;){(r=e[0]).visited=!0,e.shift();for(var s=0;s<r.connections.length;++s)if(!r.connections[s].fill&&!r.connections[s].visited){var n=this.ComputeCost(r,r.connections[s]),o=r.temp+n;(-1===r.connections[s].temp||o<r.connections[s].temp)&&(r.connections[s].temp=o,e.push(r.connections[s]))}}var h=[];if(-1!==i.temp){h.push(i);for(var r=i;;){var c=r;for(s=0;s<r.connections.length;++s)r.connections[s].fill||r.connections[s].temp<c.temp&&(c=r.connections[s]);if(c===r)return void(this.fail=!0);if(r=c,h.push(r),r===t)break}}return h},t.prototype.ComputeCost=function(t,i){return Math.sqrt((i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y))},t.prototype.SetAgent=function(t){this.agent=new si(t)},t.prototype.InitConnections=function(){for(var t=0;t<this.pixels.length;++t)for(var i=0;i<this.pixels[0].length;++i){var e=this.pixels[t][i];0!==t&&t<this.pixels.length-1&&0!==i&&i<this.pixels[0].length-1?(e.pushConnections(this.pixels[t-1][i]),e.pushConnections(this.pixels[t+1][i]),e.pushConnections(this.pixels[t][i-1]),e.pushConnections(this.pixels[t][i+1])):0===t?(e.pushConnections(this.pixels[t+1][i]),0<i&&i<this.pixels[0].length-1?(e.pushConnections(this.pixels[t][i-1]),e.pushConnections(this.pixels[t][i+1])):0===i?e.pushConnections(this.pixels[t][i+1]):i===this.pixels[0].length-1&&e.pushConnections(this.pixels[t][i-1])):t===this.pixels.length-1?(e.pushConnections(this.pixels[t-1][i]),0<i&&i<this.pixels[0].length-1?(e.pushConnections(this.pixels[t][i-1]),e.pushConnections(this.pixels[t][i+1])):0===i?e.pushConnections(this.pixels[t][i+1]):i===this.pixels[0].length-1&&e.pushConnections(this.pixels[t][i-1])):0===i?(e.pushConnections(this.pixels[t][i+1]),0<t&&t<this.pixels.length-1?(e.pushConnections(this.pixels[t-1][i]),e.pushConnections(this.pixels[t+1][i])):0===t?e.pushConnections(this.pixels[t+1][i]):t===this.pixels.length-1&&e.pushConnections(this.pixels[t-1][i])):i===this.pixels[0].length-1&&(e.pushConnections(this.pixels[t][i-1]),0<t&&t<this.pixels.length-1?(e.pushConnections(this.pixels[t-1][i]),e.pushConnections(this.pixels[t+1][i])):0===t?e.pushConnections(this.pixels[t+1][i]):t===this.pixels.length-1&&e.pushConnections(this.pixels[t-1][i]))}},t.prototype.Render=function(t,i){if(this.done||!(this.agent&&this.agent.current.fire||this.fail)){this.t+=.1,this.t>10&&(this.t=0,this.fail||this.Update());for(var e=0;e<this.pixels.length;++e)for(var s=0;s<this.pixels[0].length;++s)this.pixels[e][s].Render(t,i);this.agent&&this.agent.Render(t),this.path&&this.path.length>0&&this.RenderPath(t,this.path)}else console.log("impossible")},t.prototype.RenderPath=function(t,i){t.strokeStyle="#000000",t.lineWidth=5,t.beginPath(),t.moveTo(50*(i[0].x+.5),50*(i[0].y+.5));for(var e=1;e<i.length-1;++e)t.lineTo(50*(i[e].x+.5),50*(i[e].y+.5));t.stroke()},t}(),oi=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),hi=function(t){function i(i){var e=t.call(this,i)||this;return e.p=[0,0],e.init(),e}return oi(i,t),i.prototype.init=function(){var t=[5,7],i=performance.now();this.map=new ci(t[1],t[0],[[0,2,4,4],[1,1,2,5],[4,0,6,2]]);var e=performance.now();console.log("time: ",e-i)},i.prototype.RenderIndependentCanvas=function(t){this.map.Render(t,this.p),t.fillStyle="#ff0000",t.beginPath(),t.arc(this.p[0],this.p[1],5,0,6.28),t.closePath(),t.fill()},i.prototype.MouseMove=function(t,i){this.p=[t,i]},i.prototype.MouseDown=function(t,i){this.p=[t,i]},i}(c),ri=function(){function t(t,i){this.x=-1,this.y=-1,this.scale=50,this.fill=!1,this.visited=!1,this.connections=[],this.x=t,this.y=i}return t.prototype.Render=function(t,i){var e=(this.x+.5)*this.scale,s=(this.y+.5)*this.scale,n=Math.sqrt((i[0]-e)*(i[0]-e)+(i[1]-s)*(i[1]-s));if(t.lineWidth=4,t.beginPath(),t.rect(this.x*this.scale,this.y*this.scale,this.scale,this.scale),t.closePath(),this.fill&&(this.visited?t.fillStyle="rgba(255,0,0, 0.5)":t.fillStyle="rgba(0,255,0, 0.5)",t.fill()),t.stroke(),n<.5*this.scale){t.lineWidth=1;for(var o=0;o<this.connections.length;++o)t.beginPath(),t.moveTo((this.x+.5)*this.scale,(this.y+.5)*this.scale),t.lineTo((this.connections[o].x+.5)*this.scale,(this.connections[o].y+.5)*this.scale),t.stroke()}},t.prototype.Add=function(t){t.fill||this.connections.push(t)},t}(),ci=function(){function t(t,i,e){this.pixels=[];for(var s=0;s<i;++s){for(var n=[],o=0;o<t;++o)n.push(new ri(o,s));this.pixels.push(n)}this.InitFill(e),this.InitConnections(),this.Compute()}return t.prototype.Compute=function(){for(var t=0;t<this.pixels.length;++t)for(var i=0;i<this.pixels[0].length;++i){var e=this.pixels[t][i];if(!e.fill&&!e.visited){var s=this.PropagationBFS(e);console.log(s)}}},t.prototype.PropagationBFS=function(t){for(var i=[t],e=0;i.length>0;){var s=i[0];if(i.shift(),!s.visited){s.visited=!0,e++;for(var n=0;n<s.connections.length;++n)s.connections[n].visited||i.push(s.connections[n])}}return e},t.prototype.InitFill=function(t){for(var i=0;i<t.length;++i)for(var e=t[i][0],s=t[i][1],n=t[i][2],o=t[i][3],h=s;h<o;++h)for(var r=e;r<n;++r)this.pixels[h][r].fill=!0},t.prototype.InitConnections=function(){for(var t=0;t<this.pixels.length;++t)for(var i=0;i<this.pixels[0].length;++i){var e=this.pixels[t][i];0!==t&&t<this.pixels.length-1&&0!==i&&i<this.pixels[0].length-1?(e.Add(this.pixels[t-1][i]),e.Add(this.pixels[t+1][i]),e.Add(this.pixels[t][i-1]),e.Add(this.pixels[t][i+1])):0===t?(e.Add(this.pixels[t+1][i]),0<i&&i<this.pixels[0].length-1?(e.Add(this.pixels[t][i-1]),e.Add(this.pixels[t][i+1])):0===i?e.Add(this.pixels[t][i+1]):i===this.pixels[0].length-1&&e.Add(this.pixels[t][i-1])):t===this.pixels.length-1?(e.Add(this.pixels[t-1][i]),0<i&&i<this.pixels[0].length-1?(e.Add(this.pixels[t][i-1]),e.Add(this.pixels[t][i+1])):0===i?e.Add(this.pixels[t][i+1]):i===this.pixels[0].length-1&&e.Add(this.pixels[t][i-1])):0===i?(e.Add(this.pixels[t][i+1]),0<t&&t<this.pixels.length-1?(e.Add(this.pixels[t-1][i]),e.Add(this.pixels[t+1][i])):0===t?e.Add(this.pixels[t+1][i]):t===this.pixels.length-1&&e.Add(this.pixels[t-1][i])):i===this.pixels[0].length-1&&(e.Add(this.pixels[t][i-1]),0<t&&t<this.pixels.length-1?(e.Add(this.pixels[t-1][i]),e.Add(this.pixels[t+1][i])):0===t?e.Add(this.pixels[t+1][i]):t===this.pixels.length-1&&e.Add(this.pixels[t-1][i]))}},t.prototype.Render=function(t,i){for(var e=0;e<this.pixels.length;++e)for(var s=0;s<this.pixels[0].length;++s)this.pixels[e][s].Render(t,i)},t}(),pi=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),ai=function(t){function i(i){var e=t.call(this,i)||this;return e.p=[0,0],e.init(),e}return pi(i,t),i.prototype.init=function(){var t=performance.now();this.graph=new ui([5,4],[[3,1],[3,2],[4,3],[5,3]]);var i=performance.now();console.log("time: ",i-t)},i.prototype.RenderIndependentCanvas=function(t){this.graph.Render(t,this.p),t.fillStyle="#ff0000",t.beginPath(),t.arc(this.p[0],this.p[1],5,0,6.28),t.closePath(),t.fill()},i.prototype.MouseMove=function(t,i){this.p=[t,i]},i.prototype.MouseDown=function(t,i){this.p=[t,i]},i}(c),li=function(){function t(t){this.id=-1,this.visited=!1,this.children=[],this.id=t}return t.prototype.Render=function(t,i){},t}(),ui=function(){function t(t,i){this.nodes=[];for(var e=0;e<t[0];++e)this.nodes.push(new li(e));for(e=0;e<i.length;++e){var s=i[e][0]-1,n=i[e][1]-1;this.nodes[n].children.push(this.nodes[s])}this.ComputeConnections(),console.log(this)}return t.prototype.ComputeConnections=function(){for(var t=0;t<this.nodes.length;++t){var i=this.BFS(this.nodes[t]);this.Reset(),console.log(t+1,i)}},t.prototype.BFS=function(t){for(var i=[t],e=0;i.length>0;){var s=i[0];if(i.shift(),!s.visited){s.visited=!0,e++;for(var n=0;n<s.children.length;++n)s.children[n].visited||i.push(s.children[n])}}return e},t.prototype.Reset=function(){for(var t=0;t<this.nodes.length;++t)this.nodes[t].visited=!1},t.prototype.Render=function(t,i){},t}(),fi=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),di=function(t){function i(i){var e=t.call(this,i)||this;return e.p=[0,0],e.init(),e}return fi(i,t),i.prototype.init=function(){var t=performance.now();this.map=new xi([".###.#####..","#.kk#...#v#.","#..k#.#.#.#.","#..##k#...#.","#.#v#k###.#.","#..#v#....#.","#...v#v####.",".####.#vv.k#",".......####."]);var i=performance.now();console.log("time: ",i-t)},i.prototype.RenderIndependentCanvas=function(t){this.map.Render(t,this.p),t.fillStyle="#ff0000",t.beginPath(),t.arc(this.p[0],this.p[1],5,0,6.28),t.closePath(),t.fill()},i.prototype.MouseMove=function(t,i){this.p=[t,i]},i.prototype.MouseDown=function(t,i){this.p=[t,i]},i}(c),yi=function(){function t(t,i,e,s){this.x=-1,this.y=-1,this.scale=50,this.fill=!1,this.wolf=!1,this.sheep=!1,this.visited=!1,this.connections=[],this.map=t,this.x=i,this.y=e,this.type=s,"#"===this.type?this.fill=!0:"."===this.type?this.map.pixelsComputedNeeded.push(this):"v"===this.type?(this.wolf=!0,this.map.pixelsComputedNeeded.push(this)):"k"===this.type&&(this.sheep=!0,this.map.pixelsComputedNeeded.push(this))}return t.prototype.Render=function(t,i){var e=(this.x+.5)*this.scale,s=(this.y+.5)*this.scale,n=Math.sqrt((i[0]-e)*(i[0]-e)+(i[1]-s)*(i[1]-s));if(t.lineWidth=4,t.beginPath(),t.rect(this.x*this.scale,this.y*this.scale,this.scale,this.scale),t.closePath(),this.fill&&(this.visited?t.fillStyle="rgba(255,0,0, 0.5)":t.fillStyle="rgba(0,255,0, 0.5)",t.fill()),t.stroke(),this.wolf&&(t.fillStyle="#ff0000",t.beginPath(),t.arc((this.x+.5)*this.scale,(this.y+.5)*this.scale,5,0,6.28),t.closePath(),t.fill()),this.sheep&&(t.fillStyle="#00ff00",t.beginPath(),t.arc((this.x+.5)*this.scale,(this.y+.5)*this.scale,5,0,6.28),t.closePath(),t.fill()),n<.5*this.scale){t.lineWidth=1;for(var o=0;o<this.connections.length;++o)t.beginPath(),t.moveTo((this.x+.5)*this.scale,(this.y+.5)*this.scale),t.lineTo((this.connections[o].x+.5)*this.scale,(this.connections[o].y+.5)*this.scale),t.stroke()}},t.prototype.Add=function(t){t.fill||this.connections.push(t)},t}(),vi=function(){this.s=0,this.w=0},xi=function(){function t(t){this.pixels=[],this.pixelsComputedNeeded=[],this.s=0,this.w=0;for(var i=0;i<t.length;++i){for(var e=[],s=0;s<t[i].length;++s){var n=t[i].charAt(s);e.push(new yi(this,s,i,n))}this.pixels.push(e)}this.InitConnections();var o=performance.now();this.ComputeBFS();var h=performance.now();for(console.log("BFS time: ",h-o),i=0;i<this.pixelsComputedNeeded.length;++i)this.pixelsComputedNeeded[i].visited=!1;for(o=performance.now(),this.ComputeDFS(),h=performance.now(),console.log("DFS time: ",h-o),i=0;i<this.pixelsComputedNeeded.length;++i)this.pixelsComputedNeeded[i].visited=!1;o=performance.now(),this.ComputeDFSValue(),h=performance.now(),console.log("DFS by Value time: ",h-o)}return t.prototype.ComputeDFSValue=function(){for(var t=0,i=0,e=0;e<this.pixelsComputedNeeded.length;++e)if(!this.pixelsComputedNeeded[e].visited){var s=new vi;this.DFSValue(this.pixelsComputedNeeded[e],s),0===s.s&&0===s.w||(s.w<s.s?t+=s.s:i+=s.w)}console.log("sheep : ",t,", wolf : ",i)},t.prototype.DFSValue=function(t,i){if(!t.visited){t.visited=!0,t.sheep&&i.s++,t.wolf&&i.w++;for(var e=0;e<t.connections.length;++e)this.DFSValue(t.connections[e],i)}},t.prototype.ComputeDFS=function(){for(var t=0,i=0,e=0;e<this.pixelsComputedNeeded.length;++e)this.pixelsComputedNeeded[e].visited||(this.s=0,this.w=0,this.DFS(this.pixelsComputedNeeded[e]),0===this.s&&0===this.w||(this.w<this.s?t+=this.s:i+=this.w));console.log("sheep : ",t,", wolf : ",i)},t.prototype.DFS=function(t){if(!t.visited){t.visited=!0,t.sheep&&this.s++,t.wolf&&this.w++;for(var i=0;i<t.connections.length;++i)this.DFS(t.connections[i])}},t.prototype.ComputeBFS=function(){for(var t=0,i=0,e=0;e<this.pixelsComputedNeeded.length;++e)if(!this.pixelsComputedNeeded[e].visited){var s=[this.pixelsComputedNeeded[e]];this.pixelsComputedNeeded[e].visited=!0;for(var n=0,o=0;s.length>0;){var h=s[0];s.shift(),h.wolf&&(o+=1),h.sheep&&(n+=1);for(var r=0;r<h.connections.length;++r)h.connections[r].visited||(h.connections[r].visited=!0,s.push(h.connections[r]))}0===n&&0===o||(o<n?t+=n:i+=o)}console.log("sheep : ",t,", wolf : ",i)},t.prototype.InitConnections=function(){for(var t=0;t<this.pixels.length;++t)for(var i=0;i<this.pixels[0].length;++i){var e=this.pixels[t][i];0!==t&&t<this.pixels.length-1&&0!==i&&i<this.pixels[0].length-1?(e.Add(this.pixels[t-1][i]),e.Add(this.pixels[t+1][i]),e.Add(this.pixels[t][i-1]),e.Add(this.pixels[t][i+1])):0===t?(e.Add(this.pixels[t+1][i]),0<i&&i<this.pixels[0].length-1?(e.Add(this.pixels[t][i-1]),e.Add(this.pixels[t][i+1])):0===i?e.Add(this.pixels[t][i+1]):i===this.pixels[0].length-1&&e.Add(this.pixels[t][i-1])):t===this.pixels.length-1?(e.Add(this.pixels[t-1][i]),0<i&&i<this.pixels[0].length-1?(e.Add(this.pixels[t][i-1]),e.Add(this.pixels[t][i+1])):0===i?e.Add(this.pixels[t][i+1]):i===this.pixels[0].length-1&&e.Add(this.pixels[t][i-1])):0===i?(e.Add(this.pixels[t][i+1]),0<t&&t<this.pixels.length-1?(e.Add(this.pixels[t-1][i]),e.Add(this.pixels[t+1][i])):0===t?e.Add(this.pixels[t+1][i]):t===this.pixels.length-1&&e.Add(this.pixels[t-1][i])):i===this.pixels[0].length-1&&(e.Add(this.pixels[t][i-1]),0<t&&t<this.pixels.length-1?(e.Add(this.pixels[t-1][i]),e.Add(this.pixels[t+1][i])):0===t?e.Add(this.pixels[t+1][i]):t===this.pixels.length-1&&e.Add(this.pixels[t-1][i]))}},t.prototype.Render=function(t,i){for(var e=0;e<this.pixels.length;++e)for(var s=0;s<this.pixels[0].length;++s)this.pixels[e][s].Render(t,i)},t}(),gi=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),mi=function(t){function i(i){var e=t.call(this,i)||this;return e.p=[0,0],e.init(),e}return gi(i,t),i.prototype.init=function(){var t=performance.now();this.map=new wi([10,10,3,3,5],[[2,2],[3,2],[3,3],[6,4],[1,1],[4,1],[1,4]]);var i=performance.now();console.log("time: ",i-t)},i.prototype.RenderIndependentCanvas=function(t){this.map&&(this.map.Render(t,this.p),t.fillStyle="#ff0000",t.beginPath(),t.arc(this.p[0],this.p[1],5,0,6.28),t.closePath(),t.fill())},i.prototype.MouseMove=function(t,i){this.p=[t,i]},i.prototype.MouseDown=function(t,i){this.p=[t,i]},i}(c),Ci=function(){function t(t,i,e){this.hover=!1,this.x=-1,this.y=-1,this.scale=50,this.fill=!1,this.fire=!1,this.exit=!1,this.visited=!1,this.cost=0,this.temp=0,this.connections=[],this.map=t,this.x=i,this.y=e}return t.prototype.Render=function(t){t.lineWidth=4,t.strokeStyle="#ffffff",t.beginPath(),t.rect(50+this.x-.5*this.scale,50+this.y-.5*this.scale,this.scale,this.scale),t.closePath(),this.fill?t.fillStyle="rgba(0,0,0, 0.85)":this.hover?t.fillStyle="rgba(255,0,0, 0.8)":t.fillStyle="rgba(255,255,0, 0.5)",t.fill(),t.stroke(),t.fillStyle="#0000ff",t.beginPath(),t.arc(50+this.x,50+this.y,3,0,6.28),t.closePath(),t.fill()},t.prototype.RenderHover=function(t){this.hover=!0,this.Render(t)},t}(),Mi=function(){function t(t,i,e){this.pixels=[],this.connections=[],this.isPath=!0,this.visited=!1,this.scale=50,this.start=!1,this.end=!1,this.temp=-1,this.x=i,this.y=e,this.map=t}return t.prototype.Compute=function(){for(var t=0;t<this.pixels.length;++t)if(this.pixels[t].fill)return void(this.isPath=!1)},t.prototype.pushConnections=function(t){t.isPath&&this.connections.push(t)},t.prototype.Render=function(t,i){var e=Math.sqrt((i[0]-this.x)*(i[0]-this.x)+(i[1]-this.y)*(i[1]-this.y));this.isPath?t.fillStyle="rgba(0,0,0, 1)":t.fillStyle="rgba(0,0,0, 0.3)";for(var s=0;s<this.pixels.length;++s)e<10&&this.isPath?this.map.pixelsHover=this.pixels:this.pixels[s].hover=!1;if(t.beginPath(),t.arc(this.x,this.y,9,0,6.28),t.closePath(),t.fill(),e<10)for(t.strokeStyle="#000000",t.lineWidth=10,s=0;s<this.connections.length;++s)t.beginPath(),t.moveTo(this.x,this.y),t.lineTo(this.connections[s].x,this.connections[s].y),t.stroke();this.start&&(t.fillStyle="rgba(255,0,255 , 1)",t.beginPath(),t.arc(this.x,this.y,12,0,6.28),t.closePath(),t.fill()),this.end&&(t.fillStyle="rgba(0,255,255, 1)",t.beginPath(),t.arc(this.x,this.y,12,0,6.28),t.closePath(),t.fill())},t}(),wi=function(){function t(t,i){this.connectionMap=[],this.pixels=[],this.pixelsHover=[],this.scale=50,this.fires=[],this.path=[],this.t=0,this.count=1,this.fail=!1,this.done=!1;for(var e=0;e<t[0];++e){for(var s=[],n=0;n<t[1];++n)s.push(new Ci(this,n*this.scale,e*this.scale));this.pixels.push(s)}for(e=0;e<i.length-2;++e)this.pixels[i[e][1]][i[e][0]].fill=!0;this.InitConnections(t[2],t[3]);var o=this.FindGhost(i[i.length-2]);o&&(o.start=!0);var h=this.FindGhost(i[i.length-1]);h&&(h.end=!0),o&&h&&(this.path=this.ComputePath(o,h))}return t.prototype.FindGhost=function(t){for(var i,e=this.pixels[t[0]][t[1]],s=0;s<this.connectionMap.length;++s)for(var n=0;n<this.connectionMap[0].length;++n)for(var o=0;o<this.connectionMap[s][n].pixels.length;++o)this.connectionMap[s][n].pixels[o]===e&&this.connectionMap[s][n].isPath&&(i=this.connectionMap[s][n]);if(i)return i},t.prototype.Update=function(){},t.prototype.ComputeFire=function(){for(var t=[],i=0;i<this.fires.length;++i)for(var e=0;e<this.fires[i].connections.length;++e)this.fires[i].connections[e].fill||(this.fires[i].connections[e].fire=!0,t.push(this.fires[i].connections[e]));for(i=0;i<t.length;++i)this.fires.push(t[i])},t.prototype.ComputeExit=function(){for(var t=0;t<this.pixels.length;++t)for(var i=0;i<this.pixels[t].length;++i)if((this.pixels[t][i].connections.length<3&&0===t||0===i||t===this.pixels.length-1||i===this.pixels[0].length-1)&&!this.pixels[t][i].fill){for(var e=!1,s=0;s<this.pixels[t][i].connections.length;++s)!1===this.pixels[t][i].connections[s].fill&&(e=!0);e&&(this.pixels[t][i].exit=!0,this.exit=this.pixels[t][i])}},t.prototype.ResetCost=function(){for(var t=0;t<this.connectionMap.length;++t)for(var i=0;i<this.connectionMap[t].length;++i)this.connectionMap[t][i].isPath&&(this.connectionMap[t][i].temp=-1,this.connectionMap[t][i].visited=!1)},t.prototype.ComputePath=function(t,i){this.ResetCost();for(var e=[t];e.length>0;){(r=e[0]).visited=!0,e.shift();for(var s=0;s<r.connections.length;++s)if(!r.connections[s].visited){var n=this.ComputeCost(r,r.connections[s]),o=r.temp+n;(-1===r.connections[s].temp||o<r.connections[s].temp)&&(r.connections[s].temp=o,e.push(r.connections[s]))}}var h=[];if(-1!==i.temp){h.push(i);for(var r=i;;){var c=r;for(s=0;s<r.connections.length;++s)r.connections[s].isPath&&r.connections[s].temp<c.temp&&(c=r.connections[s]);if(c===r)return this.fail=!0,null;if(r=c,h.push(r),r===t)break}}return h},t.prototype.ComputeCost=function(t,i){return Math.sqrt((i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y))},t.prototype.InitConnections=function(t,i){this.connectionMap=[];for(var e=0;e<this.pixels.length-t+1;++e){for(var s=[],n=0;n<this.pixels[0].length-i+1;++n){for(var o=new Mi(this,n*this.scale+75,e*this.scale+75),h=0;h<i;++h)for(var r=0;r<t;++r)o.pixels.push(this.pixels[e+h][n+r]);o.Compute(),s.push(o)}this.connectionMap.push(s)}for(e=0;e<this.connectionMap.length;++e)for(n=0;n<this.connectionMap.length;++n)o=this.connectionMap[e][n],0!==e&&e<this.connectionMap.length-1&&0!==n&&n<this.connectionMap[0].length-1?(o.pushConnections(this.connectionMap[e-1][n]),o.pushConnections(this.connectionMap[e+1][n]),o.pushConnections(this.connectionMap[e][n-1]),o.pushConnections(this.connectionMap[e][n+1])):0===e?(o.pushConnections(this.connectionMap[e+1][n]),0<n&&n<this.connectionMap[0].length-1?(o.pushConnections(this.connectionMap[e][n-1]),o.pushConnections(this.connectionMap[e][n+1])):0===n?o.pushConnections(this.connectionMap[e][n+1]):n===this.connectionMap[0].length-1&&o.pushConnections(this.connectionMap[e][n-1])):e===this.connectionMap.length-1?(o.pushConnections(this.connectionMap[e-1][n]),0<n&&n<this.connectionMap[0].length-1?(o.pushConnections(this.connectionMap[e][n-1]),o.pushConnections(this.connectionMap[e][n+1])):0===n?o.pushConnections(this.connectionMap[e][n+1]):n===this.connectionMap[0].length-1&&o.pushConnections(this.connectionMap[e][n-1])):0===n?(o.pushConnections(this.connectionMap[e][n+1]),0<e&&e<this.connectionMap.length-1?(o.pushConnections(this.connectionMap[e-1][n]),o.pushConnections(this.connectionMap[e+1][n])):0===e?o.pushConnections(this.connectionMap[e+1][n]):e===this.connectionMap.length-1&&o.pushConnections(this.connectionMap[e-1][n])):n===this.connectionMap[0].length-1&&(o.pushConnections(this.connectionMap[e][n-1]),0<e&&e<this.connectionMap.length-1?(o.pushConnections(this.connectionMap[e-1][n]),o.pushConnections(this.connectionMap[e+1][n])):0===e?o.pushConnections(this.connectionMap[e+1][n]):e===this.connectionMap.length-1&&o.pushConnections(this.connectionMap[e-1][n]))},t.prototype.Render=function(t,i){this.t+=.1,this.t>10&&(this.t=0,this.fail||this.Update());for(var e=0;e<this.pixels.length;++e)for(var s=0;s<this.pixels[0].length;++s)this.pixels[e][s].Render(t);if(this.pixelsHover)for(var n=0;n<this.pixelsHover.length;++n)this.pixelsHover[n].RenderHover(t);if(this.connectionMap)for(n=0;n<this.connectionMap.length;++n)for(var o=0;o<this.connectionMap.length;++o)this.connectionMap[n][o].Render(t,i);this.path&&this.path.length>0&&(this.RenderPath(t,this.path),console.log("dddd"))},t.prototype.RenderPath=function(t,i){t.strokeStyle="#000000",t.lineWidth=5,t.beginPath(),t.moveTo(i[0].x,i[0].y);for(var e=1;e<i.length;++e)t.lineTo(i[e].x,i[e].y);t.stroke()},t}(),Pi=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),bi=function(t){function i(i){var e=t.call(this,i)||this;return e.p=[0,0],e.init(),e}return Pi(i,t),i.prototype.init=function(){var t=performance.now();this.map=new Si(11,[[5,2],[9,7],[4,4],[3,9]]);var i=performance.now();console.log("time: ",i-t)},i.prototype.RenderIndependentCanvas=function(t){this.map.Render(t,this.p),t.fillStyle="#ff0000",t.beginPath(),t.arc(this.p[0],this.p[1],5,0,6.28),t.closePath(),t.fill()},i.prototype.MouseMove=function(t,i){this.p=[t,i]},i.prototype.MouseDown=function(t,i){this.p=[t,i]},i}(c),_i=function(){function t(t,i,e,s){this.x=-1,this.y=-1,this.connections=[],this.scale=10,this.r=!1,this.yC=!1,this.b=!1,this.selected=!1,this.map=t,this.x=i,this.y=e,this.scale=s}return t.prototype.Render=function(t,i){t.strokeStyle="#ffffff",t.fillStyle="rgba(255,255,255, 1)",t.lineWidth=1,t.beginPath(),t.rect(this.x,this.y,this.scale,this.scale),t.closePath(),this.r?t.fillStyle="rgba(255,0,0, 1)":this.yC?t.fillStyle="rgba(255,255,0, 1)":this.b&&(t.fillStyle="rgba(0,0,255, 1)"),t.stroke(),t.fill(),this.selected&&(t.fillStyle="#ffffff",t.beginPath(),t.arc(this.x+.5*this.scale,this.y+.5*this.scale,5,0,6.28),t.closePath(),t.fill())},t}(),Si=function(){function t(t,i){this.scale=15,this.pixels=[],this.pixelsComputedNeeded=[],this.s=0,this.w=0;for(var e=0;e<t;++e){for(var s=[],n=0;n<t;++n)s.push(new _i(this,e*this.scale,n*this.scale,this.scale));this.pixels.push(s)}this.InitConnections(),this.ComputeData(i)}return t.prototype.ComputeData=function(t){for(var i=0;i<t.length;++i){var e=this.pixels[t[i][0]-1][t[i][1]-1];e.selected=!0,e.r?console.log("red, 1"):e.yC?console.log("yellow, 3"):e.b&&console.log("blue, 2")}},t.prototype.InitConnections=function(){for(var t=0;t<.5*this.pixels.length;++t)for(var i=0;i<.5*this.pixels[0].length;++i){var e=this.pixels[t][i],s=i%3,n=t%3;0===s&&t>=i?e.r=!0:1===s&&t>=i?e.b=!0:2===s&&t>=i&&(e.yC=!0),0===n&&i>=t?e.r=!0:1===n&&i>=t?e.b=!0:2===n&&i>=t&&(e.yC=!0)}for(t=0;t<.5*this.pixels.length;++t)for(i=0;i<.5*this.pixels[0].length;++i){e=this.pixels[t][i];var o=t,h=this.pixels[0].length-i-1;(r=this.pixels[o][h]).r=e.r,r.yC=e.yC,r.b=e.b}for(t=0;t<.5*this.pixels.length;++t)for(i=0;i<this.pixels[0].length;++i){var r;e=this.pixels[t][i],o=this.pixels.length-t-1,h=i,(r=this.pixels[o][h]).r=e.r,r.yC=e.yC,r.b=e.b}},t.prototype.Render=function(t,i){for(var e=0;e<this.pixels.length;++e)for(var s=0;s<this.pixels[0].length;++s)this.pixels[e][s].Render(t,i)},t}(),Ri=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),Di=function(t){function i(i){var e=t.call(this,i)||this;return e.p=[0,0],e.init(),e}return Ri(i,t),i.prototype.init=function(){var t=performance.now(),i=new Ai("DOG"),e=performance.now();console.log("time: ",e-t),console.log(i)},i.prototype.RenderIndependentCanvas=function(t){t.fillStyle="#ff0000",t.beginPath(),t.arc(this.p[0],this.p[1],5,0,6.28),t.closePath(),t.fill()},i.prototype.MouseMove=function(t,i){this.p=[t,i]},i.prototype.MouseDown=function(t,i){this.p=[t,i]},i}(c),Ai=function(t){var i=t.length,e=5+4*(i-1);console.log(e),console.log(i);for(var s=0;s<5;++s){for(var n="",o=0,h=0;h<e;++h)n+=0===s||4===s?h%4==2?h<e-5?"#":"*":".":1===s||3===s?h%2==1?h<e-5?"#":"*":".":h%4==0?h<e-5?"#":"*":h%2==0?t[o++]:".";console.log(n)}},Vi=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),Ii=function(t){function i(i){var e=t.call(this,i)||this;return e.p=[0,0],e.init(),e}return Vi(i,t),i.prototype.init=function(){var t=performance.now();this.graph=new ki([4,5,1],[[1,2],[1,3],[1,4],[2,4],[3,4]]);var i=performance.now();console.log("time: ",i-t)},i.prototype.RenderIndependentCanvas=function(t){this.graph.Render(t,this.p),this.RenderMouse(t)},i.prototype.RenderMouse=function(t){t.fillStyle="#ff0000",t.beginPath(),t.arc(this.p[0],this.p[1],5,0,6.28),t.closePath(),t.fill()},i.prototype.MouseMove=function(t,i){this.p=[t,i]},i.prototype.MouseDown=function(t,i){this.p=[t,i]},i}(c),Oi=function(){function t(){this.visitedNum=[]}return t.prototype.Add=function(t){this.visitedNum.push(t)},t.prototype.Print=function(){for(var t=0;t<this.visitedNum.length;++t)console.log(this.visitedNum[t])},t}(),ki=function(){function t(t,i){this.edges=[],this.nodes=[];for(var e=0;e<t[0];++e)this.nodes.push(new Ei(e));for(e=0;e<i.length;++e){var s=i[e],n=this.nodes[s[0]-1],o=this.nodes[s[1]-1],h=new zi(n,o);this.edges.push(h)}var r=new Oi;for(this.ComputeDFS(t[t.length-1]-1,r),r.Print(),e=0;e<this.nodes.length;++e)this.nodes[e].visited=!1;r=new Oi,this.ComputeBFS(t[t.length-1]-1,r),r.Print()}return t.prototype.ComputeBFS=function(t,i){this.BFS(this.nodes[t],i)},t.prototype.BFS=function(t,i){for(var e=[t];e.length>0;){var s=e[0];if(e.shift(),!s.visited){s.visited=!0,i.Add(s.id+1);for(var n=s.edges.length-1;n>-1;--n)s.edges[n].n0.visited||e.push(s.edges[n].n0),s.edges[n].n1.visited||e.push(s.edges[n].n1)}}},t.prototype.ComputeDFS=function(t,i){this.DFS(this.nodes[t],i)},t.prototype.DFS=function(t,i){if(t.visited)return i;i.Add(t.id+1),t.visited=!0;for(var e=t.edges.length-1;e>-1;--e)this.DFS(t.edges[e].n0,i),this.DFS(t.edges[e].n1,i);return i},t.prototype.Render=function(t,i){for(var e=0;e<this.edges.length;++e)this.edges[e].Render(t);for(e=0;e<this.nodes.length;++e)this.nodes[e].Render(t)},t}(),zi=function(){function t(t,i){this.n0=t,this.n1=i,this.n0.edges.push(this),this.n1.edges.push(this)}return t.prototype.Render=function(t){t.beginPath(),t.moveTo(this.n0.x,this.n0.y),t.lineTo(this.n1.x,this.n1.y),t.closePath(),t.stroke()},t}(),Ei=function(){function t(t){this.edges=[],this.x=-1,this.y=-1,this.id=-1,this.visited=!1,this.x=300*(Math.random()+1),this.y=300*(Math.random()+1),this.id=t,console.log(this.x,this.y)}return t.prototype.Render=function(t){t.fillStyle="#ff0000",t.beginPath(),t.arc(this.x,this.y,10,0,6.28),t.closePath(),t.stroke(),t.font="15px Arial",t.fillText((this.id+1).toString(),this.x-5,this.y+5)},t}(),Bi=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),Li=function(t){function i(i){var e=t.call(this,i)||this;return e.p=[0,0],e.init(),e}return Bi(i,t),i.prototype.init=function(){this.myWork=new Ti(10,[[10,10],[50,15],[45,65],[25,80],[9,10]]),this.myWork.toJson(),console.log("building run....")},i.prototype.RenderIndependentCanvas=function(t){t.fillStyle="#ff0000",t.beginPath(),t.arc(this.p[0],this.p[1],5,0,6.28),t.closePath(),t.fill()},i.prototype.MouseMove=function(t,i){this.p=[t,i]},i.prototype.MouseDown=function(t,i){this.p=[t,i]},i}(c),Ti=function(){function t(t,i){this.apts=[],this.sun=new ji,this.init(),this.InitOpti()}return t.prototype.init=function(){this.site=new Fi;for(var t=0;t<10;++t)this.apts.push(new Ui)},t.prototype.InitOpti=function(){},t.prototype.toJson=function(){for(var t=0;t<10;++t)this.apts[t].toJson()},t}(),Ni=function(){function t(t){this.host=t}return t.prototype.getFloor=function(){return[0,0]},t.prototype.computeSVec=function(t){this.scoreBySun.update(12,0)},t.prototype.toJson=function(){},t}(),Ui=function(){function t(){this.unit=[],this.Init()}return t.prototype.Init=function(){for(var t=0;t<10;++t)this.unit.push(new Ni(this))},t.prototype.toJson=function(){for(var t=0;t<this.unit.length;++t)this.unit[t].toJson()},t}(),Fi=function(){function t(){this.vecsSite=[]}return t.prototype.SiteInitByVecs=function(t){this.vecsSite=t},t.prototype.Render=function(t){},t}(),ji=function(){function t(){this.vec=[0,0,0]}return t.prototype.ComputeVAl=function(t){for(var i=0;i<t.unit.length;++i){var e=t.unit[i];this.Compute(e)}},t.prototype.Compute=function(t){t.computeSVec(this.vec)},t}(),Hi=e(906),Wi=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),Gi=function(t){function i(i){var e=t.call(this,i)||this;return e.mouse=new Hi.h9(0,0),e.xNum=10,e.yNum=10,e.mode=0,e.connectivity=!1,e.distance=0,e.p0=new Hi.h9(-1,-1),e.p1=new Hi.h9(1,1),e.capture=void 0,e.indeCanvas.title="GridOptiA",e.init(),e.InitUI(),e}return Wi(i,t),i.prototype.InitUI=function(){var t=this,i=document.createElement("div");i.style.position="absolute",i.style.left="650px",i.style.height="400px",i.style.width="200px",i.style.marginTop="10px",i.style.paddingLeft="10px",i.style.background="#aaaaaa",this.titleA=document.createElement("p"),this.titleA.textContent="X axis: 20",i.append(this.titleA);var e=document.createElement("input");e.type="range",e.min="2",e.max="20",e.oninput=function(){var i=+e.value;t.xNum=i,t.titleA.textContent="X axis: "+i,t.init()},i.append(e),this.titleB=document.createElement("p"),this.titleB.textContent="Y axis: 20",i.append(this.titleB);var s=document.createElement("input");s.type="range",s.min="2",s.max="20",s.oninput=function(){var i=+s.value;t.yNum=i,t.titleB.textContent="Y axis: "+i,t.init()},i.append(s),this.titleC=document.createElement("p"),this.titleC.textContent="mode: 0",i.append(this.titleC);var n=document.createElement("input");n.type="range",n.min="0",n.max="8",n.defaultValue="0",n.oninput=function(){var i=+n.value;t.mode=i,t.titleC.textContent="mode: "+i,t.init()},i.append(n),this.titleD=document.createElement("p"),this.titleD.textContent="connectivity: false",i.append(this.titleD);var o=document.createElement("input");o.type="checkbox",o.oninput=function(){var i=o.checked;t.connectivity=i,t.titleD.textContent="connectivity: "+i,t.init()},i.append(o),this.titleE=document.createElement("p"),this.titleE.textContent="distance: 0",i.append(this.titleE);var h=document.createElement("input");h.type="range",h.min="0",h.max="2000",h.defaultValue="0",h.oninput=function(){var i=+h.value;t.distance=.001*i,t.titleE.textContent="distance: "+i,t.init()},i.append(h),this.scene.canvas.hostDiv.append(i)},i.prototype.init=function(){this.gridSystem=Hi.O2.GetGrid(this.xNum,this.yNum,this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.mode)},i.prototype.RenderIndependentCanvas=function(t){t.save(),t.translate(.5*this.width,.5*this.height),t.scale(100,100),t.beginPath(),t.fillStyle="#ededed",t.rect(.5*-this.width,.5*-this.height,this.width,this.height),t.fill(),this.gridSystem.Update(),this.RenderLine(t),this.RenderPoints(t)},i.prototype.RenderLine=function(t){if(this.connectivity)for(var i=0;i<this.gridSystem.vs.length-1;++i)for(var e=i+1;e<this.gridSystem.vs.length;++e)this.gridSystem.vs[e].Distance(this.gridSystem.vs[i])<this.distance&&Hi.gi.LineByVecs(t,this.gridSystem.vs[i],this.gridSystem.vs[e],.002,"rgba(0, 0, 255, 0.9)")},i.prototype.RenderPoints=function(t){Hi.gi.PointByNVec(t,this.gridSystem.v0,.05),Hi.gi.PointByNVec(t,this.gridSystem.v1,.05);for(var i=0;i<this.gridSystem.vs.length;++i)Hi.gi.PointByNVec(t,this.gridSystem.vs[i],.01);Hi.gi.Point(t,this.mouse.x,this.mouse.y,.01),t.restore()},i.prototype.MouseMove=function(t,i){var e=.01*(t-.5*this.width),s=.01*(i-.5*this.height);this.mouse.x=e,this.mouse.y=s},i.prototype.MouseDown=function(t,i){this.mouse.Distance(this.p0)<.1?this.capture=this.p0:this.mouse.Distance(this.p1)<.1?this.capture=this.p1:this.capture=void 0},i.prototype.MouseDrag=function(t,i){var e=.01*(t-.5*this.width),s=.01*(i-.5*this.height);this.mouse.x=e,this.mouse.y=s,this.capture&&(this.capture.x=e,this.capture.y=s,this.init())},i}(c),Xi=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),Yi=function(t){function i(i){var e=t.call(this,i)||this;return e.data=[],e.p=[0,0],e.captureVec=void 0,e.init(),e.InitUI(),e}return Xi(i,t),i.prototype.InitUI=function(){var t=this,i=document.createElement("div");i.style.position="absolute",i.style.marginLeft="10px";var e=document.createElement("div");if(e){i.append(e),e.style.cssFloat="left",e.innerHTML="x res: ";var s=document.createElement("input");if(s.oninput=function(){var i=+s.value;t.pixelMap.rx=Math.floor(i)%2==0?Math.floor(i):Math.floor(i)+1,t.pixelMap.Init()},s.innerText="x res: ",s.type="range",s.min="6",s.max="40",s.value="15",s.style.cssFloat="left",s.style.marginRight="25px",i.append(s),e=document.createElement("div")){i.append(e),e.style.cssFloat="left",e.innerHTML="y res: ";var n=document.createElement("input");if(n.oninput=function(){var i=+n.value;t.pixelMap.ry=Math.floor(i)%2==0?Math.floor(i):Math.floor(i)+1,t.pixelMap.Init()},n.type="range",n.min="6",n.max="40",n.value="15",n.style.cssFloat="left",i.append(n),e=document.createElement("div")){i.append(e),e.style.cssFloat="left",e.style.marginLeft="10px",e.innerHTML="Mode: ";var o=document.createElement("input");o.oninput=function(){var i=+o.value;t.pixelMap.mode=i,t.pixelMap.Init()},o.type="range",o.min="0",o.max="5",o.value="0",o.style.cssFloat="left",o.style.width="50px",i.append(o),(e=document.createElement("div"))&&(i.append(e),e.style.cssFloat="left",e.style.marginLeft="10px",e.innerHTML="data : ",this.dataHtml=e,this.scene.implementation.app.divHost.append(i))}}}},i.prototype.init=function(){this.pixelMap=new qi(new n.h9(100,100),new n.h9(400,300)),this.data=this.InitData(800,5,this.width-5,25,this.height-5,.5,4)},i.prototype.InitData=function(t,i,e,s,o,h,r){for(var c=[],p=0;p<t;++p){var a=i+Math.random()*e,l=s+Math.random()*o,u=h+Math.random()*r;c.push(new n.h9(a,l,u))}return c},i.prototype.MouseDown=function(t,i){this.captureVec=this.pixelMap.IsHover(t,i)},i.prototype.MouseMove=function(t,i){if(this.pixelMap.MoveInspection(t,i),this.pixelMap.selPixel){var e=this.pixelMap.selPixel.data.num.toFixed(4);this.dataHtml.innerText="data: "+e}else this.dataHtml.innerText="data: "},i.prototype.MouseDrag=function(t,i){this.captureVec&&this.pixelMap.DragControlPoint(t,i)},i.prototype.MouseUp=function(t,i){this.captureVec=void 0},i.prototype.RenderIndependentCanvas=function(t){for(var i=0;i<this.data.length;++i)Hi.gi.PointByNVec(t,this.data[i],this.data[i].z,"rgba(0, 0, 0, 0.5)");this.pixelMap.UpdateData(this.data),this.pixelMap.RenderPixel(t),this.pixelMap.RenderCorner(t),this.pixelMap.RenderSelPixel(t)},i}(c),qi=function(){function t(t,i){this.pts=[],this.ptList=[],this.listPixels=[],this.t=0,this.mode=0,this.selPixel=void 0,this.v0=t,this.v1=i,this.rx=20,this.ry=20,this.ddx=0,this.ddy=0,this.m=new n.h9(0,0),this.Init()}return t.prototype.IsHover=function(t,i){this.m.x=t,this.m.y=i;var e=this.pts[0][0];return n.h9.Distance(this.m,e)<8?e:(e=this.pts[0][this.pts[0].length-1],n.h9.Distance(this.m,e)<8?e:(e=this.pts[this.pts.length-1][this.pts[0].length-1],n.h9.Distance(this.m,e)<8?e:(e=this.pts[this.pts.length-1][0],n.h9.Distance(this.m,e)<8?e:void 0)))},t.prototype.Move=function(t,i){this.MoveInspection(t,i)},t.prototype.MoveInspection=function(t,i){this.m.x=t,this.m.y=i;for(var e=0;e<this.listPixels.length;++e){if(n.h9.IsInsideOfVecs(this.m,this.listPixels[e].recVec))return void(this.selPixel=this.listPixels[e]);this.selPixel=void 0}},t.prototype.DragControlPoint=function(t,i){this.m.x=t,this.m.y=i;var e=this.pts[0][0];n.h9.Distance(this.m,e)<60&&(this.v0.x=t,this.v0.y=i),e=this.pts[0][this.pts[0].length-1],n.h9.Distance(this.m,e)<60&&(this.v1.x=t,this.v0.y=i),e=this.pts[this.pts.length-1][this.pts[0].length-1],n.h9.Distance(this.m,e)<60&&(this.v1.x=t,this.v1.y=i),e=this.pts[this.pts.length-1][0],n.h9.Distance(this.m,e)<60&&(this.v0.x=t,this.v1.y=i),this.Init()},t.prototype.Init=function(){switch(this.ddx=(this.v1.x-this.v0.x)/(this.rx-1),this.ddy=(this.v1.y-this.v0.y)/(this.ry-1),this.pts=[],this.ptList=[],this.listPixels=[],this.InitGrid(),this.mode){case 0:this.ComputeRec();break;case 1:this.ComputeTriA();break;case 2:this.ComputeTriB();break;case 3:this.ComputeDia();break;case 4:this.ComputeLShape();break;default:this.ComputeHex()}},t.prototype.UpdateData=function(t){for(var i=0;i<this.listPixels.length;++i)this.listPixels[i].data.num=0;for(var e=0;e<t.length;++e){var s=t[e];for(i=0;i<this.listPixels.length;++i)n.h9.IsInsideOfVecs(s,this.listPixels[i].recVec)&&(this.listPixels[i].data.num+=s.z)}},t.prototype.InitGrid=function(){this.pts=[];for(var t=0;t<this.ry;++t){for(var i=this.v0.y+t*this.ddy,e=[],s=0;s<this.rx;++s){var o=this.v0.x+s*this.ddx,h=new n.h9(o,i,0);e.push(h),this.ptList.push(h)}this.pts.push(e)}},t.prototype.ComputeRec=function(){this.listPixels=[];for(var t=0;t<this.ry;t+=1)for(var i=0;i<this.rx;i+=1)if(i<this.rx-1&&t<this.ry-1){var e=new Qi(this);e.recVec.push(this.pts[t][i]),e.recVec.push(this.pts[t][i+1]),e.recVec.push(this.pts[t+1][i+1]),e.recVec.push(this.pts[t+1][i]),this.listPixels.push(e)}},t.prototype.ComputeTriA=function(){this.listPixels=[];for(var t=0;t<this.ry;t+=1)for(var i=0;i<this.rx;i+=1)if(i<this.rx-1&&t<this.ry-1){var e=new Qi(this);e.recVec.push(this.pts[t][i]),e.recVec.push(this.pts[t][i+1]),e.recVec.push(this.pts[t+1][i]),this.listPixels.push(e),(e=new Qi(this)).recVec.push(this.pts[t][i+1]),e.recVec.push(this.pts[t+1][i+1]),e.recVec.push(this.pts[t+1][i]),this.listPixels.push(e)}},t.prototype.ComputeDia=function(){this.listPixels=[];for(var t=0;t<this.ry;t+=1)for(var i=0;i<this.rx;i+=1)if(i<this.rx-2&&t<this.ry-1){var e=new Qi(this);e.recVec.push(this.pts[t][i]),e.recVec.push(this.pts[t][i+1]),e.recVec.push(this.pts[t+1][i+2]),e.recVec.push(this.pts[t+1][i+1]),this.listPixels.push(e)}},t.prototype.ComputeLShape=function(){this.listPixels=[];for(var t=0;t<this.ry;t+=3)for(var i=0;i<this.rx;i+=2)if(i<this.rx-2&&t<this.ry-2){var e=new Qi(this);e.recVec.push(this.pts[t][i]),e.recVec.push(this.pts[t][i+2]),e.recVec.push(this.pts[t+1][i+2]),e.recVec.push(this.pts[t+1][i+1]),e.recVec.push(this.pts[t+2][i+1]),e.recVec.push(this.pts[t+2][i]),this.listPixels.push(e),(e=new Qi(this)).recVec.push(this.pts[t+2][i]),e.recVec.push(this.pts[t+3][i]),e.recVec.push(this.pts[t+3][i+2]),e.recVec.push(this.pts[t+1][i+2]),e.recVec.push(this.pts[t+1][i+1]),e.recVec.push(this.pts[t+2][i+1]),this.listPixels.push(e)}},t.prototype.ComputeTriB=function(){this.listPixels=[];for(var t=0;t<this.ry;t+=1)for(var i=0;i<this.rx;i+=1)if(i<this.rx-1&&t<this.ry-1){var e=new Qi(this);e.recVec.push(this.pts[t][i]),e.recVec.push(this.pts[t][i+1]),e.recVec.push(this.pts[t+1][i+1]),this.listPixels.push(e),(e=new Qi(this)).recVec.push(this.pts[t][i]),e.recVec.push(this.pts[t+1][i+1]),e.recVec.push(this.pts[t+1][i]),this.listPixels.push(e)}},t.prototype.ComputeHex=function(){this.listPixels=[];for(var t=!0,i=0;i<this.ry;i+=2){for(var e=0;e<this.rx;e+=2){var s;t?e%2==0&&e<this.rx-2&&i%2==0&&i<this.ry-2&&((s=new Qi(this)).recVec.push(this.pts[i][e+1]),s.recVec.push(this.pts[i+1][e+2]),s.recVec.push(this.pts[i+2][e+2]),s.recVec.push(this.pts[i+3][e+1]),s.recVec.push(this.pts[i+2][e]),s.recVec.push(this.pts[i+1][e]),this.listPixels.push(s)):e%2==0&&e<this.rx-2&&i%2==0&&i<this.ry-2&&((s=new Qi(this)).recVec.push(this.pts[i][e+2]),s.recVec.push(this.pts[i+1][e+3]),s.recVec.push(this.pts[i+2][e+3]),s.recVec.push(this.pts[i+3][e+2]),s.recVec.push(this.pts[i+2][e+1]),s.recVec.push(this.pts[i+1][e+1]),this.listPixels.push(s))}t=!t}},t.prototype.RenderPixel=function(t){for(var i=0;i<this.listPixels.length;++i)this.listPixels[i].Render(t)},t.prototype.RenderCorner=function(t){var i=this.pts[0][0];Hi.gi.PointByNVecAni(t,i,7,this.t,"rgba(255, 0, 0, 1)"),t.stroke(),i=this.pts[0][this.pts[0].length-1],Hi.gi.PointByNVecAni(t,i,7,this.t,"rgba(255, 0, 0, 1)"),t.stroke(),i=this.pts[this.pts.length-1][this.pts[0].length-1],Hi.gi.PointByNVecAni(t,i,7,this.t,"rgba(255, 0, 0, 1)"),t.stroke(),i=this.pts[this.pts.length-1][0],Hi.gi.PointByNVecAni(t,i,7,this.t,"rgba(255, 0, 0, 1)"),t.stroke(),this.t+=.07},t.prototype.RenderSelPixel=function(t){if(this.selPixel){t.lineWidth=3,t.strokeStyle="#ffffff",t.beginPath(),t.moveTo(this.selPixel.recVec[0].x,this.selPixel.recVec[0].y);for(var i=1;i<this.selPixel.recVec.length;++i)t.lineTo(this.selPixel.recVec[i].x,this.selPixel.recVec[i].y);t.closePath(),t.stroke()}},t}(),Qi=function(){function t(i,e){void 0===e&&(e=new n.h9(0,0,0)),this.nPix=[],this.i=-1,this.j=-1,this.k=-1,this.u=-1,this.v=-1,this.color=[],this.map=i,this.vec=e,this.nPix=[],this.recVec=[],this.i=-1,this.j=-1,this.k=-1,this.id=t.GetID(),this.data={}}return t.GetID=function(){return t.ID++},t.prototype.ToString=function(){return"Pixel"+this.id},t.prototype.Update=function(){},t.prototype.Render=function(t){t.lineWidth=1,t.strokeStyle="#000000",t.fillStyle="rgba(255, 0, 255, "+.05*this.data.num+" )",t.beginPath(),t.moveTo(this.recVec[0].x,this.recVec[0].y);for(var i=1;i<this.recVec.length;++i)t.lineTo(this.recVec[i].x,this.recVec[i].y);t.closePath(),t.fill(),t.stroke()},t.ID=0,t}(),Ki=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},t(i,e)};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),Ji=function(t){function i(i){var e=t.call(this,i)||this;return e.p=[0,0],e}return Ki(i,t),i.prototype.init=function(){},i.prototype.RenderIndependentCanvas=function(t){t.fillStyle="#ff0000",t.beginPath(),t.arc(this.p[0],this.p[1],5,0,6.28),t.closePath(),t.fill()},i.prototype.MouseDown=function(t,i){this.p=[t,i]},i}(c),$i=function(){function t(t){this.definitions=[],this.implementation=t,this.canvas=t.app.model.graphicsCoreWrapper.canvasWrapper.canvas,this.activeCommandController=new o(this),this.geomeetryCommon=new h(this),this.Init(),this.InitDefinition()}return t.prototype.Init=function(){this.definitions=[]},Object.defineProperty(t.prototype,"width",{get:function(){return this.implementation.app.model.graphicsCoreWrapper.canvasWrapper.canvas.canvas.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.implementation.app.model.graphicsCoreWrapper.canvasWrapper.canvas.canvas.height},enumerable:!1,configurable:!0}),t.prototype.InitDefinition=function(){for(var t=0,i=this.definitions;t<i.length;t++)i[t].init(this.implementation.app.model.graphicsCoreWrapper.canvasWrapper.canvas.ctx)},t.prototype.Render=function(t){},t.prototype.MouseMove=function(t,i){for(var e=0,s=this.definitions;e<s.length;e++)s[e].MouseMovePre(t,i)},t.prototype.MouseLeftClick=function(t,i){for(var e=0,s=this.definitions;e<s.length;e++)s[e].MouseLeftClickPre(t,i)},t.prototype.MouseDown=function(t,i){for(var e=0,s=this.definitions;e<s.length;e++)s[e].MouseDownPre(t,i)},t.prototype.MouseUp=function(t,i){for(var e=0,s=this.definitions;e<s.length;e++)s[e].MouseUpPre(t,i)},t.prototype.MouseDrag=function(t,i){for(var e=0,s=this.definitions;e<s.length;e++)s[e].MouseDragPre(t,i)},t.prototype.MouseMiddleClick=function(t,i){for(var e=0,s=this.definitions;e<s.length;e++)s[e].MouseMiddleClickPre(t,i)},t.prototype.MouseRightClick=function(t,i){for(var e=0,s=this.definitions;e<s.length;e++)s[e].MouseRightClickPre(t,i)},t.prototype.MouseDoubleClick=function(t,i){for(var e=0,s=this.definitions;e<s.length;e++)s[e].MouseDoubleClickPre(t,i)},t.prototype.MouseWheel=function(t,i,e){for(var s=0,n=this.definitions;s<n.length;s++)n[s].MouseWheelPre(t,i,e)},t.prototype.Dispose=function(){this.definitions=[]},t.prototype.LoadDefinition=function(t){"Blank"===t&&new Ji(this).Dummy(),"BallBounce"===t&&new a(this).Dummy(),"BallBounceClass"===t&&new u(this).Dummy(),"CircleGrid"===t&&new y(this).Dummy(),"CircleGridAttractors1"===t&&new x(this).Dummy(),"CircleGridAttractors2"===t&&new m(this).Dummy(),"Line"===t&&new M(this).Dummy(),"Line2"===t&&new b(this).Dummy(),"BoidSystem01"===t&&new V(this).Dummy(),"BoidSystem02"===t&&new z(this).Dummy(),"BoidSystem03"===t&&new T(this).Dummy(),"BoidSystem04"===t&&new U(this).Dummy(),"DynamicSystem01"===t&&new Y(this).Dummy(),"DynamicSystem02"===t&&new Q(this).Dummy(),"DynamicSystem03"===t&&new J(this).Dummy(),"MatterSandbox"===t&&new ht(this).Dummy(),"OOP01"===t&&new ct(this).Dummy(),"FireExit"===t&&new ii(this).Dummy(),"BaconsLaw"===t&&new Jt(this).Dummy(),"Cabbage"===t&&new Yt(this).Dummy(),"NumOfArea"===t&&new hi(this).Dummy(),"ComputerFinder"===t&&new ai(this).Dummy(),"MazeExit"===t&&new Ht(this).Dummy(),"Koze"===t&&new di(this).Dummy(),"UnitMoving"===t&&new mi(this).Dummy(),"Tile"===t&&new bi(this).Dummy(),"OKVIRI"===t&&new Di(this).Dummy(),"AlgorithmDFSBFS"===t&&new Ii(this).Dummy(),"GridOptiA"===t&&new Gi(this).Dummy(),"FluidSimulation"===t&&new mt(this).Dummy(),"PerlinHeatmap"===t&&new At(this).Dummy(),"ColorPicker"===t&&new Ft(this).Dummy(),"temp"===t&&new Ht(this).Dummy(),"temp"===t&&new Ht(this).Dummy(),"temp"===t&&new Ht(this).Dummy(),"temp"===t&&new Ht(this).Dummy(),"Building"===t&&new Li(this).Dummy(),"customBinSystemA"===t&&new Yi(this).Dummy()},t}()},555:(t,i,e)=>{e.d(i,{D:()=>y});var s,n=e(906),o=e(8206),h=e(4830),r=e(5407),c=e(2243),p=e(1234),a=e(5123),l=e(8246),u=e(9755),f=e(5155),d=(s=function(t,i){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},s(t,i)},function(t,i){function e(){this.constructor=t}s(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),y=function(t){function i(i,e,s,n,o,h){void 0===e&&(e=0),void 0===s&&(s=0),void 0===n&&(n=300),void 0===o&&(o=170),void 0===h&&(h=!1);var r=t.call(this,i)||this;return r.subs=[],r.isActive=!0,r.independentPanelWrapper=i,r.title="njslabSandbox V3",r.width=n,r.height=o,0===e&&0===s?(r.vec.x=.5*i.width-.5*r.width,r.vec.y=.5*i.height-.5*r.height):(r.vec.x=e,r.vec.y=s),r.filletR=7,r.InitTop(),h&&(r.bodyDiv=new u.k(r,r.vec.x,r.vec.y+r.HeadHeight,r.width,r.height-r.HeadHeight)),r.InitCanvas(r.bodyDiv.div),r}return d(i,t),Object.defineProperty(i.prototype,"IsMinimized",{get:function(){return this.isMinimized},set:function(t){this.isMinimized=t,this.btnResize.isHidden=t,this.bodyDiv&&this.bodyDiv.Hide(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Width",{get:function(){return this.width},set:function(t){var i=t-this.width;this.width=t,this.btnHam.vec.x+=i,this.subMenu.vec.x+=i,this.bodyDiv&&(this.bodyDiv.Width=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Height",{get:function(){return this.height},set:function(t){this.height=t,this.bodyDiv&&(this.bodyDiv.Height=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"content",{get:function(){return this._content},set:function(t){this._content=t,this.bodyDiv&&(this.bodyDiv.content=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"HasSubMenu",{get:function(){return this.hasSubMenu},set:function(t){this.hasSubMenu=t,this.subMenu.IsHidden=!t},enumerable:!1,configurable:!0}),i.prototype.InitTop=function(){this.btnClose=new c.E(this,this.vec.x,this.vec.y),this.btnMini=new p.$(this,this.vec.x+25,this.vec.y),this.btnHam=new a.g(this,this.vec.x-25+this.width,this.vec.y),this.btnResize=new l.C(this,this.vec.x+this.width-10,this.vec.y+this.height-10,10,10),this.subMenu=new f.q(this),this.subs.push(this.btnClose,this.btnMini,this.btnHam)},i.prototype.Translate=function(t){if(this.isMoveable){var i=t.x-t.preX,e=t.y-t.preY;this.vec.x+=i,this.vec.y+=e;for(var s=0;s<this.boundarVecs.length;++s)this.boundarVecs[s].x+=i,this.boundarVecs[s].y+=e;for(s=0;s<this.subs.length;++s)this.subs[s].Translate(t);this.btnResize.vec.x+=i,this.btnResize.vec.y+=e,this.subMenu.Translate(i,e),this.bodyDiv&&this.bodyDiv.Translate(i,e)}},i.prototype.Remove=function(){this.RemovePost();for(var t=0;t<this.subs.length;++t)this.subs[t].Remove();this.bodyDiv&&this.bodyDiv.Remove(),this.btnResize.Remove(),this.independentPanelWrapper.indePanelRender.Remove(this)},i.prototype.RenderPost=function(t){var i;this.ComputeBoundary(),i=o.mK.HexToCanvasColor(h.X.theme.mainMenuNormal,this.transparent),this.isMinimized||h.X.RoundedRectFillWithColorMainMenu(t,this.title,this.boundarVecs,this.filletR,0,this.isOver,this.isSelected,i),h.X.TopRoundedRectFill(t,this.title,n.h9.GetBoundaryByVecWidthHeight(this.vec,this.width,this.HeadHeight),this.filletR,0,this.isOver,this.isSelected,this.theme.colSelectedBG,!1),this.RenderHeadTitle(t),this.isMinimized||this.RenderBodyContent(t),this.hasSubMenu&&this.subMenu.RenderPost(t),this.RenderBtnHorizontal(t)},i.prototype.RenderBtnHorizontal=function(t){},i.prototype.RenderHeadTitle=function(t){t.save(),t.fillStyle="#ffffff",t.textBaseline="top",t.textAlign="center",t.font="100 12px Arial",t.shadowBlur=0,t.shadowOffsetY=0,t.shadowOffsetX=0,t.fillText(this.title,this.vec.x+.5*this.width,this.vec.y+.5*this.HeadHeight-7),t.restore()},i.prototype.RenderBodyContent=function(t){},i.prototype.RemovePost=function(){this.isActive=!1},i.prototype.InitCanvas=function(t){var i=this;this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.zIndex="0",t.appendChild(this.canvas),this.canvas.id="NCanvasRenderer",this.canvas.className="njslab-web-core-canvas-renderer",this.canvas.style.pointerEvents="none",this.ctx=this.canvas.getContext("2d"),this.canvas.width=t.clientWidth,this.canvas.height=t.clientHeight,this.btnResize.ResizePropagation=function(t,e){i.canvas.width=t,i.canvas.height=e},this.LoopIndependentCanvas(this.ctx)},i.prototype.LoopIndependentCanvas=function(t){var i=this;this.isActive&&(t.clearRect(0,0,this.canvas.width,this.canvas.height),requestAnimationFrame((function(){i.LoopIndependentCanvas(t)})),this.RenderIndependentCanvas(t))},i.prototype.RenderIndependentCanvas=function(t){console.log("implementation needed")},i.prototype.ResizeCanvas=function(t,i){this.canvas.width=t,this.canvas.height=i},i}(r.J)}}]);